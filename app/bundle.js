!function(Q){function B(F){if(I[F])return I[F].exports;var i=I[F]={i:F,l:!1,exports:{}};return Q[F].call(i.exports,i,i.exports,B),i.l=!0,i.exports}var I={};B.m=Q,B.c=I,B.d=function(Q,I,F){B.o(Q,I)||Object.defineProperty(Q,I,{configurable:!1,enumerable:!0,get:F})},B.n=function(Q){var I=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return B.d(I,"a",I),I},B.o=function(Q,B){return Object.prototype.hasOwnProperty.call(Q,B)},B.p="https://tour.enn-devl.ga/wp-content/themes/touriends/app/",B(B.s=58)}([function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * Random utility functions used in the UI-Router code\n *\n * These functions are exported, but are subject to change without notice.\n *\n * @preferred\n * @module common\n */\n/** for typedoc */\nvar predicates_1 = __webpack_require__(1);\nvar hof_1 = __webpack_require__(2);\nvar coreservices_1 = __webpack_require__(3);\nvar w = typeof window === \'undefined\' ? {} : window;\nvar angular = w.angular || {};\nexports.fromJson = angular.fromJson || JSON.parse.bind(JSON);\nexports.toJson = angular.toJson || JSON.stringify.bind(JSON);\nexports.copy = angular.copy || _copy;\nexports.forEach = angular.forEach || _forEach;\nexports.extend = Object.assign || _extend;\nexports.equals = angular.equals || _equals;\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\nfunction noop() {}\nexports.noop = noop;\n/**\n * Builds proxy functions on the `to` object which pass through to the `from` object.\n *\n * For each key in `fnNames`, creates a proxy function on the `to` object.\n * The proxy function calls the real function on the `from` object.\n *\n *\n * #### Example:\n * This example creates an new class instance whose functions are prebound to the new\'d object.\n * ```js\n * class Foo {\n *   constructor(data) {\n *     // Binds all functions from Foo.prototype to \'this\',\n *     // then copies them to \'this\'\n *     bindFunctions(Foo.prototype, this, this);\n *     this.data = data;\n *   }\n *\n *   log() {\n *     console.log(this.data);\n *   }\n * }\n *\n * let myFoo = new Foo([1,2,3]);\n * var logit = myFoo.log;\n * logit(); // logs [1, 2, 3] from the myFoo \'this\' instance\n * ```\n *\n * #### Example:\n * This example creates a bound version of a service function, and copies it to another object\n * ```\n *\n * var SomeService = {\n *   this.data = [3, 4, 5];\n *   this.log = function() {\n *     console.log(this.data);\n *   }\n * }\n *\n * // Constructor fn\n * function OtherThing() {\n *   // Binds all functions from SomeService to SomeService,\n *   // then copies them to \'this\'\n *   bindFunctions(SomeService, this, SomeService);\n * }\n *\n * let myOtherThing = new OtherThing();\n * myOtherThing.log(); // logs [3, 4, 5] from SomeService\'s \'this\'\n * ```\n *\n * @param source A function that returns the source object which contains the original functions to be bound\n * @param target A function that returns the target object which will receive the bound functions\n * @param bind A function that returns the object which the functions will be bound to\n * @param fnNames The function names which will be bound (Defaults to all the functions found on the \'from\' object)\n * @param latebind If true, the binding of the function is delayed until the first time it\'s invoked\n */\nfunction createProxyFunctions(source, target, bind, fnNames, latebind) {\n    if (latebind === void 0) {\n        latebind = false;\n    }\n    var bindFunction = function bindFunction(fnName) {\n        return source()[fnName].bind(bind());\n    };\n    var makeLateRebindFn = function makeLateRebindFn(fnName) {\n        return function lateRebindFunction() {\n            target[fnName] = bindFunction(fnName);\n            return target[fnName].apply(null, arguments);\n        };\n    };\n    fnNames = fnNames || Object.keys(source());\n    return fnNames.reduce(function (acc, name) {\n        acc[name] = latebind ? makeLateRebindFn(name) : bindFunction(name);\n        return acc;\n    }, target);\n}\nexports.createProxyFunctions = createProxyFunctions;\n/**\n * prototypal inheritance helper.\n * Creates a new object which has `parent` object as its prototype, and then copies the properties from `extra` onto it\n */\nexports.inherit = function (parent, extra) {\n    return exports.extend(Object.create(parent), extra);\n};\n/**\n * Given an arguments object, converts the arguments at index idx and above to an array.\n * This is similar to es6 rest parameters.\n *\n * Optionally, the argument at index idx may itself already be an array.\n *\n * For example,\n * given either:\n *        arguments = [ obj, "foo", "bar" ]\n * or:\n *        arguments = [ obj, ["foo", "bar"] ]\n * then:\n *        restArgs(arguments, 1) == ["foo", "bar"]\n *\n * This allows functions like pick() to be implemented such that it allows either a bunch\n * of string arguments (like es6 rest parameters), or a single array of strings:\n *\n * given:\n *        var obj = { foo: 1, bar: 2, baz: 3 };\n * then:\n *        pick(obj, "foo", "bar");   // returns { foo: 1, bar: 2 }\n *        pick(obj, ["foo", "bar"]); // returns { foo: 1, bar: 2 }\n */\nvar restArgs = function restArgs(args, idx) {\n    if (idx === void 0) {\n        idx = 0;\n    }\n    return Array.prototype.concat.apply(Array.prototype, Array.prototype.slice.call(args, idx));\n};\n/** Given an array, returns true if the object is found in the array, (using indexOf) */\nexports.inArray = hof_1.curry(_inArray);\nfunction _inArray(array, obj) {\n    return array.indexOf(obj) !== -1;\n}\nexports._inArray = _inArray;\n/**\n * Given an array, and an item, if the item is found in the array, it removes it (in-place).\n * The same array is returned\n */\nexports.removeFrom = hof_1.curry(_removeFrom);\nfunction _removeFrom(array, obj) {\n    var idx = array.indexOf(obj);\n    if (idx >= 0) array.splice(idx, 1);\n    return array;\n}\nexports._removeFrom = _removeFrom;\n/** pushes a values to an array and returns the value */\nexports.pushTo = hof_1.curry(_pushTo);\nfunction _pushTo(arr, val) {\n    return arr.push(val), val;\n}\nexports._pushTo = _pushTo;\n/** Given an array of (deregistration) functions, calls all functions and removes each one from the source array */\nexports.deregAll = function (functions) {\n    return functions.slice().forEach(function (fn) {\n        typeof fn === \'function\' && fn();\n        exports.removeFrom(functions, fn);\n    });\n};\n/**\n * Applies a set of defaults to an options object.  The options object is filtered\n * to only those properties of the objects in the defaultsList.\n * Earlier objects in the defaultsList take precedence when applying defaults.\n */\nfunction defaults(opts) {\n    var defaultsList = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        defaultsList[_i - 1] = arguments[_i];\n    }\n    var _defaultsList = defaultsList.concat({}).reverse();\n    var defaultVals = exports.extend.apply(null, _defaultsList);\n    return exports.extend({}, defaultVals, pick(opts || {}, Object.keys(defaultVals)));\n}\nexports.defaults = defaults;\n/** Reduce function that merges each element of the list into a single object, using extend */\nexports.mergeR = function (memo, item) {\n    return exports.extend(memo, item);\n};\n/**\n * Finds the common ancestor path between two states.\n *\n * @param {Object} first The first state.\n * @param {Object} second The second state.\n * @return {Array} Returns an array of state names in descending order, not including the root.\n */\nfunction ancestors(first, second) {\n    var path = [];\n    for (var n in first.path) {\n        if (first.path[n] !== second.path[n]) break;\n        path.push(first.path[n]);\n    }\n    return path;\n}\nexports.ancestors = ancestors;\n/**\n * Return a copy of the object only containing the whitelisted properties.\n *\n * #### Example:\n * ```\n * var foo = { a: 1, b: 2, c: 3 };\n * var ab = pick(foo, [\'a\', \'b\']); // { a: 1, b: 2 }\n * ```\n * @param obj the source object\n * @param propNames an Array of strings, which are the whitelisted property names\n */\nfunction pick(obj, propNames) {\n    var objCopy = {};\n    for (var prop_1 in obj) {\n        if (propNames.indexOf(prop_1) !== -1) {\n            objCopy[prop_1] = obj[prop_1];\n        }\n    }\n    return objCopy;\n}\nexports.pick = pick;\n/**\n * Return a copy of the object omitting the blacklisted properties.\n *\n * @example\n * ```\n *\n * var foo = { a: 1, b: 2, c: 3 };\n * var ab = omit(foo, [\'a\', \'b\']); // { c: 3 }\n * ```\n * @param obj the source object\n * @param propNames an Array of strings, which are the blacklisted property names\n */\nfunction omit(obj, propNames) {\n    return Object.keys(obj).filter(hof_1.not(exports.inArray(propNames))).reduce(function (acc, key) {\n        return acc[key] = obj[key], acc;\n    }, {});\n}\nexports.omit = omit;\n/**\n * Maps an array, or object to a property (by name)\n */\nfunction pluck(collection, propName) {\n    return map(collection, hof_1.prop(propName));\n}\nexports.pluck = pluck;\n/** Filters an Array or an Object\'s properties based on a predicate */\nfunction filter(collection, callback) {\n    var arr = predicates_1.isArray(collection),\n        result = arr ? [] : {};\n    var accept = arr ? function (x) {\n        return result.push(x);\n    } : function (x, key) {\n        return result[key] = x;\n    };\n    exports.forEach(collection, function (item, i) {\n        if (callback(item, i)) accept(item, i);\n    });\n    return result;\n}\nexports.filter = filter;\n/** Finds an object from an array, or a property of an object, that matches a predicate */\nfunction find(collection, callback) {\n    var result;\n    exports.forEach(collection, function (item, i) {\n        if (result) return;\n        if (callback(item, i)) result = item;\n    });\n    return result;\n}\nexports.find = find;\n/** Given an object, returns a new object, where each property is transformed by the callback function */\nexports.mapObj = map;\n/** Maps an array or object properties using a callback function */\nfunction map(collection, callback) {\n    var result = predicates_1.isArray(collection) ? [] : {};\n    exports.forEach(collection, function (item, i) {\n        return result[i] = callback(item, i);\n    });\n    return result;\n}\nexports.map = map;\n/**\n * Given an object, return its enumerable property values\n *\n * @example\n * ```\n *\n * let foo = { a: 1, b: 2, c: 3 }\n * let vals = values(foo); // [ 1, 2, 3 ]\n * ```\n */\nexports.values = function (obj) {\n    return Object.keys(obj).map(function (key) {\n        return obj[key];\n    });\n};\n/**\n * Reduce function that returns true if all of the values are truthy.\n *\n * @example\n * ```\n *\n * let vals = [ 1, true, {}, "hello world"];\n * vals.reduce(allTrueR, true); // true\n *\n * vals.push(0);\n * vals.reduce(allTrueR, true); // false\n * ```\n */\nexports.allTrueR = function (memo, elem) {\n    return memo && elem;\n};\n/**\n * Reduce function that returns true if any of the values are truthy.\n *\n *  * @example\n * ```\n *\n * let vals = [ 0, null, undefined ];\n * vals.reduce(anyTrueR, true); // false\n *\n * vals.push("hello world");\n * vals.reduce(anyTrueR, true); // true\n * ```\n */\nexports.anyTrueR = function (memo, elem) {\n    return memo || elem;\n};\n/**\n * Reduce function which un-nests a single level of arrays\n * @example\n * ```\n *\n * let input = [ [ "a", "b" ], [ "c", "d" ], [ [ "double", "nested" ] ] ];\n * input.reduce(unnestR, []) // [ "a", "b", "c", "d", [ "double, "nested" ] ]\n * ```\n */\nexports.unnestR = function (memo, elem) {\n    return memo.concat(elem);\n};\n/**\n * Reduce function which recursively un-nests all arrays\n *\n * @example\n * ```\n *\n * let input = [ [ "a", "b" ], [ "c", "d" ], [ [ "double", "nested" ] ] ];\n * input.reduce(unnestR, []) // [ "a", "b", "c", "d", "double, "nested" ]\n * ```\n */\nexports.flattenR = function (memo, elem) {\n    return predicates_1.isArray(elem) ? memo.concat(elem.reduce(exports.flattenR, [])) : pushR(memo, elem);\n};\n/**\n * Reduce function that pushes an object to an array, then returns the array.\n * Mostly just for [[flattenR]] and [[uniqR]]\n */\nfunction pushR(arr, obj) {\n    arr.push(obj);\n    return arr;\n}\nexports.pushR = pushR;\n/** Reduce function that filters out duplicates */\nexports.uniqR = function (acc, token) {\n    return exports.inArray(acc, token) ? acc : pushR(acc, token);\n};\n/**\n * Return a new array with a single level of arrays unnested.\n *\n * @example\n * ```\n *\n * let input = [ [ "a", "b" ], [ "c", "d" ], [ [ "double", "nested" ] ] ];\n * unnest(input) // [ "a", "b", "c", "d", [ "double, "nested" ] ]\n * ```\n */\nexports.unnest = function (arr) {\n    return arr.reduce(exports.unnestR, []);\n};\n/**\n * Return a completely flattened version of an array.\n *\n * @example\n * ```\n *\n * let input = [ [ "a", "b" ], [ "c", "d" ], [ [ "double", "nested" ] ] ];\n * flatten(input) // [ "a", "b", "c", "d", "double, "nested" ]\n * ```\n */\nexports.flatten = function (arr) {\n    return arr.reduce(exports.flattenR, []);\n};\n/**\n * Given a .filter Predicate, builds a .filter Predicate which throws an error if any elements do not pass.\n * @example\n * ```\n *\n * let isNumber = (obj) => typeof(obj) === \'number\';\n * let allNumbers = [ 1, 2, 3, 4, 5 ];\n * allNumbers.filter(assertPredicate(isNumber)); //OK\n *\n * let oneString = [ 1, 2, 3, 4, "5" ];\n * oneString.filter(assertPredicate(isNumber, "Not all numbers")); // throws Error(""Not all numbers"");\n * ```\n */\nexports.assertPredicate = assertFn;\n/**\n * Given a .map function, builds a .map function which throws an error if any mapped elements do not pass a truthyness test.\n * @example\n * ```\n *\n * var data = { foo: 1, bar: 2 };\n *\n * let keys = [ \'foo\', \'bar\' ]\n * let values = keys.map(assertMap(key => data[key], "Key not found"));\n * // values is [1, 2]\n *\n * let keys = [ \'foo\', \'bar\', \'baz\' ]\n * let values = keys.map(assertMap(key => data[key], "Key not found"));\n * // throws Error("Key not found")\n * ```\n */\nexports.assertMap = assertFn;\nfunction assertFn(predicateOrMap, errMsg) {\n    if (errMsg === void 0) {\n        errMsg = "assert failure";\n    }\n    return function (obj) {\n        var result = predicateOrMap(obj);\n        if (!result) {\n            throw new Error(predicates_1.isFunction(errMsg) ? errMsg(obj) : errMsg);\n        }\n        return result;\n    };\n}\nexports.assertFn = assertFn;\n/**\n * Like _.pairs: Given an object, returns an array of key/value pairs\n *\n * @example\n * ```\n *\n * pairs({ foo: "FOO", bar: "BAR }) // [ [ "foo", "FOO" ], [ "bar": "BAR" ] ]\n * ```\n */\nexports.pairs = function (obj) {\n    return Object.keys(obj).map(function (key) {\n        return [key, obj[key]];\n    });\n};\n/**\n * Given two or more parallel arrays, returns an array of tuples where\n * each tuple is composed of [ a[i], b[i], ... z[i] ]\n *\n * @example\n * ```\n *\n * let foo = [ 0, 2, 4, 6 ];\n * let bar = [ 1, 3, 5, 7 ];\n * let baz = [ 10, 30, 50, 70 ];\n * arrayTuples(foo, bar);       // [ [0, 1], [2, 3], [4, 5], [6, 7] ]\n * arrayTuples(foo, bar, baz);  // [ [0, 1, 10], [2, 3, 30], [4, 5, 50], [6, 7, 70] ]\n * ```\n */\nfunction arrayTuples() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    if (args.length === 0) return [];\n    var maxArrayLen = args.reduce(function (min, arr) {\n        return Math.min(arr.length, min);\n    }, 9007199254740991); // aka 2^53 − 1 aka Number.MAX_SAFE_INTEGER\n    var i,\n        result = [];\n    for (i = 0; i < maxArrayLen; i++) {\n        // This is a hot function\n        // Unroll when there are 1-4 arguments\n        switch (args.length) {\n            case 1:\n                result.push([args[0][i]]);\n                break;\n            case 2:\n                result.push([args[0][i], args[1][i]]);\n                break;\n            case 3:\n                result.push([args[0][i], args[1][i], args[2][i]]);\n                break;\n            case 4:\n                result.push([args[0][i], args[1][i], args[2][i], args[3][i]]);\n                break;\n            default:\n                result.push(args.map(function (array) {\n                    return array[i];\n                }));\n                break;\n        }\n    }\n    return result;\n}\nexports.arrayTuples = arrayTuples;\n/**\n * Reduce function which builds an object from an array of [key, value] pairs.\n *\n * Each iteration sets the key/val pair on the memo object, then returns the memo for the next iteration.\n *\n * Each keyValueTuple should be an array with values [ key: string, value: any ]\n *\n * @example\n * ```\n *\n * var pairs = [ ["fookey", "fooval"], ["barkey", "barval"] ]\n *\n * var pairsToObj = pairs.reduce((memo, pair) => applyPairs(memo, pair), {})\n * // pairsToObj == { fookey: "fooval", barkey: "barval" }\n *\n * // Or, more simply:\n * var pairsToObj = pairs.reduce(applyPairs, {})\n * // pairsToObj == { fookey: "fooval", barkey: "barval" }\n * ```\n */\nfunction applyPairs(memo, keyValTuple) {\n    var key, value;\n    if (predicates_1.isArray(keyValTuple)) key = keyValTuple[0], value = keyValTuple[1];\n    if (!predicates_1.isString(key)) throw new Error("invalid parameters to applyPairs");\n    memo[key] = value;\n    return memo;\n}\nexports.applyPairs = applyPairs;\n/** Get the last element of an array */\nfunction tail(arr) {\n    return arr.length && arr[arr.length - 1] || undefined;\n}\nexports.tail = tail;\n/**\n * shallow copy from src to dest\n *\n * note: This is a shallow copy, while angular.copy is a deep copy.\n * ui-router uses `copy` only to make copies of state parameters.\n */\nfunction _copy(src, dest) {\n    if (dest) Object.keys(dest).forEach(function (key) {\n        return delete dest[key];\n    });\n    if (!dest) dest = {};\n    return exports.extend(dest, src);\n}\n/** Naive forEach implementation works with Objects or Arrays */\nfunction _forEach(obj, cb, _this) {\n    if (predicates_1.isArray(obj)) return obj.forEach(cb, _this);\n    Object.keys(obj).forEach(function (key) {\n        return cb(obj[key], key);\n    });\n}\nfunction _extend(toObj) {\n    for (var i = 1; i < arguments.length; i++) {\n        var obj = arguments[i];\n        if (!obj) continue;\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; j++) {\n            toObj[keys[j]] = obj[keys[j]];\n        }\n    }\n    return toObj;\n}\nexports._extend = _extend;\nfunction _equals(o1, o2) {\n    if (o1 === o2) return true;\n    if (o1 === null || o2 === null) return false;\n    if (o1 !== o1 && o2 !== o2) return true; // NaN === NaN\n    var t1 = typeof o1 === "undefined" ? "undefined" : _typeof(o1),\n        t2 = typeof o2 === "undefined" ? "undefined" : _typeof(o2);\n    if (t1 !== t2 || t1 !== \'object\') return false;\n    var tup = [o1, o2];\n    if (hof_1.all(predicates_1.isArray)(tup)) return _arraysEq(o1, o2);\n    if (hof_1.all(predicates_1.isDate)(tup)) return o1.getTime() === o2.getTime();\n    if (hof_1.all(predicates_1.isRegExp)(tup)) return o1.toString() === o2.toString();\n    if (hof_1.all(predicates_1.isFunction)(tup)) return true; // meh\n    var predicates = [predicates_1.isFunction, predicates_1.isArray, predicates_1.isDate, predicates_1.isRegExp];\n    if (predicates.map(hof_1.any).reduce(function (b, fn) {\n        return b || !!fn(tup);\n    }, false)) return false;\n    var key,\n        keys = {};\n    for (key in o1) {\n        if (!_equals(o1[key], o2[key])) return false;\n        keys[key] = true;\n    }\n    for (key in o2) {\n        if (!keys[key]) return false;\n    }\n    return true;\n}\nfunction _arraysEq(a1, a2) {\n    if (a1.length !== a2.length) return false;\n    return arrayTuples(a1, a2).reduce(function (b, t) {\n        return b && _equals(t[0], t[1]);\n    }, true);\n}\n/**\n * Create a sort function\n *\n * Creates a sort function which sorts by a numeric property.\n *\n * The `propFn` should return the property as a number which can be sorted.\n *\n * #### Example:\n * This example returns the `priority` prop.\n * ```js\n * var sortfn = sortBy(obj => obj.priority)\n * // equivalent to:\n * var longhandSortFn = (a, b) => a.priority - b.priority;\n * ```\n *\n * #### Example:\n * This example uses [[prop]]\n * ```js\n * var sortfn = sortBy(prop(\'priority\'))\n * ```\n *\n * The `checkFn` can be used to exclude objects from sorting.\n *\n * #### Example:\n * This example only sorts objects with type === \'FOO\'\n * ```js\n * var sortfn = sortBy(prop(\'priority\'), propEq(\'type\', \'FOO\'))\n * ```\n *\n * @param propFn a function that returns the property (as a number)\n * @param checkFn a predicate\n *\n * @return a sort function like: `(a, b) => (checkFn(a) && checkFn(b)) ? propFn(a) - propFn(b) : 0`\n */\nexports.sortBy = function (propFn, checkFn) {\n    if (checkFn === void 0) {\n        checkFn = hof_1.val(true);\n    }\n    return function (a, b) {\n        return checkFn(a) && checkFn(b) ? propFn(a) - propFn(b) : 0;\n    };\n};\n/**\n * Composes a list of sort functions\n *\n * Creates a sort function composed of multiple sort functions.\n * Each sort function is invoked in series.\n * The first sort function to return non-zero "wins".\n *\n * @param sortFns list of sort functions\n */\nexports.composeSort = function () {\n    var sortFns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sortFns[_i] = arguments[_i];\n    }\n    return function composedSort(a, b) {\n        return sortFns.reduce(function (prev, fn) {\n            return prev || fn(a, b);\n        }, 0);\n    };\n};\n// issue #2676\nexports.silenceUncaughtInPromise = function (promise) {\n    return promise.catch(function (e) {\n        return 0;\n    }) && promise;\n};\nexports.silentRejection = function (error) {\n    return exports.silenceUncaughtInPromise(coreservices_1.services.$q.reject(error));\n};\n//# sourceMappingURL=common.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2NvbW1vbi9jb21tb24uanM/NTlhNyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInByZWRpY2F0ZXNfMSIsInJlcXVpcmUiLCJob2ZfMSIsImNvcmVzZXJ2aWNlc18xIiwidyIsIndpbmRvdyIsImFuZ3VsYXIiLCJmcm9tSnNvbiIsIkpTT04iLCJwYXJzZSIsImJpbmQiLCJ0b0pzb24iLCJzdHJpbmdpZnkiLCJjb3B5IiwiX2NvcHkiLCJmb3JFYWNoIiwiX2ZvckVhY2giLCJleHRlbmQiLCJhc3NpZ24iLCJfZXh0ZW5kIiwiZXF1YWxzIiwiX2VxdWFscyIsImlkZW50aXR5IiwieCIsIm5vb3AiLCJjcmVhdGVQcm94eUZ1bmN0aW9ucyIsInNvdXJjZSIsInRhcmdldCIsImZuTmFtZXMiLCJsYXRlYmluZCIsImJpbmRGdW5jdGlvbiIsImZuTmFtZSIsIm1ha2VMYXRlUmViaW5kRm4iLCJsYXRlUmViaW5kRnVuY3Rpb24iLCJhcHBseSIsImFyZ3VtZW50cyIsImtleXMiLCJyZWR1Y2UiLCJhY2MiLCJuYW1lIiwiaW5oZXJpdCIsInBhcmVudCIsImV4dHJhIiwiY3JlYXRlIiwicmVzdEFyZ3MiLCJhcmdzIiwiaWR4IiwiQXJyYXkiLCJwcm90b3R5cGUiLCJjb25jYXQiLCJzbGljZSIsImNhbGwiLCJpbkFycmF5IiwiY3VycnkiLCJfaW5BcnJheSIsImFycmF5Iiwib2JqIiwiaW5kZXhPZiIsInJlbW92ZUZyb20iLCJfcmVtb3ZlRnJvbSIsInNwbGljZSIsInB1c2hUbyIsIl9wdXNoVG8iLCJhcnIiLCJ2YWwiLCJwdXNoIiwiZGVyZWdBbGwiLCJmdW5jdGlvbnMiLCJmbiIsImRlZmF1bHRzIiwib3B0cyIsImRlZmF1bHRzTGlzdCIsIl9pIiwibGVuZ3RoIiwiX2RlZmF1bHRzTGlzdCIsInJldmVyc2UiLCJkZWZhdWx0VmFscyIsInBpY2siLCJtZXJnZVIiLCJtZW1vIiwiaXRlbSIsImFuY2VzdG9ycyIsImZpcnN0Iiwic2Vjb25kIiwicGF0aCIsIm4iLCJwcm9wTmFtZXMiLCJvYmpDb3B5IiwicHJvcF8xIiwib21pdCIsImZpbHRlciIsIm5vdCIsImtleSIsInBsdWNrIiwiY29sbGVjdGlvbiIsInByb3BOYW1lIiwibWFwIiwicHJvcCIsImNhbGxiYWNrIiwiaXNBcnJheSIsInJlc3VsdCIsImFjY2VwdCIsImkiLCJmaW5kIiwibWFwT2JqIiwidmFsdWVzIiwiYWxsVHJ1ZVIiLCJlbGVtIiwiYW55VHJ1ZVIiLCJ1bm5lc3RSIiwiZmxhdHRlblIiLCJwdXNoUiIsInVuaXFSIiwidG9rZW4iLCJ1bm5lc3QiLCJmbGF0dGVuIiwiYXNzZXJ0UHJlZGljYXRlIiwiYXNzZXJ0Rm4iLCJhc3NlcnRNYXAiLCJwcmVkaWNhdGVPck1hcCIsImVyck1zZyIsIkVycm9yIiwiaXNGdW5jdGlvbiIsInBhaXJzIiwiYXJyYXlUdXBsZXMiLCJtYXhBcnJheUxlbiIsIm1pbiIsIk1hdGgiLCJhcHBseVBhaXJzIiwia2V5VmFsVHVwbGUiLCJpc1N0cmluZyIsInRhaWwiLCJ1bmRlZmluZWQiLCJzcmMiLCJkZXN0IiwiY2IiLCJfdGhpcyIsInRvT2JqIiwiaiIsIm8xIiwibzIiLCJ0MSIsInQyIiwidHVwIiwiYWxsIiwiX2FycmF5c0VxIiwiaXNEYXRlIiwiZ2V0VGltZSIsImlzUmVnRXhwIiwidG9TdHJpbmciLCJwcmVkaWNhdGVzIiwiYW55IiwiYiIsImExIiwiYTIiLCJ0Iiwic29ydEJ5IiwicHJvcEZuIiwiY2hlY2tGbiIsImEiLCJjb21wb3NlU29ydCIsInNvcnRGbnMiLCJjb21wb3NlZFNvcnQiLCJwcmV2Iiwic2lsZW5jZVVuY2F1Z2h0SW5Qcm9taXNlIiwicHJvbWlzZSIsImNhdGNoIiwiZSIsInNpbGVudFJlamVjdGlvbiIsImVycm9yIiwic2VydmljZXMiLCIkcSIsInJlamVjdCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFDQUEsT0FBT0Ms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NUQ7QUFDSCxLQUZEO0FBR0gsQ0FMRDtBQU1BOzs7Ozs7Ozs7QUFTQTFKLFFBQVFrSyxXQUFSLEdBQXNCLFlBQVk7QUFDOUIsUUFBSUMsVUFBVSxFQUFkO0FBQ0EsU0FBSyxJQUFJekYsS0FBSyxDQUFkLEVBQWlCQSxLQUFLckMsVUFBVXNDLE1BQWhDLEVBQXdDRCxJQUF4QyxFQUE4QztBQUMxQ3lGLGdCQUFRekYsRUFBUixJQUFjckMsVUFBVXFDLEVBQVYsQ0FBZDtBQUNIO0FBQ0QsV0FBTyxTQUFTMEYsWUFBVCxDQUFzQkgsQ0FBdEIsRUFBeUJQLENBQXpCLEVBQTRCO0FBQy9CLGVBQU9TLFFBQVE1SCxNQUFSLENBQWUsVUFBVThILElBQVYsRUFBZ0IvRixFQUFoQixFQUFvQjtBQUFFLG1CQUFPK0YsUUFBUS9GLEdBQUcyRixDQUFILEVBQU1QLENBQU4sQ0FBZjtBQUEwQixTQUEvRCxFQUFpRSxDQUFqRSxDQUFQO0FBQ0gsS0FGRDtBQUdILENBUkQ7QUFTQTtBQUNBMUosUUFBUXNLLHdCQUFSLEdBQW1DLFVBQVVDLE9BQVYsRUFBbUI7QUFDbEQsV0FBT0EsUUFBUUMsS0FBUixDQUFjLFVBQVVDLENBQVYsRUFBYTtBQUFFLGVBQU8sQ0FBUDtBQUFXLEtBQXhDLEtBQTZDRixPQUFwRDtBQUNILENBRkQ7QUFHQXZLLFFBQVEwSyxlQUFSLEdBQTBCLFVBQVVDLEtBQVYsRUFBaUI7QUFDdkMsV0FBTzNLLFFBQVFzSyx3QkFBUixDQUFpQ2pLLGVBQWV1SyxRQUFmLENBQXdCQyxFQUF4QixDQUEyQkMsTUFBM0IsQ0FBa0NILEtBQWxDLENBQWpDLENBQVA7QUFDSCxDQUZEO0FBR0EiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBSYW5kb20gdXRpbGl0eSBmdW5jdGlvbnMgdXNlZCBpbiB0aGUgVUktUm91dGVyIGNvZGVcbiAqXG4gKiBUaGVzZSBmdW5jdGlvbnMgYXJlIGV4cG9ydGVkLCBidXQgYXJlIHN1YmplY3QgdG8gY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICpcbiAqIEBwcmVmZXJyZWRcbiAqIEBtb2R1bGUgY29tbW9uXG4gKi9cbi8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIHByZWRpY2F0ZXNfMSA9IHJlcXVpcmUoXCIuL3ByZWRpY2F0ZXNcIik7XG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi9ob2ZcIik7XG52YXIgY29yZXNlcnZpY2VzXzEgPSByZXF1aXJlKFwiLi9jb3Jlc2VydmljZXNcIik7XG52YXIgdyA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnID8ge30gOiB3aW5kb3c7XG52YXIgYW5ndWxhciA9IHcuYW5ndWxhciB8fCB7fTtcbmV4cG9ydHMuZnJvbUpzb24gPSBhbmd1bGFyLmZyb21Kc29uIHx8IEpTT04ucGFyc2UuYmluZChKU09OKTtcbmV4cG9ydHMudG9Kc29uID0gYW5ndWxhci50b0pzb24gfHwgSlNPTi5zdHJpbmdpZnkuYmluZChKU09OKTtcbmV4cG9ydHMuY29weSA9IGFuZ3VsYXIuY29weSB8fCBfY29weTtcbmV4cG9ydHMuZm9yRWFjaCA9IGFuZ3VsYXIuZm9yRWFjaCB8fCBfZm9yRWFjaDtcbmV4cG9ydHMuZXh0ZW5kID0gT2JqZWN0LmFzc2lnbiB8fCBfZXh0ZW5kO1xuZXhwb3J0cy5lcXVhbHMgPSBhbmd1bGFyLmVxdWFscyB8fCBfZXF1YWxzO1xuZnVuY3Rpb24gaWRlbnRpdHkoeCkgeyByZXR1cm4geDsgfVxuZXhwb3J0cy5pZGVudGl0eSA9IGlkZW50aXR5O1xuZnVuY3Rpb24gbm9vcCgpIHsgfVxuZXhwb3J0cy5ub29wID0gbm9vcDtcbi8qKlxuICogQnVpbGRzIHByb3h5IGZ1bmN0aW9ucyBvbiB0aGUgYHRvYCBvYmplY3Qgd2hpY2ggcGFzcyB0aHJvdWdoIHRvIHRoZSBgZnJvbWAgb2JqZWN0LlxuICpcbiAqIEZvciBlYWNoIGtleSBpbiBgZm5OYW1lc2AsIGNyZWF0ZXMgYSBwcm94eSBmdW5jdGlvbiBvbiB0aGUgYHRvYCBvYmplY3QuXG4gKiBUaGUgcHJveHkgZnVuY3Rpb24gY2FsbHMgdGhlIHJlYWwgZnVuY3Rpb24gb24gdGhlIGBmcm9tYCBvYmplY3QuXG4gKlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIFRoaXMgZXhhbXBsZSBjcmVhdGVzIGFuIG5ldyBjbGFzcyBpbnN0YW5jZSB3aG9zZSBmdW5jdGlvbnMgYXJlIHByZWJvdW5kIHRvIHRoZSBuZXcnZCBvYmplY3QuXG4gKiBgYGBqc1xuICogY2xhc3MgRm9vIHtcbiAqICAgY29uc3RydWN0b3IoZGF0YSkge1xuICogICAgIC8vIEJpbmRzIGFsbCBmdW5jdGlvbnMgZnJvbSBGb28ucHJvdG90eXBlIHRvICd0aGlzJyxcbiAqICAgICAvLyB0aGVuIGNvcGllcyB0aGVtIHRvICd0aGlzJ1xuICogICAgIGJpbmRGdW5jdGlvbnMoRm9vLnByb3RvdHlwZSwgdGhpcywgdGhpcyk7XG4gKiAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAqICAgfVxuICpcbiAqICAgbG9nKCkge1xuICogICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YSk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBsZXQgbXlGb28gPSBuZXcgRm9vKFsxLDIsM10pO1xuICogdmFyIGxvZ2l0ID0gbXlGb28ubG9nO1xuICogbG9naXQoKTsgLy8gbG9ncyBbMSwgMiwgM10gZnJvbSB0aGUgbXlGb28gJ3RoaXMnIGluc3RhbmNlXG4gKiBgYGBcbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBUaGlzIGV4YW1wbGUgY3JlYXRlcyBhIGJvdW5kIHZlcnNpb24gb2YgYSBzZXJ2aWNlIGZ1bmN0aW9uLCBhbmQgY29waWVzIGl0IHRvIGFub3RoZXIgb2JqZWN0XG4gKiBgYGBcbiAqXG4gKiB2YXIgU29tZVNlcnZpY2UgPSB7XG4gKiAgIHRoaXMuZGF0YSA9IFszLCA0LCA1XTtcbiAqICAgdGhpcy5sb2cgPSBmdW5jdGlvbigpIHtcbiAqICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGEpO1xuICogICB9XG4gKiB9XG4gKlxuICogLy8gQ29uc3RydWN0b3IgZm5cbiAqIGZ1bmN0aW9uIE90aGVyVGhpbmcoKSB7XG4gKiAgIC8vIEJpbmRzIGFsbCBmdW5jdGlvbnMgZnJvbSBTb21lU2VydmljZSB0byBTb21lU2VydmljZSxcbiAqICAgLy8gdGhlbiBjb3BpZXMgdGhlbSB0byAndGhpcydcbiAqICAgYmluZEZ1bmN0aW9ucyhTb21lU2VydmljZSwgdGhpcywgU29tZVNlcnZpY2UpO1xuICogfVxuICpcbiAqIGxldCBteU90aGVyVGhpbmcgPSBuZXcgT3RoZXJUaGluZygpO1xuICogbXlPdGhlclRoaW5nLmxvZygpOyAvLyBsb2dzIFszLCA0LCA1XSBmcm9tIFNvbWVTZXJ2aWNlJ3MgJ3RoaXMnXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc291cmNlIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBzb3VyY2Ugb2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRoZSBvcmlnaW5hbCBmdW5jdGlvbnMgdG8gYmUgYm91bmRcbiAqIEBwYXJhbSB0YXJnZXQgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHRhcmdldCBvYmplY3Qgd2hpY2ggd2lsbCByZWNlaXZlIHRoZSBib3VuZCBmdW5jdGlvbnNcbiAqIEBwYXJhbSBiaW5kIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBvYmplY3Qgd2hpY2ggdGhlIGZ1bmN0aW9ucyB3aWxsIGJlIGJvdW5kIHRvXG4gKiBAcGFyYW0gZm5OYW1lcyBUaGUgZnVuY3Rpb24gbmFtZXMgd2hpY2ggd2lsbCBiZSBib3VuZCAoRGVmYXVsdHMgdG8gYWxsIHRoZSBmdW5jdGlvbnMgZm91bmQgb24gdGhlICdmcm9tJyBvYmplY3QpXG4gKiBAcGFyYW0gbGF0ZWJpbmQgSWYgdHJ1ZSwgdGhlIGJpbmRpbmcgb2YgdGhlIGZ1bmN0aW9uIGlzIGRlbGF5ZWQgdW50aWwgdGhlIGZpcnN0IHRpbWUgaXQncyBpbnZva2VkXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVByb3h5RnVuY3Rpb25zKHNvdXJjZSwgdGFyZ2V0LCBiaW5kLCBmbk5hbWVzLCBsYXRlYmluZCkge1xuICAgIGlmIChsYXRlYmluZCA9PT0gdm9pZCAwKSB7IGxhdGViaW5kID0gZmFsc2U7IH1cbiAgICB2YXIgYmluZEZ1bmN0aW9uID0gZnVuY3Rpb24gKGZuTmFtZSkge1xuICAgICAgICByZXR1cm4gc291cmNlKClbZm5OYW1lXS5iaW5kKGJpbmQoKSk7XG4gICAgfTtcbiAgICB2YXIgbWFrZUxhdGVSZWJpbmRGbiA9IGZ1bmN0aW9uIChmbk5hbWUpIHsgcmV0dXJuIGZ1bmN0aW9uIGxhdGVSZWJpbmRGdW5jdGlvbigpIHtcbiAgICAgICAgdGFyZ2V0W2ZuTmFtZV0gPSBiaW5kRnVuY3Rpb24oZm5OYW1lKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldFtmbk5hbWVdLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfTsgfTtcbiAgICBmbk5hbWVzID0gZm5OYW1lcyB8fCBPYmplY3Qua2V5cyhzb3VyY2UoKSk7XG4gICAgcmV0dXJuIGZuTmFtZXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG5hbWUpIHtcbiAgICAgICAgYWNjW25hbWVdID0gbGF0ZWJpbmQgPyBtYWtlTGF0ZVJlYmluZEZuKG5hbWUpIDogYmluZEZ1bmN0aW9uKG5hbWUpO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHRhcmdldCk7XG59XG5leHBvcnRzLmNyZWF0ZVByb3h5RnVuY3Rpb25zID0gY3JlYXRlUHJveHlGdW5jdGlvbnM7XG4vKipcbiAqIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UgaGVscGVyLlxuICogQ3JlYXRlcyBhIG5ldyBvYmplY3Qgd2hpY2ggaGFzIGBwYXJlbnRgIG9iamVjdCBhcyBpdHMgcHJvdG90eXBlLCBhbmQgdGhlbiBjb3BpZXMgdGhlIHByb3BlcnRpZXMgZnJvbSBgZXh0cmFgIG9udG8gaXRcbiAqL1xuZXhwb3J0cy5pbmhlcml0ID0gZnVuY3Rpb24gKHBhcmVudCwgZXh0cmEpIHtcbiAgICByZXR1cm4gZXhwb3J0cy5leHRlbmQoT2JqZWN0LmNyZWF0ZShwYXJlbnQpLCBleHRyYSk7XG59O1xuLyoqXG4gKiBHaXZlbiBhbiBhcmd1bWVudHMgb2JqZWN0LCBjb252ZXJ0cyB0aGUgYXJndW1lbnRzIGF0IGluZGV4IGlkeCBhbmQgYWJvdmUgdG8gYW4gYXJyYXkuXG4gKiBUaGlzIGlzIHNpbWlsYXIgdG8gZXM2IHJlc3QgcGFyYW1ldGVycy5cbiAqXG4gKiBPcHRpb25hbGx5LCB0aGUgYXJndW1lbnQgYXQgaW5kZXggaWR4IG1heSBpdHNlbGYgYWxyZWFkeSBiZSBhbiBhcnJheS5cbiAqXG4gKiBGb3IgZXhhbXBsZSxcbiAqIGdpdmVuIGVpdGhlcjpcbiAqICAgICAgICBhcmd1bWVudHMgPSBbIG9iaiwgXCJmb29cIiwgXCJiYXJcIiBdXG4gKiBvcjpcbiAqICAgICAgICBhcmd1bWVudHMgPSBbIG9iaiwgW1wiZm9vXCIsIFwiYmFyXCJdIF1cbiAqIHRoZW46XG4gKiAgICAgICAgcmVzdEFyZ3MoYXJndW1lbnRzLCAxKSA9PSBbXCJmb29cIiwgXCJiYXJcIl1cbiAqXG4gKiBUaGlzIGFsbG93cyBmdW5jdGlvbnMgbGlrZSBwaWNrKCkgdG8gYmUgaW1wbGVtZW50ZWQgc3VjaCB0aGF0IGl0IGFsbG93cyBlaXRoZXIgYSBidW5jaFxuICogb2Ygc3RyaW5nIGFyZ3VtZW50cyAobGlrZSBlczYgcmVzdCBwYXJhbWV0ZXJzKSwgb3IgYSBzaW5nbGUgYXJyYXkgb2Ygc3RyaW5nczpcbiAqXG4gKiBnaXZlbjpcbiAqICAgICAgICB2YXIgb2JqID0geyBmb286IDEsIGJhcjogMiwgYmF6OiAzIH07XG4gKiB0aGVuOlxuICogICAgICAgIHBpY2sob2JqLCBcImZvb1wiLCBcImJhclwiKTsgICAvLyByZXR1cm5zIHsgZm9vOiAxLCBiYXI6IDIgfVxuICogICAgICAgIHBpY2sob2JqLCBbXCJmb29cIiwgXCJiYXJcIl0pOyAvLyByZXR1cm5zIHsgZm9vOiAxLCBiYXI6IDIgfVxuICovXG52YXIgcmVzdEFyZ3MgPSBmdW5jdGlvbiAoYXJncywgaWR4KSB7XG4gICAgaWYgKGlkeCA9PT0gdm9pZCAwKSB7IGlkeCA9IDA7IH1cbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShBcnJheS5wcm90b3R5cGUsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MsIGlkeCkpO1xufTtcbi8qKiBHaXZlbiBhbiBhcnJheSwgcmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgZm91bmQgaW4gdGhlIGFycmF5LCAodXNpbmcgaW5kZXhPZikgKi9cbmV4cG9ydHMuaW5BcnJheSA9IGhvZl8xLmN1cnJ5KF9pbkFycmF5KTtcbmZ1bmN0aW9uIF9pbkFycmF5KGFycmF5LCBvYmopIHtcbiAgICByZXR1cm4gYXJyYXkuaW5kZXhPZihvYmopICE9PSAtMTtcbn1cbmV4cG9ydHMuX2luQXJyYXkgPSBfaW5BcnJheTtcbi8qKlxuICogR2l2ZW4gYW4gYXJyYXksIGFuZCBhbiBpdGVtLCBpZiB0aGUgaXRlbSBpcyBmb3VuZCBpbiB0aGUgYXJyYXksIGl0IHJlbW92ZXMgaXQgKGluLXBsYWNlKS5cbiAqIFRoZSBzYW1lIGFycmF5IGlzIHJldHVybmVkXG4gKi9cbmV4cG9ydHMucmVtb3ZlRnJvbSA9IGhvZl8xLmN1cnJ5KF9yZW1vdmVGcm9tKTtcbmZ1bmN0aW9uIF9yZW1vdmVGcm9tKGFycmF5LCBvYmopIHtcbiAgICB2YXIgaWR4ID0gYXJyYXkuaW5kZXhPZihvYmopO1xuICAgIGlmIChpZHggPj0gMClcbiAgICAgICAgYXJyYXkuc3BsaWNlKGlkeCwgMSk7XG4gICAgcmV0dXJuIGFycmF5O1xufVxuZXhwb3J0cy5fcmVtb3ZlRnJvbSA9IF9yZW1vdmVGcm9tO1xuLyoqIHB1c2hlcyBhIHZhbHVlcyB0byBhbiBhcnJheSBhbmQgcmV0dXJucyB0aGUgdmFsdWUgKi9cbmV4cG9ydHMucHVzaFRvID0gaG9mXzEuY3VycnkoX3B1c2hUbyk7XG5mdW5jdGlvbiBfcHVzaFRvKGFyciwgdmFsKSB7XG4gICAgcmV0dXJuIChhcnIucHVzaCh2YWwpLCB2YWwpO1xufVxuZXhwb3J0cy5fcHVzaFRvID0gX3B1c2hUbztcbi8qKiBHaXZlbiBhbiBhcnJheSBvZiAoZGVyZWdpc3RyYXRpb24pIGZ1bmN0aW9ucywgY2FsbHMgYWxsIGZ1bmN0aW9ucyBhbmQgcmVtb3ZlcyBlYWNoIG9uZSBmcm9tIHRoZSBzb3VyY2UgYXJyYXkgKi9cbmV4cG9ydHMuZGVyZWdBbGwgPSBmdW5jdGlvbiAoZnVuY3Rpb25zKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9ucy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiBmbigpO1xuICAgICAgICBleHBvcnRzLnJlbW92ZUZyb20oZnVuY3Rpb25zLCBmbik7XG4gICAgfSk7XG59O1xuLyoqXG4gKiBBcHBsaWVzIGEgc2V0IG9mIGRlZmF1bHRzIHRvIGFuIG9wdGlvbnMgb2JqZWN0LiAgVGhlIG9wdGlvbnMgb2JqZWN0IGlzIGZpbHRlcmVkXG4gKiB0byBvbmx5IHRob3NlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdHMgaW4gdGhlIGRlZmF1bHRzTGlzdC5cbiAqIEVhcmxpZXIgb2JqZWN0cyBpbiB0aGUgZGVmYXVsdHNMaXN0IHRha2UgcHJlY2VkZW5jZSB3aGVuIGFwcGx5aW5nIGRlZmF1bHRzLlxuICovXG5mdW5jdGlvbiBkZWZhdWx0cyhvcHRzKSB7XG4gICAgdmFyIGRlZmF1bHRzTGlzdCA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGRlZmF1bHRzTGlzdFtfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIF9kZWZhdWx0c0xpc3QgPSBkZWZhdWx0c0xpc3QuY29uY2F0KHt9KS5yZXZlcnNlKCk7XG4gICAgdmFyIGRlZmF1bHRWYWxzID0gZXhwb3J0cy5leHRlbmQuYXBwbHkobnVsbCwgX2RlZmF1bHRzTGlzdCk7XG4gICAgcmV0dXJuIGV4cG9ydHMuZXh0ZW5kKHt9LCBkZWZhdWx0VmFscywgcGljayhvcHRzIHx8IHt9LCBPYmplY3Qua2V5cyhkZWZhdWx0VmFscykpKTtcbn1cbmV4cG9ydHMuZGVmYXVsdHMgPSBkZWZhdWx0cztcbi8qKiBSZWR1Y2UgZnVuY3Rpb24gdGhhdCBtZXJnZXMgZWFjaCBlbGVtZW50IG9mIHRoZSBsaXN0IGludG8gYSBzaW5nbGUgb2JqZWN0LCB1c2luZyBleHRlbmQgKi9cbmV4cG9ydHMubWVyZ2VSID0gZnVuY3Rpb24gKG1lbW8sIGl0ZW0pIHsgcmV0dXJuIGV4cG9ydHMuZXh0ZW5kKG1lbW8sIGl0ZW0pOyB9O1xuLyoqXG4gKiBGaW5kcyB0aGUgY29tbW9uIGFuY2VzdG9yIHBhdGggYmV0d2VlbiB0d28gc3RhdGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBmaXJzdCBUaGUgZmlyc3Qgc3RhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gc2Vjb25kIFRoZSBzZWNvbmQgc3RhdGUuXG4gKiBAcmV0dXJuIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBzdGF0ZSBuYW1lcyBpbiBkZXNjZW5kaW5nIG9yZGVyLCBub3QgaW5jbHVkaW5nIHRoZSByb290LlxuICovXG5mdW5jdGlvbiBhbmNlc3RvcnMoZmlyc3QsIHNlY29uZCkge1xuICAgIHZhciBwYXRoID0gW107XG4gICAgZm9yICh2YXIgbiBpbiBmaXJzdC5wYXRoKSB7XG4gICAgICAgIGlmIChmaXJzdC5wYXRoW25dICE9PSBzZWNvbmQucGF0aFtuXSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBwYXRoLnB1c2goZmlyc3QucGF0aFtuXSk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoO1xufVxuZXhwb3J0cy5hbmNlc3RvcnMgPSBhbmNlc3RvcnM7XG4vKipcbiAqIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbmx5IGNvbnRhaW5pbmcgdGhlIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMuXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBgXG4gKiB2YXIgZm9vID0geyBhOiAxLCBiOiAyLCBjOiAzIH07XG4gKiB2YXIgYWIgPSBwaWNrKGZvbywgWydhJywgJ2InXSk7IC8vIHsgYTogMSwgYjogMiB9XG4gKiBgYGBcbiAqIEBwYXJhbSBvYmogdGhlIHNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSBwcm9wTmFtZXMgYW4gQXJyYXkgb2Ygc3RyaW5ncywgd2hpY2ggYXJlIHRoZSB3aGl0ZWxpc3RlZCBwcm9wZXJ0eSBuYW1lc1xuICovXG5mdW5jdGlvbiBwaWNrKG9iaiwgcHJvcE5hbWVzKSB7XG4gICAgdmFyIG9iakNvcHkgPSB7fTtcbiAgICBmb3IgKHZhciBwcm9wXzEgaW4gb2JqKSB7XG4gICAgICAgIGlmIChwcm9wTmFtZXMuaW5kZXhPZihwcm9wXzEpICE9PSAtMSkge1xuICAgICAgICAgICAgb2JqQ29weVtwcm9wXzFdID0gb2JqW3Byb3BfMV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iakNvcHk7XG59XG5leHBvcnRzLnBpY2sgPSBwaWNrO1xuLyoqXG4gKiBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgb21pdHRpbmcgdGhlIGJsYWNrbGlzdGVkIHByb3BlcnRpZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqIHZhciBmb28gPSB7IGE6IDEsIGI6IDIsIGM6IDMgfTtcbiAqIHZhciBhYiA9IG9taXQoZm9vLCBbJ2EnLCAnYiddKTsgLy8geyBjOiAzIH1cbiAqIGBgYFxuICogQHBhcmFtIG9iaiB0aGUgc291cmNlIG9iamVjdFxuICogQHBhcmFtIHByb3BOYW1lcyBhbiBBcnJheSBvZiBzdHJpbmdzLCB3aGljaCBhcmUgdGhlIGJsYWNrbGlzdGVkIHByb3BlcnR5IG5hbWVzXG4gKi9cbmZ1bmN0aW9uIG9taXQob2JqLCBwcm9wTmFtZXMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKVxuICAgICAgICAuZmlsdGVyKGhvZl8xLm5vdChleHBvcnRzLmluQXJyYXkocHJvcE5hbWVzKSkpXG4gICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7IHJldHVybiAoYWNjW2tleV0gPSBvYmpba2V5XSwgYWNjKTsgfSwge30pO1xufVxuZXhwb3J0cy5vbWl0ID0gb21pdDtcbi8qKlxuICogTWFwcyBhbiBhcnJheSwgb3Igb2JqZWN0IHRvIGEgcHJvcGVydHkgKGJ5IG5hbWUpXG4gKi9cbmZ1bmN0aW9uIHBsdWNrKGNvbGxlY3Rpb24sIHByb3BOYW1lKSB7XG4gICAgcmV0dXJuIG1hcChjb2xsZWN0aW9uLCBob2ZfMS5wcm9wKHByb3BOYW1lKSk7XG59XG5leHBvcnRzLnBsdWNrID0gcGx1Y2s7XG4vKiogRmlsdGVycyBhbiBBcnJheSBvciBhbiBPYmplY3QncyBwcm9wZXJ0aWVzIGJhc2VkIG9uIGEgcHJlZGljYXRlICovXG5mdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgY2FsbGJhY2spIHtcbiAgICB2YXIgYXJyID0gcHJlZGljYXRlc18xLmlzQXJyYXkoY29sbGVjdGlvbiksIHJlc3VsdCA9IGFyciA/IFtdIDoge307XG4gICAgdmFyIGFjY2VwdCA9IGFyciA/IGZ1bmN0aW9uICh4KSB7IHJldHVybiByZXN1bHQucHVzaCh4KTsgfSA6IGZ1bmN0aW9uICh4LCBrZXkpIHsgcmV0dXJuIHJlc3VsdFtrZXldID0geDsgfTtcbiAgICBleHBvcnRzLmZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKGl0ZW0sIGkpKVxuICAgICAgICAgICAgYWNjZXB0KGl0ZW0sIGkpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLmZpbHRlciA9IGZpbHRlcjtcbi8qKiBGaW5kcyBhbiBvYmplY3QgZnJvbSBhbiBhcnJheSwgb3IgYSBwcm9wZXJ0eSBvZiBhbiBvYmplY3QsIHRoYXQgbWF0Y2hlcyBhIHByZWRpY2F0ZSAqL1xuZnVuY3Rpb24gZmluZChjb2xsZWN0aW9uLCBjYWxsYmFjaykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgZXhwb3J0cy5mb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChjYWxsYmFjayhpdGVtLCBpKSlcbiAgICAgICAgICAgIHJlc3VsdCA9IGl0ZW07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMuZmluZCA9IGZpbmQ7XG4vKiogR2l2ZW4gYW4gb2JqZWN0LCByZXR1cm5zIGEgbmV3IG9iamVjdCwgd2hlcmUgZWFjaCBwcm9wZXJ0eSBpcyB0cmFuc2Zvcm1lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gKi9cbmV4cG9ydHMubWFwT2JqID0gbWFwO1xuLyoqIE1hcHMgYW4gYXJyYXkgb3Igb2JqZWN0IHByb3BlcnRpZXMgdXNpbmcgYSBjYWxsYmFjayBmdW5jdGlvbiAqL1xuZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGNhbGxiYWNrKSB7XG4gICAgdmFyIHJlc3VsdCA9IHByZWRpY2F0ZXNfMS5pc0FycmF5KGNvbGxlY3Rpb24pID8gW10gOiB7fTtcbiAgICBleHBvcnRzLmZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24gKGl0ZW0sIGkpIHsgcmV0dXJuIHJlc3VsdFtpXSA9IGNhbGxiYWNrKGl0ZW0sIGkpOyB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5tYXAgPSBtYXA7XG4vKipcbiAqIEdpdmVuIGFuIG9iamVjdCwgcmV0dXJuIGl0cyBlbnVtZXJhYmxlIHByb3BlcnR5IHZhbHVlc1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBsZXQgZm9vID0geyBhOiAxLCBiOiAyLCBjOiAzIH1cbiAqIGxldCB2YWxzID0gdmFsdWVzKGZvbyk7IC8vIFsgMSwgMiwgMyBdXG4gKiBgYGBcbiAqL1xuZXhwb3J0cy52YWx1ZXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG9ialtrZXldOyB9KTtcbn07XG4vKipcbiAqIFJlZHVjZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBhbGwgb2YgdGhlIHZhbHVlcyBhcmUgdHJ1dGh5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBsZXQgdmFscyA9IFsgMSwgdHJ1ZSwge30sIFwiaGVsbG8gd29ybGRcIl07XG4gKiB2YWxzLnJlZHVjZShhbGxUcnVlUiwgdHJ1ZSk7IC8vIHRydWVcbiAqXG4gKiB2YWxzLnB1c2goMCk7XG4gKiB2YWxzLnJlZHVjZShhbGxUcnVlUiwgdHJ1ZSk7IC8vIGZhbHNlXG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5hbGxUcnVlUiA9IGZ1bmN0aW9uIChtZW1vLCBlbGVtKSB7IHJldHVybiBtZW1vICYmIGVsZW07IH07XG4vKipcbiAqIFJlZHVjZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBhbnkgb2YgdGhlIHZhbHVlcyBhcmUgdHJ1dGh5LlxuICpcbiAqICAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBsZXQgdmFscyA9IFsgMCwgbnVsbCwgdW5kZWZpbmVkIF07XG4gKiB2YWxzLnJlZHVjZShhbnlUcnVlUiwgdHJ1ZSk7IC8vIGZhbHNlXG4gKlxuICogdmFscy5wdXNoKFwiaGVsbG8gd29ybGRcIik7XG4gKiB2YWxzLnJlZHVjZShhbnlUcnVlUiwgdHJ1ZSk7IC8vIHRydWVcbiAqIGBgYFxuICovXG5leHBvcnRzLmFueVRydWVSID0gZnVuY3Rpb24gKG1lbW8sIGVsZW0pIHsgcmV0dXJuIG1lbW8gfHwgZWxlbTsgfTtcbi8qKlxuICogUmVkdWNlIGZ1bmN0aW9uIHdoaWNoIHVuLW5lc3RzIGEgc2luZ2xlIGxldmVsIG9mIGFycmF5c1xuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqIGxldCBpbnB1dCA9IFsgWyBcImFcIiwgXCJiXCIgXSwgWyBcImNcIiwgXCJkXCIgXSwgWyBbIFwiZG91YmxlXCIsIFwibmVzdGVkXCIgXSBdIF07XG4gKiBpbnB1dC5yZWR1Y2UodW5uZXN0UiwgW10pIC8vIFsgXCJhXCIsIFwiYlwiLCBcImNcIiwgXCJkXCIsIFsgXCJkb3VibGUsIFwibmVzdGVkXCIgXSBdXG4gKiBgYGBcbiAqL1xuZXhwb3J0cy51bm5lc3RSID0gZnVuY3Rpb24gKG1lbW8sIGVsZW0pIHsgcmV0dXJuIG1lbW8uY29uY2F0KGVsZW0pOyB9O1xuLyoqXG4gKiBSZWR1Y2UgZnVuY3Rpb24gd2hpY2ggcmVjdXJzaXZlbHkgdW4tbmVzdHMgYWxsIGFycmF5c1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBsZXQgaW5wdXQgPSBbIFsgXCJhXCIsIFwiYlwiIF0sIFsgXCJjXCIsIFwiZFwiIF0sIFsgWyBcImRvdWJsZVwiLCBcIm5lc3RlZFwiIF0gXSBdO1xuICogaW5wdXQucmVkdWNlKHVubmVzdFIsIFtdKSAvLyBbIFwiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiLCBcImRvdWJsZSwgXCJuZXN0ZWRcIiBdXG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5mbGF0dGVuUiA9IGZ1bmN0aW9uIChtZW1vLCBlbGVtKSB7XG4gICAgcmV0dXJuIHByZWRpY2F0ZXNfMS5pc0FycmF5KGVsZW0pID8gbWVtby5jb25jYXQoZWxlbS5yZWR1Y2UoZXhwb3J0cy5mbGF0dGVuUiwgW10pKSA6IHB1c2hSKG1lbW8sIGVsZW0pO1xufTtcbi8qKlxuICogUmVkdWNlIGZ1bmN0aW9uIHRoYXQgcHVzaGVzIGFuIG9iamVjdCB0byBhbiBhcnJheSwgdGhlbiByZXR1cm5zIHRoZSBhcnJheS5cbiAqIE1vc3RseSBqdXN0IGZvciBbW2ZsYXR0ZW5SXV0gYW5kIFtbdW5pcVJdXVxuICovXG5mdW5jdGlvbiBwdXNoUihhcnIsIG9iaikge1xuICAgIGFyci5wdXNoKG9iaik7XG4gICAgcmV0dXJuIGFycjtcbn1cbmV4cG9ydHMucHVzaFIgPSBwdXNoUjtcbi8qKiBSZWR1Y2UgZnVuY3Rpb24gdGhhdCBmaWx0ZXJzIG91dCBkdXBsaWNhdGVzICovXG5leHBvcnRzLnVuaXFSID0gZnVuY3Rpb24gKGFjYywgdG9rZW4pIHtcbiAgICByZXR1cm4gZXhwb3J0cy5pbkFycmF5KGFjYywgdG9rZW4pID8gYWNjIDogcHVzaFIoYWNjLCB0b2tlbik7XG59O1xuLyoqXG4gKiBSZXR1cm4gYSBuZXcgYXJyYXkgd2l0aCBhIHNpbmdsZSBsZXZlbCBvZiBhcnJheXMgdW5uZXN0ZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqIGxldCBpbnB1dCA9IFsgWyBcImFcIiwgXCJiXCIgXSwgWyBcImNcIiwgXCJkXCIgXSwgWyBbIFwiZG91YmxlXCIsIFwibmVzdGVkXCIgXSBdIF07XG4gKiB1bm5lc3QoaW5wdXQpIC8vIFsgXCJhXCIsIFwiYlwiLCBcImNcIiwgXCJkXCIsIFsgXCJkb3VibGUsIFwibmVzdGVkXCIgXSBdXG4gKiBgYGBcbiAqL1xuZXhwb3J0cy51bm5lc3QgPSBmdW5jdGlvbiAoYXJyKSB7IHJldHVybiBhcnIucmVkdWNlKGV4cG9ydHMudW5uZXN0UiwgW10pOyB9O1xuLyoqXG4gKiBSZXR1cm4gYSBjb21wbGV0ZWx5IGZsYXR0ZW5lZCB2ZXJzaW9uIG9mIGFuIGFycmF5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBsZXQgaW5wdXQgPSBbIFsgXCJhXCIsIFwiYlwiIF0sIFsgXCJjXCIsIFwiZFwiIF0sIFsgWyBcImRvdWJsZVwiLCBcIm5lc3RlZFwiIF0gXSBdO1xuICogZmxhdHRlbihpbnB1dCkgLy8gWyBcImFcIiwgXCJiXCIsIFwiY1wiLCBcImRcIiwgXCJkb3VibGUsIFwibmVzdGVkXCIgXVxuICogYGBgXG4gKi9cbmV4cG9ydHMuZmxhdHRlbiA9IGZ1bmN0aW9uIChhcnIpIHsgcmV0dXJuIGFyci5yZWR1Y2UoZXhwb3J0cy5mbGF0dGVuUiwgW10pOyB9O1xuLyoqXG4gKiBHaXZlbiBhIC5maWx0ZXIgUHJlZGljYXRlLCBidWlsZHMgYSAuZmlsdGVyIFByZWRpY2F0ZSB3aGljaCB0aHJvd3MgYW4gZXJyb3IgaWYgYW55IGVsZW1lbnRzIGRvIG5vdCBwYXNzLlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqIGxldCBpc051bWJlciA9IChvYmopID0+IHR5cGVvZihvYmopID09PSAnbnVtYmVyJztcbiAqIGxldCBhbGxOdW1iZXJzID0gWyAxLCAyLCAzLCA0LCA1IF07XG4gKiBhbGxOdW1iZXJzLmZpbHRlcihhc3NlcnRQcmVkaWNhdGUoaXNOdW1iZXIpKTsgLy9PS1xuICpcbiAqIGxldCBvbmVTdHJpbmcgPSBbIDEsIDIsIDMsIDQsIFwiNVwiIF07XG4gKiBvbmVTdHJpbmcuZmlsdGVyKGFzc2VydFByZWRpY2F0ZShpc051bWJlciwgXCJOb3QgYWxsIG51bWJlcnNcIikpOyAvLyB0aHJvd3MgRXJyb3IoXCJcIk5vdCBhbGwgbnVtYmVyc1wiXCIpO1xuICogYGBgXG4gKi9cbmV4cG9ydHMuYXNzZXJ0UHJlZGljYXRlID0gYXNzZXJ0Rm47XG4vKipcbiAqIEdpdmVuIGEgLm1hcCBmdW5jdGlvbiwgYnVpbGRzIGEgLm1hcCBmdW5jdGlvbiB3aGljaCB0aHJvd3MgYW4gZXJyb3IgaWYgYW55IG1hcHBlZCBlbGVtZW50cyBkbyBub3QgcGFzcyBhIHRydXRoeW5lc3MgdGVzdC5cbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiB2YXIgZGF0YSA9IHsgZm9vOiAxLCBiYXI6IDIgfTtcbiAqXG4gKiBsZXQga2V5cyA9IFsgJ2ZvbycsICdiYXInIF1cbiAqIGxldCB2YWx1ZXMgPSBrZXlzLm1hcChhc3NlcnRNYXAoa2V5ID0+IGRhdGFba2V5XSwgXCJLZXkgbm90IGZvdW5kXCIpKTtcbiAqIC8vIHZhbHVlcyBpcyBbMSwgMl1cbiAqXG4gKiBsZXQga2V5cyA9IFsgJ2ZvbycsICdiYXInLCAnYmF6JyBdXG4gKiBsZXQgdmFsdWVzID0ga2V5cy5tYXAoYXNzZXJ0TWFwKGtleSA9PiBkYXRhW2tleV0sIFwiS2V5IG5vdCBmb3VuZFwiKSk7XG4gKiAvLyB0aHJvd3MgRXJyb3IoXCJLZXkgbm90IGZvdW5kXCIpXG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5hc3NlcnRNYXAgPSBhc3NlcnRGbjtcbmZ1bmN0aW9uIGFzc2VydEZuKHByZWRpY2F0ZU9yTWFwLCBlcnJNc2cpIHtcbiAgICBpZiAoZXJyTXNnID09PSB2b2lkIDApIHsgZXJyTXNnID0gXCJhc3NlcnQgZmFpbHVyZVwiOyB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHByZWRpY2F0ZU9yTWFwKG9iaik7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJlZGljYXRlc18xLmlzRnVuY3Rpb24oZXJyTXNnKSA/IGVyck1zZyhvYmopIDogZXJyTXNnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5leHBvcnRzLmFzc2VydEZuID0gYXNzZXJ0Rm47XG4vKipcbiAqIExpa2UgXy5wYWlyczogR2l2ZW4gYW4gb2JqZWN0LCByZXR1cm5zIGFuIGFycmF5IG9mIGtleS92YWx1ZSBwYWlyc1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBwYWlycyh7IGZvbzogXCJGT09cIiwgYmFyOiBcIkJBUiB9KSAvLyBbIFsgXCJmb29cIiwgXCJGT09cIiBdLCBbIFwiYmFyXCI6IFwiQkFSXCIgXSBdXG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5wYWlycyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gW2tleSwgb2JqW2tleV1dOyB9KTtcbn07XG4vKipcbiAqIEdpdmVuIHR3byBvciBtb3JlIHBhcmFsbGVsIGFycmF5cywgcmV0dXJucyBhbiBhcnJheSBvZiB0dXBsZXMgd2hlcmVcbiAqIGVhY2ggdHVwbGUgaXMgY29tcG9zZWQgb2YgWyBhW2ldLCBiW2ldLCAuLi4geltpXSBdXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqIGxldCBmb28gPSBbIDAsIDIsIDQsIDYgXTtcbiAqIGxldCBiYXIgPSBbIDEsIDMsIDUsIDcgXTtcbiAqIGxldCBiYXogPSBbIDEwLCAzMCwgNTAsIDcwIF07XG4gKiBhcnJheVR1cGxlcyhmb28sIGJhcik7ICAgICAgIC8vIFsgWzAsIDFdLCBbMiwgM10sIFs0LCA1XSwgWzYsIDddIF1cbiAqIGFycmF5VHVwbGVzKGZvbywgYmFyLCBiYXopOyAgLy8gWyBbMCwgMSwgMTBdLCBbMiwgMywgMzBdLCBbNCwgNSwgNTBdLCBbNiwgNywgNzBdIF1cbiAqIGBgYFxuICovXG5mdW5jdGlvbiBhcnJheVR1cGxlcygpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gW107XG4gICAgdmFyIG1heEFycmF5TGVuID0gYXJncy5yZWR1Y2UoZnVuY3Rpb24gKG1pbiwgYXJyKSB7IHJldHVybiBNYXRoLm1pbihhcnIubGVuZ3RoLCBtaW4pOyB9LCA5MDA3MTk5MjU0NzQwOTkxKTsgLy8gYWthIDJeNTMg4oiSIDEgYWthIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXG4gICAgdmFyIGksIHJlc3VsdCA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCBtYXhBcnJheUxlbjsgaSsrKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBob3QgZnVuY3Rpb25cbiAgICAgICAgLy8gVW5yb2xsIHdoZW4gdGhlcmUgYXJlIDEtNCBhcmd1bWVudHNcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFthcmdzWzBdW2ldXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW2FyZ3NbMF1baV0sIGFyZ3NbMV1baV1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbYXJnc1swXVtpXSwgYXJnc1sxXVtpXSwgYXJnc1syXVtpXV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFthcmdzWzBdW2ldLCBhcmdzWzFdW2ldLCBhcmdzWzJdW2ldLCBhcmdzWzNdW2ldXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFyZ3MubWFwKGZ1bmN0aW9uIChhcnJheSkgeyByZXR1cm4gYXJyYXlbaV07IH0pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5hcnJheVR1cGxlcyA9IGFycmF5VHVwbGVzO1xuLyoqXG4gKiBSZWR1Y2UgZnVuY3Rpb24gd2hpY2ggYnVpbGRzIGFuIG9iamVjdCBmcm9tIGFuIGFycmF5IG9mIFtrZXksIHZhbHVlXSBwYWlycy5cbiAqXG4gKiBFYWNoIGl0ZXJhdGlvbiBzZXRzIHRoZSBrZXkvdmFsIHBhaXIgb24gdGhlIG1lbW8gb2JqZWN0LCB0aGVuIHJldHVybnMgdGhlIG1lbW8gZm9yIHRoZSBuZXh0IGl0ZXJhdGlvbi5cbiAqXG4gKiBFYWNoIGtleVZhbHVlVHVwbGUgc2hvdWxkIGJlIGFuIGFycmF5IHdpdGggdmFsdWVzIFsga2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkgXVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiB2YXIgcGFpcnMgPSBbIFtcImZvb2tleVwiLCBcImZvb3ZhbFwiXSwgW1wiYmFya2V5XCIsIFwiYmFydmFsXCJdIF1cbiAqXG4gKiB2YXIgcGFpcnNUb09iaiA9IHBhaXJzLnJlZHVjZSgobWVtbywgcGFpcikgPT4gYXBwbHlQYWlycyhtZW1vLCBwYWlyKSwge30pXG4gKiAvLyBwYWlyc1RvT2JqID09IHsgZm9va2V5OiBcImZvb3ZhbFwiLCBiYXJrZXk6IFwiYmFydmFsXCIgfVxuICpcbiAqIC8vIE9yLCBtb3JlIHNpbXBseTpcbiAqIHZhciBwYWlyc1RvT2JqID0gcGFpcnMucmVkdWNlKGFwcGx5UGFpcnMsIHt9KVxuICogLy8gcGFpcnNUb09iaiA9PSB7IGZvb2tleTogXCJmb292YWxcIiwgYmFya2V5OiBcImJhcnZhbFwiIH1cbiAqIGBgYFxuICovXG5mdW5jdGlvbiBhcHBseVBhaXJzKG1lbW8sIGtleVZhbFR1cGxlKSB7XG4gICAgdmFyIGtleSwgdmFsdWU7XG4gICAgaWYgKHByZWRpY2F0ZXNfMS5pc0FycmF5KGtleVZhbFR1cGxlKSlcbiAgICAgICAga2V5ID0ga2V5VmFsVHVwbGVbMF0sIHZhbHVlID0ga2V5VmFsVHVwbGVbMV07XG4gICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNTdHJpbmcoa2V5KSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwYXJhbWV0ZXJzIHRvIGFwcGx5UGFpcnNcIik7XG4gICAgbWVtb1trZXldID0gdmFsdWU7XG4gICAgcmV0dXJuIG1lbW87XG59XG5leHBvcnRzLmFwcGx5UGFpcnMgPSBhcHBseVBhaXJzO1xuLyoqIEdldCB0aGUgbGFzdCBlbGVtZW50IG9mIGFuIGFycmF5ICovXG5mdW5jdGlvbiB0YWlsKGFycikge1xuICAgIHJldHVybiBhcnIubGVuZ3RoICYmIGFyclthcnIubGVuZ3RoIC0gMV0gfHwgdW5kZWZpbmVkO1xufVxuZXhwb3J0cy50YWlsID0gdGFpbDtcbi8qKlxuICogc2hhbGxvdyBjb3B5IGZyb20gc3JjIHRvIGRlc3RcbiAqXG4gKiBub3RlOiBUaGlzIGlzIGEgc2hhbGxvdyBjb3B5LCB3aGlsZSBhbmd1bGFyLmNvcHkgaXMgYSBkZWVwIGNvcHkuXG4gKiB1aS1yb3V0ZXIgdXNlcyBgY29weWAgb25seSB0byBtYWtlIGNvcGllcyBvZiBzdGF0ZSBwYXJhbWV0ZXJzLlxuICovXG5mdW5jdGlvbiBfY29weShzcmMsIGRlc3QpIHtcbiAgICBpZiAoZGVzdClcbiAgICAgICAgT2JqZWN0LmtleXMoZGVzdCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBkZWxldGUgZGVzdFtrZXldOyB9KTtcbiAgICBpZiAoIWRlc3QpXG4gICAgICAgIGRlc3QgPSB7fTtcbiAgICByZXR1cm4gZXhwb3J0cy5leHRlbmQoZGVzdCwgc3JjKTtcbn1cbi8qKiBOYWl2ZSBmb3JFYWNoIGltcGxlbWVudGF0aW9uIHdvcmtzIHdpdGggT2JqZWN0cyBvciBBcnJheXMgKi9cbmZ1bmN0aW9uIF9mb3JFYWNoKG9iaiwgY2IsIF90aGlzKSB7XG4gICAgaWYgKHByZWRpY2F0ZXNfMS5pc0FycmF5KG9iaikpXG4gICAgICAgIHJldHVybiBvYmouZm9yRWFjaChjYiwgX3RoaXMpO1xuICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBjYihvYmpba2V5XSwga2V5KTsgfSk7XG59XG5mdW5jdGlvbiBfZXh0ZW5kKHRvT2JqKSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG9iaiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgaWYgKCFvYmopXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHRvT2JqW2tleXNbal1dID0gb2JqW2tleXNbal1dO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0b09iajtcbn1cbmV4cG9ydHMuX2V4dGVuZCA9IF9leHRlbmQ7XG5mdW5jdGlvbiBfZXF1YWxzKG8xLCBvMikge1xuICAgIGlmIChvMSA9PT0gbzIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChvMSA9PT0gbnVsbCB8fCBvMiA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChvMSAhPT0gbzEgJiYgbzIgIT09IG8yKVxuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gTmFOID09PSBOYU5cbiAgICB2YXIgdDEgPSB0eXBlb2YgbzEsIHQyID0gdHlwZW9mIG8yO1xuICAgIGlmICh0MSAhPT0gdDIgfHwgdDEgIT09ICdvYmplY3QnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHR1cCA9IFtvMSwgbzJdO1xuICAgIGlmIChob2ZfMS5hbGwocHJlZGljYXRlc18xLmlzQXJyYXkpKHR1cCkpXG4gICAgICAgIHJldHVybiBfYXJyYXlzRXEobzEsIG8yKTtcbiAgICBpZiAoaG9mXzEuYWxsKHByZWRpY2F0ZXNfMS5pc0RhdGUpKHR1cCkpXG4gICAgICAgIHJldHVybiBvMS5nZXRUaW1lKCkgPT09IG8yLmdldFRpbWUoKTtcbiAgICBpZiAoaG9mXzEuYWxsKHByZWRpY2F0ZXNfMS5pc1JlZ0V4cCkodHVwKSlcbiAgICAgICAgcmV0dXJuIG8xLnRvU3RyaW5nKCkgPT09IG8yLnRvU3RyaW5nKCk7XG4gICAgaWYgKGhvZl8xLmFsbChwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbikodHVwKSlcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIG1laFxuICAgIHZhciBwcmVkaWNhdGVzID0gW3ByZWRpY2F0ZXNfMS5pc0Z1bmN0aW9uLCBwcmVkaWNhdGVzXzEuaXNBcnJheSwgcHJlZGljYXRlc18xLmlzRGF0ZSwgcHJlZGljYXRlc18xLmlzUmVnRXhwXTtcbiAgICBpZiAocHJlZGljYXRlcy5tYXAoaG9mXzEuYW55KS5yZWR1Y2UoZnVuY3Rpb24gKGIsIGZuKSB7IHJldHVybiBiIHx8ICEhZm4odHVwKTsgfSwgZmFsc2UpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdmFyIGtleSwga2V5cyA9IHt9O1xuICAgIGZvciAoa2V5IGluIG8xKSB7XG4gICAgICAgIGlmICghX2VxdWFscyhvMVtrZXldLCBvMltrZXldKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAga2V5c1trZXldID0gdHJ1ZTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gbzIpIHtcbiAgICAgICAgaWYgKCFrZXlzW2tleV0pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gX2FycmF5c0VxKGExLCBhMikge1xuICAgIGlmIChhMS5sZW5ndGggIT09IGEyLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBhcnJheVR1cGxlcyhhMSwgYTIpLnJlZHVjZShmdW5jdGlvbiAoYiwgdCkgeyByZXR1cm4gYiAmJiBfZXF1YWxzKHRbMF0sIHRbMV0pOyB9LCB0cnVlKTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgc29ydCBmdW5jdGlvblxuICpcbiAqIENyZWF0ZXMgYSBzb3J0IGZ1bmN0aW9uIHdoaWNoIHNvcnRzIGJ5IGEgbnVtZXJpYyBwcm9wZXJ0eS5cbiAqXG4gKiBUaGUgYHByb3BGbmAgc2hvdWxkIHJldHVybiB0aGUgcHJvcGVydHkgYXMgYSBudW1iZXIgd2hpY2ggY2FuIGJlIHNvcnRlZC5cbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBUaGlzIGV4YW1wbGUgcmV0dXJucyB0aGUgYHByaW9yaXR5YCBwcm9wLlxuICogYGBganNcbiAqIHZhciBzb3J0Zm4gPSBzb3J0Qnkob2JqID0+IG9iai5wcmlvcml0eSlcbiAqIC8vIGVxdWl2YWxlbnQgdG86XG4gKiB2YXIgbG9uZ2hhbmRTb3J0Rm4gPSAoYSwgYikgPT4gYS5wcmlvcml0eSAtIGIucHJpb3JpdHk7XG4gKiBgYGBcbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBUaGlzIGV4YW1wbGUgdXNlcyBbW3Byb3BdXVxuICogYGBganNcbiAqIHZhciBzb3J0Zm4gPSBzb3J0QnkocHJvcCgncHJpb3JpdHknKSlcbiAqIGBgYFxuICpcbiAqIFRoZSBgY2hlY2tGbmAgY2FuIGJlIHVzZWQgdG8gZXhjbHVkZSBvYmplY3RzIGZyb20gc29ydGluZy5cbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBUaGlzIGV4YW1wbGUgb25seSBzb3J0cyBvYmplY3RzIHdpdGggdHlwZSA9PT0gJ0ZPTydcbiAqIGBgYGpzXG4gKiB2YXIgc29ydGZuID0gc29ydEJ5KHByb3AoJ3ByaW9yaXR5JyksIHByb3BFcSgndHlwZScsICdGT08nKSlcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcm9wRm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHByb3BlcnR5IChhcyBhIG51bWJlcilcbiAqIEBwYXJhbSBjaGVja0ZuIGEgcHJlZGljYXRlXG4gKlxuICogQHJldHVybiBhIHNvcnQgZnVuY3Rpb24gbGlrZTogYChhLCBiKSA9PiAoY2hlY2tGbihhKSAmJiBjaGVja0ZuKGIpKSA/IHByb3BGbihhKSAtIHByb3BGbihiKSA6IDBgXG4gKi9cbmV4cG9ydHMuc29ydEJ5ID0gZnVuY3Rpb24gKHByb3BGbiwgY2hlY2tGbikge1xuICAgIGlmIChjaGVja0ZuID09PSB2b2lkIDApIHsgY2hlY2tGbiA9IGhvZl8xLnZhbCh0cnVlKTsgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gKGNoZWNrRm4oYSkgJiYgY2hlY2tGbihiKSkgPyBwcm9wRm4oYSkgLSBwcm9wRm4oYikgOiAwO1xuICAgIH07XG59O1xuLyoqXG4gKiBDb21wb3NlcyBhIGxpc3Qgb2Ygc29ydCBmdW5jdGlvbnNcbiAqXG4gKiBDcmVhdGVzIGEgc29ydCBmdW5jdGlvbiBjb21wb3NlZCBvZiBtdWx0aXBsZSBzb3J0IGZ1bmN0aW9ucy5cbiAqIEVhY2ggc29ydCBmdW5jdGlvbiBpcyBpbnZva2VkIGluIHNlcmllcy5cbiAqIFRoZSBmaXJzdCBzb3J0IGZ1bmN0aW9uIHRvIHJldHVybiBub24temVybyBcIndpbnNcIi5cbiAqXG4gKiBAcGFyYW0gc29ydEZucyBsaXN0IG9mIHNvcnQgZnVuY3Rpb25zXG4gKi9cbmV4cG9ydHMuY29tcG9zZVNvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNvcnRGbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBzb3J0Rm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBjb21wb3NlZFNvcnQoYSwgYikge1xuICAgICAgICByZXR1cm4gc29ydEZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBwcmV2IHx8IGZuKGEsIGIpOyB9LCAwKTtcbiAgICB9O1xufTtcbi8vIGlzc3VlICMyNjc2XG5leHBvcnRzLnNpbGVuY2VVbmNhdWdodEluUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKGUpIHsgcmV0dXJuIDA7IH0pICYmIHByb21pc2U7XG59O1xuZXhwb3J0cy5zaWxlbnRSZWplY3Rpb24gPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICByZXR1cm4gZXhwb3J0cy5zaWxlbmNlVW5jYXVnaHRJblByb21pc2UoY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEucmVqZWN0KGVycm9yKSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvY29tbW9uL2NvbW1vbi5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/** Predicates\n *\n * These predicates return true/false based on the input.\n * Although these functions are exported, they are subject to change without notice.\n *\n * @module common_predicates\n */\n/** */\nvar hof_1 = __webpack_require__(2);\nvar stateObject_1 = __webpack_require__(22);\nvar toStr = Object.prototype.toString;\nvar tis = function tis(t) {\n  return function (x) {\n    return (typeof x === "undefined" ? "undefined" : _typeof(x)) === t;\n  };\n};\nexports.isUndefined = tis(\'undefined\');\nexports.isDefined = hof_1.not(exports.isUndefined);\nexports.isNull = function (o) {\n  return o === null;\n};\nexports.isNullOrUndefined = hof_1.or(exports.isNull, exports.isUndefined);\nexports.isFunction = tis(\'function\');\nexports.isNumber = tis(\'number\');\nexports.isString = tis(\'string\');\nexports.isObject = function (x) {\n  return x !== null && (typeof x === "undefined" ? "undefined" : _typeof(x)) === \'object\';\n};\nexports.isArray = Array.isArray;\nexports.isDate = function (x) {\n  return toStr.call(x) === \'[object Date]\';\n};\nexports.isRegExp = function (x) {\n  return toStr.call(x) === \'[object RegExp]\';\n};\nexports.isState = stateObject_1.StateObject.isState;\n/**\n * Predicate which checks if a value is injectable\n *\n * A value is "injectable" if it is a function, or if it is an ng1 array-notation-style array\n * where all the elements in the array are Strings, except the last one, which is a Function\n */\nfunction isInjectable(val) {\n  if (exports.isArray(val) && val.length) {\n    var head = val.slice(0, -1),\n        tail = val.slice(-1);\n    return !(head.filter(hof_1.not(exports.isString)).length || tail.filter(hof_1.not(exports.isFunction)).length);\n  }\n  return exports.isFunction(val);\n}\nexports.isInjectable = isInjectable;\n/**\n * Predicate which checks if a value looks like a Promise\n *\n * It is probably a Promise if it\'s an object, and it has a `then` property which is a Function\n */\nexports.isPromise = hof_1.and(exports.isObject, hof_1.pipe(hof_1.prop(\'then\'), exports.isFunction));\n//# sourceMappingURL=predicates.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2NvbW1vbi9wcmVkaWNhdGVzLmpzP2U3Y2UiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJob2ZfMSIsInJlcXVpcmUiLCJzdGF0ZU9iamVjdF8xIiwidG9TdHIiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsInRpcyIsInQiLCJ4IiwiaXNVbmRlZmluZWQiLCJpc0RlZmluZWQiLCJub3QiLCJpc051bGwiLCJvIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJvciIsImlzRnVuY3Rpb24iLCJpc051bWJlciIsImlzU3RyaW5nIiwiaXNPYmplY3QiLCJpc0FycmF5IiwiQXJyYXkiLCJpc0RhdGUiLCJjYWxsIiwiaXNSZWdFeHAiLCJpc1N0YXRlIiwiU3RhdGVPYmplY3QiLCJpc0luamVjdGFibGUiLCJ2YWwiLCJsZW5ndGgiLCJoZWFkIiwic2xpY2UiLCJ0YWlsIiwiZmlsdGVyIiwiaXNQcm9taXNlIiwiYW5kIiwicGlwZSIsInByb3AiXSwibWFwcGluZ3MiOiJBQUFBOzs7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBOzs7Ozs7O0FBT0E7QUFDQSxJQUFJQyxRQUFRLG1CQUFBQyxDQUFRLENBQVIsQ0FBWjtBQUNBLElBQUlDLGdCQUFnQixtQkFBQUQsQ0FBUSxFQUFSLENBQXBCO0FBQ0EsSUFBSUUsUUFBUVAsT0FBT1EsU0FBUCxDQUFpQkMsUUFBN0I7QUFDQSxJQUFJQyxNQUFNLFNBQU5BLEdBQU0sQ0FBVUMsQ0FBVixFQUFhO0FBQUUsU0FBTyxVQUFVQyxDQUFWLEVBQWE7QUFBRSxXQUFPLFFBQVFBLENBQVIseUNBQVFBLENBQVIsT0FBZUQsQ0FBdEI7QUFBMEIsR0FBaEQ7QUFBbUQsQ0FBNUU7QUFDQVQsUUFBUVcsV0FBUixHQUFzQkgsSUFBSSxXQUFKLENBQXRCO0FBQ0FSLFFBQVFZLFNBQVIsR0FBb0JWLE1BQU1XLEdBQU4sQ0FBVWIsUUFBUVcsV0FBbEIsQ0FBcEI7QUFDQVgsUUFBUWMsTUFBUixHQUFpQixVQUFVQyxDQUFWLEVBQWE7QUFBRSxTQUFPQSxNQUFNLElBQWI7QUFBb0IsQ0FBcEQ7QUFDQWYsUUFBUWdCLGlCQUFSLEdBQTRCZCxNQUFNZSxFQUFOLENBQVNqQixRQUFRYyxNQUFqQixFQUF5QmQsUUFBUVcsV0FBakMsQ0FBNUI7QUFDQVgsUUFBUWtCLFVBQVIsR0FBcUJWLElBQUksVUFBSixDQUFyQjtBQUNBUixRQUFRbUIsUUFBUixHQUFtQlgsSUFBSSxRQUFKLENBQW5CO0FBQ0FSLFFBQVFvQixRQUFSLEdBQW1CWixJQUFJLFFBQUosQ0FBbkI7QUFDQVIsUUFBUXFCLFFBQVIsR0FBbUIsVUFBVVgsQ0FBVixFQUFhO0FBQUUsU0FBT0EsTUFBTSxJQUFOLElBQWMsUUFBT0EsQ0FBUCx5Q0FBT0EsQ0FBUCxPQUFhLFFBQWxDO0FBQTZDLENBQS9FO0FBQ0FWLFFBQVFzQixPQUFSLEdBQWtCQyxNQUFNRCxPQUF4QjtBQUNBdEIsUUFBUXdCLE1BQVIsR0FBa0IsVUFBVWQsQ0FBVixFQUFhO0FBQUUsU0FBT0wsTUFBTW9CLElBQU4sQ0FBV2YsQ0FBWCxNQUFrQixlQUF6QjtBQUEyQyxDQUE1RTtBQUNBVixRQUFRMEIsUUFBUixHQUFvQixVQUFVaEIsQ0FBVixFQUFhO0FBQUUsU0FBT0wsTUFBTW9CLElBQU4sQ0FBV2YsQ0FBWCxNQUFrQixpQkFBekI7QUFBNkMsQ0FBaEY7QUFDQVYsUUFBUTJCLE9BQVIsR0FBa0J2QixjQUFjd0IsV0FBZCxDQUEwQkQsT0FBNUM7QUFDQTs7Ozs7O0FBTUEsU0FBU0UsWUFBVCxDQUFzQkMsR0FBdEIsRUFBMkI7QUFDdkIsTUFBSTlCLFFBQVFzQixPQUFSLENBQWdCUSxHQUFoQixLQUF3QkEsSUFBSUMsTUFBaEMsRUFBd0M7QUFDcEMsUUFBSUMsT0FBT0YsSUFBSUcsS0FBSixDQUFVLENBQVYsRUFBYSxDQUFDLENBQWQsQ0FBWDtBQUFBLFFBQTZCQyxPQUFPSixJQUFJRyxLQUFKLENBQVUsQ0FBQyxDQUFYLENBQXBDO0FBQ0EsV0FBTyxFQUFFRCxLQUFLRyxNQUFMLENBQVlqQyxNQUFNVyxHQUFOLENBQVViLFFBQVFvQixRQUFsQixDQUFaLEVBQXlDVyxNQUF6QyxJQUFtREcsS0FBS0MsTUFBTCxDQUFZakMsTUFBTVcsR0FBTixDQUFVYixRQUFRa0IsVUFBbEIsQ0FBWixFQUEyQ2EsTUFBaEcsQ0FBUDtBQUNIO0FBQ0QsU0FBTy9CLFFBQVFrQixVQUFSLENBQW1CWSxHQUFuQixDQUFQO0FBQ0g7QUFDRDlCLFFBQVE2QixZQUFSLEdBQXVCQSxZQUF2QjtBQUNBOzs7OztBQUtBN0IsUUFBUW9DLFNBQVIsR0FBb0JsQyxNQUFNbUMsR0FBTixDQUFVckMsUUFBUXFCLFFBQWxCLEVBQTRCbkIsTUFBTW9DLElBQU4sQ0FBV3BDLE1BQU1xQyxJQUFOLENBQVcsTUFBWCxDQUFYLEVBQStCdkMsUUFBUWtCLFVBQXZDLENBQTVCLENBQXBCO0FBQ0EiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIFByZWRpY2F0ZXNcbiAqXG4gKiBUaGVzZSBwcmVkaWNhdGVzIHJldHVybiB0cnVlL2ZhbHNlIGJhc2VkIG9uIHRoZSBpbnB1dC5cbiAqIEFsdGhvdWdoIHRoZXNlIGZ1bmN0aW9ucyBhcmUgZXhwb3J0ZWQsIHRoZXkgYXJlIHN1YmplY3QgdG8gY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICpcbiAqIEBtb2R1bGUgY29tbW9uX3ByZWRpY2F0ZXNcbiAqL1xuLyoqICovXG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi9ob2ZcIik7XG52YXIgc3RhdGVPYmplY3RfMSA9IHJlcXVpcmUoXCIuLi9zdGF0ZS9zdGF0ZU9iamVjdFwiKTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgdGlzID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgKHgpID09PSB0OyB9OyB9O1xuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IHRpcygndW5kZWZpbmVkJyk7XG5leHBvcnRzLmlzRGVmaW5lZCA9IGhvZl8xLm5vdChleHBvcnRzLmlzVW5kZWZpbmVkKTtcbmV4cG9ydHMuaXNOdWxsID0gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gPT09IG51bGw7IH07XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaG9mXzEub3IoZXhwb3J0cy5pc051bGwsIGV4cG9ydHMuaXNVbmRlZmluZWQpO1xuZXhwb3J0cy5pc0Z1bmN0aW9uID0gdGlzKCdmdW5jdGlvbicpO1xuZXhwb3J0cy5pc051bWJlciA9IHRpcygnbnVtYmVyJyk7XG5leHBvcnRzLmlzU3RyaW5nID0gdGlzKCdzdHJpbmcnKTtcbmV4cG9ydHMuaXNPYmplY3QgPSBmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAhPT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCc7IH07XG5leHBvcnRzLmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuZXhwb3J0cy5pc0RhdGUgPSAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHRvU3RyLmNhbGwoeCkgPT09ICdbb2JqZWN0IERhdGVdJzsgfSk7XG5leHBvcnRzLmlzUmVnRXhwID0gKGZ1bmN0aW9uICh4KSB7IHJldHVybiB0b1N0ci5jYWxsKHgpID09PSAnW29iamVjdCBSZWdFeHBdJzsgfSk7XG5leHBvcnRzLmlzU3RhdGUgPSBzdGF0ZU9iamVjdF8xLlN0YXRlT2JqZWN0LmlzU3RhdGU7XG4vKipcbiAqIFByZWRpY2F0ZSB3aGljaCBjaGVja3MgaWYgYSB2YWx1ZSBpcyBpbmplY3RhYmxlXG4gKlxuICogQSB2YWx1ZSBpcyBcImluamVjdGFibGVcIiBpZiBpdCBpcyBhIGZ1bmN0aW9uLCBvciBpZiBpdCBpcyBhbiBuZzEgYXJyYXktbm90YXRpb24tc3R5bGUgYXJyYXlcbiAqIHdoZXJlIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIGFycmF5IGFyZSBTdHJpbmdzLCBleGNlcHQgdGhlIGxhc3Qgb25lLCB3aGljaCBpcyBhIEZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGlzSW5qZWN0YWJsZSh2YWwpIHtcbiAgICBpZiAoZXhwb3J0cy5pc0FycmF5KHZhbCkgJiYgdmFsLmxlbmd0aCkge1xuICAgICAgICB2YXIgaGVhZCA9IHZhbC5zbGljZSgwLCAtMSksIHRhaWwgPSB2YWwuc2xpY2UoLTEpO1xuICAgICAgICByZXR1cm4gIShoZWFkLmZpbHRlcihob2ZfMS5ub3QoZXhwb3J0cy5pc1N0cmluZykpLmxlbmd0aCB8fCB0YWlsLmZpbHRlcihob2ZfMS5ub3QoZXhwb3J0cy5pc0Z1bmN0aW9uKSkubGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cG9ydHMuaXNGdW5jdGlvbih2YWwpO1xufVxuZXhwb3J0cy5pc0luamVjdGFibGUgPSBpc0luamVjdGFibGU7XG4vKipcbiAqIFByZWRpY2F0ZSB3aGljaCBjaGVja3MgaWYgYSB2YWx1ZSBsb29rcyBsaWtlIGEgUHJvbWlzZVxuICpcbiAqIEl0IGlzIHByb2JhYmx5IGEgUHJvbWlzZSBpZiBpdCdzIGFuIG9iamVjdCwgYW5kIGl0IGhhcyBhIGB0aGVuYCBwcm9wZXJ0eSB3aGljaCBpcyBhIEZ1bmN0aW9uXG4gKi9cbmV4cG9ydHMuaXNQcm9taXNlID0gaG9mXzEuYW5kKGV4cG9ydHMuaXNPYmplY3QsIGhvZl8xLnBpcGUoaG9mXzEucHJvcCgndGhlbicpLCBleHBvcnRzLmlzRnVuY3Rpb24pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZWRpY2F0ZXMuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi9jb21tb24vcHJlZGljYXRlcy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n')},function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * Higher order functions\n *\n * These utility functions are exported, but are subject to change without notice.\n *\n * @module common_hof\n */ /** */\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * Returns a new function for [Partial Application](https://en.wikipedia.org/wiki/Partial_application) of the original function.\n *\n * Given a function with N parameters, returns a new function that supports partial application.\n * The new function accepts anywhere from 1 to N parameters.  When that function is called with M parameters,\n * where M is less than N, it returns a new function that accepts the remaining parameters.  It continues to\n * accept more parameters until all N parameters have been supplied.\n *\n *\n * This contrived example uses a partially applied function as an predicate, which returns true\n * if an object is found in both arrays.\n * @example\n * ```\n * // returns true if an object is in both of the two arrays\n * function inBoth(array1, array2, object) {\n *   return array1.indexOf(object) !== -1 &&\n *          array2.indexOf(object) !== 1;\n * }\n * let obj1, obj2, obj3, obj4, obj5, obj6, obj7\n * let foos = [obj1, obj3]\n * let bars = [obj3, obj4, obj5]\n *\n * // A curried "copy" of inBoth\n * let curriedInBoth = curry(inBoth);\n * // Partially apply both the array1 and array2\n * let inFoosAndBars = curriedInBoth(foos, bars);\n *\n * // Supply the final argument; since all arguments are\n * // supplied, the original inBoth function is then called.\n * let obj1InBoth = inFoosAndBars(obj1); // false\n *\n * // Use the inFoosAndBars as a predicate.\n * // Filter, on each iteration, supplies the final argument\n * let allObjs = [ obj1, obj2, obj3, obj4, obj5, obj6, obj7 ];\n * let foundInBoth = allObjs.filter(inFoosAndBars); // [ obj3 ]\n *\n * ```\n *\n * Stolen from: http://stackoverflow.com/questions/4394747/javascript-curry-function\n *\n * @param fn\n * @returns {*|function(): (*|any)}\n */\nfunction curry(fn) {\n    var initial_args = [].slice.apply(arguments, [1]);\n    var func_args_length = fn.length;\n    function curried(args) {\n        if (args.length >= func_args_length) return fn.apply(null, args);\n        return function () {\n            return curried(args.concat([].slice.apply(arguments)));\n        };\n    }\n    return curried(initial_args);\n}\nexports.curry = curry;\n/**\n * Given a varargs list of functions, returns a function that composes the argument functions, right-to-left\n * given: f(x), g(x), h(x)\n * let composed = compose(f,g,h)\n * then, composed is: f(g(h(x)))\n */\nfunction compose() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function () {\n        var i = start,\n            result = args[start].apply(this, arguments);\n        while (i--) {\n            result = args[i].call(this, result);\n        }return result;\n    };\n}\nexports.compose = compose;\n/**\n * Given a varargs list of functions, returns a function that is composes the argument functions, left-to-right\n * given: f(x), g(x), h(x)\n * let piped = pipe(f,g,h);\n * then, piped is: h(g(f(x)))\n */\nfunction pipe() {\n    var funcs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        funcs[_i] = arguments[_i];\n    }\n    return compose.apply(null, [].slice.call(arguments).reverse());\n}\nexports.pipe = pipe;\n/**\n * Given a property name, returns a function that returns that property from an object\n * let obj = { foo: 1, name: "blarg" };\n * let getName = prop("name");\n * getName(obj) === "blarg"\n */\nexports.prop = function (name) {\n    return function (obj) {\n        return obj && obj[name];\n    };\n};\n/**\n * Given a property name and a value, returns a function that returns a boolean based on whether\n * the passed object has a property that matches the value\n * let obj = { foo: 1, name: "blarg" };\n * let getName = propEq("name", "blarg");\n * getName(obj) === true\n */\nexports.propEq = curry(function (name, val, obj) {\n    return obj && obj[name] === val;\n});\n/**\n * Given a dotted property name, returns a function that returns a nested property from an object, or undefined\n * let obj = { id: 1, nestedObj: { foo: 1, name: "blarg" }, };\n * let getName = prop("nestedObj.name");\n * getName(obj) === "blarg"\n * let propNotFound = prop("this.property.doesnt.exist");\n * propNotFound(obj) === undefined\n */\nexports.parse = function (name) {\n    return pipe.apply(null, name.split(".").map(exports.prop));\n};\n/**\n * Given a function that returns a truthy or falsey value, returns a\n * function that returns the opposite (falsey or truthy) value given the same inputs\n */\nexports.not = function (fn) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return !fn.apply(null, args);\n    };\n};\n/**\n * Given two functions that return truthy or falsey values, returns a function that returns truthy\n * if both functions return truthy for the given arguments\n */\nfunction and(fn1, fn2) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return fn1.apply(null, args) && fn2.apply(null, args);\n    };\n}\nexports.and = and;\n/**\n * Given two functions that return truthy or falsey values, returns a function that returns truthy\n * if at least one of the functions returns truthy for the given arguments\n */\nfunction or(fn1, fn2) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return fn1.apply(null, args) || fn2.apply(null, args);\n    };\n}\nexports.or = or;\n/**\n * Check if all the elements of an array match a predicate function\n *\n * @param fn1 a predicate function `fn1`\n * @returns a function which takes an array and returns true if `fn1` is true for all elements of the array\n */\nexports.all = function (fn1) {\n    return function (arr) {\n        return arr.reduce(function (b, x) {\n            return b && !!fn1(x);\n        }, true);\n    };\n};\nexports.any = function (fn1) {\n    return function (arr) {\n        return arr.reduce(function (b, x) {\n            return b || !!fn1(x);\n        }, false);\n    };\n};\n/** Given a class, returns a Predicate function that returns true if the object is of that class */\nexports.is = function (ctor) {\n    return function (obj) {\n        return obj != null && obj.constructor === ctor || obj instanceof ctor;\n    };\n};\n/** Given a value, returns a Predicate function that returns true if another value is === equal to the original value */\nexports.eq = function (val) {\n    return function (other) {\n        return val === other;\n    };\n};\n/** Given a value, returns a function which returns the value */\nexports.val = function (v) {\n    return function () {\n        return v;\n    };\n};\nfunction invoke(fnName, args) {\n    return function (obj) {\n        return obj[fnName].apply(obj, args);\n    };\n}\nexports.invoke = invoke;\n/**\n * Sorta like Pattern Matching (a functional programming conditional construct)\n *\n * See http://c2.com/cgi/wiki?PatternMatching\n *\n * This is a conditional construct which allows a series of predicates and output functions\n * to be checked and then applied.  Each predicate receives the input.  If the predicate\n * returns truthy, then its matching output function (mapping function) is provided with\n * the input and, then the result is returned.\n *\n * Each combination (2-tuple) of predicate + output function should be placed in an array\n * of size 2: [ predicate, mapFn ]\n *\n * These 2-tuples should be put in an outer array.\n *\n * @example\n * ```\n *\n * // Here\'s a 2-tuple where the first element is the isString predicate\n * // and the second element is a function that returns a description of the input\n * let firstTuple = [ angular.isString, (input) => `Heres your string ${input}` ];\n *\n * // Second tuple: predicate "isNumber", mapfn returns a description\n * let secondTuple = [ angular.isNumber, (input) => `(${input}) That\'s a number!` ];\n *\n * let third = [ (input) => input === null,  (input) => `Oh, null...` ];\n *\n * let fourth = [ (input) => input === undefined,  (input) => `notdefined` ];\n *\n * let descriptionOf = pattern([ firstTuple, secondTuple, third, fourth ]);\n *\n * console.log(descriptionOf(undefined)); // \'notdefined\'\n * console.log(descriptionOf(55)); // \'(55) That\'s a number!\'\n * console.log(descriptionOf("foo")); // \'Here\'s your string foo\'\n * ```\n *\n * @param struct A 2D array.  Each element of the array should be an array, a 2-tuple,\n * with a Predicate and a mapping/output function\n * @returns {function(any): *}\n */\nfunction pattern(struct) {\n    return function (x) {\n        for (var i = 0; i < struct.length; i++) {\n            if (struct[i][0](x)) return struct[i][1](x);\n        }\n    };\n}\nexports.pattern = pattern;\n//# sourceMappingURL=hof.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2NvbW1vbi9ob2YuanM/MzhmNiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImN1cnJ5IiwiZm4iLCJpbml0aWFsX2FyZ3MiLCJzbGljZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiZnVuY19hcmdzX2xlbmd0aCIsImxlbmd0aCIsImN1cnJpZWQiLCJhcmdzIiwiY29uY2F0IiwiY29tcG9zZSIsInN0YXJ0IiwiaSIsInJlc3VsdCIsImNhbGwiLCJwaXBlIiwiZnVuY3MiLCJfaSIsInJldmVyc2UiLCJwcm9wIiwibmFtZSIsIm9iaiIsInByb3BFcSIsInZhbCIsInBhcnNlIiwic3BsaXQiLCJtYXAiLCJub3QiLCJhbmQiLCJmbjEiLCJmbjIiLCJvciIsImFsbCIsImFyciIsInJlZHVjZSIsImIiLCJ4IiwiYW55IiwiaXMiLCJjdG9yIiwiY29uc3RydWN0b3IiLCJlcSIsIm90aGVyIiwidiIsImludm9rZSIsImZuTmFtZSIsInBhdHRlcm4iLCJzdHJ1Y3QiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7OztJQU1JOztBQUNKQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTJDQSxTQUFTQyxLQUFULENBQWVDLEVBQWYsRUFBbUI7QUFDZixRQUFJQyxlQUFlLEdBQUdDLEtBQUgsQ0FBU0MsS0FBVCxDQUFlQyxTQUFmLEVBQTBCLENBQUMsQ0FBRCxDQUExQixDQUFuQjtBQUNBLFFBQUlDLG1CQUFtQkwsR0FBR00sTUFBMUI7QUFDQSxhQUFTQyxPQUFULENBQWlCQyxJQUFqQixFQUF1QjtBQUNuQixZQUFJQSxLQUFLRixNQUFMLElBQWVELGdCQUFuQixFQUNJLE9BQU9MLEdBQUdHLEtBQUgsQ0FBUyxJQUFULEVBQWVLLElBQWYsQ0FBUDtBQUNKLGVBQU8sWUFBWTtBQUNmLG1CQUFPRCxRQUFRQyxLQUFLQyxNQUFMLENBQVksR0FBR1AsS0FBSCxDQUFTQyxLQUFULENBQWVDLFNBQWYsQ0FBWixDQUFSLENBQVA7QUFDSCxTQUZEO0FBR0g7QUFDRCxXQUFPRyxRQUFRTixZQUFSLENBQVA7QUFDSDtBQUNESixRQUFRRSxLQUFSLEdBQWdCQSxLQUFoQjtBQUNBOzs7Ozs7QUFNQSxTQUFTVyxPQUFULEdBQW1CO0FBQ2YsUUFBSUYsT0FBT0osU0FBWDtBQUNBLFFBQUlPLFFBQVFILEtBQUtGLE1BQUwsR0FBYyxDQUExQjtBQUNBLFdBQU8sWUFBWTtBQUNmLFlBQUlNLElBQUlELEtBQVI7QUFBQSxZQUFlRSxTQUFTTCxLQUFLRyxLQUFMLEVBQVlSLEtBQVosQ0FBa0IsSUFBbEIsRUFBd0JDLFNBQXhCLENBQXhCO0FBQ0EsZUFBT1EsR0FBUDtBQUNJQyxxQkFBU0wsS0FBS0ksQ0FBTCxFQUFRRSxJQUFSLENBQWEsSUFBYixFQUFtQkQsTUFBbkIsQ0FBVDtBQURKLFNBRUEsT0FBT0EsTUFBUDtBQUNILEtBTEQ7QUFNSDtBQUNEaEIsUUFBUWEsT0FBUixHQUFrQkEsT0FBbEI7QUFDQTs7Ozs7O0FBTUEsU0FBU0ssSUFBVCxHQUFnQjtBQUNaLFFBQUlDLFFBQVEsRUFBWjtBQUNBLFNBQUssSUFBSUMsS0FBSyxDQUFkLEVBQWlCQSxLQUFLYixVQUFVRSxNQUFoQyxFQUF3Q1csSUFBeEMsRUFBOEM7QUFDMUNELGNBQU1DLEVBQU4sSUFBWWIsVUFBVWEsRUFBVixDQUFaO0FBQ0g7QUFDRCxXQUFPUCxRQUFRUCxLQUFSLENBQWMsSUFBZCxFQUFvQixHQUFHRCxLQUFILENBQVNZLElBQVQsQ0FBY1YsU0FBZCxFQUF5QmMsT0FBekIsRUFBcEIsQ0FBUDtBQUNIO0FBQ0RyQixRQUFRa0IsSUFBUixHQUFlQSxJQUFmO0FBQ0E7Ozs7OztBQU1BbEIsUUFBUXNCLElBQVIsR0FBZSxVQUFVQyxJQUFWLEVBQWdCO0FBQzNCLFdBQU8sVUFBVUMsR0FBVixFQUFlO0FBQUUsZUFBT0EsT0FBT0EsSUFBSUQsSUFBSixDQUFkO0FBQTBCLEtBQWxEO0FBQ0gsQ0FGRDtBQUdBOzs7Ozs7O0FBT0F2QixRQUFReUIsTUFBUixHQUFpQnZCLE1BQU0sVUFBVXFCLElBQVYsRUFBZ0JHLEdBQWhCLEVBQXFCRixHQUFyQixFQUEwQjtBQUFFLFdBQU9BLE9BQU9BLElBQUlELElBQUosTUFBY0csR0FBNUI7QUFBa0MsQ0FBcEUsQ0FBakI7QUFDQTs7Ozs7Ozs7QUFRQTFCLFFBQVEyQixLQUFSLEdBQWdCLFVBQVVKLElBQVYsRUFBZ0I7QUFDNUIsV0FBT0wsS0FBS1osS0FBTCxDQUFXLElBQVgsRUFBaUJpQixLQUFLSyxLQUFMLENBQVcsR0FBWCxFQUFnQkMsR0FBaEIsQ0FBb0I3QixRQUFRc0IsSUFBNUIsQ0FBakIsQ0FBUDtBQUNILENBRkQ7QUFHQTs7OztBQUlBdEIsUUFBUThCLEdBQVIsR0FBYyxVQUFVM0IsRUFBVixFQUFjO0FBQ3hCLFdBQU8sWUFBWTtBQUNmLFlBQUlRLE9BQU8sRUFBWDtBQUNBLGFBQUssSUFBSVMsS0FBSyxDQUFkLEVBQWlCQSxLQUFLYixVQUFVRSxNQUFoQyxFQUF3Q1csSUFBeEMsRUFBOEM7QUFDMUNULGlCQUFLUyxFQUFMLElBQVdiLFVBQVVhLEVBQVYsQ0FBWDtBQUNIO0FBQ0QsZUFBTyxDQUFDakIsR0FBR0csS0FBSCxDQUFTLElBQVQsRUFBZUssSUFBZixDQUFSO0FBQ0gsS0FORDtBQU9ILENBUkQ7QUFTQTs7OztBQUlBLFNBQVNvQixHQUFULENBQWFDLEdBQWIsRUFBa0JDLEdBQWxCLEVBQXVCO0FBQ25CLFdBQU8sWUFBWTtBQUNmLFlBQUl0QixPQUFPLEVBQVg7QUFDQSxhQUFLLElBQUlTLEtBQUssQ0FBZCxFQUFpQkEsS0FBS2IsVUFBVUUsTUFBaEMsRUFBd0NXLElBQXhDLEVBQThDO0FBQzFDVCxpQkFBS1MsRUFBTCxJQUFXYixVQUFVYSxFQUFWLENBQVg7QUFDSDtBQUNELGVBQU9ZLElBQUkxQixLQUFKLENBQVUsSUFBVixFQUFnQkssSUFBaEIsS0FBeUJzQixJQUFJM0IsS0FBSixDQUFVLElBQVYsRUFBZ0JLLElBQWhCLENBQWhDO0FBQ0gsS0FORDtBQU9IO0FBQ0RYLFFBQVErQixHQUFSLEdBQWNBLEdBQWQ7QUFDQTs7OztBQUlBLFNBQVNHLEVBQVQsQ0FBWUYsR0FBWixFQUFpQkMsR0FBakIsRUFBc0I7QUFDbEIsV0FBTyxZQUFZO0FBQ2YsWUFBSXRCLE9BQU8sRUFBWDtBQUNBLGFBQUssSUFBSVMsS0FBSyxDQUFkLEVBQWlCQSxLQUFLYixVQUFVRSxNQUFoQyxFQUF3Q1csSUFBeEMsRUFBOEM7QUFDMUNULGlCQUFLUyxFQUFMLElBQVdiLFVBQVVhLEVBQVYsQ0FBWDtBQUNIO0FBQ0QsZUFBT1ksSUFBSTFCLEtBQUosQ0FBVSxJQUFWLEVBQWdCSyxJQUFoQixLQUF5QnNCLElBQUkzQixLQUFKLENBQVUsSUFBVixFQUFnQkssSUFBaEIsQ0FBaEM7QUFDSCxLQU5EO0FBT0g7QUFDRFgsUUFBUWtDLEVBQVIsR0FBYUEsRUFBYjtBQUNBOzs7Ozs7QUFNQWxDLFFBQVFtQyxHQUFSLEdBQWMsVUFBVUgsR0FBVixFQUFlO0FBQ3pCLFdBQU8sVUFBVUksR0FBVixFQUFlO0FBQUUsZUFBT0EsSUFBSUMsTUFBSixDQUFXLFVBQVVDLENBQVYsRUFBYUMsQ0FBYixFQUFnQjtBQUFFLG1CQUFPRCxLQUFLLENBQUMsQ0FBQ04sSUFBSU8sQ0FBSixDQUFkO0FBQXVCLFNBQXBELEVBQXNELElBQXRELENBQVA7QUFBcUUsS0FBN0Y7QUFDSCxDQUZEO0FBR0F2QyxRQUFRd0MsR0FBUixHQUFjLFVBQVVSLEdBQVYsRUFBZTtBQUN6QixXQUFPLFVBQVVJLEdBQVYsRUFBZTtBQUFFLGVBQU9BLElBQUlDLE1BQUosQ0FBVyxVQUFVQyxDQUFWLEVBQWFDLENBQWIsRUFBZ0I7QUFBRSxtQkFBT0QsS0FBSyxDQUFDLENBQUNOLElBQUlPLENBQUosQ0FBZDtBQUF1QixTQUFwRCxFQUFzRCxLQUF0RCxDQUFQO0FBQXNFLEtBQTlGO0FBQ0gsQ0FGRDtBQUdBO0FBQ0F2QyxRQUFReUMsRUFBUixHQUFhLFVBQVVDLElBQVYsRUFBZ0I7QUFDekIsV0FBTyxVQUFVbEIsR0FBVixFQUFlO0FBQ2xCLGVBQVFBLE9BQU8sSUFBUCxJQUFlQSxJQUFJbUIsV0FBSixLQUFvQkQsSUFBbkMsSUFBMkNsQixlQUFla0IsSUFBbEU7QUFDSCxLQUZEO0FBR0gsQ0FKRDtBQUtBO0FBQ0ExQyxRQUFRNEMsRUFBUixHQUFhLFVBQVVsQixHQUFWLEVBQWU7QUFBRSxXQUFPLFVBQVVtQixLQUFWLEVBQWlCO0FBQ2xELGVBQU9uQixRQUFRbUIsS0FBZjtBQUNILEtBRjZCO0FBRTFCLENBRko7QUFHQTtBQUNBN0MsUUFBUTBCLEdBQVIsR0FBYyxVQUFVb0IsQ0FBVixFQUFhO0FBQUUsV0FBTyxZQUFZO0FBQUUsZUFBT0EsQ0FBUDtBQUFXLEtBQWhDO0FBQW1DLENBQWhFO0FBQ0EsU0FBU0MsTUFBVCxDQUFnQkMsTUFBaEIsRUFBd0JyQyxJQUF4QixFQUE4QjtBQUMxQixXQUFPLFVBQVVhLEdBQVYsRUFBZTtBQUNsQixlQUFPQSxJQUFJd0IsTUFBSixFQUFZMUMsS0FBWixDQUFrQmtCLEdBQWxCLEVBQXVCYixJQUF2QixDQUFQO0FBQ0gsS0FGRDtBQUdIO0FBQ0RYLFFBQVErQyxNQUFSLEdBQWlCQSxNQUFqQjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBd0NBLFNBQVNFLE9BQVQsQ0FBaUJDLE1BQWpCLEVBQXlCO0FBQ3JCLFdBQU8sVUFBVVgsQ0FBVixFQUFhO0FBQ2hCLGFBQUssSUFBSXhCLElBQUksQ0FBYixFQUFnQkEsSUFBSW1DLE9BQU96QyxNQUEzQixFQUFtQ00sR0FBbkMsRUFBd0M7QUFDcEMsZ0JBQUltQyxPQUFPbkMsQ0FBUCxFQUFVLENBQVYsRUFBYXdCLENBQWIsQ0FBSixFQUNJLE9BQU9XLE9BQU9uQyxDQUFQLEVBQVUsQ0FBVixFQUFhd0IsQ0FBYixDQUFQO0FBQ1A7QUFDSixLQUxEO0FBTUg7QUFDRHZDLFFBQVFpRCxPQUFSLEdBQWtCQSxPQUFsQjtBQUNBIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogSGlnaGVyIG9yZGVyIGZ1bmN0aW9uc1xuICpcbiAqIFRoZXNlIHV0aWxpdHkgZnVuY3Rpb25zIGFyZSBleHBvcnRlZCwgYnV0IGFyZSBzdWJqZWN0IHRvIGNoYW5nZSB3aXRob3V0IG5vdGljZS5cbiAqXG4gKiBAbW9kdWxlIGNvbW1vbl9ob2ZcbiAqLyAvKiogKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogUmV0dXJucyBhIG5ldyBmdW5jdGlvbiBmb3IgW1BhcnRpYWwgQXBwbGljYXRpb25dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1BhcnRpYWxfYXBwbGljYXRpb24pIG9mIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cbiAqXG4gKiBHaXZlbiBhIGZ1bmN0aW9uIHdpdGggTiBwYXJhbWV0ZXJzLCByZXR1cm5zIGEgbmV3IGZ1bmN0aW9uIHRoYXQgc3VwcG9ydHMgcGFydGlhbCBhcHBsaWNhdGlvbi5cbiAqIFRoZSBuZXcgZnVuY3Rpb24gYWNjZXB0cyBhbnl3aGVyZSBmcm9tIDEgdG8gTiBwYXJhbWV0ZXJzLiAgV2hlbiB0aGF0IGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIE0gcGFyYW1ldGVycyxcbiAqIHdoZXJlIE0gaXMgbGVzcyB0aGFuIE4sIGl0IHJldHVybnMgYSBuZXcgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoZSByZW1haW5pbmcgcGFyYW1ldGVycy4gIEl0IGNvbnRpbnVlcyB0b1xuICogYWNjZXB0IG1vcmUgcGFyYW1ldGVycyB1bnRpbCBhbGwgTiBwYXJhbWV0ZXJzIGhhdmUgYmVlbiBzdXBwbGllZC5cbiAqXG4gKlxuICogVGhpcyBjb250cml2ZWQgZXhhbXBsZSB1c2VzIGEgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24gYXMgYW4gcHJlZGljYXRlLCB3aGljaCByZXR1cm5zIHRydWVcbiAqIGlmIGFuIG9iamVjdCBpcyBmb3VuZCBpbiBib3RoIGFycmF5cy5cbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqIC8vIHJldHVybnMgdHJ1ZSBpZiBhbiBvYmplY3QgaXMgaW4gYm90aCBvZiB0aGUgdHdvIGFycmF5c1xuICogZnVuY3Rpb24gaW5Cb3RoKGFycmF5MSwgYXJyYXkyLCBvYmplY3QpIHtcbiAqICAgcmV0dXJuIGFycmF5MS5pbmRleE9mKG9iamVjdCkgIT09IC0xICYmXG4gKiAgICAgICAgICBhcnJheTIuaW5kZXhPZihvYmplY3QpICE9PSAxO1xuICogfVxuICogbGV0IG9iajEsIG9iajIsIG9iajMsIG9iajQsIG9iajUsIG9iajYsIG9iajdcbiAqIGxldCBmb29zID0gW29iajEsIG9iajNdXG4gKiBsZXQgYmFycyA9IFtvYmozLCBvYmo0LCBvYmo1XVxuICpcbiAqIC8vIEEgY3VycmllZCBcImNvcHlcIiBvZiBpbkJvdGhcbiAqIGxldCBjdXJyaWVkSW5Cb3RoID0gY3VycnkoaW5Cb3RoKTtcbiAqIC8vIFBhcnRpYWxseSBhcHBseSBib3RoIHRoZSBhcnJheTEgYW5kIGFycmF5MlxuICogbGV0IGluRm9vc0FuZEJhcnMgPSBjdXJyaWVkSW5Cb3RoKGZvb3MsIGJhcnMpO1xuICpcbiAqIC8vIFN1cHBseSB0aGUgZmluYWwgYXJndW1lbnQ7IHNpbmNlIGFsbCBhcmd1bWVudHMgYXJlXG4gKiAvLyBzdXBwbGllZCwgdGhlIG9yaWdpbmFsIGluQm90aCBmdW5jdGlvbiBpcyB0aGVuIGNhbGxlZC5cbiAqIGxldCBvYmoxSW5Cb3RoID0gaW5Gb29zQW5kQmFycyhvYmoxKTsgLy8gZmFsc2VcbiAqXG4gKiAvLyBVc2UgdGhlIGluRm9vc0FuZEJhcnMgYXMgYSBwcmVkaWNhdGUuXG4gKiAvLyBGaWx0ZXIsIG9uIGVhY2ggaXRlcmF0aW9uLCBzdXBwbGllcyB0aGUgZmluYWwgYXJndW1lbnRcbiAqIGxldCBhbGxPYmpzID0gWyBvYmoxLCBvYmoyLCBvYmozLCBvYmo0LCBvYmo1LCBvYmo2LCBvYmo3IF07XG4gKiBsZXQgZm91bmRJbkJvdGggPSBhbGxPYmpzLmZpbHRlcihpbkZvb3NBbmRCYXJzKTsgLy8gWyBvYmozIF1cbiAqXG4gKiBgYGBcbiAqXG4gKiBTdG9sZW4gZnJvbTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80Mzk0NzQ3L2phdmFzY3JpcHQtY3VycnktZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0gZm5cbiAqIEByZXR1cm5zIHsqfGZ1bmN0aW9uKCk6ICgqfGFueSl9XG4gKi9cbmZ1bmN0aW9uIGN1cnJ5KGZuKSB7XG4gICAgdmFyIGluaXRpYWxfYXJncyA9IFtdLnNsaWNlLmFwcGx5KGFyZ3VtZW50cywgWzFdKTtcbiAgICB2YXIgZnVuY19hcmdzX2xlbmd0aCA9IGZuLmxlbmd0aDtcbiAgICBmdW5jdGlvbiBjdXJyaWVkKGFyZ3MpIHtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID49IGZ1bmNfYXJnc19sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmllZChhcmdzLmNvbmNhdChbXS5zbGljZS5hcHBseShhcmd1bWVudHMpKSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBjdXJyaWVkKGluaXRpYWxfYXJncyk7XG59XG5leHBvcnRzLmN1cnJ5ID0gY3Vycnk7XG4vKipcbiAqIEdpdmVuIGEgdmFyYXJncyBsaXN0IG9mIGZ1bmN0aW9ucywgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY29tcG9zZXMgdGhlIGFyZ3VtZW50IGZ1bmN0aW9ucywgcmlnaHQtdG8tbGVmdFxuICogZ2l2ZW46IGYoeCksIGcoeCksIGgoeClcbiAqIGxldCBjb21wb3NlZCA9IGNvbXBvc2UoZixnLGgpXG4gKiB0aGVuLCBjb21wb3NlZCBpczogZihnKGgoeCkpKVxuICovXG5mdW5jdGlvbiBjb21wb3NlKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBzdGFydCA9IGFyZ3MubGVuZ3RoIC0gMTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaSA9IHN0YXJ0LCByZXN1bHQgPSBhcmdzW3N0YXJ0XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAgcmVzdWx0ID0gYXJnc1tpXS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbmV4cG9ydHMuY29tcG9zZSA9IGNvbXBvc2U7XG4vKipcbiAqIEdpdmVuIGEgdmFyYXJncyBsaXN0IG9mIGZ1bmN0aW9ucywgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgaXMgY29tcG9zZXMgdGhlIGFyZ3VtZW50IGZ1bmN0aW9ucywgbGVmdC10by1yaWdodFxuICogZ2l2ZW46IGYoeCksIGcoeCksIGgoeClcbiAqIGxldCBwaXBlZCA9IHBpcGUoZixnLGgpO1xuICogdGhlbiwgcGlwZWQgaXM6IGgoZyhmKHgpKSlcbiAqL1xuZnVuY3Rpb24gcGlwZSgpIHtcbiAgICB2YXIgZnVuY3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBmdW5jc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9zZS5hcHBseShudWxsLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykucmV2ZXJzZSgpKTtcbn1cbmV4cG9ydHMucGlwZSA9IHBpcGU7XG4vKipcbiAqIEdpdmVuIGEgcHJvcGVydHkgbmFtZSwgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGF0IHByb3BlcnR5IGZyb20gYW4gb2JqZWN0XG4gKiBsZXQgb2JqID0geyBmb286IDEsIG5hbWU6IFwiYmxhcmdcIiB9O1xuICogbGV0IGdldE5hbWUgPSBwcm9wKFwibmFtZVwiKTtcbiAqIGdldE5hbWUob2JqKSA9PT0gXCJibGFyZ1wiXG4gKi9cbmV4cG9ydHMucHJvcCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmpbbmFtZV07IH07XG59O1xuLyoqXG4gKiBHaXZlbiBhIHByb3BlcnR5IG5hbWUgYW5kIGEgdmFsdWUsIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBib29sZWFuIGJhc2VkIG9uIHdoZXRoZXJcbiAqIHRoZSBwYXNzZWQgb2JqZWN0IGhhcyBhIHByb3BlcnR5IHRoYXQgbWF0Y2hlcyB0aGUgdmFsdWVcbiAqIGxldCBvYmogPSB7IGZvbzogMSwgbmFtZTogXCJibGFyZ1wiIH07XG4gKiBsZXQgZ2V0TmFtZSA9IHByb3BFcShcIm5hbWVcIiwgXCJibGFyZ1wiKTtcbiAqIGdldE5hbWUob2JqKSA9PT0gdHJ1ZVxuICovXG5leHBvcnRzLnByb3BFcSA9IGN1cnJ5KGZ1bmN0aW9uIChuYW1lLCB2YWwsIG9iaikgeyByZXR1cm4gb2JqICYmIG9ialtuYW1lXSA9PT0gdmFsOyB9KTtcbi8qKlxuICogR2l2ZW4gYSBkb3R0ZWQgcHJvcGVydHkgbmFtZSwgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIG5lc3RlZCBwcm9wZXJ0eSBmcm9tIGFuIG9iamVjdCwgb3IgdW5kZWZpbmVkXG4gKiBsZXQgb2JqID0geyBpZDogMSwgbmVzdGVkT2JqOiB7IGZvbzogMSwgbmFtZTogXCJibGFyZ1wiIH0sIH07XG4gKiBsZXQgZ2V0TmFtZSA9IHByb3AoXCJuZXN0ZWRPYmoubmFtZVwiKTtcbiAqIGdldE5hbWUob2JqKSA9PT0gXCJibGFyZ1wiXG4gKiBsZXQgcHJvcE5vdEZvdW5kID0gcHJvcChcInRoaXMucHJvcGVydHkuZG9lc250LmV4aXN0XCIpO1xuICogcHJvcE5vdEZvdW5kKG9iaikgPT09IHVuZGVmaW5lZFxuICovXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gcGlwZS5hcHBseShudWxsLCBuYW1lLnNwbGl0KFwiLlwiKS5tYXAoZXhwb3J0cy5wcm9wKSk7XG59O1xuLyoqXG4gKiBHaXZlbiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHRydXRoeSBvciBmYWxzZXkgdmFsdWUsIHJldHVybnMgYVxuICogZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBvcHBvc2l0ZSAoZmFsc2V5IG9yIHRydXRoeSkgdmFsdWUgZ2l2ZW4gdGhlIHNhbWUgaW5wdXRzXG4gKi9cbmV4cG9ydHMubm90ID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIWZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH07XG59O1xuLyoqXG4gKiBHaXZlbiB0d28gZnVuY3Rpb25zIHRoYXQgcmV0dXJuIHRydXRoeSBvciBmYWxzZXkgdmFsdWVzLCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRydXRoeVxuICogaWYgYm90aCBmdW5jdGlvbnMgcmV0dXJuIHRydXRoeSBmb3IgdGhlIGdpdmVuIGFyZ3VtZW50c1xuICovXG5mdW5jdGlvbiBhbmQoZm4xLCBmbjIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbjEuYXBwbHkobnVsbCwgYXJncykgJiYgZm4yLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH07XG59XG5leHBvcnRzLmFuZCA9IGFuZDtcbi8qKlxuICogR2l2ZW4gdHdvIGZ1bmN0aW9ucyB0aGF0IHJldHVybiB0cnV0aHkgb3IgZmFsc2V5IHZhbHVlcywgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnV0aHlcbiAqIGlmIGF0IGxlYXN0IG9uZSBvZiB0aGUgZnVuY3Rpb25zIHJldHVybnMgdHJ1dGh5IGZvciB0aGUgZ2l2ZW4gYXJndW1lbnRzXG4gKi9cbmZ1bmN0aW9uIG9yKGZuMSwgZm4yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4xLmFwcGx5KG51bGwsIGFyZ3MpIHx8IGZuMi5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9O1xufVxuZXhwb3J0cy5vciA9IG9yO1xuLyoqXG4gKiBDaGVjayBpZiBhbGwgdGhlIGVsZW1lbnRzIG9mIGFuIGFycmF5IG1hdGNoIGEgcHJlZGljYXRlIGZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIGZuMSBhIHByZWRpY2F0ZSBmdW5jdGlvbiBgZm4xYFxuICogQHJldHVybnMgYSBmdW5jdGlvbiB3aGljaCB0YWtlcyBhbiBhcnJheSBhbmQgcmV0dXJucyB0cnVlIGlmIGBmbjFgIGlzIHRydWUgZm9yIGFsbCBlbGVtZW50cyBvZiB0aGUgYXJyYXlcbiAqL1xuZXhwb3J0cy5hbGwgPSBmdW5jdGlvbiAoZm4xKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcnIpIHsgcmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24gKGIsIHgpIHsgcmV0dXJuIGIgJiYgISFmbjEoeCk7IH0sIHRydWUpOyB9O1xufTtcbmV4cG9ydHMuYW55ID0gZnVuY3Rpb24gKGZuMSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYXJyKSB7IHJldHVybiBhcnIucmVkdWNlKGZ1bmN0aW9uIChiLCB4KSB7IHJldHVybiBiIHx8ICEhZm4xKHgpOyB9LCBmYWxzZSk7IH07XG59O1xuLyoqIEdpdmVuIGEgY2xhc3MsIHJldHVybnMgYSBQcmVkaWNhdGUgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBpcyBvZiB0aGF0IGNsYXNzICovXG5leHBvcnRzLmlzID0gZnVuY3Rpb24gKGN0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gKG9iaiAhPSBudWxsICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gY3RvciB8fCBvYmogaW5zdGFuY2VvZiBjdG9yKTtcbiAgICB9O1xufTtcbi8qKiBHaXZlbiBhIHZhbHVlLCByZXR1cm5zIGEgUHJlZGljYXRlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGFub3RoZXIgdmFsdWUgaXMgPT09IGVxdWFsIHRvIHRoZSBvcmlnaW5hbCB2YWx1ZSAqL1xuZXhwb3J0cy5lcSA9IGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB2YWwgPT09IG90aGVyO1xufTsgfTtcbi8qKiBHaXZlbiBhIHZhbHVlLCByZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyB0aGUgdmFsdWUgKi9cbmV4cG9ydHMudmFsID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHY7IH07IH07XG5mdW5jdGlvbiBpbnZva2UoZm5OYW1lLCBhcmdzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9ialtmbk5hbWVdLmFwcGx5KG9iaiwgYXJncyk7XG4gICAgfTtcbn1cbmV4cG9ydHMuaW52b2tlID0gaW52b2tlO1xuLyoqXG4gKiBTb3J0YSBsaWtlIFBhdHRlcm4gTWF0Y2hpbmcgKGEgZnVuY3Rpb25hbCBwcm9ncmFtbWluZyBjb25kaXRpb25hbCBjb25zdHJ1Y3QpXG4gKlxuICogU2VlIGh0dHA6Ly9jMi5jb20vY2dpL3dpa2k/UGF0dGVybk1hdGNoaW5nXG4gKlxuICogVGhpcyBpcyBhIGNvbmRpdGlvbmFsIGNvbnN0cnVjdCB3aGljaCBhbGxvd3MgYSBzZXJpZXMgb2YgcHJlZGljYXRlcyBhbmQgb3V0cHV0IGZ1bmN0aW9uc1xuICogdG8gYmUgY2hlY2tlZCBhbmQgdGhlbiBhcHBsaWVkLiAgRWFjaCBwcmVkaWNhdGUgcmVjZWl2ZXMgdGhlIGlucHV0LiAgSWYgdGhlIHByZWRpY2F0ZVxuICogcmV0dXJucyB0cnV0aHksIHRoZW4gaXRzIG1hdGNoaW5nIG91dHB1dCBmdW5jdGlvbiAobWFwcGluZyBmdW5jdGlvbikgaXMgcHJvdmlkZWQgd2l0aFxuICogdGhlIGlucHV0IGFuZCwgdGhlbiB0aGUgcmVzdWx0IGlzIHJldHVybmVkLlxuICpcbiAqIEVhY2ggY29tYmluYXRpb24gKDItdHVwbGUpIG9mIHByZWRpY2F0ZSArIG91dHB1dCBmdW5jdGlvbiBzaG91bGQgYmUgcGxhY2VkIGluIGFuIGFycmF5XG4gKiBvZiBzaXplIDI6IFsgcHJlZGljYXRlLCBtYXBGbiBdXG4gKlxuICogVGhlc2UgMi10dXBsZXMgc2hvdWxkIGJlIHB1dCBpbiBhbiBvdXRlciBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKlxuICogLy8gSGVyZSdzIGEgMi10dXBsZSB3aGVyZSB0aGUgZmlyc3QgZWxlbWVudCBpcyB0aGUgaXNTdHJpbmcgcHJlZGljYXRlXG4gKiAvLyBhbmQgdGhlIHNlY29uZCBlbGVtZW50IGlzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgZGVzY3JpcHRpb24gb2YgdGhlIGlucHV0XG4gKiBsZXQgZmlyc3RUdXBsZSA9IFsgYW5ndWxhci5pc1N0cmluZywgKGlucHV0KSA9PiBgSGVyZXMgeW91ciBzdHJpbmcgJHtpbnB1dH1gIF07XG4gKlxuICogLy8gU2Vjb25kIHR1cGxlOiBwcmVkaWNhdGUgXCJpc051bWJlclwiLCBtYXBmbiByZXR1cm5zIGEgZGVzY3JpcHRpb25cbiAqIGxldCBzZWNvbmRUdXBsZSA9IFsgYW5ndWxhci5pc051bWJlciwgKGlucHV0KSA9PiBgKCR7aW5wdXR9KSBUaGF0J3MgYSBudW1iZXIhYCBdO1xuICpcbiAqIGxldCB0aGlyZCA9IFsgKGlucHV0KSA9PiBpbnB1dCA9PT0gbnVsbCwgIChpbnB1dCkgPT4gYE9oLCBudWxsLi4uYCBdO1xuICpcbiAqIGxldCBmb3VydGggPSBbIChpbnB1dCkgPT4gaW5wdXQgPT09IHVuZGVmaW5lZCwgIChpbnB1dCkgPT4gYG5vdGRlZmluZWRgIF07XG4gKlxuICogbGV0IGRlc2NyaXB0aW9uT2YgPSBwYXR0ZXJuKFsgZmlyc3RUdXBsZSwgc2Vjb25kVHVwbGUsIHRoaXJkLCBmb3VydGggXSk7XG4gKlxuICogY29uc29sZS5sb2coZGVzY3JpcHRpb25PZih1bmRlZmluZWQpKTsgLy8gJ25vdGRlZmluZWQnXG4gKiBjb25zb2xlLmxvZyhkZXNjcmlwdGlvbk9mKDU1KSk7IC8vICcoNTUpIFRoYXQncyBhIG51bWJlciEnXG4gKiBjb25zb2xlLmxvZyhkZXNjcmlwdGlvbk9mKFwiZm9vXCIpKTsgLy8gJ0hlcmUncyB5b3VyIHN0cmluZyBmb28nXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3RydWN0IEEgMkQgYXJyYXkuICBFYWNoIGVsZW1lbnQgb2YgdGhlIGFycmF5IHNob3VsZCBiZSBhbiBhcnJheSwgYSAyLXR1cGxlLFxuICogd2l0aCBhIFByZWRpY2F0ZSBhbmQgYSBtYXBwaW5nL291dHB1dCBmdW5jdGlvblxuICogQHJldHVybnMge2Z1bmN0aW9uKGFueSk6ICp9XG4gKi9cbmZ1bmN0aW9uIHBhdHRlcm4oc3RydWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RydWN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc3RydWN0W2ldWzBdKHgpKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJ1Y3RbaV1bMV0oeCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZXhwb3J0cy5wYXR0ZXJuID0gcGF0dGVybjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvZi5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2NvbW1vbi9ob2YuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.notImplemented = function (fnname) {\n    return function () {\n        throw new Error(fnname + "(): No coreservices implementation for UI-Router is loaded.");\n    };\n};\nvar services = {\n    $q: undefined,\n    $injector: undefined\n};\nexports.services = services;\n//# sourceMappingURL=coreservices.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2NvbW1vbi9jb3Jlc2VydmljZXMuanM/MmQyMyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIm5vdEltcGxlbWVudGVkIiwiZm5uYW1lIiwiRXJyb3IiLCJzZXJ2aWNlcyIsIiRxIiwidW5kZWZpbmVkIiwiJGluamVjdG9yIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0FELFFBQVFFLGNBQVIsR0FBeUIsVUFBVUMsTUFBVixFQUFrQjtBQUFFLFdBQU8sWUFBWTtBQUM1RCxjQUFNLElBQUlDLEtBQUosQ0FBVUQsU0FBUyw2REFBbkIsQ0FBTjtBQUNILEtBRjRDO0FBRXpDLENBRko7QUFHQSxJQUFJRSxXQUFXO0FBQ1hDLFFBQUlDLFNBRE87QUFFWEMsZUFBV0Q7QUFGQSxDQUFmO0FBSUFQLFFBQVFLLFFBQVIsR0FBbUJBLFFBQW5CO0FBQ0EiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ub3RJbXBsZW1lbnRlZCA9IGZ1bmN0aW9uIChmbm5hbWUpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZm5uYW1lICsgXCIoKTogTm8gY29yZXNlcnZpY2VzIGltcGxlbWVudGF0aW9uIGZvciBVSS1Sb3V0ZXIgaXMgbG9hZGVkLlwiKTtcbn07IH07XG52YXIgc2VydmljZXMgPSB7XG4gICAgJHE6IHVuZGVmaW5lZCxcbiAgICAkaW5qZWN0b3I6IHVuZGVmaW5lZCxcbn07XG5leHBvcnRzLnNlcnZpY2VzID0gc2VydmljZXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3Jlc2VydmljZXMuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi9jb21tb24vY29yZXNlcnZpY2VzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * @coreapi\n * @module common\n */ /** */\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\nObject.defineProperty(exports, "__esModule", { value: true });\n__export(__webpack_require__(15));\n__export(__webpack_require__(60));\n__export(__webpack_require__(61));\n__export(__webpack_require__(62));\n__export(__webpack_require__(63));\n__export(__webpack_require__(73));\n__export(__webpack_require__(74));\n__export(__webpack_require__(75));\n__export(__webpack_require__(44));\n__export(__webpack_require__(39));\n__export(__webpack_require__(76));\n__export(__webpack_require__(79));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2luZGV4LmpzP2EwZmYiXSwibmFtZXMiOlsiX19leHBvcnQiLCJtIiwicCIsImV4cG9ydHMiLCJoYXNPd25Qcm9wZXJ0eSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJyZXF1aXJlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7SUFHSTs7QUFDSixTQUFTQSxRQUFULENBQWtCQyxDQUFsQixFQUFxQjtBQUNqQixPQUFLLElBQUlDLENBQVQsSUFBY0QsQ0FBZDtBQUFpQixRQUFJLENBQUNFLFFBQVFDLGNBQVIsQ0FBdUJGLENBQXZCLENBQUwsRUFBZ0NDLFFBQVFELENBQVIsSUFBYUQsRUFBRUMsQ0FBRixDQUFiO0FBQWpEO0FBQ0g7QUFDREcsT0FBT0MsY0FBUCxDQUFzQkgsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUksT0FBTyxJQUFULEVBQTdDO0FBQ0FQLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0EiLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAY29yZWFwaVxuICogQG1vZHVsZSBjb21tb25cbiAqLyAvKiogKi9cbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb21tb24vaW5kZXhcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcGFyYW1zL2luZGV4XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3BhdGgvaW5kZXhcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcmVzb2x2ZS9pbmRleFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zdGF0ZS9pbmRleFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90cmFuc2l0aW9uL2luZGV4XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3VybC9pbmRleFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi92aWV3L2luZGV4XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2dsb2JhbHNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcm91dGVyXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3ZhbmlsbGFcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaW50ZXJmYWNlXCIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n')},function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * Functions that manipulate strings\n *\n * Although these functions are exported, they are subject to change without notice.\n *\n * @module common_strings\n */ /** */\n\nObject.defineProperty(exports, "__esModule", { value: true });\nvar predicates_1 = __webpack_require__(1);\nvar rejectFactory_1 = __webpack_require__(11);\nvar common_1 = __webpack_require__(0);\nvar hof_1 = __webpack_require__(2);\nvar transition_1 = __webpack_require__(17);\nvar resolvable_1 = __webpack_require__(13);\n/**\n * Returns a string shortened to a maximum length\n *\n * If the string is already less than the `max` length, return the string.\n * Else return the string, shortened to `max - 3` and append three dots ("...").\n *\n * @param max the maximum length of the string to return\n * @param str the input string\n */\nfunction maxLength(max, str) {\n    if (str.length <= max) return str;\n    return str.substr(0, max - 3) + "...";\n}\nexports.maxLength = maxLength;\n/**\n * Returns a string, with spaces added to the end, up to a desired str length\n *\n * If the string is already longer than the desired length, return the string.\n * Else returns the string, with extra spaces on the end, such that it reaches `length` characters.\n *\n * @param length the desired length of the string to return\n * @param str the input string\n */\nfunction padString(length, str) {\n    while (str.length < length) {\n        str += " ";\n    }return str;\n}\nexports.padString = padString;\nfunction kebobString(camelCase) {\n    return camelCase.replace(/^([A-Z])/, function ($1) {\n        return $1.toLowerCase();\n    }) // replace first char\n    .replace(/([A-Z])/g, function ($1) {\n        return "-" + $1.toLowerCase();\n    }); // replace rest\n}\nexports.kebobString = kebobString;\nfunction _toJson(obj) {\n    return JSON.stringify(obj);\n}\nfunction _fromJson(json) {\n    return predicates_1.isString(json) ? JSON.parse(json) : json;\n}\nfunction promiseToString(p) {\n    return "Promise(" + JSON.stringify(p) + ")";\n}\nfunction functionToString(fn) {\n    var fnStr = fnToString(fn);\n    var namedFunctionMatch = fnStr.match(/^(function [^ ]+\\([^)]*\\))/);\n    var toStr = namedFunctionMatch ? namedFunctionMatch[1] : fnStr;\n    var fnName = fn[\'name\'] || "";\n    if (fnName && toStr.match(/function \\(/)) {\n        return \'function \' + fnName + toStr.substr(9);\n    }\n    return toStr;\n}\nexports.functionToString = functionToString;\nfunction fnToString(fn) {\n    var _fn = predicates_1.isArray(fn) ? fn.slice(-1)[0] : fn;\n    return _fn && _fn.toString() || "undefined";\n}\nexports.fnToString = fnToString;\nvar stringifyPatternFn = null;\nvar stringifyPattern = function stringifyPattern(value) {\n    var isRejection = rejectFactory_1.Rejection.isRejectionPromise;\n    stringifyPatternFn = stringifyPatternFn || hof_1.pattern([[hof_1.not(predicates_1.isDefined), hof_1.val("undefined")], [predicates_1.isNull, hof_1.val("null")], [predicates_1.isPromise, hof_1.val("[Promise]")], [isRejection, function (x) {\n        return x._transitionRejection.toString();\n    }], [hof_1.is(rejectFactory_1.Rejection), hof_1.invoke("toString")], [hof_1.is(transition_1.Transition), hof_1.invoke("toString")], [hof_1.is(resolvable_1.Resolvable), hof_1.invoke("toString")], [predicates_1.isInjectable, functionToString], [hof_1.val(true), common_1.identity]]);\n    return stringifyPatternFn(value);\n};\nfunction stringify(o) {\n    var seen = [];\n    function format(val) {\n        if (predicates_1.isObject(val)) {\n            if (seen.indexOf(val) !== -1) return \'[circular ref]\';\n            seen.push(val);\n        }\n        return stringifyPattern(val);\n    }\n    return JSON.stringify(o, function (key, val) {\n        return format(val);\n    }).replace(/\\\\"/g, \'"\');\n}\nexports.stringify = stringify;\n/** Returns a function that splits a string on a character or substring */\nexports.beforeAfterSubstr = function (char) {\n    return function (str) {\n        if (!str) return ["", ""];\n        var idx = str.indexOf(char);\n        if (idx === -1) return [str, ""];\n        return [str.substr(0, idx), str.substr(idx + 1)];\n    };\n};\n/**\n * Splits on a delimiter, but returns the delimiters in the array\n *\n * #### Example:\n * ```js\n * var splitOnSlashes = splitOnDelim(\'/\');\n * splitOnSlashes("/foo"); // ["/", "foo"]\n * splitOnSlashes("/foo/"); // ["/", "foo", "/"]\n * ```\n */\nfunction splitOnDelim(delim) {\n    var re = new RegExp("(" + delim + ")", "g");\n    return function (str) {\n        return str.split(re).filter(common_1.identity);\n    };\n}\nexports.splitOnDelim = splitOnDelim;\n;\n/**\n * Reduce fn that joins neighboring strings\n *\n * Given an array of strings, returns a new array\n * where all neighboring strings have been joined.\n *\n * #### Example:\n * ```js\n * let arr = ["foo", "bar", 1, "baz", "", "qux" ];\n * arr.reduce(joinNeighborsR, []) // ["foobar", 1, "bazqux" ]\n * ```\n */\nfunction joinNeighborsR(acc, x) {\n    if (predicates_1.isString(common_1.tail(acc)) && predicates_1.isString(x)) return acc.slice(0, -1).concat(common_1.tail(acc) + x);\n    return common_1.pushR(acc, x);\n}\nexports.joinNeighborsR = joinNeighborsR;\n;\n//# sourceMappingURL=strings.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2NvbW1vbi9zdHJpbmdzLmpzPzdjMzMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJwcmVkaWNhdGVzXzEiLCJyZXF1aXJlIiwicmVqZWN0RmFjdG9yeV8xIiwiY29tbW9uXzEiLCJob2ZfMSIsInRyYW5zaXRpb25fMSIsInJlc29sdmFibGVfMSIsIm1heExlbmd0aCIsIm1heCIsInN0ciIsImxlbmd0aCIsInN1YnN0ciIsInBhZFN0cmluZyIsImtlYm9iU3RyaW5nIiwiY2FtZWxDYXNlIiwicmVwbGFjZSIsIiQxIiwidG9Mb3dlckNhc2UiLCJfdG9Kc29uIiwib2JqIiwiSlNPTiIsInN0cmluZ2lmeSIsIl9mcm9tSnNvbiIsImpzb24iLCJpc1N0cmluZyIsInBhcnNlIiwicHJvbWlzZVRvU3RyaW5nIiwicCIsImZ1bmN0aW9uVG9TdHJpbmciLCJmbiIsImZuU3RyIiwiZm5Ub1N0cmluZyIsIm5hbWVkRnVuY3Rpb25NYXRjaCIsIm1hdGNoIiwidG9TdHIiLCJmbk5hbWUiLCJfZm4iLCJpc0FycmF5Iiwic2xpY2UiLCJ0b1N0cmluZyIsInN0cmluZ2lmeVBhdHRlcm5GbiIsInN0cmluZ2lmeVBhdHRlcm4iLCJpc1JlamVjdGlvbiIsIlJlamVjdGlvbiIsImlzUmVqZWN0aW9uUHJvbWlzZSIsInBhdHRlcm4iLCJub3QiLCJpc0RlZmluZWQiLCJ2YWwiLCJpc051bGwiLCJpc1Byb21pc2UiLCJ4IiwiX3RyYW5zaXRpb25SZWplY3Rpb24iLCJpcyIsImludm9rZSIsIlRyYW5zaXRpb24iLCJSZXNvbHZhYmxlIiwiaXNJbmplY3RhYmxlIiwiaWRlbnRpdHkiLCJvIiwic2VlbiIsImZvcm1hdCIsImlzT2JqZWN0IiwiaW5kZXhPZiIsInB1c2giLCJrZXkiLCJiZWZvcmVBZnRlclN1YnN0ciIsImNoYXIiLCJpZHgiLCJzcGxpdE9uRGVsaW0iLCJkZWxpbSIsInJlIiwiUmVnRXhwIiwic3BsaXQiLCJmaWx0ZXIiLCJqb2luTmVpZ2hib3JzUiIsImFjYyIsInRhaWwiLCJjb25jYXQiLCJwdXNoUiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7O0lBTUk7O0FBQ0pBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBLElBQUlDLGVBQWUsbUJBQUFDLENBQVEsQ0FBUixDQUFuQjtBQUNBLElBQUlDLGtCQUFrQixtQkFBQUQsQ0FBUSxFQUFSLENBQXRCO0FBQ0EsSUFBSUUsV0FBVyxtQkFBQUYsQ0FBUSxDQUFSLENBQWY7QUFDQSxJQUFJRyxRQUFRLG1CQUFBSCxDQUFRLENBQVIsQ0FBWjtBQUNBLElBQUlJLGVBQWUsbUJBQUFKLENBQVEsRUFBUixDQUFuQjtBQUNBLElBQUlLLGVBQWUsbUJBQUFMLENBQVEsRUFBUixDQUFuQjtBQUNBOzs7Ozs7Ozs7QUFTQSxTQUFTTSxTQUFULENBQW1CQyxHQUFuQixFQUF3QkMsR0FBeEIsRUFBNkI7QUFDekIsUUFBSUEsSUFBSUMsTUFBSixJQUFjRixHQUFsQixFQUNJLE9BQU9DLEdBQVA7QUFDSixXQUFPQSxJQUFJRSxNQUFKLENBQVcsQ0FBWCxFQUFjSCxNQUFNLENBQXBCLElBQXlCLEtBQWhDO0FBQ0g7QUFDRFYsUUFBUVMsU0FBUixHQUFvQkEsU0FBcEI7QUFDQTs7Ozs7Ozs7O0FBU0EsU0FBU0ssU0FBVCxDQUFtQkYsTUFBbkIsRUFBMkJELEdBQTNCLEVBQWdDO0FBQzVCLFdBQU9BLElBQUlDLE1BQUosR0FBYUEsTUFBcEI7QUFDSUQsZUFBTyxHQUFQO0FBREosS0FFQSxPQUFPQSxHQUFQO0FBQ0g7QUFDRFgsUUFBUWMsU0FBUixHQUFvQkEsU0FBcEI7QUFDQSxTQUFTQyxXQUFULENBQXFCQyxTQUFyQixFQUFnQztBQUM1QixXQUFPQSxVQUNGQyxPQURFLENBQ00sVUFETixFQUNrQixVQUFVQyxFQUFWLEVBQWM7QUFB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SSxPQUFPLENBQUMzRCxHQUFELEVBQU0sRUFBTixDQUFQO0FBQ0osZUFBTyxDQUFDQSxJQUFJRSxNQUFKLENBQVcsQ0FBWCxFQUFjeUQsR0FBZCxDQUFELEVBQXFCM0QsSUFBSUUsTUFBSixDQUFXeUQsTUFBTSxDQUFqQixDQUFyQixDQUFQO0FBQ0gsS0FQNkM7QUFPMUMsQ0FQSjtBQVFBOzs7Ozs7Ozs7O0FBVUEsU0FBU0MsWUFBVCxDQUFzQkMsS0FBdEIsRUFBNkI7QUFDekIsUUFBSUMsS0FBSyxJQUFJQyxNQUFKLENBQVcsTUFBTUYsS0FBTixHQUFjLEdBQXpCLEVBQThCLEdBQTlCLENBQVQ7QUFDQSxXQUFPLFVBQVU3RCxHQUFWLEVBQWU7QUFDbEIsZUFBT0EsSUFBSWdFLEtBQUosQ0FBVUYsRUFBVixFQUFjRyxNQUFkLENBQXFCdkUsU0FBU3VELFFBQTlCLENBQVA7QUFDSCxLQUZEO0FBR0g7QUFDRDVELFFBQVF1RSxZQUFSLEdBQXVCQSxZQUF2QjtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQVlBLFNBQVNNLGNBQVQsQ0FBd0JDLEdBQXhCLEVBQTZCekIsQ0FBN0IsRUFBZ0M7QUFDNUIsUUFBSW5ELGFBQWF3QixRQUFiLENBQXNCckIsU0FBUzBFLElBQVQsQ0FBY0QsR0FBZCxDQUF0QixLQUE2QzVFLGFBQWF3QixRQUFiLENBQXNCMkIsQ0FBdEIsQ0FBakQsRUFDSSxPQUFPeUIsSUFBSXRDLEtBQUosQ0FBVSxDQUFWLEVBQWEsQ0FBQyxDQUFkLEVBQWlCd0MsTUFBakIsQ0FBd0IzRSxTQUFTMEUsSUFBVCxDQUFjRCxHQUFkLElBQXFCekIsQ0FBN0MsQ0FBUDtBQUNKLFdBQU9oRCxTQUFTNEUsS0FBVCxDQUFlSCxHQUFmLEVBQW9CekIsQ0FBcEIsQ0FBUDtBQUNIO0FBQ0RyRCxRQUFRNkUsY0FBUixHQUF5QkEsY0FBekI7QUFDQTtBQUNBIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogRnVuY3Rpb25zIHRoYXQgbWFuaXB1bGF0ZSBzdHJpbmdzXG4gKlxuICogQWx0aG91Z2ggdGhlc2UgZnVuY3Rpb25zIGFyZSBleHBvcnRlZCwgdGhleSBhcmUgc3ViamVjdCB0byBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gKlxuICogQG1vZHVsZSBjb21tb25fc3RyaW5nc1xuICovIC8qKiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHByZWRpY2F0ZXNfMSA9IHJlcXVpcmUoXCIuL3ByZWRpY2F0ZXNcIik7XG52YXIgcmVqZWN0RmFjdG9yeV8xID0gcmVxdWlyZShcIi4uL3RyYW5zaXRpb24vcmVqZWN0RmFjdG9yeVwiKTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuL2NvbW1vblwiKTtcbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuL2hvZlwiKTtcbnZhciB0cmFuc2l0aW9uXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNpdGlvbi90cmFuc2l0aW9uXCIpO1xudmFyIHJlc29sdmFibGVfMSA9IHJlcXVpcmUoXCIuLi9yZXNvbHZlL3Jlc29sdmFibGVcIik7XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgc2hvcnRlbmVkIHRvIGEgbWF4aW11bSBsZW5ndGhcbiAqXG4gKiBJZiB0aGUgc3RyaW5nIGlzIGFscmVhZHkgbGVzcyB0aGFuIHRoZSBgbWF4YCBsZW5ndGgsIHJldHVybiB0aGUgc3RyaW5nLlxuICogRWxzZSByZXR1cm4gdGhlIHN0cmluZywgc2hvcnRlbmVkIHRvIGBtYXggLSAzYCBhbmQgYXBwZW5kIHRocmVlIGRvdHMgKFwiLi4uXCIpLlxuICpcbiAqIEBwYXJhbSBtYXggdGhlIG1heGltdW0gbGVuZ3RoIG9mIHRoZSBzdHJpbmcgdG8gcmV0dXJuXG4gKiBAcGFyYW0gc3RyIHRoZSBpbnB1dCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gbWF4TGVuZ3RoKG1heCwgc3RyKSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPD0gbWF4KVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIHJldHVybiBzdHIuc3Vic3RyKDAsIG1heCAtIDMpICsgXCIuLi5cIjtcbn1cbmV4cG9ydHMubWF4TGVuZ3RoID0gbWF4TGVuZ3RoO1xuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nLCB3aXRoIHNwYWNlcyBhZGRlZCB0byB0aGUgZW5kLCB1cCB0byBhIGRlc2lyZWQgc3RyIGxlbmd0aFxuICpcbiAqIElmIHRoZSBzdHJpbmcgaXMgYWxyZWFkeSBsb25nZXIgdGhhbiB0aGUgZGVzaXJlZCBsZW5ndGgsIHJldHVybiB0aGUgc3RyaW5nLlxuICogRWxzZSByZXR1cm5zIHRoZSBzdHJpbmcsIHdpdGggZXh0cmEgc3BhY2VzIG9uIHRoZSBlbmQsIHN1Y2ggdGhhdCBpdCByZWFjaGVzIGBsZW5ndGhgIGNoYXJhY3RlcnMuXG4gKlxuICogQHBhcmFtIGxlbmd0aCB0aGUgZGVzaXJlZCBsZW5ndGggb2YgdGhlIHN0cmluZyB0byByZXR1cm5cbiAqIEBwYXJhbSBzdHIgdGhlIGlucHV0IHN0cmluZ1xuICovXG5mdW5jdGlvbiBwYWRTdHJpbmcobGVuZ3RoLCBzdHIpIHtcbiAgICB3aGlsZSAoc3RyLmxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgc3RyICs9IFwiIFwiO1xuICAgIHJldHVybiBzdHI7XG59XG5leHBvcnRzLnBhZFN0cmluZyA9IHBhZFN0cmluZztcbmZ1bmN0aW9uIGtlYm9iU3RyaW5nKGNhbWVsQ2FzZSkge1xuICAgIHJldHVybiBjYW1lbENhc2VcbiAgICAgICAgLnJlcGxhY2UoL14oW0EtWl0pLywgZnVuY3Rpb24gKCQxKSB7IHJldHVybiAkMS50b0xvd2VyQ2FzZSgpOyB9KSAvLyByZXBsYWNlIGZpcnN0IGNoYXJcbiAgICAgICAgLnJlcGxhY2UoLyhbQS1aXSkvZywgZnVuY3Rpb24gKCQxKSB7IHJldHVybiBcIi1cIiArICQxLnRvTG93ZXJDYXNlKCk7IH0pOyAvLyByZXBsYWNlIHJlc3Rcbn1cbmV4cG9ydHMua2Vib2JTdHJpbmcgPSBrZWJvYlN0cmluZztcbmZ1bmN0aW9uIF90b0pzb24ob2JqKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaik7XG59XG5mdW5jdGlvbiBfZnJvbUpzb24oanNvbikge1xuICAgIHJldHVybiBwcmVkaWNhdGVzXzEuaXNTdHJpbmcoanNvbikgPyBKU09OLnBhcnNlKGpzb24pIDoganNvbjtcbn1cbmZ1bmN0aW9uIHByb21pc2VUb1N0cmluZyhwKSB7XG4gICAgcmV0dXJuIFwiUHJvbWlzZShcIiArIEpTT04uc3RyaW5naWZ5KHApICsgXCIpXCI7XG59XG5mdW5jdGlvbiBmdW5jdGlvblRvU3RyaW5nKGZuKSB7XG4gICAgdmFyIGZuU3RyID0gZm5Ub1N0cmluZyhmbik7XG4gICAgdmFyIG5hbWVkRnVuY3Rpb25NYXRjaCA9IGZuU3RyLm1hdGNoKC9eKGZ1bmN0aW9uIFteIF0rXFwoW14pXSpcXCkpLyk7XG4gICAgdmFyIHRvU3RyID0gbmFtZWRGdW5jdGlvbk1hdGNoID8gbmFtZWRGdW5jdGlvbk1hdGNoWzFdIDogZm5TdHI7XG4gICAgdmFyIGZuTmFtZSA9IGZuWyduYW1lJ10gfHwgXCJcIjtcbiAgICBpZiAoZm5OYW1lICYmIHRvU3RyLm1hdGNoKC9mdW5jdGlvbiBcXCgvKSkge1xuICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uICcgKyBmbk5hbWUgKyB0b1N0ci5zdWJzdHIoOSk7XG4gICAgfVxuICAgIHJldHVybiB0b1N0cjtcbn1cbmV4cG9ydHMuZnVuY3Rpb25Ub1N0cmluZyA9IGZ1bmN0aW9uVG9TdHJpbmc7XG5mdW5jdGlvbiBmblRvU3RyaW5nKGZuKSB7XG4gICAgdmFyIF9mbiA9IHByZWRpY2F0ZXNfMS5pc0FycmF5KGZuKSA/IGZuLnNsaWNlKC0xKVswXSA6IGZuO1xuICAgIHJldHVybiBfZm4gJiYgX2ZuLnRvU3RyaW5nKCkgfHwgXCJ1bmRlZmluZWRcIjtcbn1cbmV4cG9ydHMuZm5Ub1N0cmluZyA9IGZuVG9TdHJpbmc7XG52YXIgc3RyaW5naWZ5UGF0dGVybkZuID0gbnVsbDtcbnZhciBzdHJpbmdpZnlQYXR0ZXJuID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIGlzUmVqZWN0aW9uID0gcmVqZWN0RmFjdG9yeV8xLlJlamVjdGlvbi5pc1JlamVjdGlvblByb21pc2U7XG4gICAgc3RyaW5naWZ5UGF0dGVybkZuID0gc3RyaW5naWZ5UGF0dGVybkZuIHx8IGhvZl8xLnBhdHRlcm4oW1xuICAgICAgICBbaG9mXzEubm90KHByZWRpY2F0ZXNfMS5pc0RlZmluZWQpLCBob2ZfMS52YWwoXCJ1bmRlZmluZWRcIildLFxuICAgICAgICBbcHJlZGljYXRlc18xLmlzTnVsbCwgaG9mXzEudmFsKFwibnVsbFwiKV0sXG4gICAgICAgIFtwcmVkaWNhdGVzXzEuaXNQcm9taXNlLCBob2ZfMS52YWwoXCJbUHJvbWlzZV1cIildLFxuICAgICAgICBbaXNSZWplY3Rpb24sIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4Ll90cmFuc2l0aW9uUmVqZWN0aW9uLnRvU3RyaW5nKCk7IH1dLFxuICAgICAgICBbaG9mXzEuaXMocmVqZWN0RmFjdG9yeV8xLlJlamVjdGlvbiksIGhvZl8xLmludm9rZShcInRvU3RyaW5nXCIpXSxcbiAgICAgICAgW2hvZl8xLmlzKHRyYW5zaXRpb25fMS5UcmFuc2l0aW9uKSwgaG9mXzEuaW52b2tlKFwidG9TdHJpbmdcIildLFxuICAgICAgICBbaG9mXzEuaXMocmVzb2x2YWJsZV8xLlJlc29sdmFibGUpLCBob2ZfMS5pbnZva2UoXCJ0b1N0cmluZ1wiKV0sXG4gICAgICAgIFtwcmVkaWNhdGVzXzEuaXNJbmplY3RhYmxlLCBmdW5jdGlvblRvU3RyaW5nXSxcbiAgICAgICAgW2hvZl8xLnZhbCh0cnVlKSwgY29tbW9uXzEuaWRlbnRpdHldXG4gICAgXSk7XG4gICAgcmV0dXJuIHN0cmluZ2lmeVBhdHRlcm5Gbih2YWx1ZSk7XG59O1xuZnVuY3Rpb24gc3RyaW5naWZ5KG8pIHtcbiAgICB2YXIgc2VlbiA9IFtdO1xuICAgIGZ1bmN0aW9uIGZvcm1hdCh2YWwpIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc09iamVjdCh2YWwpKSB7XG4gICAgICAgICAgICBpZiAoc2Vlbi5pbmRleE9mKHZhbCkgIT09IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybiAnW2NpcmN1bGFyIHJlZl0nO1xuICAgICAgICAgICAgc2Vlbi5wdXNoKHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeVBhdHRlcm4odmFsKTtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG8sIGZ1bmN0aW9uIChrZXksIHZhbCkgeyByZXR1cm4gZm9ybWF0KHZhbCk7IH0pLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKTtcbn1cbmV4cG9ydHMuc3RyaW5naWZ5ID0gc3RyaW5naWZ5O1xuLyoqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHNwbGl0cyBhIHN0cmluZyBvbiBhIGNoYXJhY3RlciBvciBzdWJzdHJpbmcgKi9cbmV4cG9ydHMuYmVmb3JlQWZ0ZXJTdWJzdHIgPSBmdW5jdGlvbiAoY2hhcikgeyByZXR1cm4gZnVuY3Rpb24gKHN0cikge1xuICAgIGlmICghc3RyKVxuICAgICAgICByZXR1cm4gW1wiXCIsIFwiXCJdO1xuICAgIHZhciBpZHggPSBzdHIuaW5kZXhPZihjaGFyKTtcbiAgICBpZiAoaWR4ID09PSAtMSlcbiAgICAgICAgcmV0dXJuIFtzdHIsIFwiXCJdO1xuICAgIHJldHVybiBbc3RyLnN1YnN0cigwLCBpZHgpLCBzdHIuc3Vic3RyKGlkeCArIDEpXTtcbn07IH07XG4vKipcbiAqIFNwbGl0cyBvbiBhIGRlbGltaXRlciwgYnV0IHJldHVybnMgdGhlIGRlbGltaXRlcnMgaW4gdGhlIGFycmF5XG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBganNcbiAqIHZhciBzcGxpdE9uU2xhc2hlcyA9IHNwbGl0T25EZWxpbSgnLycpO1xuICogc3BsaXRPblNsYXNoZXMoXCIvZm9vXCIpOyAvLyBbXCIvXCIsIFwiZm9vXCJdXG4gKiBzcGxpdE9uU2xhc2hlcyhcIi9mb28vXCIpOyAvLyBbXCIvXCIsIFwiZm9vXCIsIFwiL1wiXVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIHNwbGl0T25EZWxpbShkZWxpbSkge1xuICAgIHZhciByZSA9IG5ldyBSZWdFeHAoXCIoXCIgKyBkZWxpbSArIFwiKVwiLCBcImdcIik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5zcGxpdChyZSkuZmlsdGVyKGNvbW1vbl8xLmlkZW50aXR5KTtcbiAgICB9O1xufVxuZXhwb3J0cy5zcGxpdE9uRGVsaW0gPSBzcGxpdE9uRGVsaW07XG47XG4vKipcbiAqIFJlZHVjZSBmbiB0aGF0IGpvaW5zIG5laWdoYm9yaW5nIHN0cmluZ3NcbiAqXG4gKiBHaXZlbiBhbiBhcnJheSBvZiBzdHJpbmdzLCByZXR1cm5zIGEgbmV3IGFycmF5XG4gKiB3aGVyZSBhbGwgbmVpZ2hib3Jpbmcgc3RyaW5ncyBoYXZlIGJlZW4gam9pbmVkLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIGBgYGpzXG4gKiBsZXQgYXJyID0gW1wiZm9vXCIsIFwiYmFyXCIsIDEsIFwiYmF6XCIsIFwiXCIsIFwicXV4XCIgXTtcbiAqIGFyci5yZWR1Y2Uoam9pbk5laWdoYm9yc1IsIFtdKSAvLyBbXCJmb29iYXJcIiwgMSwgXCJiYXpxdXhcIiBdXG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gam9pbk5laWdoYm9yc1IoYWNjLCB4KSB7XG4gICAgaWYgKHByZWRpY2F0ZXNfMS5pc1N0cmluZyhjb21tb25fMS50YWlsKGFjYykpICYmIHByZWRpY2F0ZXNfMS5pc1N0cmluZyh4KSlcbiAgICAgICAgcmV0dXJuIGFjYy5zbGljZSgwLCAtMSkuY29uY2F0KGNvbW1vbl8xLnRhaWwoYWNjKSArIHgpO1xuICAgIHJldHVybiBjb21tb25fMS5wdXNoUihhY2MsIHgpO1xufVxuZXhwb3J0cy5qb2luTmVpZ2hib3JzUiA9IGpvaW5OZWlnaGJvcnNSO1xuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyaW5ncy5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2NvbW1vbi9zdHJpbmdzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * # Transition tracing (debug)\n *\n * Enable transition tracing to print transition information to the console,\n * in order to help debug your application.\n * Tracing logs detailed information about each Transition to your console.\n *\n * To enable tracing, import the [[Trace]] singleton and enable one or more categories.\n *\n * ### ES6\n * ```js\n * import {trace} from "ui-router-ng2"; // or "angular-ui-router"\n * trace.enable(1, 5); // TRANSITION and VIEWCONFIG\n * ```\n *\n * ### CJS\n * ```js\n * let trace = require("angular-ui-router").trace; // or "ui-router-ng2"\n * trace.enable("TRANSITION", "VIEWCONFIG");\n * ```\n *\n * ### Globals\n * ```js\n * let trace = window["angular-ui-router"].trace; // or "ui-router-ng2"\n * trace.enable(); // Trace everything (very verbose)\n * ```\n *\n * ### Angular 1:\n * ```js\n * app.run($trace => $trace.enable());\n * ```\n *\n * @coreapi\n * @module trace\n */ /** for typedoc */\nvar hof_1 = __webpack_require__(2);\nvar predicates_1 = __webpack_require__(1);\nvar strings_1 = __webpack_require__(5);\n/** @hidden */\nfunction uiViewString(viewData) {\n    if (!viewData) return \'ui-view (defunct)\';\n    return "[ui-view#" + viewData.id + " tag " + ("in template from \'" + (viewData.creationContext && viewData.creationContext.name || \'(root)\') + "\' state]: ") + ("fqn: \'" + viewData.fqn + "\', ") + ("name: \'" + viewData.name + "@" + viewData.creationContext + "\')");\n}\n/** @hidden */\nvar viewConfigString = function viewConfigString(viewConfig) {\n    return "[ViewConfig#" + viewConfig.$id + " from \'" + (viewConfig.viewDecl.$context.name || \'(root)\') + "\' state]: target ui-view: \'" + viewConfig.viewDecl.$uiViewName + "@" + viewConfig.viewDecl.$uiViewContextAnchor + "\'";\n};\n/** @hidden */\nfunction normalizedCat(input) {\n    return predicates_1.isNumber(input) ? Category[input] : Category[Category[input]];\n}\n/**\n * Trace categories Enum\n *\n * Enable or disable a category using [[Trace.enable]] or [[Trace.disable]]\n *\n * `trace.enable(Category.TRANSITION)`\n *\n * These can also be provided using a matching string, or position ordinal\n *\n * `trace.enable("TRANSITION")`\n *\n * `trace.enable(1)`\n */\nvar Category;\n(function (Category) {\n    Category[Category["RESOLVE"] = 0] = "RESOLVE";\n    Category[Category["TRANSITION"] = 1] = "TRANSITION";\n    Category[Category["HOOK"] = 2] = "HOOK";\n    Category[Category["UIVIEW"] = 3] = "UIVIEW";\n    Category[Category["VIEWCONFIG"] = 4] = "VIEWCONFIG";\n})(Category = exports.Category || (exports.Category = {}));\n/** @hidden */var _tid = hof_1.parse("$id");\n/** @hidden */var _rid = hof_1.parse("router.$id");\n/** @hidden */var transLbl = function transLbl(trans) {\n    return "Transition #" + _tid(trans) + "-" + _rid(trans);\n};\n/**\n * Prints UI-Router Transition trace information to the console.\n */\nvar Trace = function () {\n    /** @hidden */\n    function Trace() {\n        /** @hidden */\n        this._enabled = {};\n        this.approximateDigests = 0;\n    }\n    /** @hidden */\n    Trace.prototype._set = function (enabled, categories) {\n        var _this = this;\n        if (!categories.length) {\n            categories = Object.keys(Category).map(function (k) {\n                return parseInt(k, 10);\n            }).filter(function (k) {\n                return !isNaN(k);\n            }).map(function (key) {\n                return Category[key];\n            });\n        }\n        categories.map(normalizedCat).forEach(function (category) {\n            return _this._enabled[category] = enabled;\n        });\n    };\n    /**\n     * Enables a trace [[Category]]\n     *\n     * ```js\n     * trace.enable("TRANSITION");\n     * ```\n     *\n     * @param categories categories to enable. If `categories` is omitted, all categories are enabled.\n     *        Also takes strings (category name) or ordinal (category position)\n     */\n    Trace.prototype.enable = function () {\n        var categories = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            categories[_i] = arguments[_i];\n        }\n        this._set(true, categories);\n    };\n    /**\n     * Disables a trace [[Category]]\n     *\n     * ```js\n     * trace.disable("VIEWCONFIG");\n     * ```\n     *\n     * @param categories categories to disable. If `categories` is omitted, all categories are disabled.\n     *        Also takes strings (category name) or ordinal (category position)\n     */\n    Trace.prototype.disable = function () {\n        var categories = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            categories[_i] = arguments[_i];\n        }\n        this._set(false, categories);\n    };\n    /**\n     * Retrieves the enabled stateus of a [[Category]]\n     *\n     * ```js\n     * trace.enabled("VIEWCONFIG"); // true or false\n     * ```\n     *\n     * @returns boolean true if the category is enabled\n     */\n    Trace.prototype.enabled = function (category) {\n        return !!this._enabled[normalizedCat(category)];\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceTransitionStart = function (trans) {\n        if (!this.enabled(Category.TRANSITION)) return;\n        console.log(transLbl(trans) + ": Started  -> " + strings_1.stringify(trans));\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceTransitionIgnored = function (trans) {\n        if (!this.enabled(Category.TRANSITION)) return;\n        console.log(transLbl(trans) + ": Ignored  <> " + strings_1.stringify(trans));\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceHookInvocation = function (step, trans, options) {\n        if (!this.enabled(Category.HOOK)) return;\n        var event = hof_1.parse("traceData.hookType")(options) || "internal",\n            context = hof_1.parse("traceData.context.state.name")(options) || hof_1.parse("traceData.context")(options) || "unknown",\n            name = strings_1.functionToString(step.registeredHook.callback);\n        console.log(transLbl(trans) + ":   Hook -> " + event + " context: " + context + ", " + strings_1.maxLength(200, name));\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceHookResult = function (hookResult, trans, transitionOptions) {\n        if (!this.enabled(Category.HOOK)) return;\n        console.log(transLbl(trans) + ":   <- Hook returned: " + strings_1.maxLength(200, strings_1.stringify(hookResult)));\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceResolvePath = function (path, when, trans) {\n        if (!this.enabled(Category.RESOLVE)) return;\n        console.log(transLbl(trans) + ":         Resolving " + path + " (" + when + ")");\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceResolvableResolved = function (resolvable, trans) {\n        if (!this.enabled(Category.RESOLVE)) return;\n        console.log(transLbl(trans) + ":               <- Resolved  " + resolvable + " to: " + strings_1.maxLength(200, strings_1.stringify(resolvable.data)));\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceError = function (reason, trans) {\n        if (!this.enabled(Category.TRANSITION)) return;\n        console.log(transLbl(trans) + ": <- Rejected " + strings_1.stringify(trans) + ", reason: " + reason);\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceSuccess = function (finalState, trans) {\n        if (!this.enabled(Category.TRANSITION)) return;\n        console.log(transLbl(trans) + ": <- Success  " + strings_1.stringify(trans) + ", final state: " + finalState.name);\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceUIViewEvent = function (event, viewData, extra) {\n        if (extra === void 0) {\n            extra = "";\n        }\n        if (!this.enabled(Category.UIVIEW)) return;\n        console.log("ui-view: " + strings_1.padString(30, event) + " " + uiViewString(viewData) + extra);\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceUIViewConfigUpdated = function (viewData, context) {\n        if (!this.enabled(Category.UIVIEW)) return;\n        this.traceUIViewEvent("Updating", viewData, " with ViewConfig from context=\'" + context + "\'");\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceUIViewFill = function (viewData, html) {\n        if (!this.enabled(Category.UIVIEW)) return;\n        this.traceUIViewEvent("Fill", viewData, " with: " + strings_1.maxLength(200, html));\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceViewServiceEvent = function (event, viewConfig) {\n        if (!this.enabled(Category.VIEWCONFIG)) return;\n        console.log("VIEWCONFIG: " + event + " " + viewConfigString(viewConfig));\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceViewServiceUIViewEvent = function (event, viewData) {\n        if (!this.enabled(Category.VIEWCONFIG)) return;\n        console.log("VIEWCONFIG: " + event + " " + uiViewString(viewData));\n    };\n    return Trace;\n}();\nexports.Trace = Trace;\n/**\n * The [[Trace]] singleton\n *\n * #### Example:\n * ```js\n * import {trace} from "angular-ui-router";\n * trace.enable(1, 5);\n * ```\n */\nvar trace = new Trace();\nexports.trace = trace;\n//# sourceMappingURL=trace.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2NvbW1vbi90cmFjZS5qcz8zNjA3Il0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiaG9mXzEiLCJyZXF1aXJlIiwicHJlZGljYXRlc18xIiwic3RyaW5nc18xIiwidWlWaWV3U3RyaW5nIiwidmlld0RhdGEiLCJpZCIsImNyZWF0aW9uQ29udGV4dCIsIm5hbWUiLCJmcW4iLCJ2aWV3Q29uZmlnU3RyaW5nIiwidmlld0NvbmZpZyIsIiRpZCIsInZpZXdEZWNsIiwiJGNvbnRleHQiLCIkdWlWaWV3TmFtZSIsIiR1aVZpZXdDb250ZXh0QW5jaG9yIiwibm9ybWFsaXplZENhdCIsImlucHV0IiwiaXNOdW1iZXIiLCJDYXRlZ29yeSIsIl90aWQiLCJwYXJzZSIsIl9yaWQiLCJ0cmFuc0xibCIsInRyYW5zIiwiVHJhY2UiLCJfZW5hYmxlZCIsImFwcHJveGltYXRlRGlnZXN0cyIsInByb3RvdHlwZSIsIl9zZXQiLCJlbmFibGVkIiwiY2F0ZWdvcmllcyIsIl90aGlzIiwibGVuZ3RoIiwia2V5cyIsIm1hcCIsImsiLCJwYXJzZUludCIsImZpbHRlciIsImlzTmFOIiwia2V5IiwiZm9yRWFjaCIsImNhdGVnb3J5IiwiZW5hYmxlIiwiX2kiLCJhcmd1bWVudHMiLCJkaXNhYmxlIiwidHJhY2VUcmFuc2l0aW9uU3RhcnQiLCJUUkFOU0lUSU9OIiwiY29uc29sZSIsImxvZyIsInN0cmluZ2lmeSIsInRyYWNlVHJhbnNpdGlvbklnbm9yZWQiLCJ0cmFjZUhvb2tJbnZvY2F0aW9uIiwic3RlcCIsIm9wdGlvbnMiLCJIT09LIiwiZXZlbnQiLCJjb250ZXh0IiwiZnVuY3Rpb25Ub1N0cmluZyIsInJlZ2lzdGVyZWRIb29rIiwiY2FsbGJhY2siLCJtYXhMZW5ndGgiLCJ0cmFjZUhvb2tSZXN1bHQiLCJob29rUmVzdWx0IiwidHJhbnNpdGlvbk9wdGlvbnMiLCJ0cmFjZVJlc29sdmVQYXRoIiwicGF0aCIsIndoZW4iLCJSRVNPTFZFIiwidHJhY2VSZXNvbHZhYmxlUmVzb2x2ZWQiLCJyZXNvbHZhYmxlIiwiZGF0YSIsInRyYWNlRXJyb3IiLCJyZWFzb24iLCJ0cmFjZVN1Y2Nlc3MiLCJmaW5hbFN0YXRlIiwidHJhY2VVSVZpZXdFdmVudCIsImV4dHJhIiwiVUlWSUVXIiwicGFkU3RyaW5nIiwidHJhY2VVSVZpZXdDb25maWdVcGRhdGVkIiwidHJhY2VVSVZpZXdGaWxsIiwiaHRtbCIsInRyYWNlVmlld1NlcnZpY2VFdmVudCIsIlZJRVdDT05GSUciLCJ0cmFjZVZpZXdTZXJ2aWNlVUlWaWV3RXZlbnQiLCJ0cmFjZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBa0NJO0FBQ0osSUFBSUMsUUFBUSxtQkFBQUMsQ0FBUSxDQUFSLENBQVo7QUFDQSxJQUFJQyxlQUFlLG1CQUFBRCxDQUFRLENBQVIsQ0FBbkI7QUFDQSxJQUFJRSxZQUFZLG1CQUFBRixDQUFRLENBQVIsQ0FBaEI7QUFDQTtBQUNBLFNBQVNHLFlBQVQsQ0FBc0JDLFFBQXRCLEVBQWdDO0FBQzVCLFFBQUksQ0FBQ0EsUUFBTCxFQUNJLE9BQU8sbUJBQVA7QUFDSixXQUFPLGNBQWNBLFNBQVNDLEVBQXZCLEdBQTRCLE9BQTVCLElBQ0Ysd0JBQXdCRCxTQUFTRSxlQUFULElBQTRCRixTQUFTRSxlQUFULENBQXlCQyxJQUFyRCxJQUE2RCxRQUFyRixJQUFpRyxZQUQvRixLQUVGLFdBQVdILFNBQVNJLEdBQXBCLEdBQTBCLEtBRnhCLEtBR0YsWUFBWUosU0FBU0csSUFBckIsR0FBNEIsR0FBNUIsR0FBa0NILFNBQVNFLGVBQTNDLEdBQTZELElBSDNELENBQVA7QUFJSDtBQUNEO0FBQ0EsSUFBSUcsbUJBQW1C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LElBQXpCLENBQXBEO0FBQ0gsS0FKRDtBQUtBO0FBQ0ExRCxVQUFNRyxTQUFOLENBQWdCd0QscUJBQWhCLEdBQXdDLFVBQVUzQixLQUFWLEVBQWlCL0MsVUFBakIsRUFBNkI7QUFDakUsWUFBSSxDQUFDLEtBQUtvQixPQUFMLENBQWFYLFNBQVNrRSxVQUF0QixDQUFMLEVBQ0k7QUFDSnBDLGdCQUFRQyxHQUFSLENBQVksaUJBQWlCTyxLQUFqQixHQUF5QixHQUF6QixHQUErQmhELGlCQUFpQkMsVUFBakIsQ0FBM0M7QUFDSCxLQUpEO0FBS0E7QUFDQWUsVUFBTUcsU0FBTixDQUFnQjBELDJCQUFoQixHQUE4QyxVQUFVN0IsS0FBVixFQUFpQnJELFFBQWpCLEVBQTJCO0FBQ3JFLFlBQUksQ0FBQyxLQUFLMEIsT0FBTCxDQUFhWCxTQUFTa0UsVUFBdEIsQ0FBTCxFQUNJO0FBQ0pwQyxnQkFBUUMsR0FBUixDQUFZLGlCQUFpQk8sS0FBakIsR0FBeUIsR0FBekIsR0FBK0J0RCxhQUFhQyxRQUFiLENBQTNDO0FBQ0gsS0FKRDtBQUtBLFdBQU9xQixLQUFQO0FBQ0gsQ0FqSlksRUFBYjtBQWtKQTVCLFFBQVE0QixLQUFSLEdBQWdCQSxLQUFoQjtBQUNBOzs7Ozs7Ozs7QUFTQSxJQUFJOEQsUUFBUSxJQUFJOUQsS0FBSixFQUFaO0FBQ0E1QixRQUFRMEYsS0FBUixHQUFnQkEsS0FBaEI7QUFDQSIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqICMgVHJhbnNpdGlvbiB0cmFjaW5nIChkZWJ1ZylcbiAqXG4gKiBFbmFibGUgdHJhbnNpdGlvbiB0cmFjaW5nIHRvIHByaW50IHRyYW5zaXRpb24gaW5mb3JtYXRpb24gdG8gdGhlIGNvbnNvbGUsXG4gKiBpbiBvcmRlciB0byBoZWxwIGRlYnVnIHlvdXIgYXBwbGljYXRpb24uXG4gKiBUcmFjaW5nIGxvZ3MgZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgZWFjaCBUcmFuc2l0aW9uIHRvIHlvdXIgY29uc29sZS5cbiAqXG4gKiBUbyBlbmFibGUgdHJhY2luZywgaW1wb3J0IHRoZSBbW1RyYWNlXV0gc2luZ2xldG9uIGFuZCBlbmFibGUgb25lIG9yIG1vcmUgY2F0ZWdvcmllcy5cbiAqXG4gKiAjIyMgRVM2XG4gKiBgYGBqc1xuICogaW1wb3J0IHt0cmFjZX0gZnJvbSBcInVpLXJvdXRlci1uZzJcIjsgLy8gb3IgXCJhbmd1bGFyLXVpLXJvdXRlclwiXG4gKiB0cmFjZS5lbmFibGUoMSwgNSk7IC8vIFRSQU5TSVRJT04gYW5kIFZJRVdDT05GSUdcbiAqIGBgYFxuICpcbiAqICMjIyBDSlNcbiAqIGBgYGpzXG4gKiBsZXQgdHJhY2UgPSByZXF1aXJlKFwiYW5ndWxhci11aS1yb3V0ZXJcIikudHJhY2U7IC8vIG9yIFwidWktcm91dGVyLW5nMlwiXG4gKiB0cmFjZS5lbmFibGUoXCJUUkFOU0lUSU9OXCIsIFwiVklFV0NPTkZJR1wiKTtcbiAqIGBgYFxuICpcbiAqICMjIyBHbG9iYWxzXG4gKiBgYGBqc1xuICogbGV0IHRyYWNlID0gd2luZG93W1wiYW5ndWxhci11aS1yb3V0ZXJcIl0udHJhY2U7IC8vIG9yIFwidWktcm91dGVyLW5nMlwiXG4gKiB0cmFjZS5lbmFibGUoKTsgLy8gVHJhY2UgZXZlcnl0aGluZyAodmVyeSB2ZXJib3NlKVxuICogYGBgXG4gKlxuICogIyMjIEFuZ3VsYXIgMTpcbiAqIGBgYGpzXG4gKiBhcHAucnVuKCR0cmFjZSA9PiAkdHJhY2UuZW5hYmxlKCkpO1xuICogYGBgXG4gKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgdHJhY2VcbiAqLyAvKiogZm9yIHR5cGVkb2MgKi9cbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vaG9mXCIpO1xudmFyIHByZWRpY2F0ZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vcHJlZGljYXRlc1wiKTtcbnZhciBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi9zdHJpbmdzXCIpO1xuLyoqIEBoaWRkZW4gKi9cbmZ1bmN0aW9uIHVpVmlld1N0cmluZyh2aWV3RGF0YSkge1xuICAgIGlmICghdmlld0RhdGEpXG4gICAgICAgIHJldHVybiAndWktdmlldyAoZGVmdW5jdCknO1xuICAgIHJldHVybiBcIlt1aS12aWV3I1wiICsgdmlld0RhdGEuaWQgKyBcIiB0YWcgXCIgK1xuICAgICAgICAoXCJpbiB0ZW1wbGF0ZSBmcm9tICdcIiArICh2aWV3RGF0YS5jcmVhdGlvbkNvbnRleHQgJiYgdmlld0RhdGEuY3JlYXRpb25Db250ZXh0Lm5hbWUgfHwgJyhyb290KScpICsgXCInIHN0YXRlXTogXCIpICtcbiAgICAgICAgKFwiZnFuOiAnXCIgKyB2aWV3RGF0YS5mcW4gKyBcIicsIFwiKSArXG4gICAgICAgIChcIm5hbWU6ICdcIiArIHZpZXdEYXRhLm5hbWUgKyBcIkBcIiArIHZpZXdEYXRhLmNyZWF0aW9uQ29udGV4dCArIFwiJylcIik7XG59XG4vKiogQGhpZGRlbiAqL1xudmFyIHZpZXdDb25maWdTdHJpbmcgPSBmdW5jdGlvbiAodmlld0NvbmZpZykge1xuICAgIHJldHVybiBcIltWaWV3Q29uZmlnI1wiICsgdmlld0NvbmZpZy4kaWQgKyBcIiBmcm9tICdcIiArICh2aWV3Q29uZmlnLnZpZXdEZWNsLiRjb250ZXh0Lm5hbWUgfHwgJyhyb290KScpICsgXCInIHN0YXRlXTogdGFyZ2V0IHVpLXZpZXc6ICdcIiArIHZpZXdDb25maWcudmlld0RlY2wuJHVpVmlld05hbWUgKyBcIkBcIiArIHZpZXdDb25maWcudmlld0RlY2wuJHVpVmlld0NvbnRleHRBbmNob3IgKyBcIidcIjtcbn07XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplZENhdChpbnB1dCkge1xuICAgIHJldHVybiBwcmVkaWNhdGVzXzEuaXNOdW1iZXIoaW5wdXQpID8gQ2F0ZWdvcnlbaW5wdXRdIDogQ2F0ZWdvcnlbQ2F0ZWdvcnlbaW5wdXRdXTtcbn1cbi8qKlxuICogVHJhY2UgY2F0ZWdvcmllcyBFbnVtXG4gKlxuICogRW5hYmxlIG9yIGRpc2FibGUgYSBjYXRlZ29yeSB1c2luZyBbW1RyYWNlLmVuYWJsZV1dIG9yIFtbVHJhY2UuZGlzYWJsZV1dXG4gKlxuICogYHRyYWNlLmVuYWJsZShDYXRlZ29yeS5UUkFOU0lUSU9OKWBcbiAqXG4gKiBUaGVzZSBjYW4gYWxzbyBiZSBwcm92aWRlZCB1c2luZyBhIG1hdGNoaW5nIHN0cmluZywgb3IgcG9zaXRpb24gb3JkaW5hbFxuICpcbiAqIGB0cmFjZS5lbmFibGUoXCJUUkFOU0lUSU9OXCIpYFxuICpcbiAqIGB0cmFjZS5lbmFibGUoMSlgXG4gKi9cbnZhciBDYXRlZ29yeTtcbihmdW5jdGlvbiAoQ2F0ZWdvcnkpIHtcbiAgICBDYXRlZ29yeVtDYXRlZ29yeVtcIlJFU09MVkVcIl0gPSAwXSA9IFwiUkVTT0xWRVwiO1xuICAgIENhdGVnb3J5W0NhdGVnb3J5W1wiVFJBTlNJVElPTlwiXSA9IDFdID0gXCJUUkFOU0lUSU9OXCI7XG4gICAgQ2F0ZWdvcnlbQ2F0ZWdvcnlbXCJIT09LXCJdID0gMl0gPSBcIkhPT0tcIjtcbiAgICBDYXRlZ29yeVtDYXRlZ29yeVtcIlVJVklFV1wiXSA9IDNdID0gXCJVSVZJRVdcIjtcbiAgICBDYXRlZ29yeVtDYXRlZ29yeVtcIlZJRVdDT05GSUdcIl0gPSA0XSA9IFwiVklFV0NPTkZJR1wiO1xufSkoQ2F0ZWdvcnkgPSBleHBvcnRzLkNhdGVnb3J5IHx8IChleHBvcnRzLkNhdGVnb3J5ID0ge30pKTtcbi8qKiBAaGlkZGVuICovIHZhciBfdGlkID0gaG9mXzEucGFyc2UoXCIkaWRcIik7XG4vKiogQGhpZGRlbiAqLyB2YXIgX3JpZCA9IGhvZl8xLnBhcnNlKFwicm91dGVyLiRpZFwiKTtcbi8qKiBAaGlkZGVuICovIHZhciB0cmFuc0xibCA9IGZ1bmN0aW9uICh0cmFucykgeyByZXR1cm4gXCJUcmFuc2l0aW9uICNcIiArIF90aWQodHJhbnMpICsgXCItXCIgKyBfcmlkKHRyYW5zKTsgfTtcbi8qKlxuICogUHJpbnRzIFVJLVJvdXRlciBUcmFuc2l0aW9uIHRyYWNlIGluZm9ybWF0aW9uIHRvIHRoZSBjb25zb2xlLlxuICovXG52YXIgVHJhY2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgZnVuY3Rpb24gVHJhY2UoKSB7XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB7fTtcbiAgICAgICAgdGhpcy5hcHByb3hpbWF0ZURpZ2VzdHMgPSAwO1xuICAgIH1cbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS5fc2V0ID0gZnVuY3Rpb24gKGVuYWJsZWQsIGNhdGVnb3JpZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCFjYXRlZ29yaWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2F0ZWdvcmllcyA9IE9iamVjdC5rZXlzKENhdGVnb3J5KVxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIHBhcnNlSW50KGssIDEwKTsgfSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChrKSB7IHJldHVybiAhaXNOYU4oayk7IH0pXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBDYXRlZ29yeVtrZXldOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRlZ29yaWVzLm1hcChub3JtYWxpemVkQ2F0KS5mb3JFYWNoKGZ1bmN0aW9uIChjYXRlZ29yeSkgeyByZXR1cm4gX3RoaXMuX2VuYWJsZWRbY2F0ZWdvcnldID0gZW5hYmxlZDsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGEgdHJhY2UgW1tDYXRlZ29yeV1dXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIHRyYWNlLmVuYWJsZShcIlRSQU5TSVRJT05cIik7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2F0ZWdvcmllcyBjYXRlZ29yaWVzIHRvIGVuYWJsZS4gSWYgYGNhdGVnb3JpZXNgIGlzIG9taXR0ZWQsIGFsbCBjYXRlZ29yaWVzIGFyZSBlbmFibGVkLlxuICAgICAqICAgICAgICBBbHNvIHRha2VzIHN0cmluZ3MgKGNhdGVnb3J5IG5hbWUpIG9yIG9yZGluYWwgKGNhdGVnb3J5IHBvc2l0aW9uKVxuICAgICAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjYXRlZ29yaWVzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBjYXRlZ29yaWVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0KHRydWUsIGNhdGVnb3JpZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYSB0cmFjZSBbW0NhdGVnb3J5XV1cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogdHJhY2UuZGlzYWJsZShcIlZJRVdDT05GSUdcIik7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2F0ZWdvcmllcyBjYXRlZ29yaWVzIHRvIGRpc2FibGUuIElmIGBjYXRlZ29yaWVzYCBpcyBvbWl0dGVkLCBhbGwgY2F0ZWdvcmllcyBhcmUgZGlzYWJsZWQuXG4gICAgICogICAgICAgIEFsc28gdGFrZXMgc3RyaW5ncyAoY2F0ZWdvcnkgbmFtZSkgb3Igb3JkaW5hbCAoY2F0ZWdvcnkgcG9zaXRpb24pXG4gICAgICovXG4gICAgVHJhY2UucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjYXRlZ29yaWVzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBjYXRlZ29yaWVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0KGZhbHNlLCBjYXRlZ29yaWVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgZW5hYmxlZCBzdGF0ZXVzIG9mIGEgW1tDYXRlZ29yeV1dXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIHRyYWNlLmVuYWJsZWQoXCJWSUVXQ09ORklHXCIpOyAvLyB0cnVlIG9yIGZhbHNlXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBib29sZWFuIHRydWUgaWYgdGhlIGNhdGVnb3J5IGlzIGVuYWJsZWRcbiAgICAgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUuZW5hYmxlZCA9IGZ1bmN0aW9uIChjYXRlZ29yeSkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmFibGVkW25vcm1hbGl6ZWRDYXQoY2F0ZWdvcnkpXTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG4gICAgVHJhY2UucHJvdG90eXBlLnRyYWNlVHJhbnNpdGlvblN0YXJ0ID0gZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LlRSQU5TSVRJT04pKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmxvZyh0cmFuc0xibCh0cmFucykgKyBcIjogU3RhcnRlZCAgLT4gXCIgKyBzdHJpbmdzXzEuc3RyaW5naWZ5KHRyYW5zKSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVRyYW5zaXRpb25JZ25vcmVkID0gZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LlRSQU5TSVRJT04pKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmxvZyh0cmFuc0xibCh0cmFucykgKyBcIjogSWdub3JlZCAgPD4gXCIgKyBzdHJpbmdzXzEuc3RyaW5naWZ5KHRyYW5zKSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZUhvb2tJbnZvY2F0aW9uID0gZnVuY3Rpb24gKHN0ZXAsIHRyYW5zLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LkhPT0spKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgZXZlbnQgPSBob2ZfMS5wYXJzZShcInRyYWNlRGF0YS5ob29rVHlwZVwiKShvcHRpb25zKSB8fCBcImludGVybmFsXCIsIGNvbnRleHQgPSBob2ZfMS5wYXJzZShcInRyYWNlRGF0YS5jb250ZXh0LnN0YXRlLm5hbWVcIikob3B0aW9ucykgfHwgaG9mXzEucGFyc2UoXCJ0cmFjZURhdGEuY29udGV4dFwiKShvcHRpb25zKSB8fCBcInVua25vd25cIiwgbmFtZSA9IHN0cmluZ3NfMS5mdW5jdGlvblRvU3RyaW5nKHN0ZXAucmVnaXN0ZXJlZEhvb2suY2FsbGJhY2spO1xuICAgICAgICBjb25zb2xlLmxvZyh0cmFuc0xibCh0cmFucykgKyBcIjogICBIb29rIC0+IFwiICsgZXZlbnQgKyBcIiBjb250ZXh0OiBcIiArIGNvbnRleHQgKyBcIiwgXCIgKyBzdHJpbmdzXzEubWF4TGVuZ3RoKDIwMCwgbmFtZSkpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VIb29rUmVzdWx0ID0gZnVuY3Rpb24gKGhvb2tSZXN1bHQsIHRyYW5zLCB0cmFuc2l0aW9uT3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5IT09LKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2codHJhbnNMYmwodHJhbnMpICsgXCI6ICAgPC0gSG9vayByZXR1cm5lZDogXCIgKyBzdHJpbmdzXzEubWF4TGVuZ3RoKDIwMCwgc3RyaW5nc18xLnN0cmluZ2lmeShob29rUmVzdWx0KSkpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VSZXNvbHZlUGF0aCA9IGZ1bmN0aW9uIChwYXRoLCB3aGVuLCB0cmFucykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5SRVNPTFZFKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2codHJhbnNMYmwodHJhbnMpICsgXCI6ICAgICAgICAgUmVzb2x2aW5nIFwiICsgcGF0aCArIFwiIChcIiArIHdoZW4gKyBcIilcIik7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVJlc29sdmFibGVSZXNvbHZlZCA9IGZ1bmN0aW9uIChyZXNvbHZhYmxlLCB0cmFucykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5SRVNPTFZFKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2codHJhbnNMYmwodHJhbnMpICsgXCI6ICAgICAgICAgICAgICAgPC0gUmVzb2x2ZWQgIFwiICsgcmVzb2x2YWJsZSArIFwiIHRvOiBcIiArIHN0cmluZ3NfMS5tYXhMZW5ndGgoMjAwLCBzdHJpbmdzXzEuc3RyaW5naWZ5KHJlc29sdmFibGUuZGF0YSkpKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG4gICAgVHJhY2UucHJvdG90eXBlLnRyYWNlRXJyb3IgPSBmdW5jdGlvbiAocmVhc29uLCB0cmFucykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5UUkFOU0lUSU9OKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2codHJhbnNMYmwodHJhbnMpICsgXCI6IDwtIFJlamVjdGVkIFwiICsgc3RyaW5nc18xLnN0cmluZ2lmeSh0cmFucykgKyBcIiwgcmVhc29uOiBcIiArIHJlYXNvbik7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVN1Y2Nlc3MgPSBmdW5jdGlvbiAoZmluYWxTdGF0ZSwgdHJhbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoQ2F0ZWdvcnkuVFJBTlNJVElPTikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnNvbGUubG9nKHRyYW5zTGJsKHRyYW5zKSArIFwiOiA8LSBTdWNjZXNzICBcIiArIHN0cmluZ3NfMS5zdHJpbmdpZnkodHJhbnMpICsgXCIsIGZpbmFsIHN0YXRlOiBcIiArIGZpbmFsU3RhdGUubmFtZSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVVJVmlld0V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCB2aWV3RGF0YSwgZXh0cmEpIHtcbiAgICAgICAgaWYgKGV4dHJhID09PSB2b2lkIDApIHsgZXh0cmEgPSBcIlwiOyB9XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LlVJVklFVykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnNvbGUubG9nKFwidWktdmlldzogXCIgKyBzdHJpbmdzXzEucGFkU3RyaW5nKDMwLCBldmVudCkgKyBcIiBcIiArIHVpVmlld1N0cmluZyh2aWV3RGF0YSkgKyBleHRyYSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVVJVmlld0NvbmZpZ1VwZGF0ZWQgPSBmdW5jdGlvbiAodmlld0RhdGEsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoQ2F0ZWdvcnkuVUlWSUVXKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy50cmFjZVVJVmlld0V2ZW50KFwiVXBkYXRpbmdcIiwgdmlld0RhdGEsIFwiIHdpdGggVmlld0NvbmZpZyBmcm9tIGNvbnRleHQ9J1wiICsgY29udGV4dCArIFwiJ1wiKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG4gICAgVHJhY2UucHJvdG90eXBlLnRyYWNlVUlWaWV3RmlsbCA9IGZ1bmN0aW9uICh2aWV3RGF0YSwgaHRtbCkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5VSVZJRVcpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnRyYWNlVUlWaWV3RXZlbnQoXCJGaWxsXCIsIHZpZXdEYXRhLCBcIiB3aXRoOiBcIiArIHN0cmluZ3NfMS5tYXhMZW5ndGgoMjAwLCBodG1sKSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVZpZXdTZXJ2aWNlRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIHZpZXdDb25maWcpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoQ2F0ZWdvcnkuVklFV0NPTkZJRykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVklFV0NPTkZJRzogXCIgKyBldmVudCArIFwiIFwiICsgdmlld0NvbmZpZ1N0cmluZyh2aWV3Q29uZmlnKSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVZpZXdTZXJ2aWNlVUlWaWV3RXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIHZpZXdEYXRhKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LlZJRVdDT05GSUcpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlZJRVdDT05GSUc6IFwiICsgZXZlbnQgKyBcIiBcIiArIHVpVmlld1N0cmluZyh2aWV3RGF0YSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFRyYWNlO1xufSgpKTtcbmV4cG9ydHMuVHJhY2UgPSBUcmFjZTtcbi8qKlxuICogVGhlIFtbVHJhY2VdXSBzaW5nbGV0b25cbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBgYGBqc1xuICogaW1wb3J0IHt0cmFjZX0gZnJvbSBcImFuZ3VsYXItdWktcm91dGVyXCI7XG4gKiB0cmFjZS5lbmFibGUoMSwgNSk7XG4gKiBgYGBcbiAqL1xudmFyIHRyYWNlID0gbmV3IFRyYWNlKCk7XG5leHBvcnRzLnRyYWNlID0gdHJhY2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFjZS5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2NvbW1vbi90cmFjZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n')},function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * @coreapi\n * @module state\n */ /** for typedoc */\n\nObject.defineProperty(exports, "__esModule", { value: true });\nvar common_1 = __webpack_require__(0);\nvar predicates_1 = __webpack_require__(1);\n/**\n * Encapsulate the target (destination) state/params/options of a [[Transition]].\n *\n * This class is frequently used to redirect a transition to a new destination.\n *\n * See:\n *\n * - [[HookResult]]\n * - [[TransitionHookFn]]\n * - [[TransitionService.onStart]]\n *\n * To create a `TargetState`, use [[StateService.target]].\n *\n * ---\n *\n * This class wraps:\n *\n * 1) an identifier for a state\n * 2) a set of parameters\n * 3) and transition options\n * 4) the registered state object (the [[StateDeclaration]])\n *\n * Many UI-Router APIs such as [[StateService.go]] take a [[StateOrName]] argument which can\n * either be a *state object* (a [[StateDeclaration]] or [[StateObject]]) or a *state name* (a string).\n * The `TargetState` class normalizes those options.\n *\n * A `TargetState` may be valid (the state being targeted exists in the registry)\n * or invalid (the state being targeted is not registered).\n */\nvar TargetState = function () {\n    /**\n     * The TargetState constructor\n     *\n     * Note: Do not construct a `TargetState` manually.\n     * To create a `TargetState`, use the [[StateService.target]] factory method.\n     *\n     * @param _identifier An identifier for a state.\n     *    Either a fully-qualified state name, or the object used to define the state.\n     * @param _definition The internal state representation, if exists.\n     * @param _params Parameters for the target state\n     * @param _options Transition options.\n     *\n     * @internalapi\n     */\n    function TargetState(_identifier, _definition, _params, _options) {\n        if (_options === void 0) {\n            _options = {};\n        }\n        this._identifier = _identifier;\n        this._definition = _definition;\n        this._options = _options;\n        this._params = _params || {};\n    }\n    /** The name of the state this object targets */\n    TargetState.prototype.name = function () {\n        return this._definition && this._definition.name || this._identifier;\n    };\n    /** The identifier used when creating this TargetState */\n    TargetState.prototype.identifier = function () {\n        return this._identifier;\n    };\n    /** The target parameter values */\n    TargetState.prototype.params = function () {\n        return this._params;\n    };\n    /** The internal state object (if it was found) */\n    TargetState.prototype.$state = function () {\n        return this._definition;\n    };\n    /** The internal state declaration (if it was found) */\n    TargetState.prototype.state = function () {\n        return this._definition && this._definition.self;\n    };\n    /** The target options */\n    TargetState.prototype.options = function () {\n        return this._options;\n    };\n    /** True if the target state was found */\n    TargetState.prototype.exists = function () {\n        return !!(this._definition && this._definition.self);\n    };\n    /** True if the object is valid */\n    TargetState.prototype.valid = function () {\n        return !this.error();\n    };\n    /** If the object is invalid, returns the reason why */\n    TargetState.prototype.error = function () {\n        var base = this.options().relative;\n        if (!this._definition && !!base) {\n            var stateName = base.name ? base.name : base;\n            return "Could not resolve \'" + this.name() + "\' from state \'" + stateName + "\'";\n        }\n        if (!this._definition) return "No such state \'" + this.name() + "\'";\n        if (!this._definition.self) return "State \'" + this.name() + "\' has an invalid definition";\n    };\n    TargetState.prototype.toString = function () {\n        return "\'" + this.name() + "\'" + common_1.toJson(this.params());\n    };\n    return TargetState;\n}();\n/** Returns true if the object has a state property that might be a state or state name */\nTargetState.isDef = function (obj) {\n    return obj && obj.state && (predicates_1.isString(obj.state) || predicates_1.isString(obj.state.name));\n};\nexports.TargetState = TargetState;\n//# sourceMappingURL=targetState.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3N0YXRlL3RhcmdldFN0YXRlLmpzP2FmMmUiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjb21tb25fMSIsInJlcXVpcmUiLCJwcmVkaWNhdGVzXzEiLCJUYXJnZXRTdGF0ZSIsIl9pZGVudGlmaWVyIiwiX2RlZmluaXRpb24iLCJfcGFyYW1zIiwiX29wdGlvbnMiLCJwcm90b3R5cGUiLCJuYW1lIiwiaWRlbnRpZmllciIsInBhcmFtcyIsIiRzdGF0ZSIsInN0YXRlIiwic2VsZiIsIm9wdGlvbnMiLCJleGlzdHMiLCJ2YWxpZCIsImVycm9yIiwiYmFzZSIsInJlbGF0aXZlIiwic3RhdGVOYW1lIiwidG9TdHJpbmciLCJ0b0pzb24iLCJpc0RlZiIsIm9iaiIsImlzU3RyaW5nIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7SUFHSTs7QUFDSkEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0EsSUFBSUMsV0FBVyxtQkFBQUMsQ0FBUSxDQUFSLENBQWY7QUFDQSxJQUFJQyxlQUFlLG1CQUFBRCxDQUFRLENBQVIsQ0FBbkI7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE2QkEsSUFBSUUsY0FBZSxZQUFZO0FBQzNCOzs7Ozs7Ozs7Ozs7OztBQWNBLGFBQVNBLFdBQVQsQ0FBcUJDLFdBQXJCLEVBQWtDQyxXQUFsQyxFQUErQ0MsT0FBL0MsRUFBd0RDLFFBQXhELEVBQWtFO0FBQzlELFlBQUlBLGFBQWEsS0FBSyxDQUF0QixFQUF5QjtBQUFFQSx1QkFBVyxFQUFYO0FBQWdCO0FBQzNDLGFBQUtILFdBQUwsR0FBbUJBLFdBQW5CO0FBQ0EsYUFBS0MsV0FBTCxHQUFtQkEsV0FBbkI7QUFDQSxhQUFLRSxRQUFMLEdBQWdCQSxRQUFoQjtBQUNBLGFBQUtELE9BQUwsR0FBZUEsV0FBVyxFQUExQjtBQUNIO0FBQ0Q7QUFDQUgsZ0JBQVlLLFNBQVosQ0FBc0JDLElBQXRCLEdBQTZCLFlBQVk7QUFDckMsZUFBTyxLQUFLSixXQUFMLElBQW9CLEtBQUtBLFdBQUwsQ0FBaUJJLElBQXJDLElBQTZDLEtBQUtMLFdBQXpEO0FBQ0gsS0FGRDtBQUdBO0FBQ0FELGdCQUFZSyxTQUFaLENBQXNCRSxVQUF0QixHQUFtQyxZQUFZO0FBQzNDLGVBQU8sS0FBS04sV0FBWjtBQUNILEtBRkQ7QUFHQTtBQUNBRCxnQkFBWUssU0FBWixDQUFzQkcsTUFBdEIsR0FBK0IsWUFBWTtBQUN2QyxlQUFPLEtBQUtMLE9BQVo7QUFDSCxLQUZEO0FBR0E7QUFDQUgsZ0JBQVlLLFNBQVosQ0FBc0JJLE1BQXRCLEdBQStCLFlBQVk7QUFDdkMsZUFBTyxLQUFLUCxXQUFaO0FBQ0gsS0FGRDtBQUdBO0FBQ0FGLGdCQUFZSyxTQUFaLENBQXNCSyxLQUF0QixHQUE4QixZQUFZO0FBQ3RDLGVBQU8sS0FBS1IsV0FBTCxJQUFvQixLQUFLQSxXQUFMLENBQWlCUyxJQUE1QztBQUNILEtBRkQ7QUFHQTtBQUNBWCxnQkFBWUssU0FBWixDQUFzQk8sT0FBdEIsR0FBZ0MsWUFBWTtBQUN4QyxlQUFPLEtBQUtSLFFBQVo7QUFDSCxLQUZEO0FBR0E7QUFDQUosZ0JBQVlLLFNBQVosQ0FBc0JRLE1BQXRCLEdBQStCLFlBQVk7QUFDdkMsZUFBTyxDQUFDLEVBQUUsS0FBS1gsV0FBTCxJQUFvQixLQUFLQSxXQUFMLENBQWlCUyxJQUF2QyxDQUFSO0FBQ0gsS0FGRDtBQUdBO0FBQ0FYLGdCQUFZSyxTQUFaLENBQXNCUyxLQUF0QixHQUE4QixZQUFZO0FBQ3RDLGVBQU8sQ0FBQyxLQUFLQyxLQUFMLEVBQVI7QUFDSCxLQUZEO0FBR0E7QUFDQWYsZ0JBQVlLLFNBQVosQ0FBc0JVLEtBQXRCLEdBQThCLFlBQVk7QUFDdEMsWUFBSUMsT0FBTyxLQUFLSixPQUFMLEdBQWVLLFFBQTFCO0FBQ0EsWUFBSSxDQUFDLEtBQUtmLFdBQU4sSUFBcUIsQ0FBQyxDQUFDYyxJQUEzQixFQUFpQztBQUM3QixnQkFBSUUsWUFBWUYsS0FBS1YsSUFBTCxHQUFZVSxLQUFLVixJQUFqQixHQUF3QlUsSUFBeEM7QUFDQSxtQkFBTyx3QkFBd0IsS0FBS1YsSUFBTCxFQUF4QixHQUFzQyxnQkFBdEMsR0FBeURZLFNBQXpELEdBQXFFLEdBQTVFO0FBQ0g7QUFDRCxZQUFJLENBQUMsS0FBS2hCLFdBQVYsRUFDSSxPQUFPLG9CQUFvQixLQUFLSSxJQUFMLEVBQXBCLEdBQWtDLEdBQXpDO0FBQ0osWUFBSSxDQUFDLEtBQUtKLFdBQUwsQ0FBaUJTLElBQXRCLEVBQ0ksT0FBTyxZQUFZLEtBQUtMLElBQUwsRUFBWixHQUEwQiw2QkFBakM7QUFDUCxLQVZEO0FBV0FOLGdCQUFZSyxTQUFaLENBQXNCYyxRQUF0QixHQUFpQyxZQUFZO0FBQ3pDLGVBQU8sTUFBTSxLQUFLYixJQUFMLEVBQU4sR0FBb0IsR0FBcEIsR0FBMEJULFNBQVN1QixNQUFULENBQWdCLEtBQUtaLE1BQUwsRUFBaEIsQ0FBakM7QUFDSCxLQUZEO0FBR0EsV0FBT1IsV0FBUDtBQUNILENBdEVrQixFQUFuQjtBQXVFQTtBQUNBQSxZQUFZcUIsS0FBWixHQUFvQixVQUFVQyxHQUFWLEVBQWU7QUFDL0IsV0FBT0EsT0FBT0EsSUFBSVosS0FBWCxLQUFxQlgsYUFBYXdCLFFBQWIsQ0FBc0JELElBQUlaLEtBQTFCLEtBQW9DWCxhQUFhd0IsUUFBYixDQUFzQkQsSUFBSVosS0FBSixDQUFVSixJQUFoQyxDQUF6RCxDQUFQO0FBQ0gsQ0FGRDtBQUdBWCxRQUFRSyxXQUFSLEdBQXNCQSxXQUF0QjtBQUNBIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgc3RhdGVcbiAqLyAvKiogZm9yIHR5cGVkb2MgKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29tbW9uXCIpO1xudmFyIHByZWRpY2F0ZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vcHJlZGljYXRlc1wiKTtcbi8qKlxuICogRW5jYXBzdWxhdGUgdGhlIHRhcmdldCAoZGVzdGluYXRpb24pIHN0YXRlL3BhcmFtcy9vcHRpb25zIG9mIGEgW1tUcmFuc2l0aW9uXV0uXG4gKlxuICogVGhpcyBjbGFzcyBpcyBmcmVxdWVudGx5IHVzZWQgdG8gcmVkaXJlY3QgYSB0cmFuc2l0aW9uIHRvIGEgbmV3IGRlc3RpbmF0aW9uLlxuICpcbiAqIFNlZTpcbiAqXG4gKiAtIFtbSG9va1Jlc3VsdF1dXG4gKiAtIFtbVHJhbnNpdGlvbkhvb2tGbl1dXG4gKiAtIFtbVHJhbnNpdGlvblNlcnZpY2Uub25TdGFydF1dXG4gKlxuICogVG8gY3JlYXRlIGEgYFRhcmdldFN0YXRlYCwgdXNlIFtbU3RhdGVTZXJ2aWNlLnRhcmdldF1dLlxuICpcbiAqIC0tLVxuICpcbiAqIFRoaXMgY2xhc3Mgd3JhcHM6XG4gKlxuICogMSkgYW4gaWRlbnRpZmllciBmb3IgYSBzdGF0ZVxuICogMikgYSBzZXQgb2YgcGFyYW1ldGVyc1xuICogMykgYW5kIHRyYW5zaXRpb24gb3B0aW9uc1xuICogNCkgdGhlIHJlZ2lzdGVyZWQgc3RhdGUgb2JqZWN0ICh0aGUgW1tTdGF0ZURlY2xhcmF0aW9uXV0pXG4gKlxuICogTWFueSBVSS1Sb3V0ZXIgQVBJcyBzdWNoIGFzIFtbU3RhdGVTZXJ2aWNlLmdvXV0gdGFrZSBhIFtbU3RhdGVPck5hbWVdXSBhcmd1bWVudCB3aGljaCBjYW5cbiAqIGVpdGhlciBiZSBhICpzdGF0ZSBvYmplY3QqIChhIFtbU3RhdGVEZWNsYXJhdGlvbl1dIG9yIFtbU3RhdGVPYmplY3RdXSkgb3IgYSAqc3RhdGUgbmFtZSogKGEgc3RyaW5nKS5cbiAqIFRoZSBgVGFyZ2V0U3RhdGVgIGNsYXNzIG5vcm1hbGl6ZXMgdGhvc2Ugb3B0aW9ucy5cbiAqXG4gKiBBIGBUYXJnZXRTdGF0ZWAgbWF5IGJlIHZhbGlkICh0aGUgc3RhdGUgYmVpbmcgdGFyZ2V0ZWQgZXhpc3RzIGluIHRoZSByZWdpc3RyeSlcbiAqIG9yIGludmFsaWQgKHRoZSBzdGF0ZSBiZWluZyB0YXJnZXRlZCBpcyBub3QgcmVnaXN0ZXJlZCkuXG4gKi9cbnZhciBUYXJnZXRTdGF0ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogVGhlIFRhcmdldFN0YXRlIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBOb3RlOiBEbyBub3QgY29uc3RydWN0IGEgYFRhcmdldFN0YXRlYCBtYW51YWxseS5cbiAgICAgKiBUbyBjcmVhdGUgYSBgVGFyZ2V0U3RhdGVgLCB1c2UgdGhlIFtbU3RhdGVTZXJ2aWNlLnRhcmdldF1dIGZhY3RvcnkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIF9pZGVudGlmaWVyIEFuIGlkZW50aWZpZXIgZm9yIGEgc3RhdGUuXG4gICAgICogICAgRWl0aGVyIGEgZnVsbHktcXVhbGlmaWVkIHN0YXRlIG5hbWUsIG9yIHRoZSBvYmplY3QgdXNlZCB0byBkZWZpbmUgdGhlIHN0YXRlLlxuICAgICAqIEBwYXJhbSBfZGVmaW5pdGlvbiBUaGUgaW50ZXJuYWwgc3RhdGUgcmVwcmVzZW50YXRpb24sIGlmIGV4aXN0cy5cbiAgICAgKiBAcGFyYW0gX3BhcmFtcyBQYXJhbWV0ZXJzIGZvciB0aGUgdGFyZ2V0IHN0YXRlXG4gICAgICogQHBhcmFtIF9vcHRpb25zIFRyYW5zaXRpb24gb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRhcmdldFN0YXRlKF9pZGVudGlmaWVyLCBfZGVmaW5pdGlvbiwgX3BhcmFtcywgX29wdGlvbnMpIHtcbiAgICAgICAgaWYgKF9vcHRpb25zID09PSB2b2lkIDApIHsgX29wdGlvbnMgPSB7fTsgfVxuICAgICAgICB0aGlzLl9pZGVudGlmaWVyID0gX2lkZW50aWZpZXI7XG4gICAgICAgIHRoaXMuX2RlZmluaXRpb24gPSBfZGVmaW5pdGlvbjtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IF9vcHRpb25zO1xuICAgICAgICB0aGlzLl9wYXJhbXMgPSBfcGFyYW1zIHx8IHt9O1xuICAgIH1cbiAgICAvKiogVGhlIG5hbWUgb2YgdGhlIHN0YXRlIHRoaXMgb2JqZWN0IHRhcmdldHMgKi9cbiAgICBUYXJnZXRTdGF0ZS5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmluaXRpb24gJiYgdGhpcy5fZGVmaW5pdGlvbi5uYW1lIHx8IHRoaXMuX2lkZW50aWZpZXI7XG4gICAgfTtcbiAgICAvKiogVGhlIGlkZW50aWZpZXIgdXNlZCB3aGVuIGNyZWF0aW5nIHRoaXMgVGFyZ2V0U3RhdGUgKi9cbiAgICBUYXJnZXRTdGF0ZS5wcm90b3R5cGUuaWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkZW50aWZpZXI7XG4gICAgfTtcbiAgICAvKiogVGhlIHRhcmdldCBwYXJhbWV0ZXIgdmFsdWVzICovXG4gICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLnBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtcztcbiAgICB9O1xuICAgIC8qKiBUaGUgaW50ZXJuYWwgc3RhdGUgb2JqZWN0IChpZiBpdCB3YXMgZm91bmQpICovXG4gICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLiRzdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmluaXRpb247XG4gICAgfTtcbiAgICAvKiogVGhlIGludGVybmFsIHN0YXRlIGRlY2xhcmF0aW9uIChpZiBpdCB3YXMgZm91bmQpICovXG4gICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLnN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmaW5pdGlvbiAmJiB0aGlzLl9kZWZpbml0aW9uLnNlbGY7XG4gICAgfTtcbiAgICAvKiogVGhlIHRhcmdldCBvcHRpb25zICovXG4gICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLm9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zO1xuICAgIH07XG4gICAgLyoqIFRydWUgaWYgdGhlIHRhcmdldCBzdGF0ZSB3YXMgZm91bmQgKi9cbiAgICBUYXJnZXRTdGF0ZS5wcm90b3R5cGUuZXhpc3RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gISEodGhpcy5fZGVmaW5pdGlvbiAmJiB0aGlzLl9kZWZpbml0aW9uLnNlbGYpO1xuICAgIH07XG4gICAgLyoqIFRydWUgaWYgdGhlIG9iamVjdCBpcyB2YWxpZCAqL1xuICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS52YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmVycm9yKCk7XG4gICAgfTtcbiAgICAvKiogSWYgdGhlIG9iamVjdCBpcyBpbnZhbGlkLCByZXR1cm5zIHRoZSByZWFzb24gd2h5ICovXG4gICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYmFzZSA9IHRoaXMub3B0aW9ucygpLnJlbGF0aXZlO1xuICAgICAgICBpZiAoIXRoaXMuX2RlZmluaXRpb24gJiYgISFiYXNlKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGVOYW1lID0gYmFzZS5uYW1lID8gYmFzZS5uYW1lIDogYmFzZTtcbiAgICAgICAgICAgIHJldHVybiBcIkNvdWxkIG5vdCByZXNvbHZlICdcIiArIHRoaXMubmFtZSgpICsgXCInIGZyb20gc3RhdGUgJ1wiICsgc3RhdGVOYW1lICsgXCInXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9kZWZpbml0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIFwiTm8gc3VjaCBzdGF0ZSAnXCIgKyB0aGlzLm5hbWUoKSArIFwiJ1wiO1xuICAgICAgICBpZiAoIXRoaXMuX2RlZmluaXRpb24uc2VsZilcbiAgICAgICAgICAgIHJldHVybiBcIlN0YXRlICdcIiArIHRoaXMubmFtZSgpICsgXCInIGhhcyBhbiBpbnZhbGlkIGRlZmluaXRpb25cIjtcbiAgICB9O1xuICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiJ1wiICsgdGhpcy5uYW1lKCkgKyBcIidcIiArIGNvbW1vbl8xLnRvSnNvbih0aGlzLnBhcmFtcygpKTtcbiAgICB9O1xuICAgIHJldHVybiBUYXJnZXRTdGF0ZTtcbn0oKSk7XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaGFzIGEgc3RhdGUgcHJvcGVydHkgdGhhdCBtaWdodCBiZSBhIHN0YXRlIG9yIHN0YXRlIG5hbWUgKi9cblRhcmdldFN0YXRlLmlzRGVmID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgb2JqLnN0YXRlICYmIChwcmVkaWNhdGVzXzEuaXNTdHJpbmcob2JqLnN0YXRlKSB8fCBwcmVkaWNhdGVzXzEuaXNTdHJpbmcob2JqLnN0YXRlLm5hbWUpKTtcbn07XG5leHBvcnRzLlRhcmdldFN0YXRlID0gVGFyZ2V0U3RhdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YXJnZXRTdGF0ZS5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3N0YXRlL3RhcmdldFN0YXRlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\nvar TransitionHookPhase;\n(function (TransitionHookPhase) {\n    TransitionHookPhase[TransitionHookPhase["CREATE"] = 0] = "CREATE";\n    TransitionHookPhase[TransitionHookPhase["BEFORE"] = 1] = "BEFORE";\n    TransitionHookPhase[TransitionHookPhase["RUN"] = 2] = "RUN";\n    TransitionHookPhase[TransitionHookPhase["SUCCESS"] = 3] = "SUCCESS";\n    TransitionHookPhase[TransitionHookPhase["ERROR"] = 4] = "ERROR";\n})(TransitionHookPhase = exports.TransitionHookPhase || (exports.TransitionHookPhase = {}));\nvar TransitionHookScope;\n(function (TransitionHookScope) {\n    TransitionHookScope[TransitionHookScope["TRANSITION"] = 0] = "TRANSITION";\n    TransitionHookScope[TransitionHookScope["STATE"] = 1] = "STATE";\n})(TransitionHookScope = exports.TransitionHookScope || (exports.TransitionHookScope = {}));\n//# sourceMappingURL=interface.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3RyYW5zaXRpb24vaW50ZXJmYWNlLmpzP2QwMjUiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJUcmFuc2l0aW9uSG9va1BoYXNlIiwiVHJhbnNpdGlvbkhvb2tTY29wZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBLElBQUlDLG1CQUFKO0FBQ0EsQ0FBQyxVQUFVQSxtQkFBVixFQUErQjtBQUM1QkEsd0JBQW9CQSxvQkFBb0IsUUFBcEIsSUFBZ0MsQ0FBcEQsSUFBeUQsUUFBekQ7QUFDQUEsd0JBQW9CQSxvQkFBb0IsUUFBcEIsSUFBZ0MsQ0FBcEQsSUFBeUQsUUFBekQ7QUFDQUEsd0JBQW9CQSxvQkFBb0IsS0FBcEIsSUFBNkIsQ0FBakQsSUFBc0QsS0FBdEQ7QUFDQUEsd0JBQW9CQSxvQkFBb0IsU0FBcEIsSUFBaUMsQ0FBckQsSUFBMEQsU0FBMUQ7QUFDQUEsd0JBQW9CQSxvQkFBb0IsT0FBcEIsSUFBK0IsQ0FBbkQsSUFBd0QsT0FBeEQ7QUFDSCxDQU5ELEVBTUdBLHNCQUFzQkYsUUFBUUUsbUJBQVIsS0FBZ0NGLFFBQVFFLG1CQUFSLEdBQThCLEVBQTlELENBTnpCO0FBT0EsSUFBSUMsbUJBQUo7QUFDQSxDQUFDLFVBQVVBLG1CQUFWLEVBQStCO0FBQzVCQSx3QkFBb0JBLG9CQUFvQixZQUFwQixJQUFvQyxDQUF4RCxJQUE2RCxZQUE3RDtBQUNBQSx3QkFBb0JBLG9CQUFvQixPQUFwQixJQUErQixDQUFuRCxJQUF3RCxPQUF4RDtBQUNILENBSEQsRUFHR0Esc0JBQXNCSCxRQUFRRyxtQkFBUixLQUFnQ0gsUUFBUUcsbUJBQVIsR0FBOEIsRUFBOUQsQ0FIekI7QUFJQSIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVHJhbnNpdGlvbkhvb2tQaGFzZTtcbihmdW5jdGlvbiAoVHJhbnNpdGlvbkhvb2tQaGFzZSkge1xuICAgIFRyYW5zaXRpb25Ib29rUGhhc2VbVHJhbnNpdGlvbkhvb2tQaGFzZVtcIkNSRUFURVwiXSA9IDBdID0gXCJDUkVBVEVcIjtcbiAgICBUcmFuc2l0aW9uSG9va1BoYXNlW1RyYW5zaXRpb25Ib29rUGhhc2VbXCJCRUZPUkVcIl0gPSAxXSA9IFwiQkVGT1JFXCI7XG4gICAgVHJhbnNpdGlvbkhvb2tQaGFzZVtUcmFuc2l0aW9uSG9va1BoYXNlW1wiUlVOXCJdID0gMl0gPSBcIlJVTlwiO1xuICAgIFRyYW5zaXRpb25Ib29rUGhhc2VbVHJhbnNpdGlvbkhvb2tQaGFzZVtcIlNVQ0NFU1NcIl0gPSAzXSA9IFwiU1VDQ0VTU1wiO1xuICAgIFRyYW5zaXRpb25Ib29rUGhhc2VbVHJhbnNpdGlvbkhvb2tQaGFzZVtcIkVSUk9SXCJdID0gNF0gPSBcIkVSUk9SXCI7XG59KShUcmFuc2l0aW9uSG9va1BoYXNlID0gZXhwb3J0cy5UcmFuc2l0aW9uSG9va1BoYXNlIHx8IChleHBvcnRzLlRyYW5zaXRpb25Ib29rUGhhc2UgPSB7fSkpO1xudmFyIFRyYW5zaXRpb25Ib29rU2NvcGU7XG4oZnVuY3Rpb24gKFRyYW5zaXRpb25Ib29rU2NvcGUpIHtcbiAgICBUcmFuc2l0aW9uSG9va1Njb3BlW1RyYW5zaXRpb25Ib29rU2NvcGVbXCJUUkFOU0lUSU9OXCJdID0gMF0gPSBcIlRSQU5TSVRJT05cIjtcbiAgICBUcmFuc2l0aW9uSG9va1Njb3BlW1RyYW5zaXRpb25Ib29rU2NvcGVbXCJTVEFURVwiXSA9IDFdID0gXCJTVEFURVwiO1xufSkoVHJhbnNpdGlvbkhvb2tTY29wZSA9IGV4cG9ydHMuVHJhbnNpdGlvbkhvb2tTY29wZSB8fCAoZXhwb3J0cy5UcmFuc2l0aW9uSG9va1Njb3BlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyZmFjZS5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3RyYW5zaXRpb24vaW50ZXJmYWNlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @coreapi\n * @module params\n */ /** for typedoc */\nvar common_1 = __webpack_require__(0);\nvar hof_1 = __webpack_require__(2);\nvar predicates_1 = __webpack_require__(1);\nvar coreservices_1 = __webpack_require__(3);\nvar paramType_1 = __webpack_require__(26);\n/** @hidden */var hasOwn = Object.prototype.hasOwnProperty;\n/** @hidden */var isShorthand = function isShorthand(cfg) {\n    return ["value", "type", "squash", "array", "dynamic"].filter(hasOwn.bind(cfg || {})).length === 0;\n};\n/** @internalapi */\nvar DefType;\n(function (DefType) {\n    DefType[DefType["PATH"] = 0] = "PATH";\n    DefType[DefType["SEARCH"] = 1] = "SEARCH";\n    DefType[DefType["CONFIG"] = 2] = "CONFIG";\n})(DefType = exports.DefType || (exports.DefType = {}));\n/** @hidden */\nfunction unwrapShorthand(cfg) {\n    cfg = isShorthand(cfg) && { value: cfg } || cfg;\n    getStaticDefaultValue[\'__cacheable\'] = true;\n    function getStaticDefaultValue() {\n        return cfg.value;\n    }\n    return common_1.extend(cfg, {\n        $$fn: predicates_1.isInjectable(cfg.value) ? cfg.value : getStaticDefaultValue\n    });\n}\n/** @hidden */\nfunction getType(cfg, urlType, location, id, paramTypes) {\n    if (cfg.type && urlType && urlType.name !== \'string\') throw new Error("Param \'" + id + "\' has two type configurations.");\n    if (cfg.type && urlType && urlType.name === \'string\' && paramTypes.type(cfg.type)) return paramTypes.type(cfg.type);\n    if (urlType) return urlType;\n    if (!cfg.type) {\n        var type = location === DefType.CONFIG ? "any" : location === DefType.PATH ? "path" : location === DefType.SEARCH ? "query" : "string";\n        return paramTypes.type(type);\n    }\n    return cfg.type instanceof paramType_1.ParamType ? cfg.type : paramTypes.type(cfg.type);\n}\n/**\n * @internalapi\n * returns false, true, or the squash value to indicate the "default parameter url squash policy".\n */\nfunction getSquashPolicy(config, isOptional, defaultPolicy) {\n    var squash = config.squash;\n    if (!isOptional || squash === false) return false;\n    if (!predicates_1.isDefined(squash) || squash == null) return defaultPolicy;\n    if (squash === true || predicates_1.isString(squash)) return squash;\n    throw new Error("Invalid squash policy: \'" + squash + "\'. Valid policies: false, true, or arbitrary string");\n}\n/** @internalapi */\nfunction getReplace(config, arrayMode, isOptional, squash) {\n    var replace,\n        configuredKeys,\n        defaultPolicy = [{ from: "", to: isOptional || arrayMode ? undefined : "" }, { from: null, to: isOptional || arrayMode ? undefined : "" }];\n    replace = predicates_1.isArray(config.replace) ? config.replace : [];\n    if (predicates_1.isString(squash)) replace.push({ from: squash, to: undefined });\n    configuredKeys = common_1.map(replace, hof_1.prop("from"));\n    return common_1.filter(defaultPolicy, function (item) {\n        return configuredKeys.indexOf(item.from) === -1;\n    }).concat(replace);\n}\n/** @internalapi */\nvar Param = function () {\n    function Param(id, type, config, location, urlMatcherFactory) {\n        config = unwrapShorthand(config);\n        type = getType(config, type, location, id, urlMatcherFactory.paramTypes);\n        var arrayMode = getArrayMode();\n        type = arrayMode ? type.$asArray(arrayMode, location === DefType.SEARCH) : type;\n        var isOptional = config.value !== undefined || location === DefType.SEARCH;\n        var dynamic = predicates_1.isDefined(config.dynamic) ? !!config.dynamic : !!type.dynamic;\n        var raw = predicates_1.isDefined(config.raw) ? !!config.raw : !!type.raw;\n        var squash = getSquashPolicy(config, isOptional, urlMatcherFactory.defaultSquashPolicy());\n        var replace = getReplace(config, arrayMode, isOptional, squash);\n        var inherit = predicates_1.isDefined(config.inherit) ? !!config.inherit : !!type.inherit;\n        // array config: param name (param[]) overrides default settings.  explicit config overrides param name.\n        function getArrayMode() {\n            var arrayDefaults = { array: location === DefType.SEARCH ? "auto" : false };\n            var arrayParamNomenclature = id.match(/\\[\\]$/) ? { array: true } : {};\n            return common_1.extend(arrayDefaults, arrayParamNomenclature, config).array;\n        }\n        common_1.extend(this, { id: id, type: type, location: location, isOptional: isOptional, dynamic: dynamic, raw: raw, squash: squash, replace: replace, inherit: inherit, array: arrayMode, config: config });\n    }\n    Param.prototype.isDefaultValue = function (value) {\n        return this.isOptional && this.type.equals(this.value(), value);\n    };\n    /**\n     * [Internal] Gets the decoded representation of a value if the value is defined, otherwise, returns the\n     * default value, which may be the result of an injectable function.\n     */\n    Param.prototype.value = function (value) {\n        var _this = this;\n        /**\n         * [Internal] Get the default value of a parameter, which may be an injectable function.\n         */\n        var getDefaultValue = function getDefaultValue() {\n            if (_this._defaultValueCache) return _this._defaultValueCache.defaultValue;\n            if (!coreservices_1.services.$injector) throw new Error("Injectable functions cannot be called at configuration time");\n            var defaultValue = coreservices_1.services.$injector.invoke(_this.config.$$fn);\n            if (defaultValue !== null && defaultValue !== undefined && !_this.type.is(defaultValue)) throw new Error("Default value (" + defaultValue + ") for parameter \'" + _this.id + "\' is not an instance of ParamType (" + _this.type.name + ")");\n            if (_this.config.$$fn[\'__cacheable\']) {\n                _this._defaultValueCache = { defaultValue: defaultValue };\n            }\n            return defaultValue;\n        };\n        var replaceSpecialValues = function replaceSpecialValues(val) {\n            for (var _i = 0, _a = _this.replace; _i < _a.length; _i++) {\n                var tuple = _a[_i];\n                if (tuple.from === val) return tuple.to;\n            }\n            return val;\n        };\n        value = replaceSpecialValues(value);\n        return predicates_1.isUndefined(value) ? getDefaultValue() : this.type.$normalize(value);\n    };\n    Param.prototype.isSearch = function () {\n        return this.location === DefType.SEARCH;\n    };\n    Param.prototype.validates = function (value) {\n        // There was no parameter value, but the param is optional\n        if ((predicates_1.isUndefined(value) || value === null) && this.isOptional) return true;\n        // The value was not of the correct ParamType, and could not be decoded to the correct ParamType\n        var normalized = this.type.$normalize(value);\n        if (!this.type.is(normalized)) return false;\n        // The value was of the correct type, but when encoded, did not match the ParamType\'s regexp\n        var encoded = this.type.encode(normalized);\n        return !(predicates_1.isString(encoded) && !this.type.pattern.exec(encoded));\n    };\n    Param.prototype.toString = function () {\n        return "{Param:" + this.id + " " + this.type + " squash: \'" + this.squash + "\' optional: " + this.isOptional + "}";\n    };\n    Param.values = function (params, values) {\n        if (values === void 0) {\n            values = {};\n        }\n        var paramValues = {};\n        for (var _i = 0, params_1 = params; _i < params_1.length; _i++) {\n            var param = params_1[_i];\n            paramValues[param.id] = param.value(values[param.id]);\n        }\n        return paramValues;\n    };\n    /**\n     * Finds [[Param]] objects which have different param values\n     *\n     * Filters a list of [[Param]] objects to only those whose parameter values differ in two param value objects\n     *\n     * @param params: The list of Param objects to filter\n     * @param values1: The first set of parameter values\n     * @param values2: the second set of parameter values\n     *\n     * @returns any Param objects whose values were different between values1 and values2\n     */\n    Param.changed = function (params, values1, values2) {\n        if (values1 === void 0) {\n            values1 = {};\n        }\n        if (values2 === void 0) {\n            values2 = {};\n        }\n        return params.filter(function (param) {\n            return !param.type.equals(values1[param.id], values2[param.id]);\n        });\n    };\n    /**\n     * Checks if two param value objects are equal (for a set of [[Param]] objects)\n     *\n     * @param params The list of [[Param]] objects to check\n     * @param values1 The first set of param values\n     * @param values2 The second set of param values\n     *\n     * @returns true if the param values in values1 and values2 are equal\n     */\n    Param.equals = function (params, values1, values2) {\n        if (values1 === void 0) {\n            values1 = {};\n        }\n        if (values2 === void 0) {\n            values2 = {};\n        }\n        return Param.changed(params, values1, values2).length === 0;\n    };\n    /** Returns true if a the parameter values are valid, according to the Param definitions */\n    Param.validates = function (params, values) {\n        if (values === void 0) {\n            values = {};\n        }\n        return params.map(function (param) {\n            return param.validates(values[param.id]);\n        }).reduce(common_1.allTrueR, true);\n    };\n    return Param;\n}();\nexports.Param = Param;\n//# sourceMappingURL=param.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3BhcmFtcy9wYXJhbS5qcz9kMzY2Il0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY29tbW9uXzEiLCJyZXF1aXJlIiwiaG9mXzEiLCJwcmVkaWNhdGVzXzEiLCJjb3Jlc2VydmljZXNfMSIsInBhcmFtVHlwZV8xIiwiaGFzT3duIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJpc1Nob3J0aGFuZCIsImNmZyIsImZpbHRlciIsImJpbmQiLCJsZW5ndGgiLCJEZWZUeXBlIiwidW53cmFwU2hvcnRoYW5kIiwiZ2V0U3RhdGljRGVmYXVsdFZhbHVlIiwiZXh0ZW5kIiwiJCRmbiIsImlzSW5qZWN0YWJsZSIsImdldFR5cGUiLCJ1cmxUeXBlIiwibG9jYXRpb24iLCJpZCIsInBhcmFtVHlwZXMiLCJ0eXBlIiwibmFtZSIsIkVycm9yIiwiQ09ORklHIiwiUEFUSCIsIlNFQVJDSCIsIlBhcmFtVHlwZSIsImdldFNxdWFzaFBvbGljeSIsImNvbmZpZyIsImlzT3B0aW9uYWwiLCJkZWZhdWx0UG9saWN5Iiwic3F1YXNoIiwiaXNEZWZpbmVkIiwiaXNTdHJpbmciLCJnZXRSZXBsYWNlIiwiYXJyYXlNb2RlIiwicmVwbGFjZSIsImNvbmZpZ3VyZWRLZXlzIiwiZnJvbSIsInRvIiwidW5kZWZpbmVkIiwiaXNBcnJheSIsInB1c2giLCJtYXAiLCJwcm9wIiwiaXRlbSIsImluZGV4T2YiLCJjb25jYXQiLCJQYXJhbSIsInVybE1hdGNoZXJGYWN0b3J5IiwiZ2V0QXJyYXlNb2RlIiwiJGFzQXJyYXkiLCJkeW5hbWljIiwicmF3IiwiZGVmYXVsdFNxdWFzaFBvbGljeSIsImluaGVyaXQiLCJhcnJheURlZmF1bHRzIiwiYXJyYXkiLCJhcnJheVBhcmFtTm9tZW5jbGF0dXJlIiwibWF0Y2giLCJpc0RlZmF1bHRWYWx1ZSIsImVxdWFscyIsIl90aGlzIiwiZ2V0RGVmYXVsdFZhbHVlIiwiX2RlZmF1bHRWYWx1ZUNhY2hlIiwiZGVmYXVsdFZhbHVlIiwic2VydmljZXMiLCIkaW5qZWN0b3IiLCJpbnZva2UiLCJpcyIsInJlcGxhY2VTcGVjaWFsVmFsdWVzIiwidmFsIiwiX2kiLCJfYSIsInR1cGxlIiwiaXNVbmRlZmluZWQiLCIkbm9ybWFsaXplIiwiaXNTZWFyY2giLCJ2YWxpZGF0ZXMiLCJub3JtYWxpemVkIiwiZW5jb2RlZCIsImVuY29kZSIsInBhdHRlcm4iLCJleGVjIiwidG9TdHJpbmciLCJ2YWx1ZXMiLCJwYXJhbXMiLCJwYXJhbVZhbHVlcyIsInBhcmFtc18xIiwicGFyYW0iLCJjaGFuZ2VkIiwidmFsdWVzMSIsInZhbHVlczIiLCJyZWR1Y2UiLCJhbGxUcnVlUiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBOzs7SUFHSTtBQUNKLElBQUlDLFdBQVcsbUJBQUFDLENBQVEsQ0FBUixDQUFmO0FBQ0EsSUFBSUMsUUFBUSxtQkFBQUQsQ0FBUSxDQUFSLENBQVo7QUFDQSxJQUFJRSxlQUFlLG1CQUFBRixDQUFRLENBQVIsQ0FBbkI7QUFDQSxJQUFJRyxpQkFBaUIsbUJBQUFILENBQVEsQ0FBUixDQUFyQjtBQUNBLElBQUlJLGNBQWMsbUJBQUFKLENBQVEsRUFBUixDQUFsQjtBQUNBLGNBQWUsSUFBSUssU0FBU1YsT0FBT1csU0FBUCxDQUFpQkMsY0FBOUI7QUFDZixjQUFlLElBQUlDLGNBQWMsU0FBZEEsV0FBYyxDQUFVQyxHQUFWLEVBQWU7QUFDNUMsV0FBTyxDQUFDLE9BQUQsRUFBVSxNQUFWLEVBQWtCLFFBQWxCLEVBQTRCLE9BQTVCLEVBQXFDLFNBQXJDLEVBQWdEQyxNQUFoRCxDQUF1REwsT0FBT00sSUFBUCxDQUFZRixPQUFPLEVBQW5CLENBQXZELEVBQStFRyxNQUEvRSxLQUEwRixDQUFqRztBQUNILENB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QVA7QUFBMkMsU0FBekUsRUFBMkUyRSxNQUEzRSxDQUFrRmxHLFNBQVNtRyxRQUEzRixFQUFxRyxJQUFyRyxDQUFQO0FBQ0gsS0FIRDtBQUlBLFdBQU85QyxLQUFQO0FBQ0gsQ0F2SFksRUFBYjtBQXdIQXZELFFBQVF1RCxLQUFSLEdBQWdCQSxLQUFoQjtBQUNBIiwiZmlsZSI6IjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgcGFyYW1zXG4gKi8gLyoqIGZvciB0eXBlZG9jICovXG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vaG9mXCIpO1xudmFyIHByZWRpY2F0ZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vcHJlZGljYXRlc1wiKTtcbnZhciBjb3Jlc2VydmljZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCIpO1xudmFyIHBhcmFtVHlwZV8xID0gcmVxdWlyZShcIi4vcGFyYW1UeXBlXCIpO1xuLyoqIEBoaWRkZW4gKi8gdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4vKiogQGhpZGRlbiAqLyB2YXIgaXNTaG9ydGhhbmQgPSBmdW5jdGlvbiAoY2ZnKSB7XG4gICAgcmV0dXJuIFtcInZhbHVlXCIsIFwidHlwZVwiLCBcInNxdWFzaFwiLCBcImFycmF5XCIsIFwiZHluYW1pY1wiXS5maWx0ZXIoaGFzT3duLmJpbmQoY2ZnIHx8IHt9KSkubGVuZ3RoID09PSAwO1xufTtcbi8qKiBAaW50ZXJuYWxhcGkgKi9cbnZhciBEZWZUeXBlO1xuKGZ1bmN0aW9uIChEZWZUeXBlKSB7XG4gICAgRGVmVHlwZVtEZWZUeXBlW1wiUEFUSFwiXSA9IDBdID0gXCJQQVRIXCI7XG4gICAgRGVmVHlwZVtEZWZUeXBlW1wiU0VBUkNIXCJdID0gMV0gPSBcIlNFQVJDSFwiO1xuICAgIERlZlR5cGVbRGVmVHlwZVtcIkNPTkZJR1wiXSA9IDJdID0gXCJDT05GSUdcIjtcbn0pKERlZlR5cGUgPSBleHBvcnRzLkRlZlR5cGUgfHwgKGV4cG9ydHMuRGVmVHlwZSA9IHt9KSk7XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gdW53cmFwU2hvcnRoYW5kKGNmZykge1xuICAgIGNmZyA9IGlzU2hvcnRoYW5kKGNmZykgJiYgeyB2YWx1ZTogY2ZnIH0gfHwgY2ZnO1xuICAgIGdldFN0YXRpY0RlZmF1bHRWYWx1ZVsnX19jYWNoZWFibGUnXSA9IHRydWU7XG4gICAgZnVuY3Rpb24gZ2V0U3RhdGljRGVmYXVsdFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gY2ZnLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gY29tbW9uXzEuZXh0ZW5kKGNmZywge1xuICAgICAgICAkJGZuOiBwcmVkaWNhdGVzXzEuaXNJbmplY3RhYmxlKGNmZy52YWx1ZSkgPyBjZmcudmFsdWUgOiBnZXRTdGF0aWNEZWZhdWx0VmFsdWUsXG4gICAgfSk7XG59XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gZ2V0VHlwZShjZmcsIHVybFR5cGUsIGxvY2F0aW9uLCBpZCwgcGFyYW1UeXBlcykge1xuICAgIGlmIChjZmcudHlwZSAmJiB1cmxUeXBlICYmIHVybFR5cGUubmFtZSAhPT0gJ3N0cmluZycpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhcmFtICdcIiArIGlkICsgXCInIGhhcyB0d28gdHlwZSBjb25maWd1cmF0aW9ucy5cIik7XG4gICAgaWYgKGNmZy50eXBlICYmIHVybFR5cGUgJiYgdXJsVHlwZS5uYW1lID09PSAnc3RyaW5nJyAmJiBwYXJhbVR5cGVzLnR5cGUoY2ZnLnR5cGUpKVxuICAgICAgICByZXR1cm4gcGFyYW1UeXBlcy50eXBlKGNmZy50eXBlKTtcbiAgICBpZiAodXJsVHlwZSlcbiAgICAgICAgcmV0dXJuIHVybFR5cGU7XG4gICAgaWYgKCFjZmcudHlwZSkge1xuICAgICAgICB2YXIgdHlwZSA9IGxvY2F0aW9uID09PSBEZWZUeXBlLkNPTkZJRyA/IFwiYW55XCIgOlxuICAgICAgICAgICAgbG9jYXRpb24gPT09IERlZlR5cGUuUEFUSCA/IFwicGF0aFwiIDpcbiAgICAgICAgICAgICAgICBsb2NhdGlvbiA9PT0gRGVmVHlwZS5TRUFSQ0ggPyBcInF1ZXJ5XCIgOiBcInN0cmluZ1wiO1xuICAgICAgICByZXR1cm4gcGFyYW1UeXBlcy50eXBlKHR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gY2ZnLnR5cGUgaW5zdGFuY2VvZiBwYXJhbVR5cGVfMS5QYXJhbVR5cGUgPyBjZmcudHlwZSA6IHBhcmFtVHlwZXMudHlwZShjZmcudHlwZSk7XG59XG4vKipcbiAqIEBpbnRlcm5hbGFwaVxuICogcmV0dXJucyBmYWxzZSwgdHJ1ZSwgb3IgdGhlIHNxdWFzaCB2YWx1ZSB0byBpbmRpY2F0ZSB0aGUgXCJkZWZhdWx0IHBhcmFtZXRlciB1cmwgc3F1YXNoIHBvbGljeVwiLlxuICovXG5mdW5jdGlvbiBnZXRTcXVhc2hQb2xpY3koY29uZmlnLCBpc09wdGlvbmFsLCBkZWZhdWx0UG9saWN5KSB7XG4gICAgdmFyIHNxdWFzaCA9IGNvbmZpZy5zcXVhc2g7XG4gICAgaWYgKCFpc09wdGlvbmFsIHx8IHNxdWFzaCA9PT0gZmFsc2UpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIXByZWRpY2F0ZXNfMS5pc0RlZmluZWQoc3F1YXNoKSB8fCBzcXVhc2ggPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRQb2xpY3k7XG4gICAgaWYgKHNxdWFzaCA9PT0gdHJ1ZSB8fCBwcmVkaWNhdGVzXzEuaXNTdHJpbmcoc3F1YXNoKSlcbiAgICAgICAgcmV0dXJuIHNxdWFzaDtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNxdWFzaCBwb2xpY3k6ICdcIiArIHNxdWFzaCArIFwiJy4gVmFsaWQgcG9saWNpZXM6IGZhbHNlLCB0cnVlLCBvciBhcmJpdHJhcnkgc3RyaW5nXCIpO1xufVxuLyoqIEBpbnRlcm5hbGFwaSAqL1xuZnVuY3Rpb24gZ2V0UmVwbGFjZShjb25maWcsIGFycmF5TW9kZSwgaXNPcHRpb25hbCwgc3F1YXNoKSB7XG4gICAgdmFyIHJlcGxhY2UsIGNvbmZpZ3VyZWRLZXlzLCBkZWZhdWx0UG9saWN5ID0gW1xuICAgICAgICB7IGZyb206IFwiXCIsIHRvOiAoaXNPcHRpb25hbCB8fCBhcnJheU1vZGUgPyB1bmRlZmluZWQgOiBcIlwiKSB9LFxuICAgICAgICB7IGZyb206IG51bGwsIHRvOiAoaXNPcHRpb25hbCB8fCBhcnJheU1vZGUgPyB1bmRlZmluZWQgOiBcIlwiKSB9LFxuICAgIF07XG4gICAgcmVwbGFjZSA9IHByZWRpY2F0ZXNfMS5pc0FycmF5KGNvbmZpZy5yZXBsYWNlKSA/IGNvbmZpZy5yZXBsYWNlIDogW107XG4gICAgaWYgKHByZWRpY2F0ZXNfMS5pc1N0cmluZyhzcXVhc2gpKVxuICAgICAgICByZXBsYWNlLnB1c2goeyBmcm9tOiBzcXVhc2gsIHRvOiB1bmRlZmluZWQgfSk7XG4gICAgY29uZmlndXJlZEtleXMgPSBjb21tb25fMS5tYXAocmVwbGFjZSwgaG9mXzEucHJvcChcImZyb21cIikpO1xuICAgIHJldHVybiBjb21tb25fMS5maWx0ZXIoZGVmYXVsdFBvbGljeSwgZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGNvbmZpZ3VyZWRLZXlzLmluZGV4T2YoaXRlbS5mcm9tKSA9PT0gLTE7IH0pLmNvbmNhdChyZXBsYWNlKTtcbn1cbi8qKiBAaW50ZXJuYWxhcGkgKi9cbnZhciBQYXJhbSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFyYW0oaWQsIHR5cGUsIGNvbmZpZywgbG9jYXRpb24sIHVybE1hdGNoZXJGYWN0b3J5KSB7XG4gICAgICAgIGNvbmZpZyA9IHVud3JhcFNob3J0aGFuZChjb25maWcpO1xuICAgICAgICB0eXBlID0gZ2V0VHlwZShjb25maWcsIHR5cGUsIGxvY2F0aW9uLCBpZCwgdXJsTWF0Y2hlckZhY3RvcnkucGFyYW1UeXBlcyk7XG4gICAgICAgIHZhciBhcnJheU1vZGUgPSBnZXRBcnJheU1vZGUoKTtcbiAgICAgICAgdHlwZSA9IGFycmF5TW9kZSA/IHR5cGUuJGFzQXJyYXkoYXJyYXlNb2RlLCBsb2NhdGlvbiA9PT0gRGVmVHlwZS5TRUFSQ0gpIDogdHlwZTtcbiAgICAgICAgdmFyIGlzT3B0aW9uYWwgPSBjb25maWcudmFsdWUgIT09IHVuZGVmaW5lZCB8fCBsb2NhdGlvbiA9PT0gRGVmVHlwZS5TRUFSQ0g7XG4gICAgICAgIHZhciBkeW5hbWljID0gcHJlZGljYXRlc18xLmlzRGVmaW5lZChjb25maWcuZHluYW1pYykgPyAhIWNvbmZpZy5keW5hbWljIDogISF0eXBlLmR5bmFtaWM7XG4gICAgICAgIHZhciByYXcgPSBwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKGNvbmZpZy5yYXcpID8gISFjb25maWcucmF3IDogISF0eXBlLnJhdztcbiAgICAgICAgdmFyIHNxdWFzaCA9IGdldFNxdWFzaFBvbGljeShjb25maWcsIGlzT3B0aW9uYWwsIHVybE1hdGNoZXJGYWN0b3J5LmRlZmF1bHRTcXVhc2hQb2xpY3koKSk7XG4gICAgICAgIHZhciByZXBsYWNlID0gZ2V0UmVwbGFjZShjb25maWcsIGFycmF5TW9kZSwgaXNPcHRpb25hbCwgc3F1YXNoKTtcbiAgICAgICAgdmFyIGluaGVyaXQgPSBwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKGNvbmZpZy5pbmhlcml0KSA/ICEhY29uZmlnLmluaGVyaXQgOiAhIXR5cGUuaW5oZXJpdDtcbiAgICAgICAgLy8gYXJyYXkgY29uZmlnOiBwYXJhbSBuYW1lIChwYXJhbVtdKSBvdmVycmlkZXMgZGVmYXVsdCBzZXR0aW5ncy4gIGV4cGxpY2l0IGNvbmZpZyBvdmVycmlkZXMgcGFyYW0gbmFtZS5cbiAgICAgICAgZnVuY3Rpb24gZ2V0QXJyYXlNb2RlKCkge1xuICAgICAgICAgICAgdmFyIGFycmF5RGVmYXVsdHMgPSB7IGFycmF5OiAobG9jYXRpb24gPT09IERlZlR5cGUuU0VBUkNIID8gXCJhdXRvXCIgOiBmYWxzZSkgfTtcbiAgICAgICAgICAgIHZhciBhcnJheVBhcmFtTm9tZW5jbGF0dXJlID0gaWQubWF0Y2goL1xcW1xcXSQvKSA/IHsgYXJyYXk6IHRydWUgfSA6IHt9O1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZChhcnJheURlZmF1bHRzLCBhcnJheVBhcmFtTm9tZW5jbGF0dXJlLCBjb25maWcpLmFycmF5O1xuICAgICAgICB9XG4gICAgICAgIGNvbW1vbl8xLmV4dGVuZCh0aGlzLCB7IGlkOiBpZCwgdHlwZTogdHlwZSwgbG9jYXRpb246IGxvY2F0aW9uLCBpc09wdGlvbmFsOiBpc09wdGlvbmFsLCBkeW5hbWljOiBkeW5hbWljLCByYXc6IHJhdywgc3F1YXNoOiBzcXVhc2gsIHJlcGxhY2U6IHJlcGxhY2UsIGluaGVyaXQ6IGluaGVyaXQsIGFycmF5OiBhcnJheU1vZGUsIGNvbmZpZzogY29uZmlnIH0pO1xuICAgIH1cbiAgICBQYXJhbS5wcm90b3R5cGUuaXNEZWZhdWx0VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNPcHRpb25hbCAmJiB0aGlzLnR5cGUuZXF1YWxzKHRoaXMudmFsdWUoKSwgdmFsdWUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogW0ludGVybmFsXSBHZXRzIHRoZSBkZWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIGEgdmFsdWUgaWYgdGhlIHZhbHVlIGlzIGRlZmluZWQsIG90aGVyd2lzZSwgcmV0dXJucyB0aGVcbiAgICAgKiBkZWZhdWx0IHZhbHVlLCB3aGljaCBtYXkgYmUgdGhlIHJlc3VsdCBvZiBhbiBpbmplY3RhYmxlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIFBhcmFtLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogW0ludGVybmFsXSBHZXQgdGhlIGRlZmF1bHQgdmFsdWUgb2YgYSBwYXJhbWV0ZXIsIHdoaWNoIG1heSBiZSBhbiBpbmplY3RhYmxlIGZ1bmN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGdldERlZmF1bHRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5fZGVmYXVsdFZhbHVlQ2FjaGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9kZWZhdWx0VmFsdWVDYWNoZS5kZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICBpZiAoIWNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRpbmplY3RvcilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmplY3RhYmxlIGZ1bmN0aW9ucyBjYW5ub3QgYmUgY2FsbGVkIGF0IGNvbmZpZ3VyYXRpb24gdGltZVwiKTtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kaW5qZWN0b3IuaW52b2tlKF90aGlzLmNvbmZpZy4kJGZuKTtcbiAgICAgICAgICAgIGlmIChkZWZhdWx0VmFsdWUgIT09IG51bGwgJiYgZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIV90aGlzLnR5cGUuaXMoZGVmYXVsdFZhbHVlKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEZWZhdWx0IHZhbHVlIChcIiArIGRlZmF1bHRWYWx1ZSArIFwiKSBmb3IgcGFyYW1ldGVyICdcIiArIF90aGlzLmlkICsgXCInIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBQYXJhbVR5cGUgKFwiICsgX3RoaXMudHlwZS5uYW1lICsgXCIpXCIpO1xuICAgICAgICAgICAgaWYgKF90aGlzLmNvbmZpZy4kJGZuWydfX2NhY2hlYWJsZSddKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2RlZmF1bHRWYWx1ZUNhY2hlID0geyBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlcGxhY2VTcGVjaWFsVmFsdWVzID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLnJlcGxhY2U7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHR1cGxlID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIGlmICh0dXBsZS5mcm9tID09PSB2YWwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0dXBsZS50bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH07XG4gICAgICAgIHZhbHVlID0gcmVwbGFjZVNwZWNpYWxWYWx1ZXModmFsdWUpO1xuICAgICAgICByZXR1cm4gcHJlZGljYXRlc18xLmlzVW5kZWZpbmVkKHZhbHVlKSA/IGdldERlZmF1bHRWYWx1ZSgpIDogdGhpcy50eXBlLiRub3JtYWxpemUodmFsdWUpO1xuICAgIH07XG4gICAgUGFyYW0ucHJvdG90eXBlLmlzU2VhcmNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhdGlvbiA9PT0gRGVmVHlwZS5TRUFSQ0g7XG4gICAgfTtcbiAgICBQYXJhbS5wcm90b3R5cGUudmFsaWRhdGVzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIC8vIFRoZXJlIHdhcyBubyBwYXJhbWV0ZXIgdmFsdWUsIGJ1dCB0aGUgcGFyYW0gaXMgb3B0aW9uYWxcbiAgICAgICAgaWYgKChwcmVkaWNhdGVzXzEuaXNVbmRlZmluZWQodmFsdWUpIHx8IHZhbHVlID09PSBudWxsKSAmJiB0aGlzLmlzT3B0aW9uYWwpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gVGhlIHZhbHVlIHdhcyBub3Qgb2YgdGhlIGNvcnJlY3QgUGFyYW1UeXBlLCBhbmQgY291bGQgbm90IGJlIGRlY29kZWQgdG8gdGhlIGNvcnJlY3QgUGFyYW1UeXBlXG4gICAgICAgIHZhciBub3JtYWxpemVkID0gdGhpcy50eXBlLiRub3JtYWxpemUodmFsdWUpO1xuICAgICAgICBpZiAoIXRoaXMudHlwZS5pcyhub3JtYWxpemVkKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gVGhlIHZhbHVlIHdhcyBvZiB0aGUgY29ycmVjdCB0eXBlLCBidXQgd2hlbiBlbmNvZGVkLCBkaWQgbm90IG1hdGNoIHRoZSBQYXJhbVR5cGUncyByZWdleHBcbiAgICAgICAgdmFyIGVuY29kZWQgPSB0aGlzLnR5cGUuZW5jb2RlKG5vcm1hbGl6ZWQpO1xuICAgICAgICByZXR1cm4gIShwcmVkaWNhdGVzXzEuaXNTdHJpbmcoZW5jb2RlZCkgJiYgIXRoaXMudHlwZS5wYXR0ZXJuLmV4ZWMoZW5jb2RlZCkpO1xuICAgIH07XG4gICAgUGFyYW0ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJ7UGFyYW06XCIgKyB0aGlzLmlkICsgXCIgXCIgKyB0aGlzLnR5cGUgKyBcIiBzcXVhc2g6ICdcIiArIHRoaXMuc3F1YXNoICsgXCInIG9wdGlvbmFsOiBcIiArIHRoaXMuaXNPcHRpb25hbCArIFwifVwiO1xuICAgIH07XG4gICAgUGFyYW0udmFsdWVzID0gZnVuY3Rpb24gKHBhcmFtcywgdmFsdWVzKSB7XG4gICAgICAgIGlmICh2YWx1ZXMgPT09IHZvaWQgMCkgeyB2YWx1ZXMgPSB7fTsgfVxuICAgICAgICB2YXIgcGFyYW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBwYXJhbXNfMSA9IHBhcmFtczsgX2kgPCBwYXJhbXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IHBhcmFtc18xW19pXTtcbiAgICAgICAgICAgIHBhcmFtVmFsdWVzW3BhcmFtLmlkXSA9IHBhcmFtLnZhbHVlKHZhbHVlc1twYXJhbS5pZF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJhbVZhbHVlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbmRzIFtbUGFyYW1dXSBvYmplY3RzIHdoaWNoIGhhdmUgZGlmZmVyZW50IHBhcmFtIHZhbHVlc1xuICAgICAqXG4gICAgICogRmlsdGVycyBhIGxpc3Qgb2YgW1tQYXJhbV1dIG9iamVjdHMgdG8gb25seSB0aG9zZSB3aG9zZSBwYXJhbWV0ZXIgdmFsdWVzIGRpZmZlciBpbiB0d28gcGFyYW0gdmFsdWUgb2JqZWN0c1xuICAgICAqXG4gICAgICogQHBhcmFtIHBhcmFtczogVGhlIGxpc3Qgb2YgUGFyYW0gb2JqZWN0cyB0byBmaWx0ZXJcbiAgICAgKiBAcGFyYW0gdmFsdWVzMTogVGhlIGZpcnN0IHNldCBvZiBwYXJhbWV0ZXIgdmFsdWVzXG4gICAgICogQHBhcmFtIHZhbHVlczI6IHRoZSBzZWNvbmQgc2V0IG9mIHBhcmFtZXRlciB2YWx1ZXNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGFueSBQYXJhbSBvYmplY3RzIHdob3NlIHZhbHVlcyB3ZXJlIGRpZmZlcmVudCBiZXR3ZWVuIHZhbHVlczEgYW5kIHZhbHVlczJcbiAgICAgKi9cbiAgICBQYXJhbS5jaGFuZ2VkID0gZnVuY3Rpb24gKHBhcmFtcywgdmFsdWVzMSwgdmFsdWVzMikge1xuICAgICAgICBpZiAodmFsdWVzMSA9PT0gdm9pZCAwKSB7IHZhbHVlczEgPSB7fTsgfVxuICAgICAgICBpZiAodmFsdWVzMiA9PT0gdm9pZCAwKSB7IHZhbHVlczIgPSB7fTsgfVxuICAgICAgICByZXR1cm4gcGFyYW1zLmZpbHRlcihmdW5jdGlvbiAocGFyYW0pIHsgcmV0dXJuICFwYXJhbS50eXBlLmVxdWFscyh2YWx1ZXMxW3BhcmFtLmlkXSwgdmFsdWVzMltwYXJhbS5pZF0pOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0d28gcGFyYW0gdmFsdWUgb2JqZWN0cyBhcmUgZXF1YWwgKGZvciBhIHNldCBvZiBbW1BhcmFtXV0gb2JqZWN0cylcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJhbXMgVGhlIGxpc3Qgb2YgW1tQYXJhbV1dIG9iamVjdHMgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0gdmFsdWVzMSBUaGUgZmlyc3Qgc2V0IG9mIHBhcmFtIHZhbHVlc1xuICAgICAqIEBwYXJhbSB2YWx1ZXMyIFRoZSBzZWNvbmQgc2V0IG9mIHBhcmFtIHZhbHVlc1xuICAgICAqXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcGFyYW0gdmFsdWVzIGluIHZhbHVlczEgYW5kIHZhbHVlczIgYXJlIGVxdWFsXG4gICAgICovXG4gICAgUGFyYW0uZXF1YWxzID0gZnVuY3Rpb24gKHBhcmFtcywgdmFsdWVzMSwgdmFsdWVzMikge1xuICAgICAgICBpZiAodmFsdWVzMSA9PT0gdm9pZCAwKSB7IHZhbHVlczEgPSB7fTsgfVxuICAgICAgICBpZiAodmFsdWVzMiA9PT0gdm9pZCAwKSB7IHZhbHVlczIgPSB7fTsgfVxuICAgICAgICByZXR1cm4gUGFyYW0uY2hhbmdlZChwYXJhbXMsIHZhbHVlczEsIHZhbHVlczIpLmxlbmd0aCA9PT0gMDtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgYSB0aGUgcGFyYW1ldGVyIHZhbHVlcyBhcmUgdmFsaWQsIGFjY29yZGluZyB0byB0aGUgUGFyYW0gZGVmaW5pdGlvbnMgKi9cbiAgICBQYXJhbS52YWxpZGF0ZXMgPSBmdW5jdGlvbiAocGFyYW1zLCB2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHZhbHVlcyA9PT0gdm9pZCAwKSB7IHZhbHVlcyA9IHt9OyB9XG4gICAgICAgIHJldHVybiBwYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gcGFyYW0udmFsaWRhdGVzKHZhbHVlc1twYXJhbS5pZF0pOyB9KS5yZWR1Y2UoY29tbW9uXzEuYWxsVHJ1ZVIsIHRydWUpO1xuICAgIH07XG4gICAgcmV0dXJuIFBhcmFtO1xufSgpKTtcbmV4cG9ydHMuUGFyYW0gPSBQYXJhbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcmFtLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvcGFyYW1zL3BhcmFtLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\nvar ng_from_import = __webpack_require__(55);\nvar ng_from_global = angular;\nexports.ng = ng_from_import && ng_from_import.module ? ng_from_import : ng_from_global;\n//# sourceMappingURL=angular.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL2FuZ3VsYXIuanM/NTlmNCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIm5nX2Zyb21faW1wb3J0IiwicmVxdWlyZSIsIm5nX2Zyb21fZ2xvYmFsIiwiYW5ndWxhciIsIm5nIiwibW9kdWxlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0EsSUFBSUMsaUJBQWlCLG1CQUFBQyxDQUFRLEVBQVIsQ0FBckI7QUFDQSxJQUFJQyxpQkFBaUJDLE9BQXJCO0FBQ0FMLFFBQVFNLEVBQVIsR0FBY0osa0JBQWtCQSxlQUFlSyxNQUFsQyxHQUE0Q0wsY0FBNUMsR0FBNkRFLGNBQTFFO0FBQ0EiLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBuZ19mcm9tX2ltcG9ydCA9IHJlcXVpcmUoXCJhbmd1bGFyXCIpO1xudmFyIG5nX2Zyb21fZ2xvYmFsID0gYW5ndWxhcjtcbmV4cG9ydHMubmcgPSAobmdfZnJvbV9pbXBvcnQgJiYgbmdfZnJvbV9pbXBvcnQubW9kdWxlKSA/IG5nX2Zyb21faW1wb3J0IDogbmdfZnJvbV9nbG9iYWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmd1bGFyLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9hbmd1bGFyLXVpLXJvdXRlci9saWIvYW5ndWxhci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n')},function(module,exports,__webpack_require__){"use strict";eval('/**\n * @coreapi\n * @module transition\n */ /** for typedoc */\n\n\nObject.defineProperty(exports, "__esModule", { value: true });\nvar common_1 = __webpack_require__(0);\nvar strings_1 = __webpack_require__(5);\nvar hof_1 = __webpack_require__(2);\nvar RejectType;\n(function (RejectType) {\n    RejectType[RejectType["SUPERSEDED"] = 2] = "SUPERSEDED";\n    RejectType[RejectType["ABORTED"] = 3] = "ABORTED";\n    RejectType[RejectType["INVALID"] = 4] = "INVALID";\n    RejectType[RejectType["IGNORED"] = 5] = "IGNORED";\n    RejectType[RejectType["ERROR"] = 6] = "ERROR";\n})(RejectType = exports.RejectType || (exports.RejectType = {}));\n/** @hidden */var id = 0;\nvar Rejection = function () {\n    function Rejection(type, message, detail) {\n        this.$id = id++;\n        this.type = type;\n        this.message = message;\n        this.detail = detail;\n    }\n    Rejection.prototype.toString = function () {\n        var detailString = function detailString(d) {\n            return d && d.toString !== Object.prototype.toString ? d.toString() : strings_1.stringify(d);\n        };\n        var detail = detailString(this.detail);\n        var _a = this,\n            $id = _a.$id,\n            type = _a.type,\n            message = _a.message;\n        return "Transition Rejection($id: " + $id + " type: " + type + ", message: " + message + ", detail: " + detail + ")";\n    };\n    Rejection.prototype.toPromise = function () {\n        return common_1.extend(common_1.silentRejection(this), { _transitionRejection: this });\n    };\n    /** Returns true if the obj is a rejected promise created from the `asPromise` factory */\n    Rejection.isRejectionPromise = function (obj) {\n        return obj && typeof obj.then === \'function\' && hof_1.is(Rejection)(obj._transitionRejection);\n    };\n    /** Returns a Rejection due to transition superseded */\n    Rejection.superseded = function (detail, options) {\n        var message = "The transition has been superseded by a different transition";\n        var rejection = new Rejection(RejectType.SUPERSEDED, message, detail);\n        if (options && options.redirected) {\n            rejection.redirected = true;\n        }\n        return rejection;\n    };\n    /** Returns a Rejection due to redirected transition */\n    Rejection.redirected = function (detail) {\n        return Rejection.superseded(detail, { redirected: true });\n    };\n    /** Returns a Rejection due to invalid transition */\n    Rejection.invalid = function (detail) {\n        var message = "This transition is invalid";\n        return new Rejection(RejectType.INVALID, message, detail);\n    };\n    /** Returns a Rejection due to ignored transition */\n    Rejection.ignored = function (detail) {\n        var message = "The transition was ignored";\n        return new Rejection(RejectType.IGNORED, message, detail);\n    };\n    /** Returns a Rejection due to aborted transition */\n    Rejection.aborted = function (detail) {\n        var message = "The transition has been aborted";\n        return new Rejection(RejectType.ABORTED, message, detail);\n    };\n    /** Returns a Rejection due to aborted transition */\n    Rejection.errored = function (detail) {\n        var message = "The transition errored";\n        return new Rejection(RejectType.ERROR, message, detail);\n    };\n    /**\n     * Returns a Rejection\n     *\n     * Normalizes a value as a Rejection.\n     * If the value is already a Rejection, returns it.\n     * Otherwise, wraps and returns the value as a Rejection (Rejection type: ERROR).\n     *\n     * @returns `detail` if it is already a `Rejection`, else returns an ERROR Rejection.\n     */\n    Rejection.normalize = function (detail) {\n        return hof_1.is(Rejection)(detail) ? detail : Rejection.errored(detail);\n    };\n    return Rejection;\n}();\nexports.Rejection = Rejection;\n//# sourceMappingURL=rejectFactory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3RyYW5zaXRpb24vcmVqZWN0RmFjdG9yeS5qcz85YWI0Il0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY29tbW9uXzEiLCJyZXF1aXJlIiwic3RyaW5nc18xIiwiaG9mXzEiLCJSZWplY3RUeXBlIiwiaWQiLCJSZWplY3Rpb24iLCJ0eXBlIiwibWVzc2FnZSIsImRldGFpbCIsIiRpZCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiZGV0YWlsU3RyaW5nIiwiZCIsInN0cmluZ2lmeSIsIl9hIiwidG9Qcm9taXNlIiwiZXh0ZW5kIiwic2lsZW50UmVqZWN0aW9uIiwiX3RyYW5zaXRpb25SZWplY3Rpb24iLCJpc1JlamVjdGlvblByb21pc2UiLCJvYmoiLCJ0aGVuIiwiaXMiLCJzdXBlcnNlZGVkIiwib3B0aW9ucyIsInJlamVjdGlvbiIsIlNVUEVSU0VERUQiLCJyZWRpcmVjdGVkIiwiaW52YWxpZCIsIklOVkFMSUQiLCJpZ25vcmVkIiwiSUdOT1JFRCIsImFib3J0ZWQiLCJBQk9SVEVEIiwiZXJyb3JlZCIsIkVSUk9SIiwibm9ybWFsaXplIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0lBR0k7QUFDSjs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0EsSUFBSUMsV0FBVyxtQkFBQUMsQ0FBUSxDQUFSLENBQWY7QUFDQSxJQUFJQyxZQUFZLG1CQUFBRCxDQUFRLENBQVIsQ0FBaEI7QUFDQSxJQUFJRSxRQUFRLG1CQUFBRixDQUFRLENBQVIsQ0FBWjtBQUNBLElBQUlHLFVBQUo7QUFDQSxDQUFDLFVBQVVBLFVBQVYsRUFBc0I7QUFDbkJBLGVBQVdBLFdBQVcsWUFBWCxJQUEyQixDQUF0QyxJQUEyQyxZQUEzQztBQUNBQSxlQUFXQSxXQUFXLFNBQVgs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SUE7QUFDQUgsY0FBVTBCLE9BQVYsR0FBb0IsVUFBVXZCLE1BQVYsRUFBa0I7QUFDbEMsWUFBSUQsVUFBVSw0QkFBZDtBQUNBLGVBQU8sSUFBSUYsU0FBSixDQUFjRixXQUFXNkIsT0FBekIsRUFBa0N6QixPQUFsQyxFQUEyQ0MsTUFBM0MsQ0FBUDtBQUNILEtBSEQ7QUFJQTtBQUNBSCxjQUFVNEIsT0FBVixHQUFvQixVQUFVekIsTUFBVixFQUFrQjtBQUNsQyxZQUFJRCxVQUFVLGlDQUFkO0FBQ0EsZUFBTyxJQUFJRixTQUFKLENBQWNGLFdBQVcrQixPQUF6QixFQUFrQzNCLE9BQWxDLEVBQTJDQyxNQUEzQyxDQUFQO0FBQ0gsS0FIRDtBQUlBO0FBQ0FILGNBQVU4QixPQUFWLEdBQW9CLFVBQVUzQixNQUFWLEVBQWtCO0FBQ2xDLFlBQUlELFVBQVUsd0JBQWQ7QUFDQSxlQUFPLElBQUlGLFNBQUosQ0FBY0YsV0FBV2lDLEtBQXpCLEVBQWdDN0IsT0FBaEMsRUFBeUNDLE1BQXpDLENBQVA7QUFDSCxLQUhEO0FBSUE7Ozs7Ozs7OztBQVNBSCxjQUFVZ0MsU0FBVixHQUFzQixVQUFVN0IsTUFBVixFQUFrQjtBQUNwQyxlQUFPTixNQUFNcUIsRUFBTixDQUFTbEIsU0FBVCxFQUFvQkcsTUFBcEIsSUFBOEJBLE1BQTlCLEdBQXVDSCxVQUFVOEIsT0FBVixDQUFrQjNCLE1BQWxCLENBQTlDO0FBQ0gsS0FGRDtBQUdBLFdBQU9ILFNBQVA7QUFDSCxDQXBFZ0IsRUFBakI7QUFxRUFSLFFBQVFRLFNBQVIsR0FBb0JBLFNBQXBCO0FBQ0EiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBjb3JlYXBpXG4gKiBAbW9kdWxlIHRyYW5zaXRpb25cbiAqLyAvKiogZm9yIHR5cGVkb2MgKi9cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgc3RyaW5nc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9zdHJpbmdzXCIpO1xudmFyIGhvZl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ob2ZcIik7XG52YXIgUmVqZWN0VHlwZTtcbihmdW5jdGlvbiAoUmVqZWN0VHlwZSkge1xuICAgIFJlamVjdFR5cGVbUmVqZWN0VHlwZVtcIlNVUEVSU0VERURcIl0gPSAyXSA9IFwiU1VQRVJTRURFRFwiO1xuICAgIFJlamVjdFR5cGVbUmVqZWN0VHlwZVtcIkFCT1JURURcIl0gPSAzXSA9IFwiQUJPUlRFRFwiO1xuICAgIFJlamVjdFR5cGVbUmVqZWN0VHlwZVtcIklOVkFMSURcIl0gPSA0XSA9IFwiSU5WQUxJRFwiO1xuICAgIFJlamVjdFR5cGVbUmVqZWN0VHlwZVtcIklHTk9SRURcIl0gPSA1XSA9IFwiSUdOT1JFRFwiO1xuICAgIFJlamVjdFR5cGVbUmVqZWN0VHlwZVtcIkVSUk9SXCJdID0gNl0gPSBcIkVSUk9SXCI7XG59KShSZWplY3RUeXBlID0gZXhwb3J0cy5SZWplY3RUeXBlIHx8IChleHBvcnRzLlJlamVjdFR5cGUgPSB7fSkpO1xuLyoqIEBoaWRkZW4gKi8gdmFyIGlkID0gMDtcbnZhciBSZWplY3Rpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlamVjdGlvbih0eXBlLCBtZXNzYWdlLCBkZXRhaWwpIHtcbiAgICAgICAgdGhpcy4kaWQgPSBpZCsrO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLmRldGFpbCA9IGRldGFpbDtcbiAgICB9XG4gICAgUmVqZWN0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRldGFpbFN0cmluZyA9IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZCAmJiBkLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nID8gZC50b1N0cmluZygpIDogc3RyaW5nc18xLnN0cmluZ2lmeShkKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRldGFpbCA9IGRldGFpbFN0cmluZyh0aGlzLmRldGFpbCk7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsICRpZCA9IF9hLiRpZCwgdHlwZSA9IF9hLnR5cGUsIG1lc3NhZ2UgPSBfYS5tZXNzYWdlO1xuICAgICAgICByZXR1cm4gXCJUcmFuc2l0aW9uIFJlamVjdGlvbigkaWQ6IFwiICsgJGlkICsgXCIgdHlwZTogXCIgKyB0eXBlICsgXCIsIG1lc3NhZ2U6IFwiICsgbWVzc2FnZSArIFwiLCBkZXRhaWw6IFwiICsgZGV0YWlsICsgXCIpXCI7XG4gICAgfTtcbiAgICBSZWplY3Rpb24ucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZChjb21tb25fMS5zaWxlbnRSZWplY3Rpb24odGhpcyksIHsgX3RyYW5zaXRpb25SZWplY3Rpb246IHRoaXMgfSk7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIHRoZSBvYmogaXMgYSByZWplY3RlZCBwcm9taXNlIGNyZWF0ZWQgZnJvbSB0aGUgYGFzUHJvbWlzZWAgZmFjdG9yeSAqL1xuICAgIFJlamVjdGlvbi5pc1JlamVjdGlvblByb21pc2UgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgKHR5cGVvZiBvYmoudGhlbiA9PT0gJ2Z1bmN0aW9uJykgJiYgaG9mXzEuaXMoUmVqZWN0aW9uKShvYmouX3RyYW5zaXRpb25SZWplY3Rpb24pO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgYSBSZWplY3Rpb24gZHVlIHRvIHRyYW5zaXRpb24gc3VwZXJzZWRlZCAqL1xuICAgIFJlamVjdGlvbi5zdXBlcnNlZGVkID0gZnVuY3Rpb24gKGRldGFpbCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiVGhlIHRyYW5zaXRpb24gaGFzIGJlZW4gc3VwZXJzZWRlZCBieSBhIGRpZmZlcmVudCB0cmFuc2l0aW9uXCI7XG4gICAgICAgIHZhciByZWplY3Rpb24gPSBuZXcgUmVqZWN0aW9uKFJlamVjdFR5cGUuU1VQRVJTRURFRCwgbWVzc2FnZSwgZGV0YWlsKTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5yZWRpcmVjdGVkKSB7XG4gICAgICAgICAgICByZWplY3Rpb24ucmVkaXJlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlamVjdGlvbjtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIGEgUmVqZWN0aW9uIGR1ZSB0byByZWRpcmVjdGVkIHRyYW5zaXRpb24gKi9cbiAgICBSZWplY3Rpb24ucmVkaXJlY3RlZCA9IGZ1bmN0aW9uIChkZXRhaWwpIHtcbiAgICAgICAgcmV0dXJuIFJlamVjdGlvbi5zdXBlcnNlZGVkKGRldGFpbCwgeyByZWRpcmVjdGVkOiB0cnVlIH0pO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgYSBSZWplY3Rpb24gZHVlIHRvIGludmFsaWQgdHJhbnNpdGlvbiAqL1xuICAgIFJlamVjdGlvbi5pbnZhbGlkID0gZnVuY3Rpb24gKGRldGFpbCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiVGhpcyB0cmFuc2l0aW9uIGlzIGludmFsaWRcIjtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWplY3Rpb24oUmVqZWN0VHlwZS5JTlZBTElELCBtZXNzYWdlLCBkZXRhaWwpO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgYSBSZWplY3Rpb24gZHVlIHRvIGlnbm9yZWQgdHJhbnNpdGlvbiAqL1xuICAgIFJlamVjdGlvbi5pZ25vcmVkID0gZnVuY3Rpb24gKGRldGFpbCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiVGhlIHRyYW5zaXRpb24gd2FzIGlnbm9yZWRcIjtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWplY3Rpb24oUmVqZWN0VHlwZS5JR05PUkVELCBtZXNzYWdlLCBkZXRhaWwpO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgYSBSZWplY3Rpb24gZHVlIHRvIGFib3J0ZWQgdHJhbnNpdGlvbiAqL1xuICAgIFJlamVjdGlvbi5hYm9ydGVkID0gZnVuY3Rpb24gKGRldGFpbCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiVGhlIHRyYW5zaXRpb24gaGFzIGJlZW4gYWJvcnRlZFwiO1xuICAgICAgICByZXR1cm4gbmV3IFJlamVjdGlvbihSZWplY3RUeXBlLkFCT1JURUQsIG1lc3NhZ2UsIGRldGFpbCk7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyBhIFJlamVjdGlvbiBkdWUgdG8gYWJvcnRlZCB0cmFuc2l0aW9uICovXG4gICAgUmVqZWN0aW9uLmVycm9yZWQgPSBmdW5jdGlvbiAoZGV0YWlsKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gXCJUaGUgdHJhbnNpdGlvbiBlcnJvcmVkXCI7XG4gICAgICAgIHJldHVybiBuZXcgUmVqZWN0aW9uKFJlamVjdFR5cGUuRVJST1IsIG1lc3NhZ2UsIGRldGFpbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgUmVqZWN0aW9uXG4gICAgICpcbiAgICAgKiBOb3JtYWxpemVzIGEgdmFsdWUgYXMgYSBSZWplY3Rpb24uXG4gICAgICogSWYgdGhlIHZhbHVlIGlzIGFscmVhZHkgYSBSZWplY3Rpb24sIHJldHVybnMgaXQuXG4gICAgICogT3RoZXJ3aXNlLCB3cmFwcyBhbmQgcmV0dXJucyB0aGUgdmFsdWUgYXMgYSBSZWplY3Rpb24gKFJlamVjdGlvbiB0eXBlOiBFUlJPUikuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBgZGV0YWlsYCBpZiBpdCBpcyBhbHJlYWR5IGEgYFJlamVjdGlvbmAsIGVsc2UgcmV0dXJucyBhbiBFUlJPUiBSZWplY3Rpb24uXG4gICAgICovXG4gICAgUmVqZWN0aW9uLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uIChkZXRhaWwpIHtcbiAgICAgICAgcmV0dXJuIGhvZl8xLmlzKFJlamVjdGlvbikoZGV0YWlsKSA/IGRldGFpbCA6IFJlamVjdGlvbi5lcnJvcmVkKGRldGFpbCk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVqZWN0aW9uO1xufSgpKTtcbmV4cG9ydHMuUmVqZWN0aW9uID0gUmVqZWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVqZWN0RmFjdG9yeS5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3RyYW5zaXRpb24vcmVqZWN0RmFjdG9yeS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @coreapi\n * @module transition\n */\n/** for typedoc */\nvar interface_1 = __webpack_require__(8);\nvar common_1 = __webpack_require__(0);\nvar strings_1 = __webpack_require__(5);\nvar predicates_1 = __webpack_require__(1);\nvar hof_1 = __webpack_require__(2);\nvar trace_1 = __webpack_require__(6);\nvar coreservices_1 = __webpack_require__(3);\nvar rejectFactory_1 = __webpack_require__(11);\nvar targetState_1 = __webpack_require__(7);\nvar defaultOptions = {\n    current: common_1.noop,\n    transition: null,\n    traceData: {},\n    bind: null\n};\n/** @hidden */\nvar TransitionHook = function () {\n    function TransitionHook(transition, stateContext, registeredHook, options) {\n        var _this = this;\n        this.transition = transition;\n        this.stateContext = stateContext;\n        this.registeredHook = registeredHook;\n        this.options = options;\n        this.isSuperseded = function () {\n            return _this.type.hookPhase === interface_1.TransitionHookPhase.RUN && !_this.options.transition.isActive();\n        };\n        this.options = common_1.defaults(options, defaultOptions);\n        this.type = registeredHook.eventType;\n    }\n    TransitionHook.prototype.logError = function (err) {\n        this.transition.router.stateService.defaultErrorHandler()(err);\n    };\n    TransitionHook.prototype.invokeHook = function () {\n        var _this = this;\n        var hook = this.registeredHook;\n        if (hook._deregistered) return;\n        var notCurrent = this.getNotCurrentRejection();\n        if (notCurrent) return notCurrent;\n        var options = this.options;\n        trace_1.trace.traceHookInvocation(this, this.transition, options);\n        var invokeCallback = function invokeCallback() {\n            return hook.callback.call(options.bind, _this.transition, _this.stateContext);\n        };\n        var normalizeErr = function normalizeErr(err) {\n            return rejectFactory_1.Rejection.normalize(err).toPromise();\n        };\n        var handleError = function handleError(err) {\n            return hook.eventType.getErrorHandler(_this)(err);\n        };\n        var handleResult = function handleResult(result) {\n            return hook.eventType.getResultHandler(_this)(result);\n        };\n        try {\n            var result = invokeCallback();\n            if (!this.type.synchronous && predicates_1.isPromise(result)) {\n                return result.catch(normalizeErr).then(handleResult, handleError);\n            } else {\n                return handleResult(result);\n            }\n        } catch (err) {\n            // If callback throws (synchronously)\n            return handleError(rejectFactory_1.Rejection.normalize(err));\n        }\n    };\n    /**\n     * This method handles the return value of a Transition Hook.\n     *\n     * A hook can return false (cancel), a TargetState (redirect),\n     * or a promise (which may later resolve to false or a redirect)\n     *\n     * This also handles "transition superseded" -- when a new transition\n     * was started while the hook was still running\n     */\n    TransitionHook.prototype.handleHookResult = function (result) {\n        var _this = this;\n        var notCurrent = this.getNotCurrentRejection();\n        if (notCurrent) return notCurrent;\n        // Hook returned a promise\n        if (predicates_1.isPromise(result)) {\n            // Wait for the promise, then reprocess with the resulting value\n            return result.then(function (val) {\n                return _this.handleHookResult(val);\n            });\n        }\n        trace_1.trace.traceHookResult(result, this.transition, this.options);\n        // Hook returned false\n        if (result === false) {\n            // Abort this Transition\n            return rejectFactory_1.Rejection.aborted("Hook aborted transition").toPromise();\n        }\n        var isTargetState = hof_1.is(targetState_1.TargetState);\n        // hook returned a TargetState\n        if (isTargetState(result)) {\n            // Halt the current Transition and redirect (a new Transition) to the TargetState.\n            return rejectFactory_1.Rejection.redirected(result).toPromise();\n        }\n    };\n    /**\n     * Return a Rejection promise if the transition is no longer current due\n     * to a stopped router (disposed), or a new transition has started and superseded this one.\n     */\n    TransitionHook.prototype.getNotCurrentRejection = function () {\n        var router = this.transition.router;\n        // The router is stopped\n        if (router._disposed) {\n            return rejectFactory_1.Rejection.aborted("UIRouter instance #" + router.$id + " has been stopped (disposed)").toPromise();\n        }\n        if (this.transition._aborted) {\n            return rejectFactory_1.Rejection.aborted().toPromise();\n        }\n        // This transition is no longer current.\n        // Another transition started while this hook was still running.\n        if (this.isSuperseded()) {\n            // Abort this transition\n            return rejectFactory_1.Rejection.superseded(this.options.current()).toPromise();\n        }\n    };\n    TransitionHook.prototype.toString = function () {\n        var _a = this,\n            options = _a.options,\n            registeredHook = _a.registeredHook;\n        var event = hof_1.parse("traceData.hookType")(options) || "internal",\n            context = hof_1.parse("traceData.context.state.name")(options) || hof_1.parse("traceData.context")(options) || "unknown",\n            name = strings_1.fnToString(registeredHook.callback);\n        return event + " context: " + context + ", " + strings_1.maxLength(200, name);\n    };\n    /**\n     * Chains together an array of TransitionHooks.\n     *\n     * Given a list of [[TransitionHook]] objects, chains them together.\n     * Each hook is invoked after the previous one completes.\n     *\n     * #### Example:\n     * ```js\n     * var hooks: TransitionHook[] = getHooks();\n     * let promise: Promise<any> = TransitionHook.chain(hooks);\n     *\n     * promise.then(handleSuccess, handleError);\n     * ```\n     *\n     * @param hooks the list of hooks to chain together\n     * @param waitFor if provided, the chain is `.then()`\'ed off this promise\n     * @returns a `Promise` for sequentially invoking the hooks (in order)\n     */\n    TransitionHook.chain = function (hooks, waitFor) {\n        // Chain the next hook off the previous\n        var createHookChainR = function createHookChainR(prev, nextHook) {\n            return prev.then(function () {\n                return nextHook.invokeHook();\n            });\n        };\n        return hooks.reduce(createHookChainR, waitFor || coreservices_1.services.$q.when());\n    };\n    /**\n     * Invokes all the provided TransitionHooks, in order.\n     * Each hook\'s return value is checked.\n     * If any hook returns a promise, then the rest of the hooks are chained off that promise, and the promise is returned.\n     * If no hook returns a promise, then all hooks are processed synchronously.\n     *\n     * @param hooks the list of TransitionHooks to invoke\n     * @param doneCallback a callback that is invoked after all the hooks have successfully completed\n     *\n     * @returns a promise for the async result, or the result of the callback\n     */\n    TransitionHook.invokeHooks = function (hooks, doneCallback) {\n        for (var idx = 0; idx < hooks.length; idx++) {\n            var hookResult = hooks[idx].invokeHook();\n            if (predicates_1.isPromise(hookResult)) {\n                var remainingHooks = hooks.slice(idx + 1);\n                return TransitionHook.chain(remainingHooks, hookResult).then(doneCallback);\n            }\n        }\n        return doneCallback();\n    };\n    /**\n     * Run all TransitionHooks, ignoring their return value.\n     */\n    TransitionHook.runAllHooks = function (hooks) {\n        hooks.forEach(function (hook) {\n            return hook.invokeHook();\n        });\n    };\n    return TransitionHook;\n}();\n/**\n * These GetResultHandler(s) are used by [[invokeHook]] below\n * Each HookType chooses a GetResultHandler (See: [[TransitionService._defineCoreEvents]])\n */\nTransitionHook.HANDLE_RESULT = function (hook) {\n    return function (result) {\n        return hook.handleHookResult(result);\n    };\n};\n/**\n * If the result is a promise rejection, log it.\n * Otherwise, ignore the result.\n */\nTransitionHook.LOG_REJECTED_RESULT = function (hook) {\n    return function (result) {\n        predicates_1.isPromise(result) && result.catch(function (err) {\n            return hook.logError(rejectFactory_1.Rejection.normalize(err));\n        });\n        return undefined;\n    };\n};\n/**\n * These GetErrorHandler(s) are used by [[invokeHook]] below\n * Each HookType chooses a GetErrorHandler (See: [[TransitionService._defineCoreEvents]])\n */\nTransitionHook.LOG_ERROR = function (hook) {\n    return function (error) {\n        return hook.logError(error);\n    };\n};\nTransitionHook.REJECT_ERROR = function (hook) {\n    return function (error) {\n        return common_1.silentRejection(error);\n    };\n};\nTransitionHook.THROW_ERROR = function (hook) {\n    return function (error) {\n        throw error;\n    };\n};\nexports.TransitionHook = TransitionHook;\n//# sourceMappingURL=transitionHook.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3RyYW5zaXRpb24vdHJhbnNpdGlvbkhvb2suanM/NjczNiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImludGVyZmFjZV8xIiwicmVxdWlyZSIsImNvbW1vbl8xIiwic3RyaW5nc18xIiwicHJlZGljYXRlc18xIiwiaG9mXzEiLCJ0cmFjZV8xIiwiY29yZXNlcnZpY2VzXzEiLCJyZWplY3RGYWN0b3J5XzEiLCJ0YXJnZXRTdGF0ZV8xIiwiZGVmYXVsdE9wdGlvbnMiLCJjdXJyZW50Iiwibm9vcCIsInRyYW5zaXRpb24iLCJ0cmFjZURhdGEiLCJiaW5kIiwiVHJhbnNpdGlvbkhvb2siLCJzdGF0ZUNvbnRleHQiLCJyZWdpc3RlcmVkSG9vayIsIm9wdGlvbnMiLCJfdGhpcyIsImlzU3VwZXJzZWRlZCIsInR5cGUiLCJob29rUGhhc2UiLCJUcmFuc2l0aW9uSG9va1BoYXNlIiwiUlVOIiwiaXNBY3RpdmUiLCJkZWZhdWx0cyIsImV2ZW50VHlwZSIsInByb3RvdHlwZSIsImxvZ0Vycm9yIiwiZXJyIiwicm91dGVyIiwic3RhdGVTZXJ2aWNlIiwiZGVmYXVsdEVycm9ySGFuZGxlciIsImludm9rZUhvb2siLCJob29rIiwiX2RlcmVnaXN0ZXJlZCIsIm5vdEN1cnJlbnQiLCJnZXROb3RDdXJyZW50UmVqZWN0aW9uIiwidHJhY2UiLCJ0cmFjZUhvb2tJbnZvY2F0aW9uIiwiaW52b2tlQ2FsbGJhY2siLCJjYWxsYmFjayIsImNhbGwiLCJub3JtYWxpemVFcnIiLCJSZWplY3Rpb24iLCJub3JtYWxpemUiLCJ0b1Byb21pc2UiLCJoYW5kbGVFcnJvciIsImdldEVycm9ySGFuZGxlciIsImhhbmRsZVJlc3VsdCIsInJlc3VsdCIsImdldFJlc3VsdEhhbmRsZXIiLCJzeW5jaHJvbm91cyIsImlzUHJvbWlzZSIsImNhdGNoIiwidGhlbiIsImhhbmRsZUhvb2tSZXN1bHQiLCJ2YWwiLCJ0cmFjZUhvb2tSZXN1bHQiLCJhYm9ydGVkIiwiaXNUYXJnZXRTdGF0ZSIsImlzIiwiVGFyZ2V0U3RhdGUiLCJyZWRpcmVjdGVkIiwiX2Rpc3Bvc2VkIiwiJGlkIiwiX2Fib3J0ZWQiLCJzdXBlcnNlZGVkIiwidG9TdHJpbmciLCJfYSIsImV2ZW50IiwicGFyc2UiLCJjb250ZXh0IiwibmFtZSIsImZuVG9TdHJpbmciLCJtYXhMZW5ndGgiLCJjaGFpbiIsImhvb2tzIiwid2FpdEZvciIsImNyZWF0ZUhvb2tDaGFpblIiLCJwcmV2IiwibmV4dEhvb2siLCJyZWR1Y2UiLCJzZXJ2aWNlcyIsIiRxIiwid2hlbiIsImludm9rZUhvb2tzIiwiZG9uZUNhbGxiYWNrIiwiaWR4IiwibGVuZ3RoIiwiaG9va1Jlc3VsdCIsInJlbWFpbmluZ0hvb2tzIiwic2xpY2UiLCJydW5BbGxIb29rcyIsImZvckVhY2giLCJIQU5ETEVfUkVTVUxUIiwiTE9HX1JFSkVDVEVEX1JFU1VMVCIsInVuZGVmaW5lZCIsIkxPR19FUlJPUiIsImVycm9yIiwiUkVKRUNUX0VSUk9SIiwic2lsZW50UmVqZWN0aW9uIiwiVEhST1dfRVJST1IiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTs7OztBQUlBO0FBQ0EsSUFBSUMsY0FBYyxtQkFBQUMsQ0FBUSxDQUFSLENBQWxCO0FBQ0EsSUFBSUMsV0FBVyxtQkFBQUQsQ0FBUSxDQUFSLENBQWY7QUFDQSxJQUFJRSxZQUFZLG1CQUFBRixDQUFRLENBQVIsQ0FBaEI7QUFDQSxJQUFJRyxlQUFlLG1CQUFBSCxDQUFRLENBQVIsQ0FBbkI7QUFDQSxJQUFJSSxRQUFRLG1CQUFBSixDQUFRLENBQVIsQ0FBWjtBQUNBLElBQUlLLFVBQVUsbUJBQUFMLENBQVEsQ0FBUixDQUFkO0FBQ0EsSUFBSU0saUJBQWlCLG1CQUFBTixDQUFRLENB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RSxJQUFWLEVBQWdCO0FBQUUsV0FBTyxVQUFVaUUsS0FBVixFQUFpQjtBQUNuRSxjQUFNQSxLQUFOO0FBQ0gsS0FGOEM7QUFFM0MsQ0FGSjtBQUdBdkcsUUFBUWtCLGNBQVIsR0FBeUJBLGNBQXpCO0FBQ0EiLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgdHJhbnNpdGlvblxuICovXG4vKiogZm9yIHR5cGVkb2MgKi9cbnZhciBpbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL2ludGVyZmFjZVwiKTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29tbW9uXCIpO1xudmFyIHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vc3RyaW5nc1wiKTtcbnZhciBwcmVkaWNhdGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2hvZlwiKTtcbnZhciB0cmFjZV8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi90cmFjZVwiKTtcbnZhciBjb3Jlc2VydmljZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCIpO1xudmFyIHJlamVjdEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuL3JlamVjdEZhY3RvcnlcIik7XG52YXIgdGFyZ2V0U3RhdGVfMSA9IHJlcXVpcmUoXCIuLi9zdGF0ZS90YXJnZXRTdGF0ZVwiKTtcbnZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBjdXJyZW50OiBjb21tb25fMS5ub29wLFxuICAgIHRyYW5zaXRpb246IG51bGwsXG4gICAgdHJhY2VEYXRhOiB7fSxcbiAgICBiaW5kOiBudWxsLFxufTtcbi8qKiBAaGlkZGVuICovXG52YXIgVHJhbnNpdGlvbkhvb2sgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyYW5zaXRpb25Ib29rKHRyYW5zaXRpb24sIHN0YXRlQ29udGV4dCwgcmVnaXN0ZXJlZEhvb2ssIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uID0gdHJhbnNpdGlvbjtcbiAgICAgICAgdGhpcy5zdGF0ZUNvbnRleHQgPSBzdGF0ZUNvbnRleHQ7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZEhvb2sgPSByZWdpc3RlcmVkSG9vaztcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5pc1N1cGVyc2VkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMudHlwZS5ob29rUGhhc2UgPT09IGludGVyZmFjZV8xLlRyYW5zaXRpb25Ib29rUGhhc2UuUlVOICYmICFfdGhpcy5vcHRpb25zLnRyYW5zaXRpb24uaXNBY3RpdmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gY29tbW9uXzEuZGVmYXVsdHMob3B0aW9ucywgZGVmYXVsdE9wdGlvbnMpO1xuICAgICAgICB0aGlzLnR5cGUgPSByZWdpc3RlcmVkSG9vay5ldmVudFR5cGU7XG4gICAgfVxuICAgIFRyYW5zaXRpb25Ib29rLnByb3RvdHlwZS5sb2dFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uLnJvdXRlci5zdGF0ZVNlcnZpY2UuZGVmYXVsdEVycm9ySGFuZGxlcigpKGVycik7XG4gICAgfTtcbiAgICBUcmFuc2l0aW9uSG9vay5wcm90b3R5cGUuaW52b2tlSG9vayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGhvb2sgPSB0aGlzLnJlZ2lzdGVyZWRIb29rO1xuICAgICAgICBpZiAoaG9vay5fZGVyZWdpc3RlcmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgbm90Q3VycmVudCA9IHRoaXMuZ2V0Tm90Q3VycmVudFJlamVjdGlvbigpO1xuICAgICAgICBpZiAobm90Q3VycmVudClcbiAgICAgICAgICAgIHJldHVybiBub3RDdXJyZW50O1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZUhvb2tJbnZvY2F0aW9uKHRoaXMsIHRoaXMudHJhbnNpdGlvbiwgb3B0aW9ucyk7XG4gICAgICAgIHZhciBpbnZva2VDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBob29rLmNhbGxiYWNrLmNhbGwob3B0aW9ucy5iaW5kLCBfdGhpcy50cmFuc2l0aW9uLCBfdGhpcy5zdGF0ZUNvbnRleHQpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgbm9ybWFsaXplRXJyID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdEZhY3RvcnlfMS5SZWplY3Rpb24ubm9ybWFsaXplKGVycikudG9Qcm9taXNlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBob29rLmV2ZW50VHlwZS5nZXRFcnJvckhhbmRsZXIoX3RoaXMpKGVycik7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBoYW5kbGVSZXN1bHQgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gaG9vay5ldmVudFR5cGUuZ2V0UmVzdWx0SGFuZGxlcihfdGhpcykocmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbnZva2VDYWxsYmFjaygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnR5cGUuc3luY2hyb25vdXMgJiYgcHJlZGljYXRlc18xLmlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5jYXRjaChub3JtYWxpemVFcnIpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVJlc3VsdCwgaGFuZGxlRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIElmIGNhbGxiYWNrIHRocm93cyAoc3luY2hyb25vdXNseSlcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcihyZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uLm5vcm1hbGl6ZShlcnIpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaGFuZGxlcyB0aGUgcmV0dXJuIHZhbHVlIG9mIGEgVHJhbnNpdGlvbiBIb29rLlxuICAgICAqXG4gICAgICogQSBob29rIGNhbiByZXR1cm4gZmFsc2UgKGNhbmNlbCksIGEgVGFyZ2V0U3RhdGUgKHJlZGlyZWN0KSxcbiAgICAgKiBvciBhIHByb21pc2UgKHdoaWNoIG1heSBsYXRlciByZXNvbHZlIHRvIGZhbHNlIG9yIGEgcmVkaXJlY3QpXG4gICAgICpcbiAgICAgKiBUaGlzIGFsc28gaGFuZGxlcyBcInRyYW5zaXRpb24gc3VwZXJzZWRlZFwiIC0tIHdoZW4gYSBuZXcgdHJhbnNpdGlvblxuICAgICAqIHdhcyBzdGFydGVkIHdoaWxlIHRoZSBob29rIHdhcyBzdGlsbCBydW5uaW5nXG4gICAgICovXG4gICAgVHJhbnNpdGlvbkhvb2sucHJvdG90eXBlLmhhbmRsZUhvb2tSZXN1bHQgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBub3RDdXJyZW50ID0gdGhpcy5nZXROb3RDdXJyZW50UmVqZWN0aW9uKCk7XG4gICAgICAgIGlmIChub3RDdXJyZW50KVxuICAgICAgICAgICAgcmV0dXJuIG5vdEN1cnJlbnQ7XG4gICAgICAgIC8vIEhvb2sgcmV0dXJuZWQgYSBwcm9taXNlXG4gICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBwcm9taXNlLCB0aGVuIHJlcHJvY2VzcyB3aXRoIHRoZSByZXN1bHRpbmcgdmFsdWVcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbihmdW5jdGlvbiAodmFsKSB7IHJldHVybiBfdGhpcy5oYW5kbGVIb29rUmVzdWx0KHZhbCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VIb29rUmVzdWx0KHJlc3VsdCwgdGhpcy50cmFuc2l0aW9uLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAvLyBIb29rIHJldHVybmVkIGZhbHNlXG4gICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAvLyBBYm9ydCB0aGlzIFRyYW5zaXRpb25cbiAgICAgICAgICAgIHJldHVybiByZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uLmFib3J0ZWQoXCJIb29rIGFib3J0ZWQgdHJhbnNpdGlvblwiKS50b1Byb21pc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNUYXJnZXRTdGF0ZSA9IGhvZl8xLmlzKHRhcmdldFN0YXRlXzEuVGFyZ2V0U3RhdGUpO1xuICAgICAgICAvLyBob29rIHJldHVybmVkIGEgVGFyZ2V0U3RhdGVcbiAgICAgICAgaWYgKGlzVGFyZ2V0U3RhdGUocmVzdWx0KSkge1xuICAgICAgICAgICAgLy8gSGFsdCB0aGUgY3VycmVudCBUcmFuc2l0aW9uIGFuZCByZWRpcmVjdCAoYSBuZXcgVHJhbnNpdGlvbikgdG8gdGhlIFRhcmdldFN0YXRlLlxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdEZhY3RvcnlfMS5SZWplY3Rpb24ucmVkaXJlY3RlZChyZXN1bHQpLnRvUHJvbWlzZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBSZWplY3Rpb24gcHJvbWlzZSBpZiB0aGUgdHJhbnNpdGlvbiBpcyBubyBsb25nZXIgY3VycmVudCBkdWVcbiAgICAgKiB0byBhIHN0b3BwZWQgcm91dGVyIChkaXNwb3NlZCksIG9yIGEgbmV3IHRyYW5zaXRpb24gaGFzIHN0YXJ0ZWQgYW5kIHN1cGVyc2VkZWQgdGhpcyBvbmUuXG4gICAgICovXG4gICAgVHJhbnNpdGlvbkhvb2sucHJvdG90eXBlLmdldE5vdEN1cnJlbnRSZWplY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByb3V0ZXIgPSB0aGlzLnRyYW5zaXRpb24ucm91dGVyO1xuICAgICAgICAvLyBUaGUgcm91dGVyIGlzIHN0b3BwZWRcbiAgICAgICAgaWYgKHJvdXRlci5fZGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uLmFib3J0ZWQoXCJVSVJvdXRlciBpbnN0YW5jZSAjXCIgKyByb3V0ZXIuJGlkICsgXCIgaGFzIGJlZW4gc3RvcHBlZCAoZGlzcG9zZWQpXCIpLnRvUHJvbWlzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRyYW5zaXRpb24uX2Fib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uLmFib3J0ZWQoKS50b1Byb21pc2UoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIHRyYW5zaXRpb24gaXMgbm8gbG9uZ2VyIGN1cnJlbnQuXG4gICAgICAgIC8vIEFub3RoZXIgdHJhbnNpdGlvbiBzdGFydGVkIHdoaWxlIHRoaXMgaG9vayB3YXMgc3RpbGwgcnVubmluZy5cbiAgICAgICAgaWYgKHRoaXMuaXNTdXBlcnNlZGVkKCkpIHtcbiAgICAgICAgICAgIC8vIEFib3J0IHRoaXMgdHJhbnNpdGlvblxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdEZhY3RvcnlfMS5SZWplY3Rpb24uc3VwZXJzZWRlZCh0aGlzLm9wdGlvbnMuY3VycmVudCgpKS50b1Byb21pc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVHJhbnNpdGlvbkhvb2sucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBvcHRpb25zID0gX2Eub3B0aW9ucywgcmVnaXN0ZXJlZEhvb2sgPSBfYS5yZWdpc3RlcmVkSG9vaztcbiAgICAgICAgdmFyIGV2ZW50ID0gaG9mXzEucGFyc2UoXCJ0cmFjZURhdGEuaG9va1R5cGVcIikob3B0aW9ucykgfHwgXCJpbnRlcm5hbFwiLCBjb250ZXh0ID0gaG9mXzEucGFyc2UoXCJ0cmFjZURhdGEuY29udGV4dC5zdGF0ZS5uYW1lXCIpKG9wdGlvbnMpIHx8IGhvZl8xLnBhcnNlKFwidHJhY2VEYXRhLmNvbnRleHRcIikob3B0aW9ucykgfHwgXCJ1bmtub3duXCIsIG5hbWUgPSBzdHJpbmdzXzEuZm5Ub1N0cmluZyhyZWdpc3RlcmVkSG9vay5jYWxsYmFjayk7XG4gICAgICAgIHJldHVybiBldmVudCArIFwiIGNvbnRleHQ6IFwiICsgY29udGV4dCArIFwiLCBcIiArIHN0cmluZ3NfMS5tYXhMZW5ndGgoMjAwLCBuYW1lKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYWlucyB0b2dldGhlciBhbiBhcnJheSBvZiBUcmFuc2l0aW9uSG9va3MuXG4gICAgICpcbiAgICAgKiBHaXZlbiBhIGxpc3Qgb2YgW1tUcmFuc2l0aW9uSG9va11dIG9iamVjdHMsIGNoYWlucyB0aGVtIHRvZ2V0aGVyLlxuICAgICAqIEVhY2ggaG9vayBpcyBpbnZva2VkIGFmdGVyIHRoZSBwcmV2aW91cyBvbmUgY29tcGxldGVzLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIGhvb2tzOiBUcmFuc2l0aW9uSG9va1tdID0gZ2V0SG9va3MoKTtcbiAgICAgKiBsZXQgcHJvbWlzZTogUHJvbWlzZTxhbnk+ID0gVHJhbnNpdGlvbkhvb2suY2hhaW4oaG9va3MpO1xuICAgICAqXG4gICAgICogcHJvbWlzZS50aGVuKGhhbmRsZVN1Y2Nlc3MsIGhhbmRsZUVycm9yKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBob29rcyB0aGUgbGlzdCBvZiBob29rcyB0byBjaGFpbiB0b2dldGhlclxuICAgICAqIEBwYXJhbSB3YWl0Rm9yIGlmIHByb3ZpZGVkLCB0aGUgY2hhaW4gaXMgYC50aGVuKClgJ2VkIG9mZiB0aGlzIHByb21pc2VcbiAgICAgKiBAcmV0dXJucyBhIGBQcm9taXNlYCBmb3Igc2VxdWVudGlhbGx5IGludm9raW5nIHRoZSBob29rcyAoaW4gb3JkZXIpXG4gICAgICovXG4gICAgVHJhbnNpdGlvbkhvb2suY2hhaW4gPSBmdW5jdGlvbiAoaG9va3MsIHdhaXRGb3IpIHtcbiAgICAgICAgLy8gQ2hhaW4gdGhlIG5leHQgaG9vayBvZmYgdGhlIHByZXZpb3VzXG4gICAgICAgIHZhciBjcmVhdGVIb29rQ2hhaW5SID0gZnVuY3Rpb24gKHByZXYsIG5leHRIb29rKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJldi50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5leHRIb29rLmludm9rZUhvb2soKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBob29rcy5yZWR1Y2UoY3JlYXRlSG9va0NoYWluUiwgd2FpdEZvciB8fCBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS53aGVuKCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52b2tlcyBhbGwgdGhlIHByb3ZpZGVkIFRyYW5zaXRpb25Ib29rcywgaW4gb3JkZXIuXG4gICAgICogRWFjaCBob29rJ3MgcmV0dXJuIHZhbHVlIGlzIGNoZWNrZWQuXG4gICAgICogSWYgYW55IGhvb2sgcmV0dXJucyBhIHByb21pc2UsIHRoZW4gdGhlIHJlc3Qgb2YgdGhlIGhvb2tzIGFyZSBjaGFpbmVkIG9mZiB0aGF0IHByb21pc2UsIGFuZCB0aGUgcHJvbWlzZSBpcyByZXR1cm5lZC5cbiAgICAgKiBJZiBubyBob29rIHJldHVybnMgYSBwcm9taXNlLCB0aGVuIGFsbCBob29rcyBhcmUgcHJvY2Vzc2VkIHN5bmNocm9ub3VzbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaG9va3MgdGhlIGxpc3Qgb2YgVHJhbnNpdGlvbkhvb2tzIHRvIGludm9rZVxuICAgICAqIEBwYXJhbSBkb25lQ2FsbGJhY2sgYSBjYWxsYmFjayB0aGF0IGlzIGludm9rZWQgYWZ0ZXIgYWxsIHRoZSBob29rcyBoYXZlIHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIGFzeW5jIHJlc3VsdCwgb3IgdGhlIHJlc3VsdCBvZiB0aGUgY2FsbGJhY2tcbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uSG9vay5pbnZva2VIb29rcyA9IGZ1bmN0aW9uIChob29rcywgZG9uZUNhbGxiYWNrKSB7XG4gICAgICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGhvb2tzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHZhciBob29rUmVzdWx0ID0gaG9va3NbaWR4XS5pbnZva2VIb29rKCk7XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzUHJvbWlzZShob29rUmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmdIb29rcyA9IGhvb2tzLnNsaWNlKGlkeCArIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBUcmFuc2l0aW9uSG9vay5jaGFpbihyZW1haW5pbmdIb29rcywgaG9va1Jlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZG9uZUNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9uZUNhbGxiYWNrKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSdW4gYWxsIFRyYW5zaXRpb25Ib29rcywgaWdub3JpbmcgdGhlaXIgcmV0dXJuIHZhbHVlLlxuICAgICAqL1xuICAgIFRyYW5zaXRpb25Ib29rLnJ1bkFsbEhvb2tzID0gZnVuY3Rpb24gKGhvb2tzKSB7XG4gICAgICAgIGhvb2tzLmZvckVhY2goZnVuY3Rpb24gKGhvb2spIHsgcmV0dXJuIGhvb2suaW52b2tlSG9vaygpOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBUcmFuc2l0aW9uSG9vaztcbn0oKSk7XG4vKipcbiAqIFRoZXNlIEdldFJlc3VsdEhhbmRsZXIocykgYXJlIHVzZWQgYnkgW1tpbnZva2VIb29rXV0gYmVsb3dcbiAqIEVhY2ggSG9va1R5cGUgY2hvb3NlcyBhIEdldFJlc3VsdEhhbmRsZXIgKFNlZTogW1tUcmFuc2l0aW9uU2VydmljZS5fZGVmaW5lQ29yZUV2ZW50c11dKVxuICovXG5UcmFuc2l0aW9uSG9vay5IQU5ETEVfUkVTVUxUID0gZnVuY3Rpb24gKGhvb2spIHsgcmV0dXJuIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICByZXR1cm4gaG9vay5oYW5kbGVIb29rUmVzdWx0KHJlc3VsdCk7XG59OyB9O1xuLyoqXG4gKiBJZiB0aGUgcmVzdWx0IGlzIGEgcHJvbWlzZSByZWplY3Rpb24sIGxvZyBpdC5cbiAqIE90aGVyd2lzZSwgaWdub3JlIHRoZSByZXN1bHQuXG4gKi9cblRyYW5zaXRpb25Ib29rLkxPR19SRUpFQ1RFRF9SRVNVTFQgPSBmdW5jdGlvbiAoaG9vaykgeyByZXR1cm4gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIHByZWRpY2F0ZXNfMS5pc1Byb21pc2UocmVzdWx0KSAmJiByZXN1bHQuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICByZXR1cm4gaG9vay5sb2dFcnJvcihyZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uLm5vcm1hbGl6ZShlcnIpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTsgfTtcbi8qKlxuICogVGhlc2UgR2V0RXJyb3JIYW5kbGVyKHMpIGFyZSB1c2VkIGJ5IFtbaW52b2tlSG9va11dIGJlbG93XG4gKiBFYWNoIEhvb2tUeXBlIGNob29zZXMgYSBHZXRFcnJvckhhbmRsZXIgKFNlZTogW1tUcmFuc2l0aW9uU2VydmljZS5fZGVmaW5lQ29yZUV2ZW50c11dKVxuICovXG5UcmFuc2l0aW9uSG9vay5MT0dfRVJST1IgPSBmdW5jdGlvbiAoaG9vaykgeyByZXR1cm4gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgcmV0dXJuIGhvb2subG9nRXJyb3IoZXJyb3IpO1xufTsgfTtcblRyYW5zaXRpb25Ib29rLlJFSkVDVF9FUlJPUiA9IGZ1bmN0aW9uIChob29rKSB7IHJldHVybiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICByZXR1cm4gY29tbW9uXzEuc2lsZW50UmVqZWN0aW9uKGVycm9yKTtcbn07IH07XG5UcmFuc2l0aW9uSG9vay5USFJPV19FUlJPUiA9IGZ1bmN0aW9uIChob29rKSB7IHJldHVybiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbn07IH07XG5leHBvcnRzLlRyYW5zaXRpb25Ib29rID0gVHJhbnNpdGlvbkhvb2s7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2l0aW9uSG9vay5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3RyYW5zaXRpb24vdHJhbnNpdGlvbkhvb2suanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @coreapi\n * @module resolve\n */ /** for typedoc */\nvar common_1 = __webpack_require__(0);\nvar coreservices_1 = __webpack_require__(3);\nvar trace_1 = __webpack_require__(6);\nvar strings_1 = __webpack_require__(5);\nvar predicates_1 = __webpack_require__(1);\n// TODO: explicitly make this user configurable\nexports.defaultResolvePolicy = {\n    when: "LAZY",\n    async: "WAIT"\n};\n/**\n * The basic building block for the resolve system.\n *\n * Resolvables encapsulate a state\'s resolve\'s resolveFn, the resolveFn\'s declared dependencies, the wrapped (.promise),\n * and the unwrapped-when-complete (.data) result of the resolveFn.\n *\n * Resolvable.get() either retrieves the Resolvable\'s existing promise, or else invokes resolve() (which invokes the\n * resolveFn) and returns the resulting promise.\n *\n * Resolvable.get() and Resolvable.resolve() both execute within a context path, which is passed as the first\n * parameter to those fns.\n */\nvar Resolvable = function () {\n    function Resolvable(arg1, resolveFn, deps, policy, data) {\n        this.resolved = false;\n        this.promise = undefined;\n        if (arg1 instanceof Resolvable) {\n            common_1.extend(this, arg1);\n        } else if (predicates_1.isFunction(resolveFn)) {\n            if (arg1 == null || arg1 == undefined) throw new Error("new Resolvable(): token argument is required");\n            if (!predicates_1.isFunction(resolveFn)) throw new Error("new Resolvable(): resolveFn argument must be a function");\n            this.token = arg1;\n            this.policy = policy;\n            this.resolveFn = resolveFn;\n            this.deps = deps || [];\n            this.data = data;\n            this.resolved = data !== undefined;\n            this.promise = this.resolved ? coreservices_1.services.$q.when(this.data) : undefined;\n        } else if (predicates_1.isObject(arg1) && arg1.token && predicates_1.isFunction(arg1.resolveFn)) {\n            var literal = arg1;\n            return new Resolvable(literal.token, literal.resolveFn, literal.deps, literal.policy, literal.data);\n        }\n    }\n    Resolvable.prototype.getPolicy = function (state) {\n        var thisPolicy = this.policy || {};\n        var statePolicy = state && state.resolvePolicy || {};\n        return {\n            when: thisPolicy.when || statePolicy.when || exports.defaultResolvePolicy.when,\n            async: thisPolicy.async || statePolicy.async || exports.defaultResolvePolicy.async\n        };\n    };\n    /**\n     * Asynchronously resolve this Resolvable\'s data\n     *\n     * Given a ResolveContext that this Resolvable is found in:\n     * Wait for this Resolvable\'s dependencies, then invoke this Resolvable\'s function\n     * and update the Resolvable\'s state\n     */\n    Resolvable.prototype.resolve = function (resolveContext, trans) {\n        var _this = this;\n        var $q = coreservices_1.services.$q;\n        // Gets all dependencies from ResolveContext and wait for them to be resolved\n        var getResolvableDependencies = function getResolvableDependencies() {\n            return $q.all(resolveContext.getDependencies(_this).map(function (resolvable) {\n                return resolvable.get(resolveContext, trans);\n            }));\n        };\n        // Invokes the resolve function passing the resolved dependencies as arguments\n        var invokeResolveFn = function invokeResolveFn(resolvedDeps) {\n            return _this.resolveFn.apply(null, resolvedDeps);\n        };\n        /**\n         * For RXWAIT policy:\n         *\n         * Given an observable returned from a resolve function:\n         * - enables .cache() mode (this allows multicast subscribers)\n         * - then calls toPromise() (this triggers subscribe() and thus fetches)\n         * - Waits for the promise, then return the cached observable (not the first emitted value).\n         */\n        var waitForRx = function waitForRx(observable$) {\n            var cached = observable$.cache(1);\n            return cached.take(1).toPromise().then(function () {\n                return cached;\n            });\n        };\n        // If the resolve policy is RXWAIT, wait for the observable to emit something. otherwise pass through.\n        var node = resolveContext.findNode(this);\n        var state = node && node.state;\n        var maybeWaitForRx = this.getPolicy(state).async === "RXWAIT" ? waitForRx : common_1.identity;\n        // After the final value has been resolved, update the state of the Resolvable\n        var applyResolvedValue = function applyResolvedValue(resolvedValue) {\n            _this.data = resolvedValue;\n            _this.resolved = true;\n            trace_1.trace.traceResolvableResolved(_this, trans);\n            return _this.data;\n        };\n        // Sets the promise property first, then getsResolvableDependencies in the context of the promise chain. Always waits one tick.\n        return this.promise = $q.when().then(getResolvableDependencies).then(invokeResolveFn).then(maybeWaitForRx).then(applyResolvedValue);\n    };\n    /**\n     * Gets a promise for this Resolvable\'s data.\n     *\n     * Fetches the data and returns a promise.\n     * Returns the existing promise if it has already been fetched once.\n     */\n    Resolvable.prototype.get = function (resolveContext, trans) {\n        return this.promise || this.resolve(resolveContext, trans);\n    };\n    Resolvable.prototype.toString = function () {\n        return "Resolvable(token: " + strings_1.stringify(this.token) + ", requires: [" + this.deps.map(strings_1.stringify) + "])";\n    };\n    Resolvable.prototype.clone = function () {\n        return new Resolvable(this);\n    };\n    return Resolvable;\n}();\nResolvable.fromData = function (token, data) {\n    return new Resolvable(token, function () {\n        return data;\n    }, null, null, data);\n};\nexports.Resolvable = Resolvable;\n//# sourceMappingURL=resolvable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3Jlc29sdmUvcmVzb2x2YWJsZS5qcz8xYzNhIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY29tbW9uXzEiLCJyZXF1aXJlIiwiY29yZXNlcnZpY2VzXzEiLCJ0cmFjZV8xIiwic3RyaW5nc18xIiwicHJlZGljYXRlc18xIiwiZGVmYXVsdFJlc29sdmVQb2xpY3kiLCJ3aGVuIiwiYXN5bmMiLCJSZXNvbHZhYmxlIiwiYXJnMSIsInJlc29sdmVGbiIsImRlcHMiLCJwb2xpY3kiLCJkYXRhIiwicmVzb2x2ZWQiLCJwcm9taXNlIiwidW5kZWZpbmVkIiwiZXh0ZW5kIiwiaXNGdW5jdGlvbiIsIkVycm9yIiwidG9rZW4iLCJzZXJ2aWNlcyIsIiRxIiwiaXNPYmplY3QiLCJsaXRlcmFsIiwicHJvdG90eXBlIiwiZ2V0UG9saWN5Iiwic3RhdGUiLCJ0aGlzUG9saWN5Iiwic3RhdGVQb2xpY3kiLCJyZXNvbHZlUG9saWN5IiwicmVzb2x2ZSIsInJlc29sdmVDb250ZXh0IiwidHJhbnMiLCJfdGhpcyIsImdldFJlc29sdmFibGVEZXBlbmRlbmNpZXMiLCJhbGwiLCJnZXREZXBlbmRlbmNpZXMiLCJtYXAiLCJyZXNvbHZhYmxlIiwiZ2V0IiwiaW52b2tlUmVzb2x2ZUZuIiwicmVzb2x2ZWREZXBzIiwiYXBwbHkiLCJ3YWl0Rm9yUngiLCJvYnNlcnZhYmxlJCIsImNhY2hlZCIsImNhY2hlIiwidGFrZSIsInRvUHJvbWlzZSIsInRoZW4iLCJub2RlIiwiZmluZE5vZGUiLCJtYXliZVdhaXRGb3JSeCIsImlkZW50aXR5IiwiYXBwbHlSZXNvbHZlZFZhbHVlIiwicmVzb2x2ZWRWYWx1ZSIsInRyYWNlIiwidHJhY2VSZXNvbHZhYmxlUmVzb2x2ZWQiLCJ0b1N0cmluZyIsInN0cmluZ2lmeSIsImNsb25lIiwiZnJvbURhdGEiXSwibWFwcGlu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RCxFQUFvRCxJQUFwRCxFQUEwRCxJQUExRCxFQUFnRUEsSUFBaEUsQ0FBUDtBQUNILENBRkQ7QUFHQWhCLFFBQVFXLFVBQVIsR0FBcUJBLFVBQXJCO0FBQ0EiLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgcmVzb2x2ZVxuICovIC8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgY29yZXNlcnZpY2VzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvcmVzZXJ2aWNlc1wiKTtcbnZhciB0cmFjZV8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi90cmFjZVwiKTtcbnZhciBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3N0cmluZ3NcIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xuLy8gVE9ETzogZXhwbGljaXRseSBtYWtlIHRoaXMgdXNlciBjb25maWd1cmFibGVcbmV4cG9ydHMuZGVmYXVsdFJlc29sdmVQb2xpY3kgPSB7XG4gICAgd2hlbjogXCJMQVpZXCIsXG4gICAgYXN5bmM6IFwiV0FJVFwiXG59O1xuLyoqXG4gKiBUaGUgYmFzaWMgYnVpbGRpbmcgYmxvY2sgZm9yIHRoZSByZXNvbHZlIHN5c3RlbS5cbiAqXG4gKiBSZXNvbHZhYmxlcyBlbmNhcHN1bGF0ZSBhIHN0YXRlJ3MgcmVzb2x2ZSdzIHJlc29sdmVGbiwgdGhlIHJlc29sdmVGbidzIGRlY2xhcmVkIGRlcGVuZGVuY2llcywgdGhlIHdyYXBwZWQgKC5wcm9taXNlKSxcbiAqIGFuZCB0aGUgdW53cmFwcGVkLXdoZW4tY29tcGxldGUgKC5kYXRhKSByZXN1bHQgb2YgdGhlIHJlc29sdmVGbi5cbiAqXG4gKiBSZXNvbHZhYmxlLmdldCgpIGVpdGhlciByZXRyaWV2ZXMgdGhlIFJlc29sdmFibGUncyBleGlzdGluZyBwcm9taXNlLCBvciBlbHNlIGludm9rZXMgcmVzb2x2ZSgpICh3aGljaCBpbnZva2VzIHRoZVxuICogcmVzb2x2ZUZuKSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0aW5nIHByb21pc2UuXG4gKlxuICogUmVzb2x2YWJsZS5nZXQoKSBhbmQgUmVzb2x2YWJsZS5yZXNvbHZlKCkgYm90aCBleGVjdXRlIHdpdGhpbiBhIGNvbnRleHQgcGF0aCwgd2hpY2ggaXMgcGFzc2VkIGFzIHRoZSBmaXJzdFxuICogcGFyYW1ldGVyIHRvIHRob3NlIGZucy5cbiAqL1xudmFyIFJlc29sdmFibGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc29sdmFibGUoYXJnMSwgcmVzb2x2ZUZuLCBkZXBzLCBwb2xpY3ksIGRhdGEpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChhcmcxIGluc3RhbmNlb2YgUmVzb2x2YWJsZSkge1xuICAgICAgICAgICAgY29tbW9uXzEuZXh0ZW5kKHRoaXMsIGFyZzEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByZWRpY2F0ZXNfMS5pc0Z1bmN0aW9uKHJlc29sdmVGbikpIHtcbiAgICAgICAgICAgIGlmIChhcmcxID09IG51bGwgfHwgYXJnMSA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibmV3IFJlc29sdmFibGUoKTogdG9rZW4gYXJndW1lbnQgaXMgcmVxdWlyZWRcIik7XG4gICAgICAgICAgICBpZiAoIXByZWRpY2F0ZXNfMS5pc0Z1bmN0aW9uKHJlc29sdmVGbikpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibmV3IFJlc29sdmFibGUoKTogcmVzb2x2ZUZuIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgICAgIHRoaXMudG9rZW4gPSBhcmcxO1xuICAgICAgICAgICAgdGhpcy5wb2xpY3kgPSBwb2xpY3k7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVGbiA9IHJlc29sdmVGbjtcbiAgICAgICAgICAgIHRoaXMuZGVwcyA9IGRlcHMgfHwgW107XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlZCA9IGRhdGEgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMucHJvbWlzZSA9IHRoaXMucmVzb2x2ZWQgPyBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS53aGVuKHRoaXMuZGF0YSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJlZGljYXRlc18xLmlzT2JqZWN0KGFyZzEpICYmIGFyZzEudG9rZW4gJiYgcHJlZGljYXRlc18xLmlzRnVuY3Rpb24oYXJnMS5yZXNvbHZlRm4pKSB7XG4gICAgICAgICAgICB2YXIgbGl0ZXJhbCA9IGFyZzE7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlc29sdmFibGUobGl0ZXJhbC50b2tlbiwgbGl0ZXJhbC5yZXNvbHZlRm4sIGxpdGVyYWwuZGVwcywgbGl0ZXJhbC5wb2xpY3ksIGxpdGVyYWwuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUmVzb2x2YWJsZS5wcm90b3R5cGUuZ2V0UG9saWN5ID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciB0aGlzUG9saWN5ID0gdGhpcy5wb2xpY3kgfHwge307XG4gICAgICAgIHZhciBzdGF0ZVBvbGljeSA9IHN0YXRlICYmIHN0YXRlLnJlc29sdmVQb2xpY3kgfHwge307XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aGVuOiB0aGlzUG9saWN5LndoZW4gfHwgc3RhdGVQb2xpY3kud2hlbiB8fCBleHBvcnRzLmRlZmF1bHRSZXNvbHZlUG9saWN5LndoZW4sXG4gICAgICAgICAgICBhc3luYzogdGhpc1BvbGljeS5hc3luYyB8fCBzdGF0ZVBvbGljeS5hc3luYyB8fCBleHBvcnRzLmRlZmF1bHRSZXNvbHZlUG9saWN5LmFzeW5jLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXN5bmNocm9ub3VzbHkgcmVzb2x2ZSB0aGlzIFJlc29sdmFibGUncyBkYXRhXG4gICAgICpcbiAgICAgKiBHaXZlbiBhIFJlc29sdmVDb250ZXh0IHRoYXQgdGhpcyBSZXNvbHZhYmxlIGlzIGZvdW5kIGluOlxuICAgICAqIFdhaXQgZm9yIHRoaXMgUmVzb2x2YWJsZSdzIGRlcGVuZGVuY2llcywgdGhlbiBpbnZva2UgdGhpcyBSZXNvbHZhYmxlJ3MgZnVuY3Rpb25cbiAgICAgKiBhbmQgdXBkYXRlIHRoZSBSZXNvbHZhYmxlJ3Mgc3RhdGVcbiAgICAgKi9cbiAgICBSZXNvbHZhYmxlLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gKHJlc29sdmVDb250ZXh0LCB0cmFucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgJHEgPSBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcTtcbiAgICAgICAgLy8gR2V0cyBhbGwgZGVwZW5kZW5jaWVzIGZyb20gUmVzb2x2ZUNvbnRleHQgYW5kIHdhaXQgZm9yIHRoZW0gdG8gYmUgcmVzb2x2ZWRcbiAgICAgICAgdmFyIGdldFJlc29sdmFibGVEZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJHEuYWxsKHJlc29sdmVDb250ZXh0LmdldERlcGVuZGVuY2llcyhfdGhpcykubWFwKGZ1bmN0aW9uIChyZXNvbHZhYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmFibGUuZ2V0KHJlc29sdmVDb250ZXh0LCB0cmFucyk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEludm9rZXMgdGhlIHJlc29sdmUgZnVuY3Rpb24gcGFzc2luZyB0aGUgcmVzb2x2ZWQgZGVwZW5kZW5jaWVzIGFzIGFyZ3VtZW50c1xuICAgICAgICB2YXIgaW52b2tlUmVzb2x2ZUZuID0gZnVuY3Rpb24gKHJlc29sdmVkRGVwcykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlc29sdmVGbi5hcHBseShudWxsLCByZXNvbHZlZERlcHMpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRm9yIFJYV0FJVCBwb2xpY3k6XG4gICAgICAgICAqXG4gICAgICAgICAqIEdpdmVuIGFuIG9ic2VydmFibGUgcmV0dXJuZWQgZnJvbSBhIHJlc29sdmUgZnVuY3Rpb246XG4gICAgICAgICAqIC0gZW5hYmxlcyAuY2FjaGUoKSBtb2RlICh0aGlzIGFsbG93cyBtdWx0aWNhc3Qgc3Vic2NyaWJlcnMpXG4gICAgICAgICAqIC0gdGhlbiBjYWxscyB0b1Byb21pc2UoKSAodGhpcyB0cmlnZ2VycyBzdWJzY3JpYmUoKSBhbmQgdGh1cyBmZXRjaGVzKVxuICAgICAgICAgKiAtIFdhaXRzIGZvciB0aGUgcHJvbWlzZSwgdGhlbiByZXR1cm4gdGhlIGNhY2hlZCBvYnNlcnZhYmxlIChub3QgdGhlIGZpcnN0IGVtaXR0ZWQgdmFsdWUpLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHdhaXRGb3JSeCA9IGZ1bmN0aW9uIChvYnNlcnZhYmxlJCkge1xuICAgICAgICAgICAgdmFyIGNhY2hlZCA9IG9ic2VydmFibGUkLmNhY2hlKDEpO1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZC50YWtlKDEpLnRvUHJvbWlzZSgpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FjaGVkOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSWYgdGhlIHJlc29sdmUgcG9saWN5IGlzIFJYV0FJVCwgd2FpdCBmb3IgdGhlIG9ic2VydmFibGUgdG8gZW1pdCBzb21ldGhpbmcuIG90aGVyd2lzZSBwYXNzIHRocm91Z2guXG4gICAgICAgIHZhciBub2RlID0gcmVzb2x2ZUNvbnRleHQuZmluZE5vZGUodGhpcyk7XG4gICAgICAgIHZhciBzdGF0ZSA9IG5vZGUgJiYgbm9kZS5zdGF0ZTtcbiAgICAgICAgdmFyIG1heWJlV2FpdEZvclJ4ID0gdGhpcy5nZXRQb2xpY3koc3RhdGUpLmFzeW5jID09PSBcIlJYV0FJVFwiID8gd2FpdEZvclJ4IDogY29tbW9uXzEuaWRlbnRpdHk7XG4gICAgICAgIC8vIEFmdGVyIHRoZSBmaW5hbCB2YWx1ZSBoYXMgYmVlbiByZXNvbHZlZCwgdXBkYXRlIHRoZSBzdGF0ZSBvZiB0aGUgUmVzb2x2YWJsZVxuICAgICAgICB2YXIgYXBwbHlSZXNvbHZlZFZhbHVlID0gZnVuY3Rpb24gKHJlc29sdmVkVmFsdWUpIHtcbiAgICAgICAgICAgIF90aGlzLmRhdGEgPSByZXNvbHZlZFZhbHVlO1xuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZVJlc29sdmFibGVSZXNvbHZlZChfdGhpcywgdHJhbnMpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmRhdGE7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFNldHMgdGhlIHByb21pc2UgcHJvcGVydHkgZmlyc3QsIHRoZW4gZ2V0c1Jlc29sdmFibGVEZXBlbmRlbmNpZXMgaW4gdGhlIGNvbnRleHQgb2YgdGhlIHByb21pc2UgY2hhaW4uIEFsd2F5cyB3YWl0cyBvbmUgdGljay5cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZSA9ICRxLndoZW4oKVxuICAgICAgICAgICAgLnRoZW4oZ2V0UmVzb2x2YWJsZURlcGVuZGVuY2llcylcbiAgICAgICAgICAgIC50aGVuKGludm9rZVJlc29sdmVGbilcbiAgICAgICAgICAgIC50aGVuKG1heWJlV2FpdEZvclJ4KVxuICAgICAgICAgICAgLnRoZW4oYXBwbHlSZXNvbHZlZFZhbHVlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBwcm9taXNlIGZvciB0aGlzIFJlc29sdmFibGUncyBkYXRhLlxuICAgICAqXG4gICAgICogRmV0Y2hlcyB0aGUgZGF0YSBhbmQgcmV0dXJucyBhIHByb21pc2UuXG4gICAgICogUmV0dXJucyB0aGUgZXhpc3RpbmcgcHJvbWlzZSBpZiBpdCBoYXMgYWxyZWFkeSBiZWVuIGZldGNoZWQgb25jZS5cbiAgICAgKi9cbiAgICBSZXNvbHZhYmxlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAocmVzb2x2ZUNvbnRleHQsIHRyYW5zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2UgfHwgdGhpcy5yZXNvbHZlKHJlc29sdmVDb250ZXh0LCB0cmFucyk7XG4gICAgfTtcbiAgICBSZXNvbHZhYmxlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiUmVzb2x2YWJsZSh0b2tlbjogXCIgKyBzdHJpbmdzXzEuc3RyaW5naWZ5KHRoaXMudG9rZW4pICsgXCIsIHJlcXVpcmVzOiBbXCIgKyB0aGlzLmRlcHMubWFwKHN0cmluZ3NfMS5zdHJpbmdpZnkpICsgXCJdKVwiO1xuICAgIH07XG4gICAgUmVzb2x2YWJsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2YWJsZSh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNvbHZhYmxlO1xufSgpKTtcblJlc29sdmFibGUuZnJvbURhdGEgPSBmdW5jdGlvbiAodG9rZW4sIGRhdGEpIHtcbiAgICByZXR1cm4gbmV3IFJlc29sdmFibGUodG9rZW4sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRhdGE7IH0sIG51bGwsIG51bGwsIGRhdGEpO1xufTtcbmV4cG9ydHMuUmVzb2x2YWJsZSA9IFJlc29sdmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZhYmxlLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvcmVzb2x2ZS9yZXNvbHZhYmxlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\nvar index_1 = __webpack_require__(15);\nvar common_1 = __webpack_require__(0);\nvar beforeAfterSubstr = function beforeAfterSubstr(char) {\n    return function (str) {\n        if (!str) return ["", ""];\n        var idx = str.indexOf(char);\n        if (idx === -1) return [str, ""];\n        return [str.substr(0, idx), str.substr(idx + 1)];\n    };\n};\nexports.splitHash = beforeAfterSubstr("#");\nexports.splitQuery = beforeAfterSubstr("?");\nexports.splitEqual = beforeAfterSubstr("=");\nexports.trimHashVal = function (str) {\n    return str ? str.replace(/^#/, "") : "";\n};\nexports.keyValsToObjectR = function (accum, _a) {\n    var key = _a[0],\n        val = _a[1];\n    if (!accum.hasOwnProperty(key)) {\n        accum[key] = val;\n    } else if (index_1.isArray(accum[key])) {\n        accum[key].push(val);\n    } else {\n        accum[key] = [accum[key], val];\n    }\n    return accum;\n};\nexports.getParams = function (queryString) {\n    return queryString.split("&").filter(common_1.identity).map(exports.splitEqual).reduce(exports.keyValsToObjectR, {});\n};\nfunction parseUrl(url) {\n    var orEmptyString = function orEmptyString(x) {\n        return x || "";\n    };\n    var _a = exports.splitHash(url).map(orEmptyString),\n        beforehash = _a[0],\n        hash = _a[1];\n    var _b = exports.splitQuery(beforehash).map(orEmptyString),\n        path = _b[0],\n        search = _b[1];\n    return { path: path, search: search, hash: hash, url: url };\n}\nexports.parseUrl = parseUrl;\nexports.buildUrl = function (loc) {\n    var path = loc.path();\n    var searchObject = loc.search();\n    var hash = loc.hash();\n    var search = Object.keys(searchObject).map(function (key) {\n        var param = searchObject[key];\n        var vals = index_1.isArray(param) ? param : [param];\n        return vals.map(function (val) {\n            return key + "=" + val;\n        });\n    }).reduce(common_1.unnestR, []).join("&");\n    return path + (search ? "?" + search : "") + (hash ? "#" + hash : "");\n};\nfunction locationPluginFactory(name, isHtml5, serviceClass, configurationClass) {\n    return function (router) {\n        var service = router.locationService = new serviceClass(router);\n        var configuration = router.locationConfig = new configurationClass(router, isHtml5);\n        function dispose(router) {\n            router.dispose(service);\n            router.dispose(configuration);\n        }\n        return { name: name, service: service, configuration: configuration, dispose: dispose };\n    };\n}\nexports.locationPluginFactory = locationPluginFactory;\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZhbmlsbGEvdXRpbHMuanM/OWI3ZiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImluZGV4XzEiLCJyZXF1aXJlIiwiY29tbW9uXzEiLCJiZWZvcmVBZnRlclN1YnN0ciIsImNoYXIiLCJzdHIiLCJpZHgiLCJpbmRleE9mIiwic3Vic3RyIiwic3BsaXRIYXNoIiwic3BsaXRRdWVyeSIsInNwbGl0RXF1YWwiLCJ0cmltSGFzaFZhbCIsInJlcGxhY2UiLCJrZXlWYWxzVG9PYmplY3RSIiwiYWNjdW0iLCJfYSIsImtleSIsInZhbCIsImhhc093blByb3BlcnR5IiwiaXNBcnJheSIsInB1c2giLCJnZXRQYXJhbXMiLCJxdWVyeVN0cmluZyIsInNwbGl0IiwiZmlsdGVyIiwiaWRlbnRpdHkiLCJtYXAiLCJyZWR1Y2UiLCJwYXJzZVVybCIsInVybCIsIm9yRW1wdHlTdHJpbmciLCJ4IiwiYmVmb3JlaGFzaCIsImhhc2giLCJfYiIsInBhdGgiLCJzZWFyY2giLCJidWlsZFVybCIsImxvYyIsInNlYXJjaE9iamVjdCIsImtleXMiLCJwYXJhbSIsInZhbHMiLCJ1bm5lc3RSIiwiam9pbiIsImxvY2F0aW9uUGx1Z2luRmFjdG9yeSIsIm5hbWUiLCJpc0h0bWw1Iiwic2VydmljZUNsYXNzIiwiY29uZmlndXJhdGlvbkNsYXNzIiwicm91dGVyIiwic2VydmljZSIsImxvY2F0aW9uU2VydmljZSIsImNvbmZpZ3VyYXRpb24iLCJsb2NhdGlvbkNvbmZpZyIsImRpc3Bvc2UiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTs7OztBQUlBO0FBQ0EsSUFBSUMsVUFBVSxtQkFBQUMsQ0FBUSxFQUFSLENBQWQ7QUFDQSxJQUFJ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Q0FBZUosT0FBZjtBQUNBRCxtQkFBT0ssT0FBUCxDQUFlRixhQUFmO0FBQ0g7QUFDRCxlQUFPLEVBQUVQLE1BQU1BLElBQVIsRUFBY0ssU0FBU0EsT0FBdkIsRUFBZ0NFLGVBQWVBLGFBQS9DLEVBQThERSxTQUFTQSxPQUF2RSxFQUFQO0FBQ0gsS0FSRDtBQVNIO0FBQ0QxRCxRQUFRZ0QscUJBQVIsR0FBZ0NBLHFCQUFoQztBQUNBIiwiZmlsZSI6IjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEBpbnRlcm5hbGFwaVxuICogQG1vZHVsZSB2YW5pbGxhXG4gKi9cbi8qKiAqL1xudmFyIGluZGV4XzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2luZGV4XCIpO1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgYmVmb3JlQWZ0ZXJTdWJzdHIgPSBmdW5jdGlvbiAoY2hhcikgeyByZXR1cm4gZnVuY3Rpb24gKHN0cikge1xuICAgIGlmICghc3RyKVxuICAgICAgICByZXR1cm4gW1wiXCIsIFwiXCJdO1xuICAgIHZhciBpZHggPSBzdHIuaW5kZXhPZihjaGFyKTtcbiAgICBpZiAoaWR4ID09PSAtMSlcbiAgICAgICAgcmV0dXJuIFtzdHIsIFwiXCJdO1xuICAgIHJldHVybiBbc3RyLnN1YnN0cigwLCBpZHgpLCBzdHIuc3Vic3RyKGlkeCArIDEpXTtcbn07IH07XG5leHBvcnRzLnNwbGl0SGFzaCA9IGJlZm9yZUFmdGVyU3Vic3RyKFwiI1wiKTtcbmV4cG9ydHMuc3BsaXRRdWVyeSA9IGJlZm9yZUFmdGVyU3Vic3RyKFwiP1wiKTtcbmV4cG9ydHMuc3BsaXRFcXVhbCA9IGJlZm9yZUFmdGVyU3Vic3RyKFwiPVwiKTtcbmV4cG9ydHMudHJpbUhhc2hWYWwgPSBmdW5jdGlvbiAoc3RyKSB7IHJldHVybiBzdHIgPyBzdHIucmVwbGFjZSgvXiMvLCBcIlwiKSA6IFwiXCI7IH07XG5leHBvcnRzLmtleVZhbHNUb09iamVjdFIgPSBmdW5jdGlvbiAoYWNjdW0sIF9hKSB7XG4gICAgdmFyIGtleSA9IF9hWzBdLCB2YWwgPSBfYVsxXTtcbiAgICBpZiAoIWFjY3VtLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgYWNjdW1ba2V5XSA9IHZhbDtcbiAgICB9XG4gICAgZWxzZSBpZiAoaW5kZXhfMS5pc0FycmF5KGFjY3VtW2tleV0pKSB7XG4gICAgICAgIGFjY3VtW2tleV0ucHVzaCh2YWwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYWNjdW1ba2V5XSA9IFthY2N1bVtrZXldLCB2YWxdO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW07XG59O1xuZXhwb3J0cy5nZXRQYXJhbXMgPSBmdW5jdGlvbiAocXVlcnlTdHJpbmcpIHtcbiAgICByZXR1cm4gcXVlcnlTdHJpbmcuc3BsaXQoXCImXCIpLmZpbHRlcihjb21tb25fMS5pZGVudGl0eSkubWFwKGV4cG9ydHMuc3BsaXRFcXVhbCkucmVkdWNlKGV4cG9ydHMua2V5VmFsc1RvT2JqZWN0Uiwge30pO1xufTtcbmZ1bmN0aW9uIHBhcnNlVXJsKHVybCkge1xuICAgIHZhciBvckVtcHR5U3RyaW5nID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggfHwgXCJcIjsgfTtcbiAgICB2YXIgX2EgPSBleHBvcnRzLnNwbGl0SGFzaCh1cmwpLm1hcChvckVtcHR5U3RyaW5nKSwgYmVmb3JlaGFzaCA9IF9hWzBdLCBoYXNoID0gX2FbMV07XG4gICAgdmFyIF9iID0gZXhwb3J0cy5zcGxpdFF1ZXJ5KGJlZm9yZWhhc2gpLm1hcChvckVtcHR5U3RyaW5nKSwgcGF0aCA9IF9iWzBdLCBzZWFyY2ggPSBfYlsxXTtcbiAgICByZXR1cm4geyBwYXRoOiBwYXRoLCBzZWFyY2g6IHNlYXJjaCwgaGFzaDogaGFzaCwgdXJsOiB1cmwgfTtcbn1cbmV4cG9ydHMucGFyc2VVcmwgPSBwYXJzZVVybDtcbmV4cG9ydHMuYnVpbGRVcmwgPSBmdW5jdGlvbiAobG9jKSB7XG4gICAgdmFyIHBhdGggPSBsb2MucGF0aCgpO1xuICAgIHZhciBzZWFyY2hPYmplY3QgPSBsb2Muc2VhcmNoKCk7XG4gICAgdmFyIGhhc2ggPSBsb2MuaGFzaCgpO1xuICAgIHZhciBzZWFyY2ggPSBPYmplY3Qua2V5cyhzZWFyY2hPYmplY3QpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBwYXJhbSA9IHNlYXJjaE9iamVjdFtrZXldO1xuICAgICAgICB2YXIgdmFscyA9IGluZGV4XzEuaXNBcnJheShwYXJhbSkgPyBwYXJhbSA6IFtwYXJhbV07XG4gICAgICAgIHJldHVybiB2YWxzLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBrZXkgKyBcIj1cIiArIHZhbDsgfSk7XG4gICAgfSkucmVkdWNlKGNvbW1vbl8xLnVubmVzdFIsIFtdKS5qb2luKFwiJlwiKTtcbiAgICByZXR1cm4gcGF0aCArIChzZWFyY2ggPyBcIj9cIiArIHNlYXJjaCA6IFwiXCIpICsgKGhhc2ggPyBcIiNcIiArIGhhc2ggOiBcIlwiKTtcbn07XG5mdW5jdGlvbiBsb2NhdGlvblBsdWdpbkZhY3RvcnkobmFtZSwgaXNIdG1sNSwgc2VydmljZUNsYXNzLCBjb25maWd1cmF0aW9uQ2xhc3MpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJvdXRlcikge1xuICAgICAgICB2YXIgc2VydmljZSA9IHJvdXRlci5sb2NhdGlvblNlcnZpY2UgPSBuZXcgc2VydmljZUNsYXNzKHJvdXRlcik7XG4gICAgICAgIHZhciBjb25maWd1cmF0aW9uID0gcm91dGVyLmxvY2F0aW9uQ29uZmlnID0gbmV3IGNvbmZpZ3VyYXRpb25DbGFzcyhyb3V0ZXIsIGlzSHRtbDUpO1xuICAgICAgICBmdW5jdGlvbiBkaXNwb3NlKHJvdXRlcikge1xuICAgICAgICAgICAgcm91dGVyLmRpc3Bvc2Uoc2VydmljZSk7XG4gICAgICAgICAgICByb3V0ZXIuZGlzcG9zZShjb25maWd1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBuYW1lOiBuYW1lLCBzZXJ2aWNlOiBzZXJ2aWNlLCBjb25maWd1cmF0aW9uOiBjb25maWd1cmF0aW9uLCBkaXNwb3NlOiBkaXNwb3NlIH07XG4gICAgfTtcbn1cbmV4cG9ydHMubG9jYXRpb25QbHVnaW5GYWN0b3J5ID0gbG9jYXRpb25QbHVnaW5GYWN0b3J5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi92YW5pbGxhL3V0aWxzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///14\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nfunction __export(m) {\n    for (var p in m) {\n        if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n}\nObject.defineProperty(exports, "__esModule", { value: true });\n/** @module common */ /** for typedoc */\n__export(__webpack_require__(0));\n__export(__webpack_require__(3));\n__export(__webpack_require__(16));\n__export(__webpack_require__(2));\n__export(__webpack_require__(1));\n__export(__webpack_require__(23));\n__export(__webpack_require__(5));\n__export(__webpack_require__(6));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2NvbW1vbi9pbmRleC5qcz85MTk5Il0sIm5hbWVzIjpbIl9fZXhwb3J0IiwibSIsInAiLCJleHBvcnRzIiwiaGFzT3duUHJvcGVydHkiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwicmVxdWlyZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsU0FBU0EsUUFBVCxDQUFrQkMsQ0FBbEIsRUFBcUI7QUFDakIsU0FBSyxJQUFJQyxDQUFULElBQWNELENBQWQ7QUFBaUIsWUFBSSxDQUFDRSxRQUFRQyxjQUFSLENBQXVCRixDQUF2QixDQUFMLEVBQWdDQyxRQUFRRCxDQUFSLElBQWFELEVBQUVDLENBQUYsQ0FBYjtBQUFqRDtBQUNIO0FBQ0RHLE9BQU9DLGNBQVAsQ0FBc0JILE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVJLE9BQU8sSUFBVCxFQUE3QztBQUNBLHFCLENBQXNCO0FBQ3RCUCxTQUFTLG1CQUFBUSxDQUFRLENBQVIsQ0FBVDtBQUNBUixTQUFTLG1CQUFBUSxDQUFRLENBQVIsQ0FBVDtBQUNBUixTQUFTLG1CQUFBUSxDQUFRLEVBQVIsQ0FBVDtBQUNBUixTQUFTLG1CQUFBUSxDQUFRLENBQVIsQ0FBVDtBQUNBUixTQUFTLG1CQUFBUSxDQUFRLENBQVIsQ0FBVDtBQUNBUixTQUFTLG1CQUFBUSxDQUFRLEVBQVIsQ0FBVDtBQUNBUixTQUFTLG1CQUFBUSxDQUFRLENBQVIsQ0FBVDtBQUNBUixTQUFTLG1CQUFBUSxDQUFRLENBQVIsQ0FBVDtBQUNBIiwiZmlsZSI6IjE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBtb2R1bGUgY29tbW9uICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuX19leHBvcnQocmVxdWlyZShcIi4vY29tbW9uXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvcmVzZXJ2aWNlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9nbG9iXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2hvZlwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wcmVkaWNhdGVzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3F1ZXVlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N0cmluZ3NcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdHJhY2VcIikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi9jb21tb24vaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @coreapi\n * @module core\n */\n/**\n * Matches state names using glob-like pattern strings.\n *\n * Globs can be used in specific APIs including:\n *\n * - [[StateService.is]]\n * - [[StateService.includes]]\n * - The first argument to Hook Registration functions like [[TransitionService.onStart]]\n *    - [[HookMatchCriteria]] and [[HookMatchCriterion]]\n *\n * A `Glob` string is a pattern which matches state names.\n * Nested state names are split into segments (separated by a dot) when processing.\n * The state named `foo.bar.baz` is split into three segments ['foo', 'bar', 'baz']\n *\n * Globs work according to the following rules:\n *\n * ### Exact match:\n *\n * The glob `'A.B'` matches the state named exactly `'A.B'`.\n *\n * | Glob        |Matches states named|Does not match state named|\n * |:------------|:--------------------|:---------------------|\n * | `'A'`       | `'A'`               | `'B'` , `'A.C'`      |\n * | `'A.B'`     | `'A.B'`             | `'A'` , `'A.B.C'`    |\n * | `'foo'`     | `'foo'`             | `'FOO'` , `'foo.bar'`|\n *\n * ### Single star (`*`)\n *\n * A single star (`*`) is a wildcard that matches exactly one segment.\n *\n * | Glob        |Matches states named  |Does not match state named |\n * |:------------|:---------------------|:--------------------------|\n * | `'*'`       | `'A'` , `'Z'`        | `'A.B'` , `'Z.Y.X'`       |\n * | `'A.*'`     | `'A.B'` , `'A.C'`    | `'A'` , `'A.B.C'`         |\n * | `'A.*.*'`   | `'A.B.C'` , `'A.X.Y'`| `'A'`, `'A.B'` , `'Z.Y.X'`|\n *\n * ### Double star (`**`)\n *\n * A double star (`'**'`) is a wildcard that matches *zero or more segments*\n *\n * | Glob        |Matches states named                           |Does not match state named         |\n * |:------------|:----------------------------------------------|:----------------------------------|\n * | `'**'`      | `'A'` , `'A.B'`, `'Z.Y.X'`                    | (matches all states)              |\n * | `'A.**'`    | `'A'` , `'A.B'` , `'A.C.X'`                   | `'Z.Y.X'`                         |\n * | `'**.X'`    | `'X'` , `'A.X'` , `'Z.Y.X'`                   | `'A'` , `'A.login.Z'`             |\n * | `'A.**.X'`  | `'A.X'` , `'A.B.X'` , `'A.B.C.X'`             | `'A'` , `'A.B.C'`                 |\n *\n */\nvar Glob = function () {\n    function Glob(text) {\n        this.text = text;\n        this.glob = text.split('.');\n        var regexpString = this.text.split('.').map(function (seg) {\n            if (seg === '**') return '(?:|(?:\\\\.[^.]*)*)';\n            if (seg === '*') return '\\\\.[^.]*';\n            return '\\\\.' + seg;\n        }).join('');\n        this.regexp = new RegExp(\"^\" + regexpString + \"$\");\n    }\n    Glob.prototype.matches = function (name) {\n        return this.regexp.test('.' + name);\n    };\n    /** Returns true if the string has glob-like characters in it */\n    Glob.is = function (text) {\n        return !!/[!,*]+/.exec(text);\n    };\n    /** Returns a glob from the string, or null if the string isn't Glob-like */\n    Glob.fromString = function (text) {\n        return Glob.is(text) ? new Glob(text) : null;\n    };\n    return Glob;\n}();\nexports.Glob = Glob;\n//# sourceMappingURL=glob.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2NvbW1vbi9nbG9iLmpzP2I0ODkiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJHbG9iIiwidGV4dCIsImdsb2IiLCJzcGxpdCIsInJlZ2V4cFN0cmluZyIsIm1hcCIsInNlZyIsImpvaW4iLCJyZWdleHAiLCJSZWdFeHAiLCJwcm90b3R5cGUiLCJtYXRjaGVzIiwibmFtZSIsInRlc3QiLCJpcyIsImV4ZWMiLCJmcm9tU3RyaW5nIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0E7Ozs7QUFJQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBZ0RBLElBQUlDLE9BQVEsWUFBWTtBQUNwQixhQUFTQSxJQUFULENBQWNDLElBQWQsRUFBb0I7QUFDaEIsYUFBS0EsSUFBTCxHQUFZQSxJQUFaO0FBQ0EsYUFBS0MsSUFBTCxHQUFZRCxLQUFLRSxLQUFMLENBQVcsR0FBWCxDQUFaO0FBQ0EsWUFBSUMsZUFBZSxLQUFLSCxJQUFMLENBQVVFLEtBQVYsQ0FBZ0IsR0FBaEIsRUFDZEUsR0FEYyxDQUNWLFVBQVVDLEdBQVYsRUFBZTtBQUNwQixnQkFBSUEsUUFBUSxJQUFaLEVBQ0ksT0FBTyxvQkFBUDtBQUNKLGdCQUFJQSxRQUFRLEdBQVosRUFDSSxPQUFPLFVBQVA7QUFDSixtQkFBTyxRQUFRQSxHQUFmO0FBQ0gsU0FQa0IsRUFPaEJDLElBUGdCLENBT1gsRUFQVyxDQUFuQjtBQVFBLGFBQUtDLE1BQUwsR0FBYyxJQUFJQyxNQUFKLENBQVcsTUFBTUwsWUFBTixHQUFxQixHQUFoQyxDQUFkO0FBQ0g7QUFDREosU0FBS1UsU0FBTCxDQUFlQyxPQUFmLEdBQXlCLFVBQVVDLElBQVYsRUFBZ0I7QUFDckMsZUFBTyxLQUFLSixNQUFMLENBQVlLLElBQVosQ0FBaUIsTUFBTUQsSUFBdkIsQ0FBUDtBQUNILEtBRkQ7QUFHQTtBQUNBWixTQUFLYyxFQUFMLEdBQVUsVUFBVWIsSUFBVixFQUFnQjtBQUN0QixlQUFPLENBQUMsQ0FBQyxTQUFTYyxJQUFULENBQWNkLElBQWQsQ0FBVDtBQUNILEtBRkQ7QUFHQTtBQUNBRCxTQUFLZ0IsVUFBTCxHQUFrQixVQUFVZixJQUFWLEVBQWdCO0FBQzlCLGVBQU9ELEtBQUtjLEVBQUwsQ0FBUWIsSUFBUixJQUFnQixJQUFJRCxJQUFKLENBQVNDLElBQVQsQ0FBaEIsR0FBaUMsSUFBeEM7QUFDSCxLQUZEO0FBR0EsV0FBT0QsSUFBUDtBQUNILENBMUJXLEVBQVo7QUEyQkFGLFFBQVFFLElBQVIsR0FBZUEsSUFBZjtBQUNBIiwiZmlsZSI6IjE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEBjb3JlYXBpXG4gKiBAbW9kdWxlIGNvcmVcbiAqL1xuLyoqXG4gKiBNYXRjaGVzIHN0YXRlIG5hbWVzIHVzaW5nIGdsb2ItbGlrZSBwYXR0ZXJuIHN0cmluZ3MuXG4gKlxuICogR2xvYnMgY2FuIGJlIHVzZWQgaW4gc3BlY2lmaWMgQVBJcyBpbmNsdWRpbmc6XG4gKlxuICogLSBbW1N0YXRlU2VydmljZS5pc11dXG4gKiAtIFtbU3RhdGVTZXJ2aWNlLmluY2x1ZGVzXV1cbiAqIC0gVGhlIGZpcnN0IGFyZ3VtZW50IHRvIEhvb2sgUmVnaXN0cmF0aW9uIGZ1bmN0aW9ucyBsaWtlIFtbVHJhbnNpdGlvblNlcnZpY2Uub25TdGFydF1dXG4gKiAgICAtIFtbSG9va01hdGNoQ3JpdGVyaWFdXSBhbmQgW1tIb29rTWF0Y2hDcml0ZXJpb25dXVxuICpcbiAqIEEgYEdsb2JgIHN0cmluZyBpcyBhIHBhdHRlcm4gd2hpY2ggbWF0Y2hlcyBzdGF0ZSBuYW1lcy5cbiAqIE5lc3RlZCBzdGF0ZSBuYW1lcyBhcmUgc3BsaXQgaW50byBzZWdtZW50cyAoc2VwYXJhdGVkIGJ5IGEgZG90KSB3aGVuIHByb2Nlc3NpbmcuXG4gKiBUaGUgc3RhdGUgbmFtZWQgYGZvby5iYXIuYmF6YCBpcyBzcGxpdCBpbnRvIHRocmVlIHNlZ21lbnRzIFsnZm9vJywgJ2JhcicsICdiYXonXVxuICpcbiAqIEdsb2JzIHdvcmsgYWNjb3JkaW5nIHRvIHRoZSBmb2xsb3dpbmcgcnVsZXM6XG4gKlxuICogIyMjIEV4YWN0IG1hdGNoOlxuICpcbiAqIFRoZSBnbG9iIGAnQS5CJ2AgbWF0Y2hlcyB0aGUgc3RhdGUgbmFtZWQgZXhhY3RseSBgJ0EuQidgLlxuICpcbiAqIHwgR2xvYiAgICAgICAgfE1hdGNoZXMgc3RhdGVzIG5hbWVkfERvZXMgbm90IG1hdGNoIHN0YXRlIG5hbWVkfFxuICogfDotLS0tLS0tLS0tLS18Oi0tLS0tLS0tLS0tLS0tLS0tLS0tfDotLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IGAnQSdgICAgICAgIHwgYCdBJ2AgICAgICAgICAgICAgICB8IGAnQidgICwgYCdBLkMnYCAgICAgIHxcbiAqIHwgYCdBLkInYCAgICAgfCBgJ0EuQidgICAgICAgICAgICAgIHwgYCdBJ2AgLCBgJ0EuQi5DJ2AgICAgfFxuICogfCBgJ2ZvbydgICAgICB8IGAnZm9vJ2AgICAgICAgICAgICAgfCBgJ0ZPTydgICwgYCdmb28uYmFyJ2B8XG4gKlxuICogIyMjIFNpbmdsZSBzdGFyIChgKmApXG4gKlxuICogQSBzaW5nbGUgc3RhciAoYCpgKSBpcyBhIHdpbGRjYXJkIHRoYXQgbWF0Y2hlcyBleGFjdGx5IG9uZSBzZWdtZW50LlxuICpcbiAqIHwgR2xvYiAgICAgICAgfE1hdGNoZXMgc3RhdGVzIG5hbWVkICB8RG9lcyBub3QgbWF0Y2ggc3RhdGUgbmFtZWQgfFxuICogfDotLS0tLS0tLS0tLS18Oi0tLS0tLS0tLS0tLS0tLS0tLS0tLXw6LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IGAnKidgICAgICAgIHwgYCdBJ2AgLCBgJ1onYCAgICAgICAgfCBgJ0EuQidgICwgYCdaLlkuWCdgICAgICAgIHxcbiAqIHwgYCdBLionYCAgICAgfCBgJ0EuQidgICwgYCdBLkMnYCAgICB8IGAnQSdgICwgYCdBLkIuQydgICAgICAgICAgfFxuICogfCBgJ0EuKi4qJ2AgICB8IGAnQS5CLkMnYCAsIGAnQS5YLlknYHwgYCdBJ2AsIGAnQS5CJ2AgLCBgJ1ouWS5YJ2B8XG4gKlxuICogIyMjIERvdWJsZSBzdGFyIChgKipgKVxuICpcbiAqIEEgZG91YmxlIHN0YXIgKGAnKionYCkgaXMgYSB3aWxkY2FyZCB0aGF0IG1hdGNoZXMgKnplcm8gb3IgbW9yZSBzZWdtZW50cypcbiAqXG4gKiB8IEdsb2IgICAgICAgIHxNYXRjaGVzIHN0YXRlcyBuYW1lZCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxEb2VzIG5vdCBtYXRjaCBzdGF0ZSBuYW1lZCAgICAgICAgIHxcbiAqIHw6LS0tLS0tLS0tLS0tfDotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfDotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCBgJyoqJ2AgICAgICB8IGAnQSdgICwgYCdBLkInYCwgYCdaLlkuWCdgICAgICAgICAgICAgICAgICAgICB8IChtYXRjaGVzIGFsbCBzdGF0ZXMpICAgICAgICAgICAgICB8XG4gKiB8IGAnQS4qKidgICAgIHwgYCdBJ2AgLCBgJ0EuQidgICwgYCdBLkMuWCdgICAgICAgICAgICAgICAgICAgIHwgYCdaLlkuWCdgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgYCcqKi5YJ2AgICAgfCBgJ1gnYCAsIGAnQS5YJ2AgLCBgJ1ouWS5YJ2AgICAgICAgICAgICAgICAgICAgfCBgJ0EnYCAsIGAnQS5sb2dpbi5aJ2AgICAgICAgICAgICAgfFxuICogfCBgJ0EuKiouWCdgICB8IGAnQS5YJ2AgLCBgJ0EuQi5YJ2AgLCBgJ0EuQi5DLlgnYCAgICAgICAgICAgICB8IGAnQSdgICwgYCdBLkIuQydgICAgICAgICAgICAgICAgICB8XG4gKlxuICovXG52YXIgR2xvYiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR2xvYih0ZXh0KSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuZ2xvYiA9IHRleHQuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIHJlZ2V4cFN0cmluZyA9IHRoaXMudGV4dC5zcGxpdCgnLicpXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChzZWcpIHtcbiAgICAgICAgICAgIGlmIChzZWcgPT09ICcqKicpXG4gICAgICAgICAgICAgICAgcmV0dXJuICcoPzp8KD86XFxcXC5bXi5dKikqKSc7XG4gICAgICAgICAgICBpZiAoc2VnID09PSAnKicpXG4gICAgICAgICAgICAgICAgcmV0dXJuICdcXFxcLlteLl0qJztcbiAgICAgICAgICAgIHJldHVybiAnXFxcXC4nICsgc2VnO1xuICAgICAgICB9KS5qb2luKCcnKTtcbiAgICAgICAgdGhpcy5yZWdleHAgPSBuZXcgUmVnRXhwKFwiXlwiICsgcmVnZXhwU3RyaW5nICsgXCIkXCIpO1xuICAgIH1cbiAgICBHbG9iLnByb3RvdHlwZS5tYXRjaGVzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnZXhwLnRlc3QoJy4nICsgbmFtZSk7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIHRoZSBzdHJpbmcgaGFzIGdsb2ItbGlrZSBjaGFyYWN0ZXJzIGluIGl0ICovXG4gICAgR2xvYi5pcyA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIHJldHVybiAhIS9bISwqXSsvLmV4ZWModGV4dCk7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyBhIGdsb2IgZnJvbSB0aGUgc3RyaW5nLCBvciBudWxsIGlmIHRoZSBzdHJpbmcgaXNuJ3QgR2xvYi1saWtlICovXG4gICAgR2xvYi5mcm9tU3RyaW5nID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIEdsb2IuaXModGV4dCkgPyBuZXcgR2xvYih0ZXh0KSA6IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gR2xvYjtcbn0oKSk7XG5leHBvcnRzLkdsb2IgPSBHbG9iO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2xvYi5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2NvbW1vbi9nbG9iLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @coreapi\n * @module transition\n */\n/** for typedoc */\nvar trace_1 = __webpack_require__(6);\nvar coreservices_1 = __webpack_require__(3);\nvar common_1 = __webpack_require__(0);\nvar predicates_1 = __webpack_require__(1);\nvar hof_1 = __webpack_require__(2);\nvar interface_1 = __webpack_require__(8); // has or is using\nvar transitionHook_1 = __webpack_require__(12);\nvar hookRegistry_1 = __webpack_require__(24);\nvar hookBuilder_1 = __webpack_require__(30);\nvar pathFactory_1 = __webpack_require__(18);\nvar targetState_1 = __webpack_require__(7);\nvar param_1 = __webpack_require__(9);\nvar resolvable_1 = __webpack_require__(13);\nvar resolveContext_1 = __webpack_require__(19);\n/** @hidden */\nvar stateSelf = hof_1.prop(\"self\");\n/**\n * Represents a transition between two states.\n *\n * When navigating to a state, we are transitioning **from** the current state **to** the new state.\n *\n * This object contains all contextual information about the to/from states, parameters, resolves.\n * It has information about all states being entered and exited as a result of the transition.\n */\nvar Transition = function () {\n    /**\n     * Creates a new Transition object.\n     *\n     * If the target state is not valid, an error is thrown.\n     *\n     * @internalapi\n     *\n     * @param fromPath The path of [[PathNode]]s from which the transition is leaving.  The last node in the `fromPath`\n     *        encapsulates the \"from state\".\n     * @param targetState The target state and parameters being transitioned to (also, the transition options)\n     * @param router The [[UIRouter]] instance\n     */\n    function Transition(fromPath, targetState, router) {\n        var _this = this;\n        /** @hidden */\n        this._deferred = coreservices_1.services.$q.defer();\n        /**\n         * This promise is resolved or rejected based on the outcome of the Transition.\n         *\n         * When the transition is successful, the promise is resolved\n         * When the transition is unsuccessful, the promise is rejected with the [[Rejection]] or javascript error\n         */\n        this.promise = this._deferred.promise;\n        /** @hidden Holds the hook registration functions such as those passed to Transition.onStart() */\n        this._registeredHooks = {};\n        /** @hidden */\n        this._hookBuilder = new hookBuilder_1.HookBuilder(this);\n        /** Checks if this transition is currently active/running. */\n        this.isActive = function () {\n            return _this.router.globals.transition === _this;\n        };\n        this.router = router;\n        this._targetState = targetState;\n        if (!targetState.valid()) {\n            throw new Error(targetState.error());\n        }\n        // current() is assumed to come from targetState.options, but provide a naive implementation otherwise.\n        this._options = common_1.extend({ current: hof_1.val(this) }, targetState.options());\n        this.$id = router.transitionService._transitionCount++;\n        var toPath = pathFactory_1.PathUtils.buildToPath(fromPath, targetState);\n        this._treeChanges = pathFactory_1.PathUtils.treeChanges(fromPath, toPath, this._options.reloadState);\n        this.createTransitionHookRegFns();\n        var onCreateHooks = this._hookBuilder.buildHooksForPhase(interface_1.TransitionHookPhase.CREATE);\n        transitionHook_1.TransitionHook.invokeHooks(onCreateHooks, function () {\n            return null;\n        });\n        this.applyViewConfigs(router);\n    }\n    /** @hidden */\n    Transition.prototype.onBefore = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    Transition.prototype.onStart = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    Transition.prototype.onExit = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    Transition.prototype.onRetain = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    Transition.prototype.onEnter = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    Transition.prototype.onFinish = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    Transition.prototype.onSuccess = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    Transition.prototype.onError = function (criteria, callback, options) {\n        return;\n    };\n    /** @hidden\n     * Creates the transition-level hook registration functions\n     * (which can then be used to register hooks)\n     */\n    Transition.prototype.createTransitionHookRegFns = function () {\n        var _this = this;\n        this.router.transitionService._pluginapi._getEvents().filter(function (type) {\n            return type.hookPhase !== interface_1.TransitionHookPhase.CREATE;\n        }).forEach(function (type) {\n            return hookRegistry_1.makeEvent(_this, _this.router.transitionService, type);\n        });\n    };\n    /** @internalapi */\n    Transition.prototype.getHooks = function (hookName) {\n        return this._registeredHooks[hookName];\n    };\n    Transition.prototype.applyViewConfigs = function (router) {\n        var enteringStates = this._treeChanges.entering.map(function (node) {\n            return node.state;\n        });\n        pathFactory_1.PathUtils.applyViewConfigs(router.transitionService.$view, this._treeChanges.to, enteringStates);\n    };\n    /**\n     * @internalapi\n     *\n     * @returns the internal from [State] object\n     */\n    Transition.prototype.$from = function () {\n        return common_1.tail(this._treeChanges.from).state;\n    };\n    /**\n     * @internalapi\n     *\n     * @returns the internal to [State] object\n     */\n    Transition.prototype.$to = function () {\n        return common_1.tail(this._treeChanges.to).state;\n    };\n    /**\n     * Returns the \"from state\"\n     *\n     * Returns the state that the transition is coming *from*.\n     *\n     * @returns The state declaration object for the Transition's (\"from state\").\n     */\n    Transition.prototype.from = function () {\n        return this.$from().self;\n    };\n    /**\n     * Returns the \"to state\"\n     *\n     * Returns the state that the transition is going *to*.\n     *\n     * @returns The state declaration object for the Transition's target state (\"to state\").\n     */\n    Transition.prototype.to = function () {\n        return this.$to().self;\n    };\n    /**\n     * Gets the Target State\n     *\n     * A transition's [[TargetState]] encapsulates the [[to]] state, the [[params]], and the [[options]] as a single object.\n     *\n     * @returns the [[TargetState]] of this Transition\n     */\n    Transition.prototype.targetState = function () {\n        return this._targetState;\n    };\n    /**\n     * Determines whether two transitions are equivalent.\n     * @deprecated\n     */\n    Transition.prototype.is = function (compare) {\n        if (compare instanceof Transition) {\n            // TODO: Also compare parameters\n            return this.is({ to: compare.$to().name, from: compare.$from().name });\n        }\n        return !(compare.to && !hookRegistry_1.matchState(this.$to(), compare.to) || compare.from && !hookRegistry_1.matchState(this.$from(), compare.from));\n    };\n    Transition.prototype.params = function (pathname) {\n        if (pathname === void 0) {\n            pathname = \"to\";\n        }\n        return Object.freeze(this._treeChanges[pathname].map(hof_1.prop(\"paramValues\")).reduce(common_1.mergeR, {}));\n    };\n    /**\n     * Creates a [[UIInjector]] Dependency Injector\n     *\n     * Returns a Dependency Injector for the Transition's target state (to state).\n     * The injector provides resolve values which the target state has access to.\n     *\n     * The `UIInjector` can also provide values from the native root/global injector (ng1/ng2).\n     *\n     * #### Example:\n     * ```js\n     * .onEnter({ entering: 'myState' }, trans => {\n     *   var myResolveValue = trans.injector().get('myResolve');\n     *   // Inject a global service from the global/native injector (if it exists)\n     *   var MyService = trans.injector().get('MyService');\n     * })\n     * ```\n     *\n     * In some cases (such as `onBefore`), you may need access to some resolve data but it has not yet been fetched.\n     * You can use [[UIInjector.getAsync]] to get a promise for the data.\n     * #### Example:\n     * ```js\n     * .onBefore({}, trans => {\n     *   return trans.injector().getAsync('myResolve').then(myResolveValue =>\n     *     return myResolveValue !== 'ABORT';\n     *   });\n     * });\n     * ```\n     *\n     * If a `state` is provided, the injector that is returned will be limited to resolve values that the provided state has access to.\n     * This can be useful if both a parent state `foo` and a child state `foo.bar` have both defined a resolve such as `data`.\n     * #### Example:\n     * ```js\n     * .onEnter({ to: 'foo.bar' }, trans => {\n     *   // returns result of `foo` state's `data` resolve\n     *   // even though `foo.bar` also has a `data` resolve\n     *   var fooData = trans.injector('foo').get('data');\n     * });\n     * ```\n     *\n     * If you need resolve data from the exiting states, pass `'from'` as `pathName`.\n     * The resolve data from the `from` path will be returned.\n     * #### Example:\n     * ```js\n     * .onExit({ exiting: 'foo.bar' }, trans => {\n     *   // Gets the resolve value of `data` from the exiting state.\n     *   var fooData = trans.injector(null, 'foo.bar').get('data');\n     * });\n     * ```\n     *\n     *\n     * @param state Limits the resolves provided to only the resolves the provided state has access to.\n     * @param pathName Default: `'to'`: Chooses the path for which to create the injector. Use this to access resolves for `exiting` states.\n     *\n     * @returns a [[UIInjector]]\n     */\n    Transition.prototype.injector = function (state, pathName) {\n        if (pathName === void 0) {\n            pathName = \"to\";\n        }\n        var path = this._treeChanges[pathName];\n        if (state) path = pathFactory_1.PathUtils.subPath(path, function (node) {\n            return node.state === state || node.state.name === state;\n        });\n        return new resolveContext_1.ResolveContext(path).injector();\n    };\n    /**\n     * Gets all available resolve tokens (keys)\n     *\n     * This method can be used in conjunction with [[injector]] to inspect the resolve values\n     * available to the Transition.\n     *\n     * This returns all the tokens defined on [[StateDeclaration.resolve]] blocks, for the states\n     * in the Transition's [[TreeChanges.to]] path.\n     *\n     * #### Example:\n     * This example logs all resolve values\n     * ```js\n     * let tokens = trans.getResolveTokens();\n     * tokens.forEach(token => console.log(token + \" = \" + trans.injector().get(token)));\n     * ```\n     *\n     * #### Example:\n     * This example creates promises for each resolve value.\n     * This triggers fetches of resolves (if any have not yet been fetched).\n     * When all promises have all settled, it logs the resolve values.\n     * ```js\n     * let tokens = trans.getResolveTokens();\n     * let promise = tokens.map(token => trans.injector().getAsync(token));\n     * Promise.all(promises).then(values => console.log(\"Resolved values: \" + values));\n     * ```\n     *\n     * Note: Angular 1 users whould use `$q.all()`\n     *\n     * @param pathname resolve context's path name (e.g., `to` or `from`)\n     *\n     * @returns an array of resolve tokens (keys)\n     */\n    Transition.prototype.getResolveTokens = function (pathname) {\n        if (pathname === void 0) {\n            pathname = \"to\";\n        }\n        return new resolveContext_1.ResolveContext(this._treeChanges[pathname]).getTokens();\n    };\n    /**\n     * Dynamically adds a new [[Resolvable]] (i.e., [[StateDeclaration.resolve]]) to this transition.\n     *\n     * #### Example:\n     * ```js\n     * transitionService.onBefore({}, transition => {\n     *   transition.addResolvable({\n     *     token: 'myResolve',\n     *     deps: ['MyService'],\n     *     resolveFn: myService => myService.getData()\n     *   });\n     * });\n     * ```\n     *\n     * @param resolvable a [[ResolvableLiteral]] object (or a [[Resolvable]])\n     * @param state the state in the \"to path\" which should receive the new resolve (otherwise, the root state)\n     */\n    Transition.prototype.addResolvable = function (resolvable, state) {\n        if (state === void 0) {\n            state = \"\";\n        }\n        resolvable = hof_1.is(resolvable_1.Resolvable)(resolvable) ? resolvable : new resolvable_1.Resolvable(resolvable);\n        var stateName = typeof state === \"string\" ? state : state.name;\n        var topath = this._treeChanges.to;\n        var targetNode = common_1.find(topath, function (node) {\n            return node.state.name === stateName;\n        });\n        var resolveContext = new resolveContext_1.ResolveContext(topath);\n        resolveContext.addResolvables([resolvable], targetNode.state);\n    };\n    /**\n     * Gets the transition from which this transition was redirected.\n     *\n     * If the current transition is a redirect, this method returns the transition that was redirected.\n     *\n     * #### Example:\n     * ```js\n     * let transitionA = $state.go('A').transition\n     * transitionA.onStart({}, () => $state.target('B'));\n     * $transitions.onSuccess({ to: 'B' }, (trans) => {\n     *   trans.to().name === 'B'; // true\n     *   trans.redirectedFrom() === transitionA; // true\n     * });\n     * ```\n     *\n     * @returns The previous Transition, or null if this Transition is not the result of a redirection\n     */\n    Transition.prototype.redirectedFrom = function () {\n        return this._options.redirectedFrom || null;\n    };\n    /**\n     * Gets the original transition in a redirect chain\n     *\n     * A transition might belong to a long chain of multiple redirects.\n     * This method walks the [[redirectedFrom]] chain back to the original (first) transition in the chain.\n     *\n     * #### Example:\n     * ```js\n     * // states\n     * registry.register({ name: 'A', redirectTo: 'B' });\n     * registry.register({ name: 'B', redirectTo: 'C' });\n     * registry.register({ name: 'C', redirectTo: 'D' });\n     * registry.register({ name: 'D' });\n     *\n     * let transitionA = $state.go('A').transition\n     *\n     * $transitions.onSuccess({ to: 'D' }, (trans) => {\n     *   trans.to().name === 'D'; // true\n     *   trans.redirectedFrom().to().name === 'C'; // true\n     *   trans.originalTransition() === transitionA; // true\n     *   trans.originalTransition().to().name === 'A'; // true\n     * });\n     * ```\n     *\n     * @returns The original Transition that started a redirect chain\n     */\n    Transition.prototype.originalTransition = function () {\n        var rf = this.redirectedFrom();\n        return rf && rf.originalTransition() || this;\n    };\n    /**\n     * Get the transition options\n     *\n     * @returns the options for this Transition.\n     */\n    Transition.prototype.options = function () {\n        return this._options;\n    };\n    /**\n     * Gets the states being entered.\n     *\n     * @returns an array of states that will be entered during this transition.\n     */\n    Transition.prototype.entering = function () {\n        return common_1.map(this._treeChanges.entering, hof_1.prop('state')).map(stateSelf);\n    };\n    /**\n     * Gets the states being exited.\n     *\n     * @returns an array of states that will be exited during this transition.\n     */\n    Transition.prototype.exiting = function () {\n        return common_1.map(this._treeChanges.exiting, hof_1.prop('state')).map(stateSelf).reverse();\n    };\n    /**\n     * Gets the states being retained.\n     *\n     * @returns an array of states that are already entered from a previous Transition, that will not be\n     *    exited during this Transition\n     */\n    Transition.prototype.retained = function () {\n        return common_1.map(this._treeChanges.retained, hof_1.prop('state')).map(stateSelf);\n    };\n    /**\n     * Get the [[ViewConfig]]s associated with this Transition\n     *\n     * Each state can define one or more views (template/controller), which are encapsulated as `ViewConfig` objects.\n     * This method fetches the `ViewConfigs` for a given path in the Transition (e.g., \"to\" or \"entering\").\n     *\n     * @param pathname the name of the path to fetch views for:\n     *   (`'to'`, `'from'`, `'entering'`, `'exiting'`, `'retained'`)\n     * @param state If provided, only returns the `ViewConfig`s for a single state in the path\n     *\n     * @returns a list of ViewConfig objects for the given path.\n     */\n    Transition.prototype.views = function (pathname, state) {\n        if (pathname === void 0) {\n            pathname = \"entering\";\n        }\n        var path = this._treeChanges[pathname];\n        path = !state ? path : path.filter(hof_1.propEq('state', state));\n        return path.map(hof_1.prop(\"views\")).filter(common_1.identity).reduce(common_1.unnestR, []);\n    };\n    Transition.prototype.treeChanges = function (pathname) {\n        return pathname ? this._treeChanges[pathname] : this._treeChanges;\n    };\n    /**\n     * Creates a new transition that is a redirection of the current one.\n     *\n     * This transition can be returned from a [[TransitionService]] hook to\n     * redirect a transition to a new state and/or set of parameters.\n     *\n     * @internalapi\n     *\n     * @returns Returns a new [[Transition]] instance.\n     */\n    Transition.prototype.redirect = function (targetState) {\n        var redirects = 1,\n            trans = this;\n        while ((trans = trans.redirectedFrom()) != null) {\n            if (++redirects > 20) throw new Error(\"Too many consecutive Transition redirects (20+)\");\n        }\n        var redirectOpts = { redirectedFrom: this, source: \"redirect\" };\n        // If the original transition was caused by URL sync, then use { location: 'replace' }\n        // on the new transition (unless the target state explicitly specifies location: false).\n        // This causes the original url to be replaced with the url for the redirect target\n        // so the original url disappears from the browser history.\n        if (this.options().source === 'url' && targetState.options().location !== false) {\n            redirectOpts.location = 'replace';\n        }\n        var newOptions = common_1.extend({}, this.options(), targetState.options(), redirectOpts);\n        targetState = new targetState_1.TargetState(targetState.identifier(), targetState.$state(), targetState.params(), newOptions);\n        var newTransition = this.router.transitionService.create(this._treeChanges.from, targetState);\n        var originalEnteringNodes = this._treeChanges.entering;\n        var redirectEnteringNodes = newTransition._treeChanges.entering;\n        // --- Re-use resolve data from original transition ---\n        // When redirecting from a parent state to a child state where the parent parameter values haven't changed\n        // (because of the redirect), the resolves fetched by the original transition are still valid in the\n        // redirected transition.\n        //\n        // This allows you to define a redirect on a parent state which depends on an async resolve value.\n        // You can wait for the resolve, then redirect to a child state based on the result.\n        // The redirected transition does not have to re-fetch the resolve.\n        // ---------------------------------------------------------\n        var nodeIsReloading = function nodeIsReloading(reloadState) {\n            return function (node) {\n                return reloadState && node.state.includes[reloadState.name];\n            };\n        };\n        // Find any \"entering\" nodes in the redirect path that match the original path and aren't being reloaded\n        var matchingEnteringNodes = pathFactory_1.PathUtils.matching(redirectEnteringNodes, originalEnteringNodes, pathFactory_1.PathUtils.nonDynamicParams).filter(hof_1.not(nodeIsReloading(targetState.options().reloadState)));\n        // Use the existing (possibly pre-resolved) resolvables for the matching entering nodes.\n        matchingEnteringNodes.forEach(function (node, idx) {\n            node.resolvables = originalEnteringNodes[idx].resolvables;\n        });\n        return newTransition;\n    };\n    /** @hidden If a transition doesn't exit/enter any states, returns any [[Param]] whose value changed */\n    Transition.prototype._changedParams = function () {\n        var tc = this._treeChanges;\n        /** Return undefined if it's not a \"dynamic\" transition, for the following reasons */\n        // If user explicitly wants a reload\n        if (this._options.reload) return undefined;\n        // If any states are exiting or entering\n        if (tc.exiting.length || tc.entering.length) return undefined;\n        // If to/from path lengths differ\n        if (tc.to.length !== tc.from.length) return undefined;\n        // If the to/from paths are different\n        var pathsDiffer = common_1.arrayTuples(tc.to, tc.from).map(function (tuple) {\n            return tuple[0].state !== tuple[1].state;\n        }).reduce(common_1.anyTrueR, false);\n        if (pathsDiffer) return undefined;\n        // Find any parameter values that differ\n        var nodeSchemas = tc.to.map(function (node) {\n            return node.paramSchema;\n        });\n        var _a = [tc.to, tc.from].map(function (path) {\n            return path.map(function (x) {\n                return x.paramValues;\n            });\n        }),\n            toValues = _a[0],\n            fromValues = _a[1];\n        var tuples = common_1.arrayTuples(nodeSchemas, toValues, fromValues);\n        return tuples.map(function (_a) {\n            var schema = _a[0],\n                toVals = _a[1],\n                fromVals = _a[2];\n            return param_1.Param.changed(schema, toVals, fromVals);\n        }).reduce(common_1.unnestR, []);\n    };\n    /**\n     * Returns true if the transition is dynamic.\n     *\n     * A transition is dynamic if no states are entered nor exited, but at least one dynamic parameter has changed.\n     *\n     * @returns true if the Transition is dynamic\n     */\n    Transition.prototype.dynamic = function () {\n        var changes = this._changedParams();\n        return !changes ? false : changes.map(function (x) {\n            return x.dynamic;\n        }).reduce(common_1.anyTrueR, false);\n    };\n    /**\n     * Returns true if the transition is ignored.\n     *\n     * A transition is ignored if no states are entered nor exited, and no parameter values have changed.\n     *\n     * @returns true if the Transition is ignored.\n     */\n    Transition.prototype.ignored = function () {\n        return !!this._ignoredReason();\n    };\n    /** @hidden */\n    Transition.prototype._ignoredReason = function () {\n        var pending = this.router.globals.transition;\n        var reloadState = this._options.reloadState;\n        var same = function same(pathA, pathB) {\n            if (pathA.length !== pathB.length) return false;\n            var matching = pathFactory_1.PathUtils.matching(pathA, pathB);\n            return pathA.length === matching.filter(function (node) {\n                return !reloadState || !node.state.includes[reloadState.name];\n            }).length;\n        };\n        var newTC = this.treeChanges();\n        var pendTC = pending && pending.treeChanges();\n        if (pendTC && same(pendTC.to, newTC.to) && same(pendTC.exiting, newTC.exiting)) return \"SameAsPending\";\n        if (newTC.exiting.length === 0 && newTC.entering.length === 0 && same(newTC.from, newTC.to)) return \"SameAsCurrent\";\n    };\n    /**\n     * Runs the transition\n     *\n     * This method is generally called from the [[StateService.transitionTo]]\n     *\n     * @internalapi\n     *\n     * @returns a promise for a successful transition.\n     */\n    Transition.prototype.run = function () {\n        var _this = this;\n        var runAllHooks = transitionHook_1.TransitionHook.runAllHooks;\n        // Gets transition hooks array for the given phase\n        var getHooksFor = function getHooksFor(phase) {\n            return _this._hookBuilder.buildHooksForPhase(phase);\n        };\n        // When the chain is complete, then resolve or reject the deferred\n        var transitionSuccess = function transitionSuccess() {\n            trace_1.trace.traceSuccess(_this.$to(), _this);\n            _this.success = true;\n            _this._deferred.resolve(_this.to());\n            runAllHooks(getHooksFor(interface_1.TransitionHookPhase.SUCCESS));\n        };\n        var transitionError = function transitionError(reason) {\n            trace_1.trace.traceError(reason, _this);\n            _this.success = false;\n            _this._deferred.reject(reason);\n            _this._error = reason;\n            runAllHooks(getHooksFor(interface_1.TransitionHookPhase.ERROR));\n        };\n        var runTransition = function runTransition() {\n            // Wait to build the RUN hook chain until the BEFORE hooks are done\n            // This allows a BEFORE hook to dynamically add additional RUN hooks via the Transition object.\n            var allRunHooks = getHooksFor(interface_1.TransitionHookPhase.RUN);\n            var done = function done() {\n                return coreservices_1.services.$q.when(undefined);\n            };\n            return transitionHook_1.TransitionHook.invokeHooks(allRunHooks, done);\n        };\n        var startTransition = function startTransition() {\n            var globals = _this.router.globals;\n            globals.lastStartedTransitionId = _this.$id;\n            globals.transition = _this;\n            globals.transitionHistory.enqueue(_this);\n            trace_1.trace.traceTransitionStart(_this);\n            return coreservices_1.services.$q.when(undefined);\n        };\n        var allBeforeHooks = getHooksFor(interface_1.TransitionHookPhase.BEFORE);\n        transitionHook_1.TransitionHook.invokeHooks(allBeforeHooks, startTransition).then(runTransition).then(transitionSuccess, transitionError);\n        return this.promise;\n    };\n    /**\n     * Checks if the Transition is valid\n     *\n     * @returns true if the Transition is valid\n     */\n    Transition.prototype.valid = function () {\n        return !this.error() || this.success !== undefined;\n    };\n    /**\n     * Aborts this transition\n     *\n     * Imperative API to abort a Transition.\n     * This only applies to Transitions that are not yet complete.\n     */\n    Transition.prototype.abort = function () {\n        // Do not set flag if the transition is already complete\n        if (predicates_1.isUndefined(this.success)) {\n            this._aborted = true;\n        }\n    };\n    /**\n     * The Transition error reason.\n     *\n     * If the transition is invalid (and could not be run), returns the reason the transition is invalid.\n     * If the transition was valid and ran, but was not successful, returns the reason the transition failed.\n     *\n     * @returns an error message explaining why the transition is invalid, or the reason the transition failed.\n     */\n    Transition.prototype.error = function () {\n        var state = this.$to();\n        if (state.self.abstract) return \"Cannot transition to abstract state '\" + state.name + \"'\";\n        if (!param_1.Param.validates(state.parameters(), this.params())) return \"Param values not valid for state '\" + state.name + \"'\";\n        if (this.success === false) return this._error;\n    };\n    /**\n     * A string representation of the Transition\n     *\n     * @returns A string representation of the Transition\n     */\n    Transition.prototype.toString = function () {\n        var fromStateOrName = this.from();\n        var toStateOrName = this.to();\n        var avoidEmptyHash = function avoidEmptyHash(params) {\n            return params[\"#\"] !== null && params[\"#\"] !== undefined ? params : common_1.omit(params, [\"#\"]);\n        };\n        // (X) means the to state is invalid.\n        var id = this.$id,\n            from = predicates_1.isObject(fromStateOrName) ? fromStateOrName.name : fromStateOrName,\n            fromParams = common_1.toJson(avoidEmptyHash(this._treeChanges.from.map(hof_1.prop('paramValues')).reduce(common_1.mergeR, {}))),\n            toValid = this.valid() ? \"\" : \"(X) \",\n            to = predicates_1.isObject(toStateOrName) ? toStateOrName.name : toStateOrName,\n            toParams = common_1.toJson(avoidEmptyHash(this.params()));\n        return \"Transition#\" + id + \"( '\" + from + \"'\" + fromParams + \" -> \" + toValid + \"'\" + to + \"'\" + toParams + \" )\";\n    };\n    return Transition;\n}();\n/** @hidden */\nTransition.diToken = Transition;\nexports.Transition = Transition;\n//# sourceMappingURL=transition.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3RyYW5zaXRpb24vdHJhbnNpdGlvbi5qcz82MTMzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwidHJhY2VfMSIsInJlcXVpcmUiLCJjb3Jlc2VydmljZXNfMSIsImNvbW1vbl8xIiwicHJlZGljYXRlc18xIiwiaG9mXzEiLCJpbnRlcmZhY2VfMSIsInRyYW5zaXRpb25Ib29rXzEiLCJob29rUmVnaXN0cnlfMSIsImhvb2tCdWlsZGVyXzEiLCJwYXRoRmFjdG9yeV8xIiwidGFyZ2V0U3RhdGVfMSIsInBhcmFtXzEiLCJyZXNvbHZhYmxlXzEiLCJyZXNvbHZlQ29udGV4dF8xIiwic3RhdGVTZWxmIiwicHJvcCIsIlRyYW5zaXRpb24iLCJmcm9tUGF0aCIsInRhcmdldFN0YXRlIiwicm91dGVyIiwiX3RoaXMiLCJfZGVmZXJyZWQiLCJzZXJ2aWNlcyIsIiRxIiwiZGVmZXIiLCJwcm9taXNlIiwiX3JlZ2lzdGVyZWRIb29rcyIsIl9ob29rQnVpbGRlciIsIkhvb2tCdWlsZGVyIiwiaXNBY3RpdmUiLCJnbG9iYWxzIiwidHJhbnNpdGlvbiIsIl90YXJnZXRTdGF0ZSIsInZhbGlkIiwiRXJyb3IiLCJlcnJvciIsIl9vcHRpb25zIiwiZXh0ZW5kIiwiY3VycmVudCIsInZhbCIsIm9wdGlvbnMiLCIkaWQiLCJ0cmFuc2l0aW9uU2VydmljZSIsIl90cmFuc2l0aW9uQ291bnQiLCJ0b1BhdGgiLCJQYXRoVXRpbHMiLCJidWlsZFRvUGF0aCIsIl90cmVlQ2hhbmdlcyIsInRyZWVDaGFuZ2VzIiwicmVsb2FkU3RhdGUiLCJjcmVhdGVUcmFuc2l0aW9uSG9va1JlZ0ZucyIsIm9uQ3JlYXRlSG9va3MiLCJidWlsZEhvb2tzRm9yUGhhc2UiLCJUcmFuc2l0aW9uSG9va1BoYXNlIiwiQ1JFQVRFIiwiVHJhbnNpdGlvbkhvb2siLCJpbnZva2VIb29rcyIsImFwcGx5Vmlld0NvbmZpZ3MiLCJwcm90b3R5cGUiLCJvbkJlZm9yZSIsImNyaXRlcmlhIiwiY2FsbGJhY2siLCJvblN0YXJ0Iiwib25FeGl0Iiwib25SZXRhaW4iLCJvbkVudGVyIiwib25GaW5pc2giLCJvblN1Y2Nlc3MiLCJvbkVycm9yIiwiX3BsdWdpbmFwaSIsIl9nZXRFdmVudHMiLCJmaWx0ZXIiLCJ0eXBlIiwiaG9va1BoYXNlIiwiZm9yRWFjaCIsIm1ha2VFdmVudCIsImdldEhvb2tzIiwiaG9va05hbWUiLCJlbnRlcmluZ1N0YXRlcyIsImVudGVyaW5nIiwibWFwIiwibm9kZSIsInN0YXRlIiwiJHZpZXciLCJ0byIsIiRmcm9tIiwidGFpbCIsImZyb20iLCIkdG8iLCJzZWxmIiwiaXMiLCJjb21wYXJlIiwibmFtZSIsIm1hdGNoU3RhdGUiLCJwYXJhbXMiLCJwYXRobmFtZSIsImZyZWV6ZSIsInJlZHVjZSIsIm1lcmdlUiIsImluamVjdG9yIiwicGF0aE5hbWUiLCJwYXRoIiwic3ViUGF0aCIsIlJlc29sdmVDb250ZXh0IiwiZ2V0UmVzb2x2ZVRva2VucyIsImdldFRva2VucyIsImFkZFJlc29sdmFibGUiLCJyZXNvbHZhYmxlIiwiUmVzb2x2YWJsZSIsInN0YXRlTmFtZSIsInRvcGF0aCIsInRhcmdldE5vZGUiLCJmaW5kIiwicmVzb2x2ZUNvbnRleHQiLCJhZGRSZXNvbHZhYmxlcyIsInJlZGlyZWN0ZWRGcm9tIiwib3JpZ2luYWxUcmFuc2l0aW9uIiwicmYiLCJleGl0aW5nIiwicmV2ZXJzZSIsInJldGFpbmVkIiwidmlld3MiLCJwcm9wRXEiLCJpZGVudGl0eSIsInVubmVzdFIiLCJyZWRpcmVjdCIsInJlZGlyZWN0cyIsInRyYW5zIiwicmVkaXJlY3RPcHRzIiwic291cmNlIiwibG9jYXRpb24iLCJuZXdPcHRpb25zIiwiVGFyZ2V0U3RhdGUiLCJpZGVudGlmaWVyIiwiJHN0YXRlIiwibmV3VHJhbnNpdGlvbiIsImNyZWF0ZSIsIm9yaWdpbmFsRW50ZXJpbmdOb2RlcyIsInJlZGlyZWN0RW50ZXJpbmdOb2RlcyIsIm5vZGVJc1JlbG9hZGluZyIsImluY2x1ZGVzIiwibWF0Y2hpbmdFbnRlcmluZ05vZGVzIiwibWF0Y2hpbmciLCJub25EeW5hbWljUGFyYW1zIiwibm90IiwiaWR4IiwicmVzb2x2YWJsZXMiLCJfY2hhbmdlZFBhcmFtcyIsInRjIiwicmVsb2FkIiwidW5kZWZpbmVkIiwibGVuZ3RoIiwicGF0aHNEaWZmZXIiLCJhcnJheVR1cGxlcyIsInR1cGxlIiwiYW55VHJ1ZVIiLCJub2RlU2NoZW1hcyIsInBhcmFtU2NoZW1hIiwiX2EiLCJ4IiwicGFyYW1WYWx1ZXMiLCJ0b1ZhbHVlcyIsImZyb21WYWx1ZXMiLCJ0dXBsZXMiLCJzY2hlbWEiLCJ0b1ZhbHMiLCJmcm9tVmFscyIsIlBhcmFtIiwiY2hhbmdlZCIsImR5bmFtaWMiLCJjaGFuZ2VzIiwiaWdub3JlZCIsIl9pZ25vcmVkUmVhc29uIiwicGVuZGluZyIsInNhbWUiLCJwYXRoQSIsInBhdGhCIiwibmV3VEMiLCJwZW5kVEMiLCJydW4iLCJydW5BbGxIb29rcyIsImdldEhvb2tzRm9yIiwicGhhc2UiLCJ0cmFuc2l0aW9uU3VjY2VzcyIsInRyYWNlIiwidHJhY2VTdWNjZXNzIiwic3VjY2VzcyIsInJlc29sdmUiLCJTVUNDRVNTIiwidHJhbnNpdGlvbkVycm9yIiwicmVhc29uIiwidHJhY2VFcnJvciIsInJlamVjdCIsIl9lcnJvciIsIkVSUk9SIiwicnVuVHJhbnNpdGlvbiIsImFsbFJ1bkhvb2tzIiwiUlVOIiwiZG9uZSIsIndoZW4iLCJzdGFydFRyYW5zaXRpb24iLCJsYXN0U3RhcnRlZFRyYW5zaXRpb25JZCIsInRyYW5zaXRpb25IaXN0b3J5IiwiZW5xdWV1ZSIsInRyYWNlVHJhbnNpdGlvblN0YXJ0IiwiYWxsQmVmb3JlSG9va3MiLCJCRUZPUkUiLCJ0aGVuIiwiYWJvcnQiLCJpc1VuZGVmaW5lZCIsIl9hYm9ydGVkIiwiYWJzdHJhY3QiLCJ2YWxpZGF0ZXMiLCJwYXJhbWV0ZXJzIiwidG9TdHJpbmciLCJmcm9tU3RhdGVPck5hbWUiLCJ0b1N0YXRlT3JOYW1lIiwiYXZvaWRFbXB0eUhhc2giLCJvbWl0IiwiaWQiLCJpc09iamVjdCIsImZyb21QYXJhbXMiLCJ0b0pzb24iLCJ0b1ZhbGlkIiwidG9QYXJhbXMiLCJkaVRva2VuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0E7Ozs7QUFJQTtBQUNBLElBQUlDLFVBQVUsbUJBQUFDLENBQVEsQ0FBUixDQUFkO0FBQ0EsSUFBSUMsaUJBQWlCLG1CQUFBRCxDQUFRLENBQVIsQ0FBckI7QUFDQSxJQUFJRSxXQUFXLG1CQUFBRixDQUFRLENBQVIsQ0FBZjtBQUNBLElBQUlHLGVBQWUsbUJBQUFILENBQVEsQ0FBUixDQUFuQjtBQUNBLElBQUlJLFFBQVEsbUJBQUFKLENBQVEsQ0FBUixDQUFaO0FBQ0EsSUFBSUssY0FBYyxtQkFBQUwsQ0FBUSxDQUFSLENBQWxCLEMsQ0FBMEM7QUFDMUMsSUFBSU0sbUJBQW1CLG1CQUFBTixDQUFRLEVBQVIsQ0FBdkI7QUFDQSxJQUFJTyxpQkFBaUIsbUJBQUFQLENBQVEsRUFBUixDQUFyQjtBQUNBLElBQUlRLGdCQUFnQixtQkFBQVIsQ0FBUSxFQUFSLENBQXBCO0FBQ0EsSUFBSVMsZ0JBQWdCLG1CQUFBVCxDQUFRLEVBQVIsQ0FBcEI7QUFDQSxJQUFJVSxnQkFBZ0IsbUJBQUFWLENBQVEsQ0FBUixDQUFwQjtBQUNBLElBQUlXLFVBQVUsbUJBQUFYLENBQVEsQ0FBUixDQUFkO0FBQ0EsSUFBSVksZUFBZSxtQkFBQVosQ0FBUSxFQUFSLENBQW5CO0FBQ0EsSUFBSWEsbUJBQW1CLG1CQUFBYixDQUFRLEVBQVIsQ0FBdkI7QUFDQTtBQUNBLElBQUljLFlBQVlWLE1BQU1XLElBQU4sQ0FBVyxNQUFYLENBQWhCO0FBQ0E7Ozs7Ozs7O0FBUUEsSUFBSUMsYUFBYyxZQUFZO0FBQzFCOzs7Ozs7Ozs7Ozs7QUFZQSxh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LFVBQVIsR0FBcUJBLFVBQXJCO0FBQ0EiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgdHJhbnNpdGlvblxuICovXG4vKiogZm9yIHR5cGVkb2MgKi9cbnZhciB0cmFjZV8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi90cmFjZVwiKTtcbnZhciBjb3Jlc2VydmljZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCIpO1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIGhvZl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ob2ZcIik7XG52YXIgaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9pbnRlcmZhY2VcIik7IC8vIGhhcyBvciBpcyB1c2luZ1xudmFyIHRyYW5zaXRpb25Ib29rXzEgPSByZXF1aXJlKFwiLi90cmFuc2l0aW9uSG9va1wiKTtcbnZhciBob29rUmVnaXN0cnlfMSA9IHJlcXVpcmUoXCIuL2hvb2tSZWdpc3RyeVwiKTtcbnZhciBob29rQnVpbGRlcl8xID0gcmVxdWlyZShcIi4vaG9va0J1aWxkZXJcIik7XG52YXIgcGF0aEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9wYXRoL3BhdGhGYWN0b3J5XCIpO1xudmFyIHRhcmdldFN0YXRlXzEgPSByZXF1aXJlKFwiLi4vc3RhdGUvdGFyZ2V0U3RhdGVcIik7XG52YXIgcGFyYW1fMSA9IHJlcXVpcmUoXCIuLi9wYXJhbXMvcGFyYW1cIik7XG52YXIgcmVzb2x2YWJsZV8xID0gcmVxdWlyZShcIi4uL3Jlc29sdmUvcmVzb2x2YWJsZVwiKTtcbnZhciByZXNvbHZlQ29udGV4dF8xID0gcmVxdWlyZShcIi4uL3Jlc29sdmUvcmVzb2x2ZUNvbnRleHRcIik7XG4vKiogQGhpZGRlbiAqL1xudmFyIHN0YXRlU2VsZiA9IGhvZl8xLnByb3AoXCJzZWxmXCIpO1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgdHJhbnNpdGlvbiBiZXR3ZWVuIHR3byBzdGF0ZXMuXG4gKlxuICogV2hlbiBuYXZpZ2F0aW5nIHRvIGEgc3RhdGUsIHdlIGFyZSB0cmFuc2l0aW9uaW5nICoqZnJvbSoqIHRoZSBjdXJyZW50IHN0YXRlICoqdG8qKiB0aGUgbmV3IHN0YXRlLlxuICpcbiAqIFRoaXMgb2JqZWN0IGNvbnRhaW5zIGFsbCBjb250ZXh0dWFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSB0by9mcm9tIHN0YXRlcywgcGFyYW1ldGVycywgcmVzb2x2ZXMuXG4gKiBJdCBoYXMgaW5mb3JtYXRpb24gYWJvdXQgYWxsIHN0YXRlcyBiZWluZyBlbnRlcmVkIGFuZCBleGl0ZWQgYXMgYSByZXN1bHQgb2YgdGhlIHRyYW5zaXRpb24uXG4gKi9cbnZhciBUcmFuc2l0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFRyYW5zaXRpb24gb2JqZWN0LlxuICAgICAqXG4gICAgICogSWYgdGhlIHRhcmdldCBzdGF0ZSBpcyBub3QgdmFsaWQsIGFuIGVycm9yIGlzIHRocm93bi5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqXG4gICAgICogQHBhcmFtIGZyb21QYXRoIFRoZSBwYXRoIG9mIFtbUGF0aE5vZGVdXXMgZnJvbSB3aGljaCB0aGUgdHJhbnNpdGlvbiBpcyBsZWF2aW5nLiAgVGhlIGxhc3Qgbm9kZSBpbiB0aGUgYGZyb21QYXRoYFxuICAgICAqICAgICAgICBlbmNhcHN1bGF0ZXMgdGhlIFwiZnJvbSBzdGF0ZVwiLlxuICAgICAqIEBwYXJhbSB0YXJnZXRTdGF0ZSBUaGUgdGFyZ2V0IHN0YXRlIGFuZCBwYXJhbWV0ZXJzIGJlaW5nIHRyYW5zaXRpb25lZCB0byAoYWxzbywgdGhlIHRyYW5zaXRpb24gb3B0aW9ucylcbiAgICAgKiBAcGFyYW0gcm91dGVyIFRoZSBbW1VJUm91dGVyXV0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUcmFuc2l0aW9uKGZyb21QYXRoLCB0YXJnZXRTdGF0ZSwgcm91dGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX2RlZmVycmVkID0gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEuZGVmZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvbWlzZSBpcyByZXNvbHZlZCBvciByZWplY3RlZCBiYXNlZCBvbiB0aGUgb3V0Y29tZSBvZiB0aGUgVHJhbnNpdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogV2hlbiB0aGUgdHJhbnNpdGlvbiBpcyBzdWNjZXNzZnVsLCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZFxuICAgICAgICAgKiBXaGVuIHRoZSB0cmFuc2l0aW9uIGlzIHVuc3VjY2Vzc2Z1bCwgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQgd2l0aCB0aGUgW1tSZWplY3Rpb25dXSBvciBqYXZhc2NyaXB0IGVycm9yXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb21pc2UgPSB0aGlzLl9kZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAvKiogQGhpZGRlbiBIb2xkcyB0aGUgaG9vayByZWdpc3RyYXRpb24gZnVuY3Rpb25zIHN1Y2ggYXMgdGhvc2UgcGFzc2VkIHRvIFRyYW5zaXRpb24ub25TdGFydCgpICovXG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyZWRIb29rcyA9IHt9O1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLl9ob29rQnVpbGRlciA9IG5ldyBob29rQnVpbGRlcl8xLkhvb2tCdWlsZGVyKHRoaXMpO1xuICAgICAgICAvKiogQ2hlY2tzIGlmIHRoaXMgdHJhbnNpdGlvbiBpcyBjdXJyZW50bHkgYWN0aXZlL3J1bm5pbmcuICovXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucm91dGVyLmdsb2JhbHMudHJhbnNpdGlvbiA9PT0gX3RoaXM7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuICAgICAgICB0aGlzLl90YXJnZXRTdGF0ZSA9IHRhcmdldFN0YXRlO1xuICAgICAgICBpZiAoIXRhcmdldFN0YXRlLnZhbGlkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0YXJnZXRTdGF0ZS5lcnJvcigpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjdXJyZW50KCkgaXMgYXNzdW1lZCB0byBjb21lIGZyb20gdGFyZ2V0U3RhdGUub3B0aW9ucywgYnV0IHByb3ZpZGUgYSBuYWl2ZSBpbXBsZW1lbnRhdGlvbiBvdGhlcndpc2UuXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBjb21tb25fMS5leHRlbmQoeyBjdXJyZW50OiBob2ZfMS52YWwodGhpcykgfSwgdGFyZ2V0U3RhdGUub3B0aW9ucygpKTtcbiAgICAgICAgdGhpcy4kaWQgPSByb3V0ZXIudHJhbnNpdGlvblNlcnZpY2UuX3RyYW5zaXRpb25Db3VudCsrO1xuICAgICAgICB2YXIgdG9QYXRoID0gcGF0aEZhY3RvcnlfMS5QYXRoVXRpbHMuYnVpbGRUb1BhdGgoZnJvbVBhdGgsIHRhcmdldFN0YXRlKTtcbiAgICAgICAgdGhpcy5fdHJlZUNoYW5nZXMgPSBwYXRoRmFjdG9yeV8xLlBhdGhVdGlscy50cmVlQ2hhbmdlcyhmcm9tUGF0aCwgdG9QYXRoLCB0aGlzLl9vcHRpb25zLnJlbG9hZFN0YXRlKTtcbiAgICAgICAgdGhpcy5jcmVhdGVUcmFuc2l0aW9uSG9va1JlZ0ZucygpO1xuICAgICAgICB2YXIgb25DcmVhdGVIb29rcyA9IHRoaXMuX2hvb2tCdWlsZGVyLmJ1aWxkSG9va3NGb3JQaGFzZShpbnRlcmZhY2VfMS5UcmFuc2l0aW9uSG9va1BoYXNlLkNSRUFURSk7XG4gICAgICAgIHRyYW5zaXRpb25Ib29rXzEuVHJhbnNpdGlvbkhvb2suaW52b2tlSG9va3Mob25DcmVhdGVIb29rcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSk7XG4gICAgICAgIHRoaXMuYXBwbHlWaWV3Q29uZmlncyhyb3V0ZXIpO1xuICAgIH1cbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLm9uQmVmb3JlID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUub25TdGFydCA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLm9uRXhpdCA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLm9uUmV0YWluID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUub25FbnRlciA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLm9uRmluaXNoID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUub25TdWNjZXNzID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaGlkZGVuXG4gICAgICogQ3JlYXRlcyB0aGUgdHJhbnNpdGlvbi1sZXZlbCBob29rIHJlZ2lzdHJhdGlvbiBmdW5jdGlvbnNcbiAgICAgKiAod2hpY2ggY2FuIHRoZW4gYmUgdXNlZCB0byByZWdpc3RlciBob29rcylcbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5jcmVhdGVUcmFuc2l0aW9uSG9va1JlZ0ZucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5yb3V0ZXIudHJhbnNpdGlvblNlcnZpY2UuX3BsdWdpbmFwaS5fZ2V0RXZlbnRzKClcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIHR5cGUuaG9va1BoYXNlICE9PSBpbnRlcmZhY2VfMS5UcmFuc2l0aW9uSG9va1BoYXNlLkNSRUFURTsgfSlcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiBob29rUmVnaXN0cnlfMS5tYWtlRXZlbnQoX3RoaXMsIF90aGlzLnJvdXRlci50cmFuc2l0aW9uU2VydmljZSwgdHlwZSk7IH0pO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmdldEhvb2tzID0gZnVuY3Rpb24gKGhvb2tOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWdpc3RlcmVkSG9va3NbaG9va05hbWVdO1xuICAgIH07XG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuYXBwbHlWaWV3Q29uZmlncyA9IGZ1bmN0aW9uIChyb3V0ZXIpIHtcbiAgICAgICAgdmFyIGVudGVyaW5nU3RhdGVzID0gdGhpcy5fdHJlZUNoYW5nZXMuZW50ZXJpbmcubWFwKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnN0YXRlOyB9KTtcbiAgICAgICAgcGF0aEZhY3RvcnlfMS5QYXRoVXRpbHMuYXBwbHlWaWV3Q29uZmlncyhyb3V0ZXIudHJhbnNpdGlvblNlcnZpY2UuJHZpZXcsIHRoaXMuX3RyZWVDaGFuZ2VzLnRvLCBlbnRlcmluZ1N0YXRlcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRoZSBpbnRlcm5hbCBmcm9tIFtTdGF0ZV0gb2JqZWN0XG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuJGZyb20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb21tb25fMS50YWlsKHRoaXMuX3RyZWVDaGFuZ2VzLmZyb20pLnN0YXRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGludGVybmFsYXBpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgaW50ZXJuYWwgdG8gW1N0YXRlXSBvYmplY3RcbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS4kdG8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb21tb25fMS50YWlsKHRoaXMuX3RyZWVDaGFuZ2VzLnRvKS5zdGF0ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFwiZnJvbSBzdGF0ZVwiXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIHRoZSBzdGF0ZSB0aGF0IHRoZSB0cmFuc2l0aW9uIGlzIGNvbWluZyAqZnJvbSouXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgc3RhdGUgZGVjbGFyYXRpb24gb2JqZWN0IGZvciB0aGUgVHJhbnNpdGlvbidzIChcImZyb20gc3RhdGVcIikuXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuZnJvbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGZyb20oKS5zZWxmO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgXCJ0byBzdGF0ZVwiXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIHRoZSBzdGF0ZSB0aGF0IHRoZSB0cmFuc2l0aW9uIGlzIGdvaW5nICp0byouXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgc3RhdGUgZGVjbGFyYXRpb24gb2JqZWN0IGZvciB0aGUgVHJhbnNpdGlvbidzIHRhcmdldCBzdGF0ZSAoXCJ0byBzdGF0ZVwiKS5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHRvKCkuc2VsZjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIFRhcmdldCBTdGF0ZVxuICAgICAqXG4gICAgICogQSB0cmFuc2l0aW9uJ3MgW1tUYXJnZXRTdGF0ZV1dIGVuY2Fwc3VsYXRlcyB0aGUgW1t0b11dIHN0YXRlLCB0aGUgW1twYXJhbXNdXSwgYW5kIHRoZSBbW29wdGlvbnNdXSBhcyBhIHNpbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgW1tUYXJnZXRTdGF0ZV1dIG9mIHRoaXMgVHJhbnNpdGlvblxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLnRhcmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0U3RhdGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdHdvIHRyYW5zaXRpb25zIGFyZSBlcXVpdmFsZW50LlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuaXMgPSBmdW5jdGlvbiAoY29tcGFyZSkge1xuICAgICAgICBpZiAoY29tcGFyZSBpbnN0YW5jZW9mIFRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgIC8vIFRPRE86IEFsc28gY29tcGFyZSBwYXJhbWV0ZXJzXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pcyh7IHRvOiBjb21wYXJlLiR0bygpLm5hbWUsIGZyb206IGNvbXBhcmUuJGZyb20oKS5uYW1lIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhKChjb21wYXJlLnRvICYmICFob29rUmVnaXN0cnlfMS5tYXRjaFN0YXRlKHRoaXMuJHRvKCksIGNvbXBhcmUudG8pKSB8fFxuICAgICAgICAgICAgKGNvbXBhcmUuZnJvbSAmJiAhaG9va1JlZ2lzdHJ5XzEubWF0Y2hTdGF0ZSh0aGlzLiRmcm9tKCksIGNvbXBhcmUuZnJvbSkpKTtcbiAgICB9O1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLnBhcmFtcyA9IGZ1bmN0aW9uIChwYXRobmFtZSkge1xuICAgICAgICBpZiAocGF0aG5hbWUgPT09IHZvaWQgMCkgeyBwYXRobmFtZSA9IFwidG9cIjsgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh0aGlzLl90cmVlQ2hhbmdlc1twYXRobmFtZV0ubWFwKGhvZl8xLnByb3AoXCJwYXJhbVZhbHVlc1wiKSkucmVkdWNlKGNvbW1vbl8xLm1lcmdlUiwge30pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBbW1VJSW5qZWN0b3JdXSBEZXBlbmRlbmN5IEluamVjdG9yXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGEgRGVwZW5kZW5jeSBJbmplY3RvciBmb3IgdGhlIFRyYW5zaXRpb24ncyB0YXJnZXQgc3RhdGUgKHRvIHN0YXRlKS5cbiAgICAgKiBUaGUgaW5qZWN0b3IgcHJvdmlkZXMgcmVzb2x2ZSB2YWx1ZXMgd2hpY2ggdGhlIHRhcmdldCBzdGF0ZSBoYXMgYWNjZXNzIHRvLlxuICAgICAqXG4gICAgICogVGhlIGBVSUluamVjdG9yYCBjYW4gYWxzbyBwcm92aWRlIHZhbHVlcyBmcm9tIHRoZSBuYXRpdmUgcm9vdC9nbG9iYWwgaW5qZWN0b3IgKG5nMS9uZzIpLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogLm9uRW50ZXIoeyBlbnRlcmluZzogJ215U3RhdGUnIH0sIHRyYW5zID0+IHtcbiAgICAgKiAgIHZhciBteVJlc29sdmVWYWx1ZSA9IHRyYW5zLmluamVjdG9yKCkuZ2V0KCdteVJlc29sdmUnKTtcbiAgICAgKiAgIC8vIEluamVjdCBhIGdsb2JhbCBzZXJ2aWNlIGZyb20gdGhlIGdsb2JhbC9uYXRpdmUgaW5qZWN0b3IgKGlmIGl0IGV4aXN0cylcbiAgICAgKiAgIHZhciBNeVNlcnZpY2UgPSB0cmFucy5pbmplY3RvcigpLmdldCgnTXlTZXJ2aWNlJyk7XG4gICAgICogfSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEluIHNvbWUgY2FzZXMgKHN1Y2ggYXMgYG9uQmVmb3JlYCksIHlvdSBtYXkgbmVlZCBhY2Nlc3MgdG8gc29tZSByZXNvbHZlIGRhdGEgYnV0IGl0IGhhcyBub3QgeWV0IGJlZW4gZmV0Y2hlZC5cbiAgICAgKiBZb3UgY2FuIHVzZSBbW1VJSW5qZWN0b3IuZ2V0QXN5bmNdXSB0byBnZXQgYSBwcm9taXNlIGZvciB0aGUgZGF0YS5cbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiAub25CZWZvcmUoe30sIHRyYW5zID0+IHtcbiAgICAgKiAgIHJldHVybiB0cmFucy5pbmplY3RvcigpLmdldEFzeW5jKCdteVJlc29sdmUnKS50aGVuKG15UmVzb2x2ZVZhbHVlID0+XG4gICAgICogICAgIHJldHVybiBteVJlc29sdmVWYWx1ZSAhPT0gJ0FCT1JUJztcbiAgICAgKiAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSWYgYSBgc3RhdGVgIGlzIHByb3ZpZGVkLCB0aGUgaW5qZWN0b3IgdGhhdCBpcyByZXR1cm5lZCB3aWxsIGJlIGxpbWl0ZWQgdG8gcmVzb2x2ZSB2YWx1ZXMgdGhhdCB0aGUgcHJvdmlkZWQgc3RhdGUgaGFzIGFjY2VzcyB0by5cbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgaWYgYm90aCBhIHBhcmVudCBzdGF0ZSBgZm9vYCBhbmQgYSBjaGlsZCBzdGF0ZSBgZm9vLmJhcmAgaGF2ZSBib3RoIGRlZmluZWQgYSByZXNvbHZlIHN1Y2ggYXMgYGRhdGFgLlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIC5vbkVudGVyKHsgdG86ICdmb28uYmFyJyB9LCB0cmFucyA9PiB7XG4gICAgICogICAvLyByZXR1cm5zIHJlc3VsdCBvZiBgZm9vYCBzdGF0ZSdzIGBkYXRhYCByZXNvbHZlXG4gICAgICogICAvLyBldmVuIHRob3VnaCBgZm9vLmJhcmAgYWxzbyBoYXMgYSBgZGF0YWAgcmVzb2x2ZVxuICAgICAqICAgdmFyIGZvb0RhdGEgPSB0cmFucy5pbmplY3RvcignZm9vJykuZ2V0KCdkYXRhJyk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBJZiB5b3UgbmVlZCByZXNvbHZlIGRhdGEgZnJvbSB0aGUgZXhpdGluZyBzdGF0ZXMsIHBhc3MgYCdmcm9tJ2AgYXMgYHBhdGhOYW1lYC5cbiAgICAgKiBUaGUgcmVzb2x2ZSBkYXRhIGZyb20gdGhlIGBmcm9tYCBwYXRoIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogLm9uRXhpdCh7IGV4aXRpbmc6ICdmb28uYmFyJyB9LCB0cmFucyA9PiB7XG4gICAgICogICAvLyBHZXRzIHRoZSByZXNvbHZlIHZhbHVlIG9mIGBkYXRhYCBmcm9tIHRoZSBleGl0aW5nIHN0YXRlLlxuICAgICAqICAgdmFyIGZvb0RhdGEgPSB0cmFucy5pbmplY3RvcihudWxsLCAnZm9vLmJhcicpLmdldCgnZGF0YScpO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhdGUgTGltaXRzIHRoZSByZXNvbHZlcyBwcm92aWRlZCB0byBvbmx5IHRoZSByZXNvbHZlcyB0aGUgcHJvdmlkZWQgc3RhdGUgaGFzIGFjY2VzcyB0by5cbiAgICAgKiBAcGFyYW0gcGF0aE5hbWUgRGVmYXVsdDogYCd0bydgOiBDaG9vc2VzIHRoZSBwYXRoIGZvciB3aGljaCB0byBjcmVhdGUgdGhlIGluamVjdG9yLiBVc2UgdGhpcyB0byBhY2Nlc3MgcmVzb2x2ZXMgZm9yIGBleGl0aW5nYCBzdGF0ZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIFtbVUlJbmplY3Rvcl1dXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuaW5qZWN0b3IgPSBmdW5jdGlvbiAoc3RhdGUsIHBhdGhOYW1lKSB7XG4gICAgICAgIGlmIChwYXRoTmFtZSA9PT0gdm9pZCAwKSB7IHBhdGhOYW1lID0gXCJ0b1wiOyB9XG4gICAgICAgIHZhciBwYXRoID0gdGhpcy5fdHJlZUNoYW5nZXNbcGF0aE5hbWVdO1xuICAgICAgICBpZiAoc3RhdGUpXG4gICAgICAgICAgICBwYXRoID0gcGF0aEZhY3RvcnlfMS5QYXRoVXRpbHMuc3ViUGF0aChwYXRoLCBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5zdGF0ZSA9PT0gc3RhdGUgfHwgbm9kZS5zdGF0ZS5uYW1lID09PSBzdGF0ZTsgfSk7XG4gICAgICAgIHJldHVybiBuZXcgcmVzb2x2ZUNvbnRleHRfMS5SZXNvbHZlQ29udGV4dChwYXRoKS5pbmplY3RvcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYXZhaWxhYmxlIHJlc29sdmUgdG9rZW5zIChrZXlzKVxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBbW2luamVjdG9yXV0gdG8gaW5zcGVjdCB0aGUgcmVzb2x2ZSB2YWx1ZXNcbiAgICAgKiBhdmFpbGFibGUgdG8gdGhlIFRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBUaGlzIHJldHVybnMgYWxsIHRoZSB0b2tlbnMgZGVmaW5lZCBvbiBbW1N0YXRlRGVjbGFyYXRpb24ucmVzb2x2ZV1dIGJsb2NrcywgZm9yIHRoZSBzdGF0ZXNcbiAgICAgKiBpbiB0aGUgVHJhbnNpdGlvbidzIFtbVHJlZUNoYW5nZXMudG9dXSBwYXRoLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIFRoaXMgZXhhbXBsZSBsb2dzIGFsbCByZXNvbHZlIHZhbHVlc1xuICAgICAqIGBgYGpzXG4gICAgICogbGV0IHRva2VucyA9IHRyYW5zLmdldFJlc29sdmVUb2tlbnMoKTtcbiAgICAgKiB0b2tlbnMuZm9yRWFjaCh0b2tlbiA9PiBjb25zb2xlLmxvZyh0b2tlbiArIFwiID0gXCIgKyB0cmFucy5pbmplY3RvcigpLmdldCh0b2tlbikpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBUaGlzIGV4YW1wbGUgY3JlYXRlcyBwcm9taXNlcyBmb3IgZWFjaCByZXNvbHZlIHZhbHVlLlxuICAgICAqIFRoaXMgdHJpZ2dlcnMgZmV0Y2hlcyBvZiByZXNvbHZlcyAoaWYgYW55IGhhdmUgbm90IHlldCBiZWVuIGZldGNoZWQpLlxuICAgICAqIFdoZW4gYWxsIHByb21pc2VzIGhhdmUgYWxsIHNldHRsZWQsIGl0IGxvZ3MgdGhlIHJlc29sdmUgdmFsdWVzLlxuICAgICAqIGBgYGpzXG4gICAgICogbGV0IHRva2VucyA9IHRyYW5zLmdldFJlc29sdmVUb2tlbnMoKTtcbiAgICAgKiBsZXQgcHJvbWlzZSA9IHRva2Vucy5tYXAodG9rZW4gPT4gdHJhbnMuaW5qZWN0b3IoKS5nZXRBc3luYyh0b2tlbikpO1xuICAgICAqIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKHZhbHVlcyA9PiBjb25zb2xlLmxvZyhcIlJlc29sdmVkIHZhbHVlczogXCIgKyB2YWx1ZXMpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIE5vdGU6IEFuZ3VsYXIgMSB1c2VycyB3aG91bGQgdXNlIGAkcS5hbGwoKWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRobmFtZSByZXNvbHZlIGNvbnRleHQncyBwYXRoIG5hbWUgKGUuZy4sIGB0b2Agb3IgYGZyb21gKVxuICAgICAqXG4gICAgICogQHJldHVybnMgYW4gYXJyYXkgb2YgcmVzb2x2ZSB0b2tlbnMgKGtleXMpXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuZ2V0UmVzb2x2ZVRva2VucyA9IGZ1bmN0aW9uIChwYXRobmFtZSkge1xuICAgICAgICBpZiAocGF0aG5hbWUgPT09IHZvaWQgMCkgeyBwYXRobmFtZSA9IFwidG9cIjsgfVxuICAgICAgICByZXR1cm4gbmV3IHJlc29sdmVDb250ZXh0XzEuUmVzb2x2ZUNvbnRleHQodGhpcy5fdHJlZUNoYW5nZXNbcGF0aG5hbWVdKS5nZXRUb2tlbnMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIER5bmFtaWNhbGx5IGFkZHMgYSBuZXcgW1tSZXNvbHZhYmxlXV0gKGkuZS4sIFtbU3RhdGVEZWNsYXJhdGlvbi5yZXNvbHZlXV0pIHRvIHRoaXMgdHJhbnNpdGlvbi5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHRyYW5zaXRpb25TZXJ2aWNlLm9uQmVmb3JlKHt9LCB0cmFuc2l0aW9uID0+IHtcbiAgICAgKiAgIHRyYW5zaXRpb24uYWRkUmVzb2x2YWJsZSh7XG4gICAgICogICAgIHRva2VuOiAnbXlSZXNvbHZlJyxcbiAgICAgKiAgICAgZGVwczogWydNeVNlcnZpY2UnXSxcbiAgICAgKiAgICAgcmVzb2x2ZUZuOiBteVNlcnZpY2UgPT4gbXlTZXJ2aWNlLmdldERhdGEoKVxuICAgICAqICAgfSk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVzb2x2YWJsZSBhIFtbUmVzb2x2YWJsZUxpdGVyYWxdXSBvYmplY3QgKG9yIGEgW1tSZXNvbHZhYmxlXV0pXG4gICAgICogQHBhcmFtIHN0YXRlIHRoZSBzdGF0ZSBpbiB0aGUgXCJ0byBwYXRoXCIgd2hpY2ggc2hvdWxkIHJlY2VpdmUgdGhlIG5ldyByZXNvbHZlIChvdGhlcndpc2UsIHRoZSByb290IHN0YXRlKVxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmFkZFJlc29sdmFibGUgPSBmdW5jdGlvbiAocmVzb2x2YWJsZSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKHN0YXRlID09PSB2b2lkIDApIHsgc3RhdGUgPSBcIlwiOyB9XG4gICAgICAgIHJlc29sdmFibGUgPSBob2ZfMS5pcyhyZXNvbHZhYmxlXzEuUmVzb2x2YWJsZSkocmVzb2x2YWJsZSkgPyByZXNvbHZhYmxlIDogbmV3IHJlc29sdmFibGVfMS5SZXNvbHZhYmxlKHJlc29sdmFibGUpO1xuICAgICAgICB2YXIgc3RhdGVOYW1lID0gKHR5cGVvZiBzdGF0ZSA9PT0gXCJzdHJpbmdcIikgPyBzdGF0ZSA6IHN0YXRlLm5hbWU7XG4gICAgICAgIHZhciB0b3BhdGggPSB0aGlzLl90cmVlQ2hhbmdlcy50bztcbiAgICAgICAgdmFyIHRhcmdldE5vZGUgPSBjb21tb25fMS5maW5kKHRvcGF0aCwgZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUuc3RhdGUubmFtZSA9PT0gc3RhdGVOYW1lOyB9KTtcbiAgICAgICAgdmFyIHJlc29sdmVDb250ZXh0ID0gbmV3IHJlc29sdmVDb250ZXh0XzEuUmVzb2x2ZUNvbnRleHQodG9wYXRoKTtcbiAgICAgICAgcmVzb2x2ZUNvbnRleHQuYWRkUmVzb2x2YWJsZXMoW3Jlc29sdmFibGVdLCB0YXJnZXROb2RlLnN0YXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHRyYW5zaXRpb24gZnJvbSB3aGljaCB0aGlzIHRyYW5zaXRpb24gd2FzIHJlZGlyZWN0ZWQuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgY3VycmVudCB0cmFuc2l0aW9uIGlzIGEgcmVkaXJlY3QsIHRoaXMgbWV0aG9kIHJldHVybnMgdGhlIHRyYW5zaXRpb24gdGhhdCB3YXMgcmVkaXJlY3RlZC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIGxldCB0cmFuc2l0aW9uQSA9ICRzdGF0ZS5nbygnQScpLnRyYW5zaXRpb25cbiAgICAgKiB0cmFuc2l0aW9uQS5vblN0YXJ0KHt9LCAoKSA9PiAkc3RhdGUudGFyZ2V0KCdCJykpO1xuICAgICAqICR0cmFuc2l0aW9ucy5vblN1Y2Nlc3MoeyB0bzogJ0InIH0sICh0cmFucykgPT4ge1xuICAgICAqICAgdHJhbnMudG8oKS5uYW1lID09PSAnQic7IC8vIHRydWVcbiAgICAgKiAgIHRyYW5zLnJlZGlyZWN0ZWRGcm9tKCkgPT09IHRyYW5zaXRpb25BOyAvLyB0cnVlXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgcHJldmlvdXMgVHJhbnNpdGlvbiwgb3IgbnVsbCBpZiB0aGlzIFRyYW5zaXRpb24gaXMgbm90IHRoZSByZXN1bHQgb2YgYSByZWRpcmVjdGlvblxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLnJlZGlyZWN0ZWRGcm9tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucy5yZWRpcmVjdGVkRnJvbSB8fCBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgb3JpZ2luYWwgdHJhbnNpdGlvbiBpbiBhIHJlZGlyZWN0IGNoYWluXG4gICAgICpcbiAgICAgKiBBIHRyYW5zaXRpb24gbWlnaHQgYmVsb25nIHRvIGEgbG9uZyBjaGFpbiBvZiBtdWx0aXBsZSByZWRpcmVjdHMuXG4gICAgICogVGhpcyBtZXRob2Qgd2Fsa3MgdGhlIFtbcmVkaXJlY3RlZEZyb21dXSBjaGFpbiBiYWNrIHRvIHRoZSBvcmlnaW5hbCAoZmlyc3QpIHRyYW5zaXRpb24gaW4gdGhlIGNoYWluLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogLy8gc3RhdGVzXG4gICAgICogcmVnaXN0cnkucmVnaXN0ZXIoeyBuYW1lOiAnQScsIHJlZGlyZWN0VG86ICdCJyB9KTtcbiAgICAgKiByZWdpc3RyeS5yZWdpc3Rlcih7IG5hbWU6ICdCJywgcmVkaXJlY3RUbzogJ0MnIH0pO1xuICAgICAqIHJlZ2lzdHJ5LnJlZ2lzdGVyKHsgbmFtZTogJ0MnLCByZWRpcmVjdFRvOiAnRCcgfSk7XG4gICAgICogcmVnaXN0cnkucmVnaXN0ZXIoeyBuYW1lOiAnRCcgfSk7XG4gICAgICpcbiAgICAgKiBsZXQgdHJhbnNpdGlvbkEgPSAkc3RhdGUuZ28oJ0EnKS50cmFuc2l0aW9uXG4gICAgICpcbiAgICAgKiAkdHJhbnNpdGlvbnMub25TdWNjZXNzKHsgdG86ICdEJyB9LCAodHJhbnMpID0+IHtcbiAgICAgKiAgIHRyYW5zLnRvKCkubmFtZSA9PT0gJ0QnOyAvLyB0cnVlXG4gICAgICogICB0cmFucy5yZWRpcmVjdGVkRnJvbSgpLnRvKCkubmFtZSA9PT0gJ0MnOyAvLyB0cnVlXG4gICAgICogICB0cmFucy5vcmlnaW5hbFRyYW5zaXRpb24oKSA9PT0gdHJhbnNpdGlvbkE7IC8vIHRydWVcbiAgICAgKiAgIHRyYW5zLm9yaWdpbmFsVHJhbnNpdGlvbigpLnRvKCkubmFtZSA9PT0gJ0EnOyAvLyB0cnVlXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgb3JpZ2luYWwgVHJhbnNpdGlvbiB0aGF0IHN0YXJ0ZWQgYSByZWRpcmVjdCBjaGFpblxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLm9yaWdpbmFsVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJmID0gdGhpcy5yZWRpcmVjdGVkRnJvbSgpO1xuICAgICAgICByZXR1cm4gKHJmICYmIHJmLm9yaWdpbmFsVHJhbnNpdGlvbigpKSB8fCB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0cmFuc2l0aW9uIG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRoZSBvcHRpb25zIGZvciB0aGlzIFRyYW5zaXRpb24uXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUub3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGF0ZXMgYmVpbmcgZW50ZXJlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGFuIGFycmF5IG9mIHN0YXRlcyB0aGF0IHdpbGwgYmUgZW50ZXJlZCBkdXJpbmcgdGhpcyB0cmFuc2l0aW9uLlxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmVudGVyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29tbW9uXzEubWFwKHRoaXMuX3RyZWVDaGFuZ2VzLmVudGVyaW5nLCBob2ZfMS5wcm9wKCdzdGF0ZScpKS5tYXAoc3RhdGVTZWxmKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YXRlcyBiZWluZyBleGl0ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhbiBhcnJheSBvZiBzdGF0ZXMgdGhhdCB3aWxsIGJlIGV4aXRlZCBkdXJpbmcgdGhpcyB0cmFuc2l0aW9uLlxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmV4aXRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb21tb25fMS5tYXAodGhpcy5fdHJlZUNoYW5nZXMuZXhpdGluZywgaG9mXzEucHJvcCgnc3RhdGUnKSkubWFwKHN0YXRlU2VsZikucmV2ZXJzZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3RhdGVzIGJlaW5nIHJldGFpbmVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYW4gYXJyYXkgb2Ygc3RhdGVzIHRoYXQgYXJlIGFscmVhZHkgZW50ZXJlZCBmcm9tIGEgcHJldmlvdXMgVHJhbnNpdGlvbiwgdGhhdCB3aWxsIG5vdCBiZVxuICAgICAqICAgIGV4aXRlZCBkdXJpbmcgdGhpcyBUcmFuc2l0aW9uXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUucmV0YWluZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb21tb25fMS5tYXAodGhpcy5fdHJlZUNoYW5nZXMucmV0YWluZWQsIGhvZl8xLnByb3AoJ3N0YXRlJykpLm1hcChzdGF0ZVNlbGYpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBbW1ZpZXdDb25maWddXXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgVHJhbnNpdGlvblxuICAgICAqXG4gICAgICogRWFjaCBzdGF0ZSBjYW4gZGVmaW5lIG9uZSBvciBtb3JlIHZpZXdzICh0ZW1wbGF0ZS9jb250cm9sbGVyKSwgd2hpY2ggYXJlIGVuY2Fwc3VsYXRlZCBhcyBgVmlld0NvbmZpZ2Agb2JqZWN0cy5cbiAgICAgKiBUaGlzIG1ldGhvZCBmZXRjaGVzIHRoZSBgVmlld0NvbmZpZ3NgIGZvciBhIGdpdmVuIHBhdGggaW4gdGhlIFRyYW5zaXRpb24gKGUuZy4sIFwidG9cIiBvciBcImVudGVyaW5nXCIpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGhuYW1lIHRoZSBuYW1lIG9mIHRoZSBwYXRoIHRvIGZldGNoIHZpZXdzIGZvcjpcbiAgICAgKiAgIChgJ3RvJ2AsIGAnZnJvbSdgLCBgJ2VudGVyaW5nJ2AsIGAnZXhpdGluZydgLCBgJ3JldGFpbmVkJ2ApXG4gICAgICogQHBhcmFtIHN0YXRlIElmIHByb3ZpZGVkLCBvbmx5IHJldHVybnMgdGhlIGBWaWV3Q29uZmlnYHMgZm9yIGEgc2luZ2xlIHN0YXRlIGluIHRoZSBwYXRoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIGxpc3Qgb2YgVmlld0NvbmZpZyBvYmplY3RzIGZvciB0aGUgZ2l2ZW4gcGF0aC5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS52aWV3cyA9IGZ1bmN0aW9uIChwYXRobmFtZSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKHBhdGhuYW1lID09PSB2b2lkIDApIHsgcGF0aG5hbWUgPSBcImVudGVyaW5nXCI7IH1cbiAgICAgICAgdmFyIHBhdGggPSB0aGlzLl90cmVlQ2hhbmdlc1twYXRobmFtZV07XG4gICAgICAgIHBhdGggPSAhc3RhdGUgPyBwYXRoIDogcGF0aC5maWx0ZXIoaG9mXzEucHJvcEVxKCdzdGF0ZScsIHN0YXRlKSk7XG4gICAgICAgIHJldHVybiBwYXRoLm1hcChob2ZfMS5wcm9wKFwidmlld3NcIikpLmZpbHRlcihjb21tb25fMS5pZGVudGl0eSkucmVkdWNlKGNvbW1vbl8xLnVubmVzdFIsIFtdKTtcbiAgICB9O1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLnRyZWVDaGFuZ2VzID0gZnVuY3Rpb24gKHBhdGhuYW1lKSB7XG4gICAgICAgIHJldHVybiBwYXRobmFtZSA/IHRoaXMuX3RyZWVDaGFuZ2VzW3BhdGhuYW1lXSA6IHRoaXMuX3RyZWVDaGFuZ2VzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0cmFuc2l0aW9uIHRoYXQgaXMgYSByZWRpcmVjdGlvbiBvZiB0aGUgY3VycmVudCBvbmUuXG4gICAgICpcbiAgICAgKiBUaGlzIHRyYW5zaXRpb24gY2FuIGJlIHJldHVybmVkIGZyb20gYSBbW1RyYW5zaXRpb25TZXJ2aWNlXV0gaG9vayB0b1xuICAgICAqIHJlZGlyZWN0IGEgdHJhbnNpdGlvbiB0byBhIG5ldyBzdGF0ZSBhbmQvb3Igc2V0IG9mIHBhcmFtZXRlcnMuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJldHVybnMgYSBuZXcgW1tUcmFuc2l0aW9uXV0gaW5zdGFuY2UuXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUucmVkaXJlY3QgPSBmdW5jdGlvbiAodGFyZ2V0U3RhdGUpIHtcbiAgICAgICAgdmFyIHJlZGlyZWN0cyA9IDEsIHRyYW5zID0gdGhpcztcbiAgICAgICAgd2hpbGUgKCh0cmFucyA9IHRyYW5zLnJlZGlyZWN0ZWRGcm9tKCkpICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICgrK3JlZGlyZWN0cyA+IDIwKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvbyBtYW55IGNvbnNlY3V0aXZlIFRyYW5zaXRpb24gcmVkaXJlY3RzICgyMCspXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWRpcmVjdE9wdHMgPSB7IHJlZGlyZWN0ZWRGcm9tOiB0aGlzLCBzb3VyY2U6IFwicmVkaXJlY3RcIiB9O1xuICAgICAgICAvLyBJZiB0aGUgb3JpZ2luYWwgdHJhbnNpdGlvbiB3YXMgY2F1c2VkIGJ5IFVSTCBzeW5jLCB0aGVuIHVzZSB7IGxvY2F0aW9uOiAncmVwbGFjZScgfVxuICAgICAgICAvLyBvbiB0aGUgbmV3IHRyYW5zaXRpb24gKHVubGVzcyB0aGUgdGFyZ2V0IHN0YXRlIGV4cGxpY2l0bHkgc3BlY2lmaWVzIGxvY2F0aW9uOiBmYWxzZSkuXG4gICAgICAgIC8vIFRoaXMgY2F1c2VzIHRoZSBvcmlnaW5hbCB1cmwgdG8gYmUgcmVwbGFjZWQgd2l0aCB0aGUgdXJsIGZvciB0aGUgcmVkaXJlY3QgdGFyZ2V0XG4gICAgICAgIC8vIHNvIHRoZSBvcmlnaW5hbCB1cmwgZGlzYXBwZWFycyBmcm9tIHRoZSBicm93c2VyIGhpc3RvcnkuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMoKS5zb3VyY2UgPT09ICd1cmwnICYmIHRhcmdldFN0YXRlLm9wdGlvbnMoKS5sb2NhdGlvbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJlZGlyZWN0T3B0cy5sb2NhdGlvbiA9ICdyZXBsYWNlJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV3T3B0aW9ucyA9IGNvbW1vbl8xLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zKCksIHRhcmdldFN0YXRlLm9wdGlvbnMoKSwgcmVkaXJlY3RPcHRzKTtcbiAgICAgICAgdGFyZ2V0U3RhdGUgPSBuZXcgdGFyZ2V0U3RhdGVfMS5UYXJnZXRTdGF0ZSh0YXJnZXRTdGF0ZS5pZGVudGlmaWVyKCksIHRhcmdldFN0YXRlLiRzdGF0ZSgpLCB0YXJnZXRTdGF0ZS5wYXJhbXMoKSwgbmV3T3B0aW9ucyk7XG4gICAgICAgIHZhciBuZXdUcmFuc2l0aW9uID0gdGhpcy5yb3V0ZXIudHJhbnNpdGlvblNlcnZpY2UuY3JlYXRlKHRoaXMuX3RyZWVDaGFuZ2VzLmZyb20sIHRhcmdldFN0YXRlKTtcbiAgICAgICAgdmFyIG9yaWdpbmFsRW50ZXJpbmdOb2RlcyA9IHRoaXMuX3RyZWVDaGFuZ2VzLmVudGVyaW5nO1xuICAgICAgICB2YXIgcmVkaXJlY3RFbnRlcmluZ05vZGVzID0gbmV3VHJhbnNpdGlvbi5fdHJlZUNoYW5nZXMuZW50ZXJpbmc7XG4gICAgICAgIC8vIC0tLSBSZS11c2UgcmVzb2x2ZSBkYXRhIGZyb20gb3JpZ2luYWwgdHJhbnNpdGlvbiAtLS1cbiAgICAgICAgLy8gV2hlbiByZWRpcmVjdGluZyBmcm9tIGEgcGFyZW50IHN0YXRlIHRvIGEgY2hpbGQgc3RhdGUgd2hlcmUgdGhlIHBhcmVudCBwYXJhbWV0ZXIgdmFsdWVzIGhhdmVuJ3QgY2hhbmdlZFxuICAgICAgICAvLyAoYmVjYXVzZSBvZiB0aGUgcmVkaXJlY3QpLCB0aGUgcmVzb2x2ZXMgZmV0Y2hlZCBieSB0aGUgb3JpZ2luYWwgdHJhbnNpdGlvbiBhcmUgc3RpbGwgdmFsaWQgaW4gdGhlXG4gICAgICAgIC8vIHJlZGlyZWN0ZWQgdHJhbnNpdGlvbi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBhbGxvd3MgeW91IHRvIGRlZmluZSBhIHJlZGlyZWN0IG9uIGEgcGFyZW50IHN0YXRlIHdoaWNoIGRlcGVuZHMgb24gYW4gYXN5bmMgcmVzb2x2ZSB2YWx1ZS5cbiAgICAgICAgLy8gWW91IGNhbiB3YWl0IGZvciB0aGUgcmVzb2x2ZSwgdGhlbiByZWRpcmVjdCB0byBhIGNoaWxkIHN0YXRlIGJhc2VkIG9uIHRoZSByZXN1bHQuXG4gICAgICAgIC8vIFRoZSByZWRpcmVjdGVkIHRyYW5zaXRpb24gZG9lcyBub3QgaGF2ZSB0byByZS1mZXRjaCB0aGUgcmVzb2x2ZS5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHZhciBub2RlSXNSZWxvYWRpbmcgPSBmdW5jdGlvbiAocmVsb2FkU3RhdGUpIHsgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVsb2FkU3RhdGUgJiYgbm9kZS5zdGF0ZS5pbmNsdWRlc1tyZWxvYWRTdGF0ZS5uYW1lXTtcbiAgICAgICAgfTsgfTtcbiAgICAgICAgLy8gRmluZCBhbnkgXCJlbnRlcmluZ1wiIG5vZGVzIGluIHRoZSByZWRpcmVjdCBwYXRoIHRoYXQgbWF0Y2ggdGhlIG9yaWdpbmFsIHBhdGggYW5kIGFyZW4ndCBiZWluZyByZWxvYWRlZFxuICAgICAgICB2YXIgbWF0Y2hpbmdFbnRlcmluZ05vZGVzID0gcGF0aEZhY3RvcnlfMS5QYXRoVXRpbHMubWF0Y2hpbmcocmVkaXJlY3RFbnRlcmluZ05vZGVzLCBvcmlnaW5hbEVudGVyaW5nTm9kZXMsIHBhdGhGYWN0b3J5XzEuUGF0aFV0aWxzLm5vbkR5bmFtaWNQYXJhbXMpXG4gICAgICAgICAgICAuZmlsdGVyKGhvZl8xLm5vdChub2RlSXNSZWxvYWRpbmcodGFyZ2V0U3RhdGUub3B0aW9ucygpLnJlbG9hZFN0YXRlKSkpO1xuICAgICAgICAvLyBVc2UgdGhlIGV4aXN0aW5nIChwb3NzaWJseSBwcmUtcmVzb2x2ZWQpIHJlc29sdmFibGVzIGZvciB0aGUgbWF0Y2hpbmcgZW50ZXJpbmcgbm9kZXMuXG4gICAgICAgIG1hdGNoaW5nRW50ZXJpbmdOb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlLCBpZHgpIHtcbiAgICAgICAgICAgIG5vZGUucmVzb2x2YWJsZXMgPSBvcmlnaW5hbEVudGVyaW5nTm9kZXNbaWR4XS5yZXNvbHZhYmxlcztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXdUcmFuc2l0aW9uO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gSWYgYSB0cmFuc2l0aW9uIGRvZXNuJ3QgZXhpdC9lbnRlciBhbnkgc3RhdGVzLCByZXR1cm5zIGFueSBbW1BhcmFtXV0gd2hvc2UgdmFsdWUgY2hhbmdlZCAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLl9jaGFuZ2VkUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGMgPSB0aGlzLl90cmVlQ2hhbmdlcztcbiAgICAgICAgLyoqIFJldHVybiB1bmRlZmluZWQgaWYgaXQncyBub3QgYSBcImR5bmFtaWNcIiB0cmFuc2l0aW9uLCBmb3IgdGhlIGZvbGxvd2luZyByZWFzb25zICovXG4gICAgICAgIC8vIElmIHVzZXIgZXhwbGljaXRseSB3YW50cyBhIHJlbG9hZFxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5yZWxvYWQpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAvLyBJZiBhbnkgc3RhdGVzIGFyZSBleGl0aW5nIG9yIGVudGVyaW5nXG4gICAgICAgIGlmICh0Yy5leGl0aW5nLmxlbmd0aCB8fCB0Yy5lbnRlcmluZy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAvLyBJZiB0by9mcm9tIHBhdGggbGVuZ3RocyBkaWZmZXJcbiAgICAgICAgaWYgKHRjLnRvLmxlbmd0aCAhPT0gdGMuZnJvbS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAvLyBJZiB0aGUgdG8vZnJvbSBwYXRocyBhcmUgZGlmZmVyZW50XG4gICAgICAgIHZhciBwYXRoc0RpZmZlciA9IGNvbW1vbl8xLmFycmF5VHVwbGVzKHRjLnRvLCB0Yy5mcm9tKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodHVwbGUpIHsgcmV0dXJuIHR1cGxlWzBdLnN0YXRlICE9PSB0dXBsZVsxXS5zdGF0ZTsgfSlcbiAgICAgICAgICAgIC5yZWR1Y2UoY29tbW9uXzEuYW55VHJ1ZVIsIGZhbHNlKTtcbiAgICAgICAgaWYgKHBhdGhzRGlmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgLy8gRmluZCBhbnkgcGFyYW1ldGVyIHZhbHVlcyB0aGF0IGRpZmZlclxuICAgICAgICB2YXIgbm9kZVNjaGVtYXMgPSB0Yy50by5tYXAoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUucGFyYW1TY2hlbWE7IH0pO1xuICAgICAgICB2YXIgX2EgPSBbdGMudG8sIHRjLmZyb21dLm1hcChmdW5jdGlvbiAocGF0aCkgeyByZXR1cm4gcGF0aC5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgucGFyYW1WYWx1ZXM7IH0pOyB9KSwgdG9WYWx1ZXMgPSBfYVswXSwgZnJvbVZhbHVlcyA9IF9hWzFdO1xuICAgICAgICB2YXIgdHVwbGVzID0gY29tbW9uXzEuYXJyYXlUdXBsZXMobm9kZVNjaGVtYXMsIHRvVmFsdWVzLCBmcm9tVmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIHR1cGxlcy5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgc2NoZW1hID0gX2FbMF0sIHRvVmFscyA9IF9hWzFdLCBmcm9tVmFscyA9IF9hWzJdO1xuICAgICAgICAgICAgcmV0dXJuIHBhcmFtXzEuUGFyYW0uY2hhbmdlZChzY2hlbWEsIHRvVmFscywgZnJvbVZhbHMpO1xuICAgICAgICB9KS5yZWR1Y2UoY29tbW9uXzEudW5uZXN0UiwgW10pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB0cmFuc2l0aW9uIGlzIGR5bmFtaWMuXG4gICAgICpcbiAgICAgKiBBIHRyYW5zaXRpb24gaXMgZHluYW1pYyBpZiBubyBzdGF0ZXMgYXJlIGVudGVyZWQgbm9yIGV4aXRlZCwgYnV0IGF0IGxlYXN0IG9uZSBkeW5hbWljIHBhcmFtZXRlciBoYXMgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIFRyYW5zaXRpb24gaXMgZHluYW1pY1xuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmR5bmFtaWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjaGFuZ2VzID0gdGhpcy5fY2hhbmdlZFBhcmFtcygpO1xuICAgICAgICByZXR1cm4gIWNoYW5nZXMgPyBmYWxzZSA6IGNoYW5nZXMubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmR5bmFtaWM7IH0pLnJlZHVjZShjb21tb25fMS5hbnlUcnVlUiwgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB0cmFuc2l0aW9uIGlzIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiBBIHRyYW5zaXRpb24gaXMgaWdub3JlZCBpZiBubyBzdGF0ZXMgYXJlIGVudGVyZWQgbm9yIGV4aXRlZCwgYW5kIG5vIHBhcmFtZXRlciB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgVHJhbnNpdGlvbiBpcyBpZ25vcmVkLlxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmlnbm9yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2lnbm9yZWRSZWFzb24oKTtcbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuX2lnbm9yZWRSZWFzb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwZW5kaW5nID0gdGhpcy5yb3V0ZXIuZ2xvYmFscy50cmFuc2l0aW9uO1xuICAgICAgICB2YXIgcmVsb2FkU3RhdGUgPSB0aGlzLl9vcHRpb25zLnJlbG9hZFN0YXRlO1xuICAgICAgICB2YXIgc2FtZSA9IGZ1bmN0aW9uIChwYXRoQSwgcGF0aEIpIHtcbiAgICAgICAgICAgIGlmIChwYXRoQS5sZW5ndGggIT09IHBhdGhCLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmcgPSBwYXRoRmFjdG9yeV8xLlBhdGhVdGlscy5tYXRjaGluZyhwYXRoQSwgcGF0aEIpO1xuICAgICAgICAgICAgcmV0dXJuIHBhdGhBLmxlbmd0aCA9PT0gbWF0Y2hpbmcuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiAhcmVsb2FkU3RhdGUgfHwgIW5vZGUuc3RhdGUuaW5jbHVkZXNbcmVsb2FkU3RhdGUubmFtZV07IH0pLmxlbmd0aDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG5ld1RDID0gdGhpcy50cmVlQ2hhbmdlcygpO1xuICAgICAgICB2YXIgcGVuZFRDID0gcGVuZGluZyAmJiBwZW5kaW5nLnRyZWVDaGFuZ2VzKCk7XG4gICAgICAgIGlmIChwZW5kVEMgJiYgc2FtZShwZW5kVEMudG8sIG5ld1RDLnRvKSAmJiBzYW1lKHBlbmRUQy5leGl0aW5nLCBuZXdUQy5leGl0aW5nKSlcbiAgICAgICAgICAgIHJldHVybiBcIlNhbWVBc1BlbmRpbmdcIjtcbiAgICAgICAgaWYgKG5ld1RDLmV4aXRpbmcubGVuZ3RoID09PSAwICYmIG5ld1RDLmVudGVyaW5nLmxlbmd0aCA9PT0gMCAmJiBzYW1lKG5ld1RDLmZyb20sIG5ld1RDLnRvKSlcbiAgICAgICAgICAgIHJldHVybiBcIlNhbWVBc0N1cnJlbnRcIjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJ1bnMgdGhlIHRyYW5zaXRpb25cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGdlbmVyYWxseSBjYWxsZWQgZnJvbSB0aGUgW1tTdGF0ZVNlcnZpY2UudHJhbnNpdGlvblRvXV1cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIGZvciBhIHN1Y2Nlc3NmdWwgdHJhbnNpdGlvbi5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBydW5BbGxIb29rcyA9IHRyYW5zaXRpb25Ib29rXzEuVHJhbnNpdGlvbkhvb2sucnVuQWxsSG9va3M7XG4gICAgICAgIC8vIEdldHMgdHJhbnNpdGlvbiBob29rcyBhcnJheSBmb3IgdGhlIGdpdmVuIHBoYXNlXG4gICAgICAgIHZhciBnZXRIb29rc0ZvciA9IGZ1bmN0aW9uIChwaGFzZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9ob29rQnVpbGRlci5idWlsZEhvb2tzRm9yUGhhc2UocGhhc2UpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBXaGVuIHRoZSBjaGFpbiBpcyBjb21wbGV0ZSwgdGhlbiByZXNvbHZlIG9yIHJlamVjdCB0aGUgZGVmZXJyZWRcbiAgICAgICAgdmFyIHRyYW5zaXRpb25TdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZVN1Y2Nlc3MoX3RoaXMuJHRvKCksIF90aGlzKTtcbiAgICAgICAgICAgIF90aGlzLnN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMuX2RlZmVycmVkLnJlc29sdmUoX3RoaXMudG8oKSk7XG4gICAgICAgICAgICBydW5BbGxIb29rcyhnZXRIb29rc0ZvcihpbnRlcmZhY2VfMS5UcmFuc2l0aW9uSG9va1BoYXNlLlNVQ0NFU1MpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRyYW5zaXRpb25FcnJvciA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VFcnJvcihyZWFzb24sIF90aGlzKTtcbiAgICAgICAgICAgIF90aGlzLnN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLl9kZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIF90aGlzLl9lcnJvciA9IHJlYXNvbjtcbiAgICAgICAgICAgIHJ1bkFsbEhvb2tzKGdldEhvb2tzRm9yKGludGVyZmFjZV8xLlRyYW5zaXRpb25Ib29rUGhhc2UuRVJST1IpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJ1blRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBXYWl0IHRvIGJ1aWxkIHRoZSBSVU4gaG9vayBjaGFpbiB1bnRpbCB0aGUgQkVGT1JFIGhvb2tzIGFyZSBkb25lXG4gICAgICAgICAgICAvLyBUaGlzIGFsbG93cyBhIEJFRk9SRSBob29rIHRvIGR5bmFtaWNhbGx5IGFkZCBhZGRpdGlvbmFsIFJVTiBob29rcyB2aWEgdGhlIFRyYW5zaXRpb24gb2JqZWN0LlxuICAgICAgICAgICAgdmFyIGFsbFJ1bkhvb2tzID0gZ2V0SG9va3NGb3IoaW50ZXJmYWNlXzEuVHJhbnNpdGlvbkhvb2tQaGFzZS5SVU4pO1xuICAgICAgICAgICAgdmFyIGRvbmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS53aGVuKHVuZGVmaW5lZCk7IH07XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNpdGlvbkhvb2tfMS5UcmFuc2l0aW9uSG9vay5pbnZva2VIb29rcyhhbGxSdW5Ib29rcywgZG9uZSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzdGFydFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZ2xvYmFscyA9IF90aGlzLnJvdXRlci5nbG9iYWxzO1xuICAgICAgICAgICAgZ2xvYmFscy5sYXN0U3RhcnRlZFRyYW5zaXRpb25JZCA9IF90aGlzLiRpZDtcbiAgICAgICAgICAgIGdsb2JhbHMudHJhbnNpdGlvbiA9IF90aGlzO1xuICAgICAgICAgICAgZ2xvYmFscy50cmFuc2l0aW9uSGlzdG9yeS5lbnF1ZXVlKF90aGlzKTtcbiAgICAgICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VUcmFuc2l0aW9uU3RhcnQoX3RoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxLndoZW4odW5kZWZpbmVkKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGFsbEJlZm9yZUhvb2tzID0gZ2V0SG9va3NGb3IoaW50ZXJmYWNlXzEuVHJhbnNpdGlvbkhvb2tQaGFzZS5CRUZPUkUpO1xuICAgICAgICB0cmFuc2l0aW9uSG9va18xLlRyYW5zaXRpb25Ib29rLmludm9rZUhvb2tzKGFsbEJlZm9yZUhvb2tzLCBzdGFydFRyYW5zaXRpb24pXG4gICAgICAgICAgICAudGhlbihydW5UcmFuc2l0aW9uKVxuICAgICAgICAgICAgLnRoZW4odHJhbnNpdGlvblN1Y2Nlc3MsIHRyYW5zaXRpb25FcnJvcik7XG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIFRyYW5zaXRpb24gaXMgdmFsaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIFRyYW5zaXRpb24gaXMgdmFsaWRcbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS52YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmVycm9yKCkgfHwgdGhpcy5zdWNjZXNzICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBYm9ydHMgdGhpcyB0cmFuc2l0aW9uXG4gICAgICpcbiAgICAgKiBJbXBlcmF0aXZlIEFQSSB0byBhYm9ydCBhIFRyYW5zaXRpb24uXG4gICAgICogVGhpcyBvbmx5IGFwcGxpZXMgdG8gVHJhbnNpdGlvbnMgdGhhdCBhcmUgbm90IHlldCBjb21wbGV0ZS5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRG8gbm90IHNldCBmbGFnIGlmIHRoZSB0cmFuc2l0aW9uIGlzIGFscmVhZHkgY29tcGxldGVcbiAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc1VuZGVmaW5lZCh0aGlzLnN1Y2Nlc3MpKSB7XG4gICAgICAgICAgICB0aGlzLl9hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIFRyYW5zaXRpb24gZXJyb3IgcmVhc29uLlxuICAgICAqXG4gICAgICogSWYgdGhlIHRyYW5zaXRpb24gaXMgaW52YWxpZCAoYW5kIGNvdWxkIG5vdCBiZSBydW4pLCByZXR1cm5zIHRoZSByZWFzb24gdGhlIHRyYW5zaXRpb24gaXMgaW52YWxpZC5cbiAgICAgKiBJZiB0aGUgdHJhbnNpdGlvbiB3YXMgdmFsaWQgYW5kIHJhbiwgYnV0IHdhcyBub3Qgc3VjY2Vzc2Z1bCwgcmV0dXJucyB0aGUgcmVhc29uIHRoZSB0cmFuc2l0aW9uIGZhaWxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGFuIGVycm9yIG1lc3NhZ2UgZXhwbGFpbmluZyB3aHkgdGhlIHRyYW5zaXRpb24gaXMgaW52YWxpZCwgb3IgdGhlIHJlYXNvbiB0aGUgdHJhbnNpdGlvbiBmYWlsZWQuXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuJHRvKCk7XG4gICAgICAgIGlmIChzdGF0ZS5zZWxmLmFic3RyYWN0KVxuICAgICAgICAgICAgcmV0dXJuIFwiQ2Fubm90IHRyYW5zaXRpb24gdG8gYWJzdHJhY3Qgc3RhdGUgJ1wiICsgc3RhdGUubmFtZSArIFwiJ1wiO1xuICAgICAgICBpZiAoIXBhcmFtXzEuUGFyYW0udmFsaWRhdGVzKHN0YXRlLnBhcmFtZXRlcnMoKSwgdGhpcy5wYXJhbXMoKSkpXG4gICAgICAgICAgICByZXR1cm4gXCJQYXJhbSB2YWx1ZXMgbm90IHZhbGlkIGZvciBzdGF0ZSAnXCIgKyBzdGF0ZS5uYW1lICsgXCInXCI7XG4gICAgICAgIGlmICh0aGlzLnN1Y2Nlc3MgPT09IGZhbHNlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIFRyYW5zaXRpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBUcmFuc2l0aW9uXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmcm9tU3RhdGVPck5hbWUgPSB0aGlzLmZyb20oKTtcbiAgICAgICAgdmFyIHRvU3RhdGVPck5hbWUgPSB0aGlzLnRvKCk7XG4gICAgICAgIHZhciBhdm9pZEVtcHR5SGFzaCA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICAgIHJldHVybiAocGFyYW1zW1wiI1wiXSAhPT0gbnVsbCAmJiBwYXJhbXNbXCIjXCJdICE9PSB1bmRlZmluZWQpID8gcGFyYW1zIDogY29tbW9uXzEub21pdChwYXJhbXMsIFtcIiNcIl0pO1xuICAgICAgICB9O1xuICAgICAgICAvLyAoWCkgbWVhbnMgdGhlIHRvIHN0YXRlIGlzIGludmFsaWQuXG4gICAgICAgIHZhciBpZCA9IHRoaXMuJGlkLCBmcm9tID0gcHJlZGljYXRlc18xLmlzT2JqZWN0KGZyb21TdGF0ZU9yTmFtZSkgPyBmcm9tU3RhdGVPck5hbWUubmFtZSA6IGZyb21TdGF0ZU9yTmFtZSwgZnJvbVBhcmFtcyA9IGNvbW1vbl8xLnRvSnNvbihhdm9pZEVtcHR5SGFzaCh0aGlzLl90cmVlQ2hhbmdlcy5mcm9tLm1hcChob2ZfMS5wcm9wKCdwYXJhbVZhbHVlcycpKS5yZWR1Y2UoY29tbW9uXzEubWVyZ2VSLCB7fSkpKSwgdG9WYWxpZCA9IHRoaXMudmFsaWQoKSA/IFwiXCIgOiBcIihYKSBcIiwgdG8gPSBwcmVkaWNhdGVzXzEuaXNPYmplY3QodG9TdGF0ZU9yTmFtZSkgPyB0b1N0YXRlT3JOYW1lLm5hbWUgOiB0b1N0YXRlT3JOYW1lLCB0b1BhcmFtcyA9IGNvbW1vbl8xLnRvSnNvbihhdm9pZEVtcHR5SGFzaCh0aGlzLnBhcmFtcygpKSk7XG4gICAgICAgIHJldHVybiBcIlRyYW5zaXRpb24jXCIgKyBpZCArIFwiKCAnXCIgKyBmcm9tICsgXCInXCIgKyBmcm9tUGFyYW1zICsgXCIgLT4gXCIgKyB0b1ZhbGlkICsgXCInXCIgKyB0byArIFwiJ1wiICsgdG9QYXJhbXMgKyBcIiApXCI7XG4gICAgfTtcbiAgICByZXR1cm4gVHJhbnNpdGlvbjtcbn0oKSk7XG4vKiogQGhpZGRlbiAqL1xuVHJhbnNpdGlvbi5kaVRva2VuID0gVHJhbnNpdGlvbjtcbmV4cG9ydHMuVHJhbnNpdGlvbiA9IFRyYW5zaXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2l0aW9uLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvdHJhbnNpdGlvbi90cmFuc2l0aW9uLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///17\n")},function(module,exports,__webpack_require__){"use strict";eval('\n/** @module path */ /** for typedoc */\n\nObject.defineProperty(exports, "__esModule", { value: true });\nvar common_1 = __webpack_require__(0);\nvar hof_1 = __webpack_require__(2);\nvar targetState_1 = __webpack_require__(7);\nvar pathNode_1 = __webpack_require__(25);\n/**\n * This class contains functions which convert TargetStates, Nodes and paths from one type to another.\n */\nvar PathUtils = function () {\n    function PathUtils() {}\n    /** Given a PathNode[], create an TargetState */\n    PathUtils.makeTargetState = function (path) {\n        var state = common_1.tail(path).state;\n        return new targetState_1.TargetState(state, state, path.map(hof_1.prop("paramValues")).reduce(common_1.mergeR, {}));\n    };\n    PathUtils.buildPath = function (targetState) {\n        var toParams = targetState.params();\n        return targetState.$state().path.map(function (state) {\n            return new pathNode_1.PathNode(state).applyRawParams(toParams);\n        });\n    };\n    /** Given a fromPath: PathNode[] and a TargetState, builds a toPath: PathNode[] */\n    PathUtils.buildToPath = function (fromPath, targetState) {\n        var toPath = PathUtils.buildPath(targetState);\n        if (targetState.options().inherit) {\n            return PathUtils.inheritParams(fromPath, toPath, Object.keys(targetState.params()));\n        }\n        return toPath;\n    };\n    /**\n     * Creates ViewConfig objects and adds to nodes.\n     *\n     * On each [[PathNode]], creates ViewConfig objects from the views: property of the node\'s state\n     */\n    PathUtils.applyViewConfigs = function ($view, path, states) {\n        // Only apply the viewConfigs to the nodes for the given states\n        path.filter(function (node) {\n            return common_1.inArray(states, node.state);\n        }).forEach(function (node) {\n            var viewDecls = common_1.values(node.state.views || {});\n            var subPath = PathUtils.subPath(path, function (n) {\n                return n === node;\n            });\n            var viewConfigs = viewDecls.map(function (view) {\n                return $view.createViewConfig(subPath, view);\n            });\n            node.views = viewConfigs.reduce(common_1.unnestR, []);\n        });\n    };\n    /**\n     * Given a fromPath and a toPath, returns a new to path which inherits parameters from the fromPath\n     *\n     * For a parameter in a node to be inherited from the from path:\n     * - The toPath\'s node must have a matching node in the fromPath (by state).\n     * - The parameter name must not be found in the toKeys parameter array.\n     *\n     * Note: the keys provided in toKeys are intended to be those param keys explicitly specified by some\n     * caller, for instance, $state.transitionTo(..., toParams).  If a key was found in toParams,\n     * it is not inherited from the fromPath.\n     */\n    PathUtils.inheritParams = function (fromPath, toPath, toKeys) {\n        if (toKeys === void 0) {\n            toKeys = [];\n        }\n        function nodeParamVals(path, state) {\n            var node = common_1.find(path, hof_1.propEq(\'state\', state));\n            return common_1.extend({}, node && node.paramValues);\n        }\n        var noInherit = fromPath.map(function (node) {\n            return node.paramSchema;\n        }).reduce(common_1.unnestR, []).filter(function (param) {\n            return !param.inherit;\n        }).map(hof_1.prop(\'id\'));\n        /**\n         * Given an [[PathNode]] "toNode", return a new [[PathNode]] with param values inherited from the\n         * matching node in fromPath.  Only inherit keys that aren\'t found in "toKeys" from the node in "fromPath""\n         */\n        function makeInheritedParamsNode(toNode) {\n            // All param values for the node (may include default key/vals, when key was not found in toParams)\n            var toParamVals = common_1.extend({}, toNode && toNode.paramValues);\n            // limited to only those keys found in toParams\n            var incomingParamVals = common_1.pick(toParamVals, toKeys);\n            toParamVals = common_1.omit(toParamVals, toKeys);\n            var fromParamVals = common_1.omit(nodeParamVals(fromPath, toNode.state) || {}, noInherit);\n            // extend toParamVals with any fromParamVals, then override any of those those with incomingParamVals\n            var ownParamVals = common_1.extend(toParamVals, fromParamVals, incomingParamVals);\n            return new pathNode_1.PathNode(toNode.state).applyRawParams(ownParamVals);\n        }\n        // The param keys specified by the incoming toParams\n        return toPath.map(makeInheritedParamsNode);\n    };\n    /**\n     * Computes the tree changes (entering, exiting) between a fromPath and toPath.\n     */\n    PathUtils.treeChanges = function (fromPath, toPath, reloadState) {\n        var keep = 0,\n            max = Math.min(fromPath.length, toPath.length);\n        var nodesMatch = function nodesMatch(node1, node2) {\n            return node1.equals(node2, PathUtils.nonDynamicParams);\n        };\n        while (keep < max && fromPath[keep].state !== reloadState && nodesMatch(fromPath[keep], toPath[keep])) {\n            keep++;\n        }\n        /** Given a retained node, return a new node which uses the to node\'s param values */\n        function applyToParams(retainedNode, idx) {\n            var cloned = pathNode_1.PathNode.clone(retainedNode);\n            cloned.paramValues = toPath[idx].paramValues;\n            return cloned;\n        }\n        var from, retained, exiting, entering, to;\n        from = fromPath;\n        retained = from.slice(0, keep);\n        exiting = from.slice(keep);\n        // Create a new retained path (with shallow copies of nodes) which have the params of the toPath mapped\n        var retainedWithToParams = retained.map(applyToParams);\n        entering = toPath.slice(keep);\n        to = retainedWithToParams.concat(entering);\n        return { from: from, to: to, retained: retained, exiting: exiting, entering: entering };\n    };\n    /**\n     * Returns a new path which is: the subpath of the first path which matches the second path.\n     *\n     * The new path starts from root and contains any nodes that match the nodes in the second path.\n     * It stops before the first non-matching node.\n     *\n     * Nodes are compared using their state property and their parameter values.\n     * If a `paramsFn` is provided, only the [[Param]] returned by the function will be considered when comparing nodes.\n     *\n     * @param pathA the first path\n     * @param pathB the second path\n     * @param paramsFn a function which returns the parameters to consider when comparing\n     *\n     * @returns an array of PathNodes from the first path which match the nodes in the second path\n     */\n    PathUtils.matching = function (pathA, pathB, paramsFn) {\n        var done = false;\n        var tuples = common_1.arrayTuples(pathA, pathB);\n        return tuples.reduce(function (matching, _a) {\n            var nodeA = _a[0],\n                nodeB = _a[1];\n            done = done || !nodeA.equals(nodeB, paramsFn);\n            return done ? matching : matching.concat(nodeA);\n        }, []);\n    };\n    /**\n     * Returns true if two paths are identical.\n     *\n     * @param pathA\n     * @param pathB\n     * @param paramsFn a function which returns the parameters to consider when comparing\n     * @returns true if the the states and parameter values for both paths are identical\n     */\n    PathUtils.equals = function (pathA, pathB, paramsFn) {\n        return pathA.length === pathB.length && PathUtils.matching(pathA, pathB, paramsFn).length === pathA.length;\n    };\n    /**\n     * Return a subpath of a path, which stops at the first matching node\n     *\n     * Given an array of nodes, returns a subset of the array starting from the first node,\n     * stopping when the first node matches the predicate.\n     *\n     * @param path a path of [[PathNode]]s\n     * @param predicate a [[Predicate]] fn that matches [[PathNode]]s\n     * @returns a subpath up to the matching node, or undefined if no match is found\n     */\n    PathUtils.subPath = function (path, predicate) {\n        var node = common_1.find(path, predicate);\n        var elementIdx = path.indexOf(node);\n        return elementIdx === -1 ? undefined : path.slice(0, elementIdx + 1);\n    };\n    return PathUtils;\n}();\nPathUtils.nonDynamicParams = function (node) {\n    return node.state.parameters({ inherit: false }).filter(function (param) {\n        return !param.dynamic;\n    });\n};\n/** Gets the raw parameter values from a path */\nPathUtils.paramValues = function (path) {\n    return path.reduce(function (acc, node) {\n        return common_1.extend(acc, node.paramValues);\n    }, {});\n};\nexports.PathUtils = PathUtils;\n//# sourceMappingURL=pathFactory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3BhdGgvcGF0aEZhY3RvcnkuanM/MzVjYiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNvbW1vbl8xIiwicmVxdWlyZSIsImhvZl8xIiwidGFyZ2V0U3RhdGVfMSIsInBhdGhOb2RlXzEiLCJQYXRoVXRpbHMiLCJtYWtlVGFyZ2V0U3RhdGUiLCJwYXRoIiwic3RhdGUiLCJ0YWlsIiwiVGFyZ2V0U3RhdGUiLCJtYXAiLCJwcm9wIiwicmVkdWNlIiwibWVyZ2VSIiwiYnVpbGRQYXRoIiwidGFyZ2V0U3RhdGUiLCJ0b1BhcmFtcyIsInBhcmFtcyIsIiRzdGF0ZSIsIlBhdGhOb2RlIiwiYXBwbHlSYXdQYXJhbXMiLCJidWlsZFRvUGF0aCIsImZyb21QYXRoIiwidG9QYXRoIiwib3B0aW9ucyIsImluaGVyaXQiLCJpbmhlcml0UGFyYW1zIiwia2V5cyIsImFwcGx5Vmlld0NvbmZpZ3MiLCIkdmlldyIsInN0YXRlcyIsImZpbHRlciIsIm5vZGUiLCJpbkFycmF5IiwiZm9yRWFjaCIsInZpZXdEZWNscyIsInZhbHVlcyIsInZpZXdzIiwic3ViUGF0aCIsIm4iLCJ2aWV3Q29uZmlncyIsInZpZXciLCJjcmVhdGVWaWV3Q29uZmlnIiwidW5uZXN0UiIsInRvS2V5cyIsIm5vZGVQYXJhbVZhbHMiLCJmaW5kIiwicHJvcEVxIiwiZXh0ZW5kIiwicGFyYW1WYWx1ZXMiLCJub0luaGVyaXQiLCJwYXJhbVNjaGVtYSIsInBhcmFtIiwibWFrZUluaGVyaXRlZFBhcmFtc05vZGUiLCJ0b05vZGUiLCJ0b1BhcmFtVmFscyIsImluY29taW5nUGFyYW1WYWxzIiwicGljayIsIm9taXQiLCJmcm9tUGFyYW1WYWxzIiwib3duUGFyYW1WYWxzIiwidHJlZUNoYW5nZXMiLCJyZWxvYWRTdGF0ZSIsImtlZXAiLCJtYXgiLCJNYXRoIiwibWluIiwibGVuZ3RoIiwibm9kZXNNYXRjaCIsIm5vZGUxIiwibm9kZTIiLCJlcXVhbHMiLCJub25EeW5hbWljUGFyYW1zIiwiYXBwbHlUb1BhcmFtcyIsInJldGFpbmVkTm9kZSIsImlkeCIsImNsb25lZCIsImNsb25lIiwiZnJvbSIsInJldGFpbmVkIiwiZXhpdGluZyIsImVudGVyaW5nIiwidG8iLCJzbGljZSIsInJldGFpbmVkV2l0aFRvUGFyYW1zIiwiY29uY2F0IiwibWF0Y2hpbmciLCJwYXRoQSIsInBhdGhCIiwicGFyYW1zRm4iLCJkb25lIiwidHVwbGVzIiwiYXJyYXlUdXBsZXMiLCJfYSIsIm5vZGVBIiwibm9kZUIiLCJwcmVkaWNhdGUiLCJlbGVtZW50SWR4IiwiaW5kZXhPZiIsInVuZGVmaW5lZCIsInBhcmFtZXRlcnMiLCJkeW5hbWljIiwiYWNjIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLG1CLENBQW9COztBQUNwQkEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0EsSUFBSUMsV0FBVyxtQkFBQUMsQ0FBUSxDQUFSLENBQWY7QUFDQSxJQUFJQyxRQUFRLG1CQUFBRCxDQUFRLENBQVIsQ0FBWjtBQUNBLElBQUlFLGdCQUFnQixtQkFBQUYsQ0FBUSxDQUFSLENBQXBCO0FBQ0EsSUFBSUcsYUFBYSxtQkFBQUgsQ0FBUSxFQUFSLENBQWpCO0FBQ0E7OztBQUdBLElBQUlJLFlBQWEsWUFBWTtBQUN6QixhQUFTQSxTQUFULEdBQXFCLENBQ3BCO0FBQ0Q7QUFDQUEsY0FBVUMsZUFBVixHQUE0QixVQUFVQyxJQUFWLEVBQWdCO0FBQ3hDLFlBQUlDLFFBQVFSLFNBQVNTLElBQVQsQ0FBY0YsSUFBZCxFQUFvQkMsS0FBaEM7QUFDQSxlQUFPLElBQUlMLGNBQWNPLFdBQWxCLENBQThCRixLQUE5QixFQUFxQ0EsS0FBckMsRUFBNENELEtBQUtJLEdBQUwsQ0FBU1QsTUFBTVUsSUFBTixDQUFXLGFBQVgsQ0FBVCxFQUFvQ0MsTUFBcEMsQ0FB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UDtBQUNILENBeEpnQixFQUFqQjtBQXlKQUEsVUFBVW9FLGdCQUFWLEdBQTZCLFVBQVV4QyxJQUFWLEVBQWdCO0FBQ3pDLFdBQU9BLEtBQUt6QixLQUFMLENBQVc2RixVQUFYLENBQXNCLEVBQUUzRSxTQUFTLEtBQVgsRUFBdEIsRUFDRk0sTUFERSxDQUNLLFVBQVVxQixLQUFWLEVBQWlCO0FBQUUsZUFBTyxDQUFDQSxNQUFNaUQsT0FBZDtBQUF3QixLQURoRCxDQUFQO0FBRUgsQ0FIRDtBQUlBO0FBQ0FqRyxVQUFVNkMsV0FBVixHQUF3QixVQUFVM0MsSUFBVixFQUFnQjtBQUNwQyxXQUFPQSxLQUFLTSxNQUFMLENBQVksVUFBVTBGLEdBQVYsRUFBZXRFLElBQWYsRUFBcUI7QUFBRSxlQUFPakMsU0FBU2lELE1BQVQsQ0FBZ0JzRCxHQUFoQixFQUFxQnRFLEtBQUtpQixXQUExQixDQUFQO0FBQWdELEtBQW5GLEVBQXFGLEVBQXJGLENBQVA7QUFDSCxDQUZEO0FBR0FwRCxRQUFRTyxTQUFSLEdBQW9CQSxTQUFwQjtBQUNBIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiogQG1vZHVsZSBwYXRoICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2hvZlwiKTtcbnZhciB0YXJnZXRTdGF0ZV8xID0gcmVxdWlyZShcIi4uL3N0YXRlL3RhcmdldFN0YXRlXCIpO1xudmFyIHBhdGhOb2RlXzEgPSByZXF1aXJlKFwiLi9wYXRoTm9kZVwiKTtcbi8qKlxuICogVGhpcyBjbGFzcyBjb250YWlucyBmdW5jdGlvbnMgd2hpY2ggY29udmVydCBUYXJnZXRTdGF0ZXMsIE5vZGVzIGFuZCBwYXRocyBmcm9tIG9uZSB0eXBlIHRvIGFub3RoZXIuXG4gKi9cbnZhciBQYXRoVXRpbHMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhdGhVdGlscygpIHtcbiAgICB9XG4gICAgLyoqIEdpdmVuIGEgUGF0aE5vZGVbXSwgY3JlYXRlIGFuIFRhcmdldFN0YXRlICovXG4gICAgUGF0aFV0aWxzLm1ha2VUYXJnZXRTdGF0ZSA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGNvbW1vbl8xLnRhaWwocGF0aCkuc3RhdGU7XG4gICAgICAgIHJldHVybiBuZXcgdGFyZ2V0U3RhdGVfMS5UYXJnZXRTdGF0ZShzdGF0ZSwgc3RhdGUsIHBhdGgubWFwKGhvZl8xLnByb3AoXCJwYXJhbVZhbHVlc1wiKSkucmVkdWNlKGNvbW1vbl8xLm1lcmdlUiwge30pKTtcbiAgICB9O1xuICAgIFBhdGhVdGlscy5idWlsZFBhdGggPSBmdW5jdGlvbiAodGFyZ2V0U3RhdGUpIHtcbiAgICAgICAgdmFyIHRvUGFyYW1zID0gdGFyZ2V0U3RhdGUucGFyYW1zKCk7XG4gICAgICAgIHJldHVybiB0YXJnZXRTdGF0ZS4kc3RhdGUoKS5wYXRoLm1hcChmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuIG5ldyBwYXRoTm9kZV8xLlBhdGhOb2RlKHN0YXRlKS5hcHBseVJhd1BhcmFtcyh0b1BhcmFtcyk7IH0pO1xuICAgIH07XG4gICAgLyoqIEdpdmVuIGEgZnJvbVBhdGg6IFBhdGhOb2RlW10gYW5kIGEgVGFyZ2V0U3RhdGUsIGJ1aWxkcyBhIHRvUGF0aDogUGF0aE5vZGVbXSAqL1xuICAgIFBhdGhVdGlscy5idWlsZFRvUGF0aCA9IGZ1bmN0aW9uIChmcm9tUGF0aCwgdGFyZ2V0U3RhdGUpIHtcbiAgICAgICAgdmFyIHRvUGF0aCA9IFBhdGhVdGlscy5idWlsZFBhdGgodGFyZ2V0U3RhdGUpO1xuICAgICAgICBpZiAodGFyZ2V0U3RhdGUub3B0aW9ucygpLmluaGVyaXQpIHtcbiAgICAgICAgICAgIHJldHVybiBQYXRoVXRpbHMuaW5oZXJpdFBhcmFtcyhmcm9tUGF0aCwgdG9QYXRoLCBPYmplY3Qua2V5cyh0YXJnZXRTdGF0ZS5wYXJhbXMoKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b1BhdGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIFZpZXdDb25maWcgb2JqZWN0cyBhbmQgYWRkcyB0byBub2Rlcy5cbiAgICAgKlxuICAgICAqIE9uIGVhY2ggW1tQYXRoTm9kZV1dLCBjcmVhdGVzIFZpZXdDb25maWcgb2JqZWN0cyBmcm9tIHRoZSB2aWV3czogcHJvcGVydHkgb2YgdGhlIG5vZGUncyBzdGF0ZVxuICAgICAqL1xuICAgIFBhdGhVdGlscy5hcHBseVZpZXdDb25maWdzID0gZnVuY3Rpb24gKCR2aWV3LCBwYXRoLCBzdGF0ZXMpIHtcbiAgICAgICAgLy8gT25seSBhcHBseSB0aGUgdmlld0NvbmZpZ3MgdG8gdGhlIG5vZGVzIGZvciB0aGUgZ2l2ZW4gc3RhdGVzXG4gICAgICAgIHBhdGguZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBjb21tb25fMS5pbkFycmF5KHN0YXRlcywgbm9kZS5zdGF0ZSk7IH0pLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHZhciB2aWV3RGVjbHMgPSBjb21tb25fMS52YWx1ZXMobm9kZS5zdGF0ZS52aWV3cyB8fCB7fSk7XG4gICAgICAgICAgICB2YXIgc3ViUGF0aCA9IFBhdGhVdGlscy5zdWJQYXRoKHBhdGgsIGZ1bmN0aW9uIChuKSB7IHJldHVybiBuID09PSBub2RlOyB9KTtcbiAgICAgICAgICAgIHZhciB2aWV3Q29uZmlncyA9IHZpZXdEZWNscy5tYXAoZnVuY3Rpb24gKHZpZXcpIHsgcmV0dXJuICR2aWV3LmNyZWF0ZVZpZXdDb25maWcoc3ViUGF0aCwgdmlldyk7IH0pO1xuICAgICAgICAgICAgbm9kZS52aWV3cyA9IHZpZXdDb25maWdzLnJlZHVjZShjb21tb25fMS51bm5lc3RSLCBbXSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBmcm9tUGF0aCBhbmQgYSB0b1BhdGgsIHJldHVybnMgYSBuZXcgdG8gcGF0aCB3aGljaCBpbmhlcml0cyBwYXJhbWV0ZXJzIGZyb20gdGhlIGZyb21QYXRoXG4gICAgICpcbiAgICAgKiBGb3IgYSBwYXJhbWV0ZXIgaW4gYSBub2RlIHRvIGJlIGluaGVyaXRlZCBmcm9tIHRoZSBmcm9tIHBhdGg6XG4gICAgICogLSBUaGUgdG9QYXRoJ3Mgbm9kZSBtdXN0IGhhdmUgYSBtYXRjaGluZyBub2RlIGluIHRoZSBmcm9tUGF0aCAoYnkgc3RhdGUpLlxuICAgICAqIC0gVGhlIHBhcmFtZXRlciBuYW1lIG11c3Qgbm90IGJlIGZvdW5kIGluIHRoZSB0b0tleXMgcGFyYW1ldGVyIGFycmF5LlxuICAgICAqXG4gICAgICogTm90ZTogdGhlIGtleXMgcHJvdmlkZWQgaW4gdG9LZXlzIGFyZSBpbnRlbmRlZCB0byBiZSB0aG9zZSBwYXJhbSBrZXlzIGV4cGxpY2l0bHkgc3BlY2lmaWVkIGJ5IHNvbWVcbiAgICAgKiBjYWxsZXIsIGZvciBpbnN0YW5jZSwgJHN0YXRlLnRyYW5zaXRpb25UbyguLi4sIHRvUGFyYW1zKS4gIElmIGEga2V5IHdhcyBmb3VuZCBpbiB0b1BhcmFtcyxcbiAgICAgKiBpdCBpcyBub3QgaW5oZXJpdGVkIGZyb20gdGhlIGZyb21QYXRoLlxuICAgICAqL1xuICAgIFBhdGhVdGlscy5pbmhlcml0UGFyYW1zID0gZnVuY3Rpb24gKGZyb21QYXRoLCB0b1BhdGgsIHRvS2V5cykge1xuICAgICAgICBpZiAodG9LZXlzID09PSB2b2lkIDApIHsgdG9LZXlzID0gW107IH1cbiAgICAgICAgZnVuY3Rpb24gbm9kZVBhcmFtVmFscyhwYXRoLCBzdGF0ZSkge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBjb21tb25fMS5maW5kKHBhdGgsIGhvZl8xLnByb3BFcSgnc3RhdGUnLCBzdGF0ZSkpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZCh7fSwgbm9kZSAmJiBub2RlLnBhcmFtVmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm9Jbmhlcml0ID0gZnJvbVBhdGgubWFwKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnBhcmFtU2NoZW1hOyB9KVxuICAgICAgICAgICAgLnJlZHVjZShjb21tb25fMS51bm5lc3RSLCBbXSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiAhcGFyYW0uaW5oZXJpdDsgfSlcbiAgICAgICAgICAgIC5tYXAoaG9mXzEucHJvcCgnaWQnKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHaXZlbiBhbiBbW1BhdGhOb2RlXV0gXCJ0b05vZGVcIiwgcmV0dXJuIGEgbmV3IFtbUGF0aE5vZGVdXSB3aXRoIHBhcmFtIHZhbHVlcyBpbmhlcml0ZWQgZnJvbSB0aGVcbiAgICAgICAgICogbWF0Y2hpbmcgbm9kZSBpbiBmcm9tUGF0aC4gIE9ubHkgaW5oZXJpdCBrZXlzIHRoYXQgYXJlbid0IGZvdW5kIGluIFwidG9LZXlzXCIgZnJvbSB0aGUgbm9kZSBpbiBcImZyb21QYXRoXCJcIlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbWFrZUluaGVyaXRlZFBhcmFtc05vZGUodG9Ob2RlKSB7XG4gICAgICAgICAgICAvLyBBbGwgcGFyYW0gdmFsdWVzIGZvciB0aGUgbm9kZSAobWF5IGluY2x1ZGUgZGVmYXVsdCBrZXkvdmFscywgd2hlbiBrZXkgd2FzIG5vdCBmb3VuZCBpbiB0b1BhcmFtcylcbiAgICAgICAgICAgIHZhciB0b1BhcmFtVmFscyA9IGNvbW1vbl8xLmV4dGVuZCh7fSwgdG9Ob2RlICYmIHRvTm9kZS5wYXJhbVZhbHVlcyk7XG4gICAgICAgICAgICAvLyBsaW1pdGVkIHRvIG9ubHkgdGhvc2Uga2V5cyBmb3VuZCBpbiB0b1BhcmFtc1xuICAgICAgICAgICAgdmFyIGluY29taW5nUGFyYW1WYWxzID0gY29tbW9uXzEucGljayh0b1BhcmFtVmFscywgdG9LZXlzKTtcbiAgICAgICAgICAgIHRvUGFyYW1WYWxzID0gY29tbW9uXzEub21pdCh0b1BhcmFtVmFscywgdG9LZXlzKTtcbiAgICAgICAgICAgIHZhciBmcm9tUGFyYW1WYWxzID0gY29tbW9uXzEub21pdChub2RlUGFyYW1WYWxzKGZyb21QYXRoLCB0b05vZGUuc3RhdGUpIHx8IHt9LCBub0luaGVyaXQpO1xuICAgICAgICAgICAgLy8gZXh0ZW5kIHRvUGFyYW1WYWxzIHdpdGggYW55IGZyb21QYXJhbVZhbHMsIHRoZW4gb3ZlcnJpZGUgYW55IG9mIHRob3NlIHRob3NlIHdpdGggaW5jb21pbmdQYXJhbVZhbHNcbiAgICAgICAgICAgIHZhciBvd25QYXJhbVZhbHMgPSBjb21tb25fMS5leHRlbmQodG9QYXJhbVZhbHMsIGZyb21QYXJhbVZhbHMsIGluY29taW5nUGFyYW1WYWxzKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgcGF0aE5vZGVfMS5QYXRoTm9kZSh0b05vZGUuc3RhdGUpLmFwcGx5UmF3UGFyYW1zKG93blBhcmFtVmFscyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHBhcmFtIGtleXMgc3BlY2lmaWVkIGJ5IHRoZSBpbmNvbWluZyB0b1BhcmFtc1xuICAgICAgICByZXR1cm4gdG9QYXRoLm1hcChtYWtlSW5oZXJpdGVkUGFyYW1zTm9kZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgdHJlZSBjaGFuZ2VzIChlbnRlcmluZywgZXhpdGluZykgYmV0d2VlbiBhIGZyb21QYXRoIGFuZCB0b1BhdGguXG4gICAgICovXG4gICAgUGF0aFV0aWxzLnRyZWVDaGFuZ2VzID0gZnVuY3Rpb24gKGZyb21QYXRoLCB0b1BhdGgsIHJlbG9hZFN0YXRlKSB7XG4gICAgICAgIHZhciBrZWVwID0gMCwgbWF4ID0gTWF0aC5taW4oZnJvbVBhdGgubGVuZ3RoLCB0b1BhdGgubGVuZ3RoKTtcbiAgICAgICAgdmFyIG5vZGVzTWF0Y2ggPSBmdW5jdGlvbiAobm9kZTEsIG5vZGUyKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTEuZXF1YWxzKG5vZGUyLCBQYXRoVXRpbHMubm9uRHluYW1pY1BhcmFtcyk7XG4gICAgICAgIH07XG4gICAgICAgIHdoaWxlIChrZWVwIDwgbWF4ICYmIGZyb21QYXRoW2tlZXBdLnN0YXRlICE9PSByZWxvYWRTdGF0ZSAmJiBub2Rlc01hdGNoKGZyb21QYXRoW2tlZXBdLCB0b1BhdGhba2VlcF0pKSB7XG4gICAgICAgICAgICBrZWVwKys7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdpdmVuIGEgcmV0YWluZWQgbm9kZSwgcmV0dXJuIGEgbmV3IG5vZGUgd2hpY2ggdXNlcyB0aGUgdG8gbm9kZSdzIHBhcmFtIHZhbHVlcyAqL1xuICAgICAgICBmdW5jdGlvbiBhcHBseVRvUGFyYW1zKHJldGFpbmVkTm9kZSwgaWR4KSB7XG4gICAgICAgICAgICB2YXIgY2xvbmVkID0gcGF0aE5vZGVfMS5QYXRoTm9kZS5jbG9uZShyZXRhaW5lZE5vZGUpO1xuICAgICAgICAgICAgY2xvbmVkLnBhcmFtVmFsdWVzID0gdG9QYXRoW2lkeF0ucGFyYW1WYWx1ZXM7XG4gICAgICAgICAgICByZXR1cm4gY2xvbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmcm9tLCByZXRhaW5lZCwgZXhpdGluZywgZW50ZXJpbmcsIHRvO1xuICAgICAgICBmcm9tID0gZnJvbVBhdGg7XG4gICAgICAgIHJldGFpbmVkID0gZnJvbS5zbGljZSgwLCBrZWVwKTtcbiAgICAgICAgZXhpdGluZyA9IGZyb20uc2xpY2Uoa2VlcCk7XG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyByZXRhaW5lZCBwYXRoICh3aXRoIHNoYWxsb3cgY29waWVzIG9mIG5vZGVzKSB3aGljaCBoYXZlIHRoZSBwYXJhbXMgb2YgdGhlIHRvUGF0aCBtYXBwZWRcbiAgICAgICAgdmFyIHJldGFpbmVkV2l0aFRvUGFyYW1zID0gcmV0YWluZWQubWFwKGFwcGx5VG9QYXJhbXMpO1xuICAgICAgICBlbnRlcmluZyA9IHRvUGF0aC5zbGljZShrZWVwKTtcbiAgICAgICAgdG8gPSAocmV0YWluZWRXaXRoVG9QYXJhbXMpLmNvbmNhdChlbnRlcmluZyk7XG4gICAgICAgIHJldHVybiB7IGZyb206IGZyb20sIHRvOiB0bywgcmV0YWluZWQ6IHJldGFpbmVkLCBleGl0aW5nOiBleGl0aW5nLCBlbnRlcmluZzogZW50ZXJpbmcgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgcGF0aCB3aGljaCBpczogdGhlIHN1YnBhdGggb2YgdGhlIGZpcnN0IHBhdGggd2hpY2ggbWF0Y2hlcyB0aGUgc2Vjb25kIHBhdGguXG4gICAgICpcbiAgICAgKiBUaGUgbmV3IHBhdGggc3RhcnRzIGZyb20gcm9vdCBhbmQgY29udGFpbnMgYW55IG5vZGVzIHRoYXQgbWF0Y2ggdGhlIG5vZGVzIGluIHRoZSBzZWNvbmQgcGF0aC5cbiAgICAgKiBJdCBzdG9wcyBiZWZvcmUgdGhlIGZpcnN0IG5vbi1tYXRjaGluZyBub2RlLlxuICAgICAqXG4gICAgICogTm9kZXMgYXJlIGNvbXBhcmVkIHVzaW5nIHRoZWlyIHN0YXRlIHByb3BlcnR5IGFuZCB0aGVpciBwYXJhbWV0ZXIgdmFsdWVzLlxuICAgICAqIElmIGEgYHBhcmFtc0ZuYCBpcyBwcm92aWRlZCwgb25seSB0aGUgW1tQYXJhbV1dIHJldHVybmVkIGJ5IHRoZSBmdW5jdGlvbiB3aWxsIGJlIGNvbnNpZGVyZWQgd2hlbiBjb21wYXJpbmcgbm9kZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aEEgdGhlIGZpcnN0IHBhdGhcbiAgICAgKiBAcGFyYW0gcGF0aEIgdGhlIHNlY29uZCBwYXRoXG4gICAgICogQHBhcmFtIHBhcmFtc0ZuIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyB0aGUgcGFyYW1ldGVycyB0byBjb25zaWRlciB3aGVuIGNvbXBhcmluZ1xuICAgICAqXG4gICAgICogQHJldHVybnMgYW4gYXJyYXkgb2YgUGF0aE5vZGVzIGZyb20gdGhlIGZpcnN0IHBhdGggd2hpY2ggbWF0Y2ggdGhlIG5vZGVzIGluIHRoZSBzZWNvbmQgcGF0aFxuICAgICAqL1xuICAgIFBhdGhVdGlscy5tYXRjaGluZyA9IGZ1bmN0aW9uIChwYXRoQSwgcGF0aEIsIHBhcmFtc0ZuKSB7XG4gICAgICAgIHZhciBkb25lID0gZmFsc2U7XG4gICAgICAgIHZhciB0dXBsZXMgPSBjb21tb25fMS5hcnJheVR1cGxlcyhwYXRoQSwgcGF0aEIpO1xuICAgICAgICByZXR1cm4gdHVwbGVzLnJlZHVjZShmdW5jdGlvbiAobWF0Y2hpbmcsIF9hKSB7XG4gICAgICAgICAgICB2YXIgbm9kZUEgPSBfYVswXSwgbm9kZUIgPSBfYVsxXTtcbiAgICAgICAgICAgIGRvbmUgPSBkb25lIHx8ICFub2RlQS5lcXVhbHMobm9kZUIsIHBhcmFtc0ZuKTtcbiAgICAgICAgICAgIHJldHVybiBkb25lID8gbWF0Y2hpbmcgOiBtYXRjaGluZy5jb25jYXQobm9kZUEpO1xuICAgICAgICB9LCBbXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdHdvIHBhdGhzIGFyZSBpZGVudGljYWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aEFcbiAgICAgKiBAcGFyYW0gcGF0aEJcbiAgICAgKiBAcGFyYW0gcGFyYW1zRm4gYSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIHRoZSBwYXJhbWV0ZXJzIHRvIGNvbnNpZGVyIHdoZW4gY29tcGFyaW5nXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgdGhlIHN0YXRlcyBhbmQgcGFyYW1ldGVyIHZhbHVlcyBmb3IgYm90aCBwYXRocyBhcmUgaWRlbnRpY2FsXG4gICAgICovXG4gICAgUGF0aFV0aWxzLmVxdWFscyA9IGZ1bmN0aW9uIChwYXRoQSwgcGF0aEIsIHBhcmFtc0ZuKSB7XG4gICAgICAgIHJldHVybiBwYXRoQS5sZW5ndGggPT09IHBhdGhCLmxlbmd0aCAmJlxuICAgICAgICAgICAgUGF0aFV0aWxzLm1hdGNoaW5nKHBhdGhBLCBwYXRoQiwgcGFyYW1zRm4pLmxlbmd0aCA9PT0gcGF0aEEubGVuZ3RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgc3VicGF0aCBvZiBhIHBhdGgsIHdoaWNoIHN0b3BzIGF0IHRoZSBmaXJzdCBtYXRjaGluZyBub2RlXG4gICAgICpcbiAgICAgKiBHaXZlbiBhbiBhcnJheSBvZiBub2RlcywgcmV0dXJucyBhIHN1YnNldCBvZiB0aGUgYXJyYXkgc3RhcnRpbmcgZnJvbSB0aGUgZmlyc3Qgbm9kZSxcbiAgICAgKiBzdG9wcGluZyB3aGVuIHRoZSBmaXJzdCBub2RlIG1hdGNoZXMgdGhlIHByZWRpY2F0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIGEgcGF0aCBvZiBbW1BhdGhOb2RlXV1zXG4gICAgICogQHBhcmFtIHByZWRpY2F0ZSBhIFtbUHJlZGljYXRlXV0gZm4gdGhhdCBtYXRjaGVzIFtbUGF0aE5vZGVdXXNcbiAgICAgKiBAcmV0dXJucyBhIHN1YnBhdGggdXAgdG8gdGhlIG1hdGNoaW5nIG5vZGUsIG9yIHVuZGVmaW5lZCBpZiBubyBtYXRjaCBpcyBmb3VuZFxuICAgICAqL1xuICAgIFBhdGhVdGlscy5zdWJQYXRoID0gZnVuY3Rpb24gKHBhdGgsIHByZWRpY2F0ZSkge1xuICAgICAgICB2YXIgbm9kZSA9IGNvbW1vbl8xLmZpbmQocGF0aCwgcHJlZGljYXRlKTtcbiAgICAgICAgdmFyIGVsZW1lbnRJZHggPSBwYXRoLmluZGV4T2Yobm9kZSk7XG4gICAgICAgIHJldHVybiBlbGVtZW50SWR4ID09PSAtMSA/IHVuZGVmaW5lZCA6IHBhdGguc2xpY2UoMCwgZWxlbWVudElkeCArIDEpO1xuICAgIH07XG4gICAgcmV0dXJuIFBhdGhVdGlscztcbn0oKSk7XG5QYXRoVXRpbHMubm9uRHluYW1pY1BhcmFtcyA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuc3RhdGUucGFyYW1ldGVycyh7IGluaGVyaXQ6IGZhbHNlIH0pXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiAhcGFyYW0uZHluYW1pYzsgfSk7XG59O1xuLyoqIEdldHMgdGhlIHJhdyBwYXJhbWV0ZXIgdmFsdWVzIGZyb20gYSBwYXRoICovXG5QYXRoVXRpbHMucGFyYW1WYWx1ZXMgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgIHJldHVybiBwYXRoLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBub2RlKSB7IHJldHVybiBjb21tb25fMS5leHRlbmQoYWNjLCBub2RlLnBhcmFtVmFsdWVzKTsgfSwge30pO1xufTtcbmV4cG9ydHMuUGF0aFV0aWxzID0gUGF0aFV0aWxzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGF0aEZhY3RvcnkuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi9wYXRoL3BhdGhGYWN0b3J5LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @module resolve */\n/** for typedoc */\nvar common_1 = __webpack_require__(0);\nvar hof_1 = __webpack_require__(2);\nvar trace_1 = __webpack_require__(6);\nvar coreservices_1 = __webpack_require__(3);\nvar interface_1 = __webpack_require__(31);\nvar resolvable_1 = __webpack_require__(13);\nvar pathFactory_1 = __webpack_require__(18);\nvar strings_1 = __webpack_require__(5);\nvar when = interface_1.resolvePolicies.when;\nvar ALL_WHENS = [when.EAGER, when.LAZY];\nvar EAGER_WHENS = [when.EAGER];\nexports.NATIVE_INJECTOR_TOKEN = \"Native Injector\";\n/**\n * Encapsulates Dependency Injection for a path of nodes\n *\n * UI-Router states are organized as a tree.\n * A nested state has a path of ancestors to the root of the tree.\n * When a state is being activated, each element in the path is wrapped as a [[PathNode]].\n * A `PathNode` is a stateful object that holds things like parameters and resolvables for the state being activated.\n *\n * The ResolveContext closes over the [[PathNode]]s, and provides DI for the last node in the path.\n */\nvar ResolveContext = function () {\n    function ResolveContext(_path) {\n        this._path = _path;\n    }\n    /** Gets all the tokens found in the resolve context, de-duplicated */\n    ResolveContext.prototype.getTokens = function () {\n        return this._path.reduce(function (acc, node) {\n            return acc.concat(node.resolvables.map(function (r) {\n                return r.token;\n            }));\n        }, []).reduce(common_1.uniqR, []);\n    };\n    /**\n     * Gets the Resolvable that matches the token\n     *\n     * Gets the last Resolvable that matches the token in this context, or undefined.\n     * Throws an error if it doesn't exist in the ResolveContext\n     */\n    ResolveContext.prototype.getResolvable = function (token) {\n        var matching = this._path.map(function (node) {\n            return node.resolvables;\n        }).reduce(common_1.unnestR, []).filter(function (r) {\n            return r.token === token;\n        });\n        return common_1.tail(matching);\n    };\n    /** Returns the [[ResolvePolicy]] for the given [[Resolvable]] */\n    ResolveContext.prototype.getPolicy = function (resolvable) {\n        var node = this.findNode(resolvable);\n        return resolvable.getPolicy(node.state);\n    };\n    /**\n     * Returns a ResolveContext that includes a portion of this one\n     *\n     * Given a state, this method creates a new ResolveContext from this one.\n     * The new context starts at the first node (root) and stops at the node for the `state` parameter.\n     *\n     * #### Why\n     *\n     * When a transition is created, the nodes in the \"To Path\" are injected from a ResolveContext.\n     * A ResolveContext closes over a path of [[PathNode]]s and processes the resolvables.\n     * The \"To State\" can inject values from its own resolvables, as well as those from all its ancestor state's (node's).\n     * This method is used to create a narrower context when injecting ancestor nodes.\n     *\n     * @example\n     * `let ABCD = new ResolveContext([A, B, C, D]);`\n     *\n     * Given a path `[A, B, C, D]`, where `A`, `B`, `C` and `D` are nodes for states `a`, `b`, `c`, `d`:\n     * When injecting `D`, `D` should have access to all resolvables from `A`, `B`, `C`, `D`.\n     * However, `B` should only be able to access resolvables from `A`, `B`.\n     *\n     * When resolving for the `B` node, first take the full \"To Path\" Context `[A,B,C,D]` and limit to the subpath `[A,B]`.\n     * `let AB = ABCD.subcontext(a)`\n     */\n    ResolveContext.prototype.subContext = function (state) {\n        return new ResolveContext(pathFactory_1.PathUtils.subPath(this._path, function (node) {\n            return node.state === state;\n        }));\n    };\n    /**\n     * Adds Resolvables to the node that matches the state\n     *\n     * This adds a [[Resolvable]] (generally one created on the fly; not declared on a [[StateDeclaration.resolve]] block).\n     * The resolvable is added to the node matching the `state` parameter.\n     *\n     * These new resolvables are not automatically fetched.\n     * The calling code should either fetch them, fetch something that depends on them,\n     * or rely on [[resolvePath]] being called when some state is being entered.\n     *\n     * Note: each resolvable's [[ResolvePolicy]] is merged with the state's policy, and the global default.\n     *\n     * @param newResolvables the new Resolvables\n     * @param state Used to find the node to put the resolvable on\n     */\n    ResolveContext.prototype.addResolvables = function (newResolvables, state) {\n        var node = common_1.find(this._path, hof_1.propEq('state', state));\n        var keys = newResolvables.map(function (r) {\n            return r.token;\n        });\n        node.resolvables = node.resolvables.filter(function (r) {\n            return keys.indexOf(r.token) === -1;\n        }).concat(newResolvables);\n    };\n    /**\n     * Returns a promise for an array of resolved path Element promises\n     *\n     * @param when\n     * @param trans\n     * @returns {Promise<any>|any}\n     */\n    ResolveContext.prototype.resolvePath = function (when, trans) {\n        var _this = this;\n        if (when === void 0) {\n            when = \"LAZY\";\n        }\n        // This option determines which 'when' policy Resolvables we are about to fetch.\n        var whenOption = common_1.inArray(ALL_WHENS, when) ? when : \"LAZY\";\n        // If the caller specified EAGER, only the EAGER Resolvables are fetched.\n        // if the caller specified LAZY, both EAGER and LAZY Resolvables are fetched.`\n        var matchedWhens = whenOption === interface_1.resolvePolicies.when.EAGER ? EAGER_WHENS : ALL_WHENS;\n        // get the subpath to the state argument, if provided\n        trace_1.trace.traceResolvePath(this._path, when, trans);\n        var matchesPolicy = function matchesPolicy(acceptedVals, whenOrAsync) {\n            return function (resolvable) {\n                return common_1.inArray(acceptedVals, _this.getPolicy(resolvable)[whenOrAsync]);\n            };\n        };\n        // Trigger all the (matching) Resolvables in the path\n        // Reduce all the \"WAIT\" Resolvables into an array\n        var promises = this._path.reduce(function (acc, node) {\n            var nodeResolvables = node.resolvables.filter(matchesPolicy(matchedWhens, 'when'));\n            var nowait = nodeResolvables.filter(matchesPolicy(['NOWAIT'], 'async'));\n            var wait = nodeResolvables.filter(hof_1.not(matchesPolicy(['NOWAIT'], 'async')));\n            // For the matching Resolvables, start their async fetch process.\n            var subContext = _this.subContext(node.state);\n            var getResult = function getResult(r) {\n                return r.get(subContext, trans).then(function (value) {\n                    return { token: r.token, value: value };\n                });\n            };\n            nowait.forEach(getResult);\n            return acc.concat(wait.map(getResult));\n        }, []);\n        // Wait for all the \"WAIT\" resolvables\n        return coreservices_1.services.$q.all(promises);\n    };\n    ResolveContext.prototype.injector = function () {\n        return this._injector || (this._injector = new UIInjectorImpl(this));\n    };\n    ResolveContext.prototype.findNode = function (resolvable) {\n        return common_1.find(this._path, function (node) {\n            return common_1.inArray(node.resolvables, resolvable);\n        });\n    };\n    /**\n     * Gets the async dependencies of a Resolvable\n     *\n     * Given a Resolvable, returns its dependencies as a Resolvable[]\n     */\n    ResolveContext.prototype.getDependencies = function (resolvable) {\n        var _this = this;\n        var node = this.findNode(resolvable);\n        // Find which other resolvables are \"visible\" to the `resolvable` argument\n        // subpath stopping at resolvable's node, or the whole path (if the resolvable isn't in the path)\n        var subPath = pathFactory_1.PathUtils.subPath(this._path, function (x) {\n            return x === node;\n        }) || this._path;\n        var availableResolvables = subPath.reduce(function (acc, node) {\n            return acc.concat(node.resolvables);\n        }, []) //all of subpath's resolvables\n        .filter(function (res) {\n            return res !== resolvable;\n        }); // filter out the `resolvable` argument\n        var getDependency = function getDependency(token) {\n            var matching = availableResolvables.filter(function (r) {\n                return r.token === token;\n            });\n            if (matching.length) return common_1.tail(matching);\n            var fromInjector = _this.injector().getNative(token);\n            if (!fromInjector) {\n                throw new Error(\"Could not find Dependency Injection token: \" + strings_1.stringify(token));\n            }\n            return new resolvable_1.Resolvable(token, function () {\n                return fromInjector;\n            }, [], fromInjector);\n        };\n        return resolvable.deps.map(getDependency);\n    };\n    return ResolveContext;\n}();\nexports.ResolveContext = ResolveContext;\nvar UIInjectorImpl = function () {\n    function UIInjectorImpl(context) {\n        this.context = context;\n        this.native = this.get(exports.NATIVE_INJECTOR_TOKEN) || coreservices_1.services.$injector;\n    }\n    UIInjectorImpl.prototype.get = function (token) {\n        var resolvable = this.context.getResolvable(token);\n        if (resolvable) {\n            if (this.context.getPolicy(resolvable).async === 'NOWAIT') {\n                return resolvable.get(this.context);\n            }\n            if (!resolvable.resolved) {\n                throw new Error(\"Resolvable async .get() not complete:\" + strings_1.stringify(resolvable.token));\n            }\n            return resolvable.data;\n        }\n        return this.native && this.native.get(token);\n    };\n    UIInjectorImpl.prototype.getAsync = function (token) {\n        var resolvable = this.context.getResolvable(token);\n        if (resolvable) return resolvable.get(this.context);\n        return coreservices_1.services.$q.when(this.native.get(token));\n    };\n    UIInjectorImpl.prototype.getNative = function (token) {\n        return this.native && this.native.get(token);\n    };\n    return UIInjectorImpl;\n}();\n//# sourceMappingURL=resolveContext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3Jlc29sdmUvcmVzb2x2ZUNvbnRleHQuanM/MmNkNyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNvbW1vbl8xIiwicmVxdWlyZSIsImhvZl8xIiwidHJhY2VfMSIsImNvcmVzZXJ2aWNlc18xIiwiaW50ZXJmYWNlXzEiLCJyZXNvbHZhYmxlXzEiLCJwYXRoRmFjdG9yeV8xIiwic3RyaW5nc18xIiwid2hlbiIsInJlc29sdmVQb2xpY2llcyIsIkFMTF9XSEVOUyIsIkVBR0VSIiwiTEFaWSIsIkVBR0VSX1dIRU5TIiwiTkFUSVZFX0lOSkVDVE9SX1RPS0VOIiwiUmVzb2x2ZUNvbnRleHQiLCJfcGF0aCIsInByb3RvdHlwZSIsImdldFRva2VucyIsInJlZHVjZSIsImFjYyIsIm5vZGUiLCJjb25jYXQiLCJyZXNvbHZhYmxlcyIsIm1hcCIsInIiLCJ0b2tlbiIsInVuaXFSIiwiZ2V0UmVzb2x2YWJsZSIsIm1hdGNoaW5nIiwidW5uZXN0UiIsImZpbHRlciIsInRhaWwiLCJnZXRQb2xpY3kiLCJyZXNvbHZhYmxlIiwiZmluZE5vZGUiLCJzdGF0ZSIsInN1YkNvbnRleHQiLCJQYXRoVXRpbHMiLCJzdWJQYXRoIiwiYWRkUmVzb2x2YWJsZXMiLCJuZXdSZXNvbHZhYmxlcyIsImZpbmQiLCJwcm9wRXEiLCJrZXlzIiwiaW5kZXhPZiIsInJlc29sdmVQYXRoIiwidHJhbnMiLCJfdGhpcyIsIndoZW5PcHRpb24iLCJpbkFycmF5IiwibWF0Y2hlZFdoZW5zIiwidHJhY2UiLCJ0cmFjZVJlc29sdmVQYXRoIiwibWF0Y2hlc1BvbGljeSIsImFjY2VwdGVkVmFscyIsIndoZW5PckFzeW5jIiwicHJvbWlzZXMiLCJub2RlUmVzb2x2YWJsZXMiLCJub3dhaXQiLCJ3YWl0Iiwibm90IiwiZ2V0UmVzdWx0IiwiZ2V0IiwidGhlbiIsImZvckVhY2giLCJzZXJ2aWNlcyIsIiRxIiwiYWxsIiwiaW5qZWN0b3IiLCJfaW5qZWN0b3IiLCJVSUluamVjdG9ySW1wbCIsImdldERlcGVuZGVuY2llcyIsIngiLCJhdmFpbGFibGVSZXNvbHZhYmxlcyIsInJlcyIsImdldERlcGVuZGVuY3kiLCJsZW5ndGgiLCJmcm9tSW5qZWN0b3IiLCJnZXROYXRpdmUiLCJFcnJvciIsInN0cmluZ2lmeSIsIlJlc29sdmFibGUiLCJkZXBzIiwiY29udGV4dCIsIm5hdGl2ZSIsIiRpbmplY3RvciIsImFzeW5jIiwicmVzb2x2ZWQiLCJkYXRhIiwiZ2V0QXN5bmMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTtBQUNBO0FBQ0EsSUFBSUMsV0FBVyxtQkFBQUMsQ0FBUSxDQUFSLENBQWY7QUFDQSxJQUFJQyxRQUFRLG1CQUFBRCxDQUFRLENBQVIsQ0FBWjtBQUNBLElBQUlFLFVBQVUsbUJBQUFGLENBQVEsQ0FBUixDQUFkO0FBQ0EsSUFBSUcsaUJBQWlCLG1CQUFBSCxDQUFRLENBQVIsQ0FBckI7QUFDQSxJQUFJSSxjQUFjLG1CQUFBSixDQUFRLEVBQVIsQ0FBbEI7QUFDQSxJQUFJSyxlQUFlLG1CQUFBTCxDQUFRLEVBQVIsQ0FBbkI7QUFDQSxJQUFJTSxnQkFBZ0IsbUJBQUFOLENBQVEsRUFBUixDQUFwQjtBQUNBLElBQUlPLFlBQVksbUJBQUFQLENBQVEsQ0FBUixDQUFoQjtBQUNBLElBQUlRLE9BQU9KLFlBQVlLLGVBQVosQ0FBNEJELElBQXZDO0FBQ0EsSUFBSUUsWUFBWSxDQUFDRixLQUFLRyxLQUFOLEVBQWFILEtBQUtJLElBQWxCLENBQWhCO0FBQ0EsSUFBSUMsY0FBYyxDQUFDTCxLQUFLRyxLQUFOLENBQWxCO0FBQ0FkLFFBQVFpQixxQkFBUixHQUFnQyxpQkFBaEM7QUFDQTs7Ozs7Ozs7OztBQVVBLElBQUlDLGlCQUFrQixZQUFZO0FBQzlC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QUFqQjtBQUNBLFlBQUlRLFVBQUosRUFDSSxPQUFPQSxXQUFXNkIsR0FBWCxDQUFlLEtBQUtxQixPQUFwQixDQUFQO0FBQ0osZUFBT2pGLGVBQWUrRCxRQUFmLENBQXdCQyxFQUF4QixDQUEyQjNELElBQTNCLENBQWdDLEtBQUs2RSxNQUFMLENBQVl0QixHQUFaLENBQWdCckMsS0FBaEIsQ0FBaEMsQ0FBUDtBQUNILEtBTEQ7QUFNQTZDLG1CQUFldEQsU0FBZixDQUF5QjhELFNBQXpCLEdBQXFDLFVBQVVyRCxLQUFWLEVBQWlCO0FBQ2xELGVBQU8sS0FBSzJELE1BQUwsSUFBZSxLQUFLQSxNQUFMLENBQVl0QixHQUFaLENBQWdCckMsS0FBaEIsQ0FBdEI7QUFDSCxLQUZEO0FBR0EsV0FBTzZDLGNBQVA7QUFDSCxDQTVCcUIsRUFBdEI7QUE2QkEiLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAbW9kdWxlIHJlc29sdmUgKi9cbi8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2hvZlwiKTtcbnZhciB0cmFjZV8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi90cmFjZVwiKTtcbnZhciBjb3Jlc2VydmljZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCIpO1xudmFyIGludGVyZmFjZV8xID0gcmVxdWlyZShcIi4vaW50ZXJmYWNlXCIpO1xudmFyIHJlc29sdmFibGVfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmFibGVcIik7XG52YXIgcGF0aEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9wYXRoL3BhdGhGYWN0b3J5XCIpO1xudmFyIHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vc3RyaW5nc1wiKTtcbnZhciB3aGVuID0gaW50ZXJmYWNlXzEucmVzb2x2ZVBvbGljaWVzLndoZW47XG52YXIgQUxMX1dIRU5TID0gW3doZW4uRUFHRVIsIHdoZW4uTEFaWV07XG52YXIgRUFHRVJfV0hFTlMgPSBbd2hlbi5FQUdFUl07XG5leHBvcnRzLk5BVElWRV9JTkpFQ1RPUl9UT0tFTiA9IFwiTmF0aXZlIEluamVjdG9yXCI7XG4vKipcbiAqIEVuY2Fwc3VsYXRlcyBEZXBlbmRlbmN5IEluamVjdGlvbiBmb3IgYSBwYXRoIG9mIG5vZGVzXG4gKlxuICogVUktUm91dGVyIHN0YXRlcyBhcmUgb3JnYW5pemVkIGFzIGEgdHJlZS5cbiAqIEEgbmVzdGVkIHN0YXRlIGhhcyBhIHBhdGggb2YgYW5jZXN0b3JzIHRvIHRoZSByb290IG9mIHRoZSB0cmVlLlxuICogV2hlbiBhIHN0YXRlIGlzIGJlaW5nIGFjdGl2YXRlZCwgZWFjaCBlbGVtZW50IGluIHRoZSBwYXRoIGlzIHdyYXBwZWQgYXMgYSBbW1BhdGhOb2RlXV0uXG4gKiBBIGBQYXRoTm9kZWAgaXMgYSBzdGF0ZWZ1bCBvYmplY3QgdGhhdCBob2xkcyB0aGluZ3MgbGlrZSBwYXJhbWV0ZXJzIGFuZCByZXNvbHZhYmxlcyBmb3IgdGhlIHN0YXRlIGJlaW5nIGFjdGl2YXRlZC5cbiAqXG4gKiBUaGUgUmVzb2x2ZUNvbnRleHQgY2xvc2VzIG92ZXIgdGhlIFtbUGF0aE5vZGVdXXMsIGFuZCBwcm92aWRlcyBESSBmb3IgdGhlIGxhc3Qgbm9kZSBpbiB0aGUgcGF0aC5cbiAqL1xudmFyIFJlc29sdmVDb250ZXh0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNvbHZlQ29udGV4dChfcGF0aCkge1xuICAgICAgICB0aGlzLl9wYXRoID0gX3BhdGg7XG4gICAgfVxuICAgIC8qKiBHZXRzIGFsbCB0aGUgdG9rZW5zIGZvdW5kIGluIHRoZSByZXNvbHZlIGNvbnRleHQsIGRlLWR1cGxpY2F0ZWQgKi9cbiAgICBSZXNvbHZlQ29udGV4dC5wcm90b3R5cGUuZ2V0VG9rZW5zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGF0aC5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbm9kZSkgeyByZXR1cm4gYWNjLmNvbmNhdChub2RlLnJlc29sdmFibGVzLm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4gci50b2tlbjsgfSkpOyB9LCBbXSkucmVkdWNlKGNvbW1vbl8xLnVuaXFSLCBbXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBSZXNvbHZhYmxlIHRoYXQgbWF0Y2hlcyB0aGUgdG9rZW5cbiAgICAgKlxuICAgICAqIEdldHMgdGhlIGxhc3QgUmVzb2x2YWJsZSB0aGF0IG1hdGNoZXMgdGhlIHRva2VuIGluIHRoaXMgY29udGV4dCwgb3IgdW5kZWZpbmVkLlxuICAgICAqIFRocm93cyBhbiBlcnJvciBpZiBpdCBkb2Vzbid0IGV4aXN0IGluIHRoZSBSZXNvbHZlQ29udGV4dFxuICAgICAqL1xuICAgIFJlc29sdmVDb250ZXh0LnByb3RvdHlwZS5nZXRSZXNvbHZhYmxlID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHZhciBtYXRjaGluZyA9IHRoaXMuX3BhdGgubWFwKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnJlc29sdmFibGVzOyB9KVxuICAgICAgICAgICAgLnJlZHVjZShjb21tb25fMS51bm5lc3RSLCBbXSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIudG9rZW4gPT09IHRva2VuOyB9KTtcbiAgICAgICAgcmV0dXJuIGNvbW1vbl8xLnRhaWwobWF0Y2hpbmcpO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgdGhlIFtbUmVzb2x2ZVBvbGljeV1dIGZvciB0aGUgZ2l2ZW4gW1tSZXNvbHZhYmxlXV0gKi9cbiAgICBSZXNvbHZlQ29udGV4dC5wcm90b3R5cGUuZ2V0UG9saWN5ID0gZnVuY3Rpb24gKHJlc29sdmFibGUpIHtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLmZpbmROb2RlKHJlc29sdmFibGUpO1xuICAgICAgICByZXR1cm4gcmVzb2x2YWJsZS5nZXRQb2xpY3kobm9kZS5zdGF0ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgUmVzb2x2ZUNvbnRleHQgdGhhdCBpbmNsdWRlcyBhIHBvcnRpb24gb2YgdGhpcyBvbmVcbiAgICAgKlxuICAgICAqIEdpdmVuIGEgc3RhdGUsIHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBuZXcgUmVzb2x2ZUNvbnRleHQgZnJvbSB0aGlzIG9uZS5cbiAgICAgKiBUaGUgbmV3IGNvbnRleHQgc3RhcnRzIGF0IHRoZSBmaXJzdCBub2RlIChyb290KSBhbmQgc3RvcHMgYXQgdGhlIG5vZGUgZm9yIHRoZSBgc3RhdGVgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqICMjIyMgV2h5XG4gICAgICpcbiAgICAgKiBXaGVuIGEgdHJhbnNpdGlvbiBpcyBjcmVhdGVkLCB0aGUgbm9kZXMgaW4gdGhlIFwiVG8gUGF0aFwiIGFyZSBpbmplY3RlZCBmcm9tIGEgUmVzb2x2ZUNvbnRleHQuXG4gICAgICogQSBSZXNvbHZlQ29udGV4dCBjbG9zZXMgb3ZlciBhIHBhdGggb2YgW1tQYXRoTm9kZV1dcyBhbmQgcHJvY2Vzc2VzIHRoZSByZXNvbHZhYmxlcy5cbiAgICAgKiBUaGUgXCJUbyBTdGF0ZVwiIGNhbiBpbmplY3QgdmFsdWVzIGZyb20gaXRzIG93biByZXNvbHZhYmxlcywgYXMgd2VsbCBhcyB0aG9zZSBmcm9tIGFsbCBpdHMgYW5jZXN0b3Igc3RhdGUncyAobm9kZSdzKS5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGNyZWF0ZSBhIG5hcnJvd2VyIGNvbnRleHQgd2hlbiBpbmplY3RpbmcgYW5jZXN0b3Igbm9kZXMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBsZXQgQUJDRCA9IG5ldyBSZXNvbHZlQ29udGV4dChbQSwgQiwgQywgRF0pO2BcbiAgICAgKlxuICAgICAqIEdpdmVuIGEgcGF0aCBgW0EsIEIsIEMsIERdYCwgd2hlcmUgYEFgLCBgQmAsIGBDYCBhbmQgYERgIGFyZSBub2RlcyBmb3Igc3RhdGVzIGBhYCwgYGJgLCBgY2AsIGBkYDpcbiAgICAgKiBXaGVuIGluamVjdGluZyBgRGAsIGBEYCBzaG91bGQgaGF2ZSBhY2Nlc3MgdG8gYWxsIHJlc29sdmFibGVzIGZyb20gYEFgLCBgQmAsIGBDYCwgYERgLlxuICAgICAqIEhvd2V2ZXIsIGBCYCBzaG91bGQgb25seSBiZSBhYmxlIHRvIGFjY2VzcyByZXNvbHZhYmxlcyBmcm9tIGBBYCwgYEJgLlxuICAgICAqXG4gICAgICogV2hlbiByZXNvbHZpbmcgZm9yIHRoZSBgQmAgbm9kZSwgZmlyc3QgdGFrZSB0aGUgZnVsbCBcIlRvIFBhdGhcIiBDb250ZXh0IGBbQSxCLEMsRF1gIGFuZCBsaW1pdCB0byB0aGUgc3VicGF0aCBgW0EsQl1gLlxuICAgICAqIGBsZXQgQUIgPSBBQkNELnN1YmNvbnRleHQoYSlgXG4gICAgICovXG4gICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLnN1YkNvbnRleHQgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZlQ29udGV4dChwYXRoRmFjdG9yeV8xLlBhdGhVdGlscy5zdWJQYXRoKHRoaXMuX3BhdGgsIGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnN0YXRlID09PSBzdGF0ZTsgfSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBSZXNvbHZhYmxlcyB0byB0aGUgbm9kZSB0aGF0IG1hdGNoZXMgdGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBUaGlzIGFkZHMgYSBbW1Jlc29sdmFibGVdXSAoZ2VuZXJhbGx5IG9uZSBjcmVhdGVkIG9uIHRoZSBmbHk7IG5vdCBkZWNsYXJlZCBvbiBhIFtbU3RhdGVEZWNsYXJhdGlvbi5yZXNvbHZlXV0gYmxvY2spLlxuICAgICAqIFRoZSByZXNvbHZhYmxlIGlzIGFkZGVkIHRvIHRoZSBub2RlIG1hdGNoaW5nIHRoZSBgc3RhdGVgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIFRoZXNlIG5ldyByZXNvbHZhYmxlcyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgZmV0Y2hlZC5cbiAgICAgKiBUaGUgY2FsbGluZyBjb2RlIHNob3VsZCBlaXRoZXIgZmV0Y2ggdGhlbSwgZmV0Y2ggc29tZXRoaW5nIHRoYXQgZGVwZW5kcyBvbiB0aGVtLFxuICAgICAqIG9yIHJlbHkgb24gW1tyZXNvbHZlUGF0aF1dIGJlaW5nIGNhbGxlZCB3aGVuIHNvbWUgc3RhdGUgaXMgYmVpbmcgZW50ZXJlZC5cbiAgICAgKlxuICAgICAqIE5vdGU6IGVhY2ggcmVzb2x2YWJsZSdzIFtbUmVzb2x2ZVBvbGljeV1dIGlzIG1lcmdlZCB3aXRoIHRoZSBzdGF0ZSdzIHBvbGljeSwgYW5kIHRoZSBnbG9iYWwgZGVmYXVsdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdSZXNvbHZhYmxlcyB0aGUgbmV3IFJlc29sdmFibGVzXG4gICAgICogQHBhcmFtIHN0YXRlIFVzZWQgdG8gZmluZCB0aGUgbm9kZSB0byBwdXQgdGhlIHJlc29sdmFibGUgb25cbiAgICAgKi9cbiAgICBSZXNvbHZlQ29udGV4dC5wcm90b3R5cGUuYWRkUmVzb2x2YWJsZXMgPSBmdW5jdGlvbiAobmV3UmVzb2x2YWJsZXMsIHN0YXRlKSB7XG4gICAgICAgIHZhciBub2RlID0gY29tbW9uXzEuZmluZCh0aGlzLl9wYXRoLCBob2ZfMS5wcm9wRXEoJ3N0YXRlJywgc3RhdGUpKTtcbiAgICAgICAgdmFyIGtleXMgPSBuZXdSZXNvbHZhYmxlcy5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIudG9rZW47IH0pO1xuICAgICAgICBub2RlLnJlc29sdmFibGVzID0gbm9kZS5yZXNvbHZhYmxlcy5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIGtleXMuaW5kZXhPZihyLnRva2VuKSA9PT0gLTE7IH0pLmNvbmNhdChuZXdSZXNvbHZhYmxlcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgYW4gYXJyYXkgb2YgcmVzb2x2ZWQgcGF0aCBFbGVtZW50IHByb21pc2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gd2hlblxuICAgICAqIEBwYXJhbSB0cmFuc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT58YW55fVxuICAgICAqL1xuICAgIFJlc29sdmVDb250ZXh0LnByb3RvdHlwZS5yZXNvbHZlUGF0aCA9IGZ1bmN0aW9uICh3aGVuLCB0cmFucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAod2hlbiA9PT0gdm9pZCAwKSB7IHdoZW4gPSBcIkxBWllcIjsgfVxuICAgICAgICAvLyBUaGlzIG9wdGlvbiBkZXRlcm1pbmVzIHdoaWNoICd3aGVuJyBwb2xpY3kgUmVzb2x2YWJsZXMgd2UgYXJlIGFib3V0IHRvIGZldGNoLlxuICAgICAgICB2YXIgd2hlbk9wdGlvbiA9IGNvbW1vbl8xLmluQXJyYXkoQUxMX1dIRU5TLCB3aGVuKSA/IHdoZW4gOiBcIkxBWllcIjtcbiAgICAgICAgLy8gSWYgdGhlIGNhbGxlciBzcGVjaWZpZWQgRUFHRVIsIG9ubHkgdGhlIEVBR0VSIFJlc29sdmFibGVzIGFyZSBmZXRjaGVkLlxuICAgICAgICAvLyBpZiB0aGUgY2FsbGVyIHNwZWNpZmllZCBMQVpZLCBib3RoIEVBR0VSIGFuZCBMQVpZIFJlc29sdmFibGVzIGFyZSBmZXRjaGVkLmBcbiAgICAgICAgdmFyIG1hdGNoZWRXaGVucyA9IHdoZW5PcHRpb24gPT09IGludGVyZmFjZV8xLnJlc29sdmVQb2xpY2llcy53aGVuLkVBR0VSID8gRUFHRVJfV0hFTlMgOiBBTExfV0hFTlM7XG4gICAgICAgIC8vIGdldCB0aGUgc3VicGF0aCB0byB0aGUgc3RhdGUgYXJndW1lbnQsIGlmIHByb3ZpZGVkXG4gICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VSZXNvbHZlUGF0aCh0aGlzLl9wYXRoLCB3aGVuLCB0cmFucyk7XG4gICAgICAgIHZhciBtYXRjaGVzUG9saWN5ID0gZnVuY3Rpb24gKGFjY2VwdGVkVmFscywgd2hlbk9yQXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAocmVzb2x2YWJsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5pbkFycmF5KGFjY2VwdGVkVmFscywgX3RoaXMuZ2V0UG9saWN5KHJlc29sdmFibGUpW3doZW5PckFzeW5jXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICAvLyBUcmlnZ2VyIGFsbCB0aGUgKG1hdGNoaW5nKSBSZXNvbHZhYmxlcyBpbiB0aGUgcGF0aFxuICAgICAgICAvLyBSZWR1Y2UgYWxsIHRoZSBcIldBSVRcIiBSZXNvbHZhYmxlcyBpbnRvIGFuIGFycmF5XG4gICAgICAgIHZhciBwcm9taXNlcyA9IHRoaXMuX3BhdGgucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG5vZGUpIHtcbiAgICAgICAgICAgIHZhciBub2RlUmVzb2x2YWJsZXMgPSBub2RlLnJlc29sdmFibGVzLmZpbHRlcihtYXRjaGVzUG9saWN5KG1hdGNoZWRXaGVucywgJ3doZW4nKSk7XG4gICAgICAgICAgICB2YXIgbm93YWl0ID0gbm9kZVJlc29sdmFibGVzLmZpbHRlcihtYXRjaGVzUG9saWN5KFsnTk9XQUlUJ10sICdhc3luYycpKTtcbiAgICAgICAgICAgIHZhciB3YWl0ID0gbm9kZVJlc29sdmFibGVzLmZpbHRlcihob2ZfMS5ub3QobWF0Y2hlc1BvbGljeShbJ05PV0FJVCddLCAnYXN5bmMnKSkpO1xuICAgICAgICAgICAgLy8gRm9yIHRoZSBtYXRjaGluZyBSZXNvbHZhYmxlcywgc3RhcnQgdGhlaXIgYXN5bmMgZmV0Y2ggcHJvY2Vzcy5cbiAgICAgICAgICAgIHZhciBzdWJDb250ZXh0ID0gX3RoaXMuc3ViQ29udGV4dChub2RlLnN0YXRlKTtcbiAgICAgICAgICAgIHZhciBnZXRSZXN1bHQgPSBmdW5jdGlvbiAocikgeyByZXR1cm4gci5nZXQoc3ViQ29udGV4dCwgdHJhbnMpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiAoeyB0b2tlbjogci50b2tlbiwgdmFsdWU6IHZhbHVlIH0pOyB9KTsgfTtcbiAgICAgICAgICAgIG5vd2FpdC5mb3JFYWNoKGdldFJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gYWNjLmNvbmNhdCh3YWl0Lm1hcChnZXRSZXN1bHQpKTtcbiAgICAgICAgfSwgW10pO1xuICAgICAgICAvLyBXYWl0IGZvciBhbGwgdGhlIFwiV0FJVFwiIHJlc29sdmFibGVzXG4gICAgICAgIHJldHVybiBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS5hbGwocHJvbWlzZXMpO1xuICAgIH07XG4gICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLmluamVjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5qZWN0b3IgfHwgKHRoaXMuX2luamVjdG9yID0gbmV3IFVJSW5qZWN0b3JJbXBsKHRoaXMpKTtcbiAgICB9O1xuICAgIFJlc29sdmVDb250ZXh0LnByb3RvdHlwZS5maW5kTm9kZSA9IGZ1bmN0aW9uIChyZXNvbHZhYmxlKSB7XG4gICAgICAgIHJldHVybiBjb21tb25fMS5maW5kKHRoaXMuX3BhdGgsIGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBjb21tb25fMS5pbkFycmF5KG5vZGUucmVzb2x2YWJsZXMsIHJlc29sdmFibGUpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFzeW5jIGRlcGVuZGVuY2llcyBvZiBhIFJlc29sdmFibGVcbiAgICAgKlxuICAgICAqIEdpdmVuIGEgUmVzb2x2YWJsZSwgcmV0dXJucyBpdHMgZGVwZW5kZW5jaWVzIGFzIGEgUmVzb2x2YWJsZVtdXG4gICAgICovXG4gICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLmdldERlcGVuZGVuY2llcyA9IGZ1bmN0aW9uIChyZXNvbHZhYmxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5maW5kTm9kZShyZXNvbHZhYmxlKTtcbiAgICAgICAgLy8gRmluZCB3aGljaCBvdGhlciByZXNvbHZhYmxlcyBhcmUgXCJ2aXNpYmxlXCIgdG8gdGhlIGByZXNvbHZhYmxlYCBhcmd1bWVudFxuICAgICAgICAvLyBzdWJwYXRoIHN0b3BwaW5nIGF0IHJlc29sdmFibGUncyBub2RlLCBvciB0aGUgd2hvbGUgcGF0aCAoaWYgdGhlIHJlc29sdmFibGUgaXNuJ3QgaW4gdGhlIHBhdGgpXG4gICAgICAgIHZhciBzdWJQYXRoID0gcGF0aEZhY3RvcnlfMS5QYXRoVXRpbHMuc3ViUGF0aCh0aGlzLl9wYXRoLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geCA9PT0gbm9kZTsgfSkgfHwgdGhpcy5fcGF0aDtcbiAgICAgICAgdmFyIGF2YWlsYWJsZVJlc29sdmFibGVzID0gc3ViUGF0aFxuICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBub2RlKSB7IHJldHVybiBhY2MuY29uY2F0KG5vZGUucmVzb2x2YWJsZXMpOyB9LCBbXSkgLy9hbGwgb2Ygc3VicGF0aCdzIHJlc29sdmFibGVzXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIHJlcyAhPT0gcmVzb2x2YWJsZTsgfSk7IC8vIGZpbHRlciBvdXQgdGhlIGByZXNvbHZhYmxlYCBhcmd1bWVudFxuICAgICAgICB2YXIgZ2V0RGVwZW5kZW5jeSA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICAgICAgdmFyIG1hdGNoaW5nID0gYXZhaWxhYmxlUmVzb2x2YWJsZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnRva2VuID09PSB0b2tlbjsgfSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmcubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS50YWlsKG1hdGNoaW5nKTtcbiAgICAgICAgICAgIHZhciBmcm9tSW5qZWN0b3IgPSBfdGhpcy5pbmplY3RvcigpLmdldE5hdGl2ZSh0b2tlbik7XG4gICAgICAgICAgICBpZiAoIWZyb21JbmplY3Rvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIERlcGVuZGVuY3kgSW5qZWN0aW9uIHRva2VuOiBcIiArIHN0cmluZ3NfMS5zdHJpbmdpZnkodG9rZW4pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgcmVzb2x2YWJsZV8xLlJlc29sdmFibGUodG9rZW4sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZyb21JbmplY3RvcjsgfSwgW10sIGZyb21JbmplY3Rvcik7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXNvbHZhYmxlLmRlcHMubWFwKGdldERlcGVuZGVuY3kpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc29sdmVDb250ZXh0O1xufSgpKTtcbmV4cG9ydHMuUmVzb2x2ZUNvbnRleHQgPSBSZXNvbHZlQ29udGV4dDtcbnZhciBVSUluamVjdG9ySW1wbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVUlJbmplY3RvckltcGwoY29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLm5hdGl2ZSA9IHRoaXMuZ2V0KGV4cG9ydHMuTkFUSVZFX0lOSkVDVE9SX1RPS0VOKSB8fCBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kaW5qZWN0b3I7XG4gICAgfVxuICAgIFVJSW5qZWN0b3JJbXBsLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgdmFyIHJlc29sdmFibGUgPSB0aGlzLmNvbnRleHQuZ2V0UmVzb2x2YWJsZSh0b2tlbik7XG4gICAgICAgIGlmIChyZXNvbHZhYmxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0LmdldFBvbGljeShyZXNvbHZhYmxlKS5hc3luYyA9PT0gJ05PV0FJVCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2YWJsZS5nZXQodGhpcy5jb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVzb2x2YWJsZS5yZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlc29sdmFibGUgYXN5bmMgLmdldCgpIG5vdCBjb21wbGV0ZTpcIiArIHN0cmluZ3NfMS5zdHJpbmdpZnkocmVzb2x2YWJsZS50b2tlbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmFibGUuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5uYXRpdmUgJiYgdGhpcy5uYXRpdmUuZ2V0KHRva2VuKTtcbiAgICB9O1xuICAgIFVJSW5qZWN0b3JJbXBsLnByb3RvdHlwZS5nZXRBc3luYyA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICB2YXIgcmVzb2x2YWJsZSA9IHRoaXMuY29udGV4dC5nZXRSZXNvbHZhYmxlKHRva2VuKTtcbiAgICAgICAgaWYgKHJlc29sdmFibGUpXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2YWJsZS5nZXQodGhpcy5jb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxLndoZW4odGhpcy5uYXRpdmUuZ2V0KHRva2VuKSk7XG4gICAgfTtcbiAgICBVSUluamVjdG9ySW1wbC5wcm90b3R5cGUuZ2V0TmF0aXZlID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hdGl2ZSAmJiB0aGlzLm5hdGl2ZS5nZXQodG9rZW4pO1xuICAgIH07XG4gICAgcmV0dXJuIFVJSW5qZWN0b3JJbXBsO1xufSgpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmVDb250ZXh0LmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvcmVzb2x2ZS9yZXNvbHZlQ29udGV4dC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @coreapi\n * @module url\n */\n/** for typedoc */\nvar common_1 = __webpack_require__(0);\nvar hof_1 = __webpack_require__(2);\nvar predicates_1 = __webpack_require__(1);\nvar param_1 = __webpack_require__(9);\nvar strings_1 = __webpack_require__(5);\n/** @hidden */\nfunction quoteRegExp(string, param) {\n    var surroundPattern = ['', ''],\n        result = string.replace(/[\\\\\\[\\]\\^$*+?.()|{}]/g, \"\\\\$&\");\n    if (!param) return result;\n    switch (param.squash) {\n        case false:\n            surroundPattern = ['(', ')' + (param.isOptional ? '?' : '')];\n            break;\n        case true:\n            result = result.replace(/\\/$/, '');\n            surroundPattern = ['(?:\\/(', ')|\\/)?'];\n            break;\n        default:\n            surroundPattern = [\"(\" + param.squash + \"|\", ')?'];\n            break;\n    }\n    return result + surroundPattern[0] + param.type.pattern.source + surroundPattern[1];\n}\n/** @hidden */\nvar memoizeTo = function memoizeTo(obj, prop, fn) {\n    return obj[prop] = obj[prop] || fn();\n};\n/** @hidden */\nvar splitOnSlash = strings_1.splitOnDelim('/');\n/**\n * Matches URLs against patterns.\n *\n * Matches URLs against patterns and extracts named parameters from the path or the search\n * part of the URL.\n *\n * A URL pattern consists of a path pattern, optionally followed by '?' and a list of search (query)\n * parameters. Multiple search parameter names are separated by '&'. Search parameters\n * do not influence whether or not a URL is matched, but their values are passed through into\n * the matched parameters returned by [[UrlMatcher.exec]].\n *\n * - *Path parameters* are defined using curly brace placeholders (`/somepath/{param}`)\n * or colon placeholders (`/somePath/:param`).\n *\n * - *A parameter RegExp* may be defined for a param after a colon\n * (`/somePath/{param:[a-zA-Z0-9]+}`) in a curly brace placeholder.\n * The regexp must match for the url to be matched.\n * Should the regexp itself contain curly braces, they must be in matched pairs or escaped with a backslash.\n *\n * Note: a RegExp parameter will encode its value using either [[ParamTypes.path]] or [[ParamTypes.query]].\n *\n * - *Custom parameter types* may also be specified after a colon (`/somePath/{param:int}`) in curly brace parameters.\n *   See [[UrlMatcherFactory.type]] for more information.\n *\n * - *Catch-all parameters* are defined using an asterisk placeholder (`/somepath/*catchallparam`).\n *   A catch-all * parameter value will contain the remainder of the URL.\n *\n * ---\n *\n * Parameter names may contain only word characters (latin letters, digits, and underscore) and\n * must be unique within the pattern (across both path and search parameters).\n * A path parameter matches any number of characters other than '/'. For catch-all\n * placeholders the path parameter matches any number of characters.\n *\n * Examples:\n *\n * * `'/hello/'` - Matches only if the path is exactly '/hello/'. There is no special treatment for\n *   trailing slashes, and patterns have to match the entire path, not just a prefix.\n * * `'/user/:id'` - Matches '/user/bob' or '/user/1234!!!' or even '/user/' but not '/user' or\n *   '/user/bob/details'. The second path segment will be captured as the parameter 'id'.\n * * `'/user/{id}'` - Same as the previous example, but using curly brace syntax.\n * * `'/user/{id:[^/]*}'` - Same as the previous example.\n * * `'/user/{id:[0-9a-fA-F]{1,8}}'` - Similar to the previous example, but only matches if the id\n *   parameter consists of 1 to 8 hex digits.\n * * `'/files/{path:.*}'` - Matches any URL starting with '/files/' and captures the rest of the\n *   path into the parameter 'path'.\n * * `'/files/*path'` - ditto.\n * * `'/calendar/{start:date}'` - Matches \"/calendar/2014-11-12\" (because the pattern defined\n *   in the built-in  `date` ParamType matches `2014-11-12`) and provides a Date object in $stateParams.start\n *\n */\nvar UrlMatcher = function () {\n    /**\n     * @param pattern The pattern to compile into a matcher.\n     * @param paramTypes The [[ParamTypes]] registry\n     * @param config  A configuration object\n     * - `caseInsensitive` - `true` if URL matching should be case insensitive, otherwise `false`, the default value (for backward compatibility) is `false`.\n     * - `strict` - `false` if matching against a URL with a trailing slash should be treated as equivalent to a URL without a trailing slash, the default value is `true`.\n     */\n    function UrlMatcher(pattern, paramTypes, paramFactory, config) {\n        var _this = this;\n        this.config = config;\n        /** @hidden */\n        this._cache = { path: [this] };\n        /** @hidden */\n        this._children = [];\n        /** @hidden */\n        this._params = [];\n        /** @hidden */\n        this._segments = [];\n        /** @hidden */\n        this._compiled = [];\n        this.pattern = pattern;\n        this.config = common_1.defaults(this.config, {\n            params: {},\n            strict: true,\n            caseInsensitive: false,\n            paramMap: common_1.identity\n        });\n        // Find all placeholders and create a compiled pattern, using either classic or curly syntax:\n        //   '*' name\n        //   ':' name\n        //   '{' name '}'\n        //   '{' name ':' regexp '}'\n        // The regular expression is somewhat complicated due to the need to allow curly braces\n        // inside the regular expression. The placeholder regexp breaks down as follows:\n        //    ([:*])([\\w\\[\\]]+)              - classic placeholder ($1 / $2) (search version has - for snake-case)\n        //    \\{([\\w\\[\\]]+)(?:\\:\\s*( ... ))?\\}  - curly brace placeholder ($3) with optional regexp/type ... ($4) (search version has - for snake-case\n        //    (?: ... | ... | ... )+         - the regexp consists of any number of atoms, an atom being either\n        //    [^{}\\\\]+                       - anything other than curly braces or backslash\n        //    \\\\.                            - a backslash escape\n        //    \\{(?:[^{}\\\\]+|\\\\.)*\\}          - a matched set of curly braces containing other atoms\n        var placeholder = /([:*])([\\w\\[\\]]+)|\\{([\\w\\[\\]]+)(?:\\:\\s*((?:[^{}\\\\]+|\\\\.|\\{(?:[^{}\\\\]+|\\\\.)*\\})+))?\\}/g,\n            searchPlaceholder = /([:]?)([\\w\\[\\].-]+)|\\{([\\w\\[\\].-]+)(?:\\:\\s*((?:[^{}\\\\]+|\\\\.|\\{(?:[^{}\\\\]+|\\\\.)*\\})+))?\\}/g,\n            last = 0,\n            m,\n            patterns = [];\n        var checkParamErrors = function checkParamErrors(id) {\n            if (!UrlMatcher.nameValidator.test(id)) throw new Error(\"Invalid parameter name '\" + id + \"' in pattern '\" + pattern + \"'\");\n            if (common_1.find(_this._params, hof_1.propEq('id', id))) throw new Error(\"Duplicate parameter name '\" + id + \"' in pattern '\" + pattern + \"'\");\n        };\n        // Split into static segments separated by path parameter placeholders.\n        // The number of segments is always 1 more than the number of parameters.\n        var matchDetails = function matchDetails(m, isSearch) {\n            // IE[78] returns '' for unmatched groups instead of null\n            var id = m[2] || m[3];\n            var regexp = isSearch ? m[4] : m[4] || (m[1] === '*' ? '.*' : null);\n            var makeRegexpType = function makeRegexpType(regexp) {\n                return common_1.inherit(paramTypes.type(isSearch ? \"query\" : \"path\"), {\n                    pattern: new RegExp(regexp, _this.config.caseInsensitive ? 'i' : undefined)\n                });\n            };\n            return {\n                id: id,\n                regexp: regexp,\n                cfg: _this.config.params[id],\n                segment: pattern.substring(last, m.index),\n                type: !regexp ? null : paramTypes.type(regexp) || makeRegexpType(regexp)\n            };\n        };\n        var p, segment;\n        while (m = placeholder.exec(pattern)) {\n            p = matchDetails(m, false);\n            if (p.segment.indexOf('?') >= 0) break; // we're into the search part\n            checkParamErrors(p.id);\n            this._params.push(paramFactory.fromPath(p.id, p.type, this.config.paramMap(p.cfg, false)));\n            this._segments.push(p.segment);\n            patterns.push([p.segment, common_1.tail(this._params)]);\n            last = placeholder.lastIndex;\n        }\n        segment = pattern.substring(last);\n        // Find any search parameter names and remove them from the last segment\n        var i = segment.indexOf('?');\n        if (i >= 0) {\n            var search = segment.substring(i);\n            segment = segment.substring(0, i);\n            if (search.length > 0) {\n                last = 0;\n                while (m = searchPlaceholder.exec(search)) {\n                    p = matchDetails(m, true);\n                    checkParamErrors(p.id);\n                    this._params.push(paramFactory.fromSearch(p.id, p.type, this.config.paramMap(p.cfg, true)));\n                    last = placeholder.lastIndex;\n                    // check if ?&\n                }\n            }\n        }\n        this._segments.push(segment);\n        this._compiled = patterns.map(function (pattern) {\n            return quoteRegExp.apply(null, pattern);\n        }).concat(quoteRegExp(segment));\n    }\n    /**\n     * Creates a new concatenated UrlMatcher\n     *\n     * Builds a new UrlMatcher by appending another UrlMatcher to this one.\n     *\n     * @param url A `UrlMatcher` instance to append as a child of the current `UrlMatcher`.\n     */\n    UrlMatcher.prototype.append = function (url) {\n        this._children.push(url);\n        url._cache = {\n            path: this._cache.path.concat(url),\n            parent: this,\n            pattern: null\n        };\n        return url;\n    };\n    /** @hidden */\n    UrlMatcher.prototype.isRoot = function () {\n        return this._cache.path[0] === this;\n    };\n    /** Returns the input pattern string */\n    UrlMatcher.prototype.toString = function () {\n        return this.pattern;\n    };\n    /**\n     * Tests the specified url/path against this matcher.\n     *\n     * Tests if the given url matches this matcher's pattern, and returns an object containing the captured\n     * parameter values.  Returns null if the path does not match.\n     *\n     * The returned object contains the values\n     * of any search parameters that are mentioned in the pattern, but their value may be null if\n     * they are not present in `search`. This means that search parameters are always treated\n     * as optional.\n     *\n     * #### Example:\n     * ```js\n     * new UrlMatcher('/user/{id}?q&r').exec('/user/bob', {\n     *   x: '1', q: 'hello'\n     * });\n     * // returns { id: 'bob', q: 'hello', r: null }\n     * ```\n     *\n     * @param path    The URL path to match, e.g. `$location.path()`.\n     * @param search  URL search parameters, e.g. `$location.search()`.\n     * @param hash    URL hash e.g. `$location.hash()`.\n     * @param options\n     *\n     * @returns The captured parameter values.\n     */\n    UrlMatcher.prototype.exec = function (path, search, hash, options) {\n        var _this = this;\n        if (search === void 0) {\n            search = {};\n        }\n        if (options === void 0) {\n            options = {};\n        }\n        var match = memoizeTo(this._cache, 'pattern', function () {\n            return new RegExp(['^', common_1.unnest(_this._cache.path.map(hof_1.prop('_compiled'))).join(''), _this.config.strict === false ? '\\/?' : '', '$'].join(''), _this.config.caseInsensitive ? 'i' : undefined);\n        }).exec(path);\n        if (!match) return null;\n        //options = defaults(options, { isolate: false });\n        var allParams = this.parameters(),\n            pathParams = allParams.filter(function (param) {\n            return !param.isSearch();\n        }),\n            searchParams = allParams.filter(function (param) {\n            return param.isSearch();\n        }),\n            nPathSegments = this._cache.path.map(function (urlm) {\n            return urlm._segments.length - 1;\n        }).reduce(function (a, x) {\n            return a + x;\n        }),\n            values = {};\n        if (nPathSegments !== match.length - 1) throw new Error(\"Unbalanced capture group in route '\" + this.pattern + \"'\");\n        function decodePathArray(string) {\n            var reverseString = function reverseString(str) {\n                return str.split(\"\").reverse().join(\"\");\n            };\n            var unquoteDashes = function unquoteDashes(str) {\n                return str.replace(/\\\\-/g, \"-\");\n            };\n            var split = reverseString(string).split(/-(?!\\\\)/);\n            var allReversed = common_1.map(split, reverseString);\n            return common_1.map(allReversed, unquoteDashes).reverse();\n        }\n        for (var i = 0; i < nPathSegments; i++) {\n            var param = pathParams[i];\n            var value = match[i + 1];\n            // if the param value matches a pre-replace pair, replace the value before decoding.\n            for (var j = 0; j < param.replace.length; j++) {\n                if (param.replace[j].from === value) value = param.replace[j].to;\n            }\n            if (value && param.array === true) value = decodePathArray(value);\n            if (predicates_1.isDefined(value)) value = param.type.decode(value);\n            values[param.id] = param.value(value);\n        }\n        searchParams.forEach(function (param) {\n            var value = search[param.id];\n            for (var j = 0; j < param.replace.length; j++) {\n                if (param.replace[j].from === value) value = param.replace[j].to;\n            }\n            if (predicates_1.isDefined(value)) value = param.type.decode(value);\n            values[param.id] = param.value(value);\n        });\n        if (hash) values[\"#\"] = hash;\n        return values;\n    };\n    /**\n     * @hidden\n     * Returns all the [[Param]] objects of all path and search parameters of this pattern in order of appearance.\n     *\n     * @returns {Array.<Param>}  An array of [[Param]] objects. Must be treated as read-only. If the\n     *    pattern has no parameters, an empty array is returned.\n     */\n    UrlMatcher.prototype.parameters = function (opts) {\n        if (opts === void 0) {\n            opts = {};\n        }\n        if (opts.inherit === false) return this._params;\n        return common_1.unnest(this._cache.path.map(function (matcher) {\n            return matcher._params;\n        }));\n    };\n    /**\n     * @hidden\n     * Returns a single parameter from this UrlMatcher by id\n     *\n     * @param id\n     * @param opts\n     * @returns {T|Param|any|boolean|UrlMatcher|null}\n     */\n    UrlMatcher.prototype.parameter = function (id, opts) {\n        var _this = this;\n        if (opts === void 0) {\n            opts = {};\n        }\n        var findParam = function findParam() {\n            for (var _i = 0, _a = _this._params; _i < _a.length; _i++) {\n                var param = _a[_i];\n                if (param.id === id) return param;\n            }\n        };\n        var parent = this._cache.parent;\n        return findParam() || opts.inherit !== false && parent && parent.parameter(id, opts) || null;\n    };\n    /**\n     * Validates the input parameter values against this UrlMatcher\n     *\n     * Checks an object hash of parameters to validate their correctness according to the parameter\n     * types of this `UrlMatcher`.\n     *\n     * @param params The object hash of parameters to validate.\n     * @returns Returns `true` if `params` validates, otherwise `false`.\n     */\n    UrlMatcher.prototype.validates = function (params) {\n        var validParamVal = function validParamVal(param, val) {\n            return !param || param.validates(val);\n        };\n        params = params || {};\n        // I'm not sure why this checks only the param keys passed in, and not all the params known to the matcher\n        var paramSchema = this.parameters().filter(function (paramDef) {\n            return params.hasOwnProperty(paramDef.id);\n        });\n        return paramSchema.map(function (paramDef) {\n            return validParamVal(paramDef, params[paramDef.id]);\n        }).reduce(common_1.allTrueR, true);\n    };\n    /**\n     * Given a set of parameter values, creates a URL from this UrlMatcher.\n     *\n     * Creates a URL that matches this pattern by substituting the specified values\n     * for the path and search parameters.\n     *\n     * #### Example:\n     * ```js\n     * new UrlMatcher('/user/{id}?q').format({ id:'bob', q:'yes' });\n     * // returns '/user/bob?q=yes'\n     * ```\n     *\n     * @param values  the values to substitute for the parameters in this pattern.\n     * @returns the formatted URL (path and optionally search part).\n     */\n    UrlMatcher.prototype.format = function (values) {\n        if (values === void 0) {\n            values = {};\n        }\n        // Build the full path of UrlMatchers (including all parent UrlMatchers)\n        var urlMatchers = this._cache.path;\n        // Extract all the static segments and Params (processed as ParamDetails)\n        // into an ordered array\n        var pathSegmentsAndParams = urlMatchers.map(UrlMatcher.pathSegmentsAndParams).reduce(common_1.unnestR, []).map(function (x) {\n            return predicates_1.isString(x) ? x : getDetails(x);\n        });\n        // Extract the query params into a separate array\n        var queryParams = urlMatchers.map(UrlMatcher.queryParams).reduce(common_1.unnestR, []).map(getDetails);\n        var isInvalid = function isInvalid(param) {\n            return param.isValid === false;\n        };\n        if (pathSegmentsAndParams.concat(queryParams).filter(isInvalid).length) {\n            return null;\n        }\n        /**\n         * Given a Param, applies the parameter value, then returns detailed information about it\n         */\n        function getDetails(param) {\n            // Normalize to typed value\n            var value = param.value(values[param.id]);\n            var isValid = param.validates(value);\n            var isDefaultValue = param.isDefaultValue(value);\n            // Check if we're in squash mode for the parameter\n            var squash = isDefaultValue ? param.squash : false;\n            // Allow the Parameter's Type to encode the value\n            var encoded = param.type.encode(value);\n            return { param: param, value: value, isValid: isValid, isDefaultValue: isDefaultValue, squash: squash, encoded: encoded };\n        }\n        // Build up the path-portion from the list of static segments and parameters\n        var pathString = pathSegmentsAndParams.reduce(function (acc, x) {\n            // The element is a static segment (a raw string); just append it\n            if (predicates_1.isString(x)) return acc + x;\n            // Otherwise, it's a ParamDetails.\n            var squash = x.squash,\n                encoded = x.encoded,\n                param = x.param;\n            // If squash is === true, try to remove a slash from the path\n            if (squash === true) return acc.match(/\\/$/) ? acc.slice(0, -1) : acc;\n            // If squash is a string, use the string for the param value\n            if (predicates_1.isString(squash)) return acc + squash;\n            if (squash !== false) return acc; // ?\n            if (encoded == null) return acc;\n            // If this parameter value is an array, encode the value using encodeDashes\n            if (predicates_1.isArray(encoded)) return acc + common_1.map(encoded, UrlMatcher.encodeDashes).join(\"-\");\n            // If the parameter type is \"raw\", then do not encodeURIComponent\n            if (param.raw) return acc + encoded;\n            // Encode the value\n            return acc + encodeURIComponent(encoded);\n        }, \"\");\n        // Build the query string by applying parameter values (array or regular)\n        // then mapping to key=value, then flattening and joining using \"&\"\n        var queryString = queryParams.map(function (paramDetails) {\n            var param = paramDetails.param,\n                squash = paramDetails.squash,\n                encoded = paramDetails.encoded,\n                isDefaultValue = paramDetails.isDefaultValue;\n            if (encoded == null || isDefaultValue && squash !== false) return;\n            if (!predicates_1.isArray(encoded)) encoded = [encoded];\n            if (encoded.length === 0) return;\n            if (!param.raw) encoded = common_1.map(encoded, encodeURIComponent);\n            return encoded.map(function (val) {\n                return param.id + \"=\" + val;\n            });\n        }).filter(common_1.identity).reduce(common_1.unnestR, []).join(\"&\");\n        // Concat the pathstring with the queryString (if exists) and the hashString (if exists)\n        return pathString + (queryString ? \"?\" + queryString : \"\") + (values[\"#\"] ? \"#\" + values[\"#\"] : \"\");\n    };\n    /** @hidden */\n    UrlMatcher.encodeDashes = function (str) {\n        return encodeURIComponent(str).replace(/-/g, function (c) {\n            return \"%5C%\" + c.charCodeAt(0).toString(16).toUpperCase();\n        });\n    };\n    /** @hidden Given a matcher, return an array with the matcher's path segments and path params, in order */\n    UrlMatcher.pathSegmentsAndParams = function (matcher) {\n        var staticSegments = matcher._segments;\n        var pathParams = matcher._params.filter(function (p) {\n            return p.location === param_1.DefType.PATH;\n        });\n        return common_1.arrayTuples(staticSegments, pathParams.concat(undefined)).reduce(common_1.unnestR, []).filter(function (x) {\n            return x !== \"\" && predicates_1.isDefined(x);\n        });\n    };\n    /** @hidden Given a matcher, return an array with the matcher's query params */\n    UrlMatcher.queryParams = function (matcher) {\n        return matcher._params.filter(function (p) {\n            return p.location === param_1.DefType.SEARCH;\n        });\n    };\n    /**\n     * Compare two UrlMatchers\n     *\n     * This comparison function converts a UrlMatcher into static and dynamic path segments.\n     * Each static path segment is a static string between a path separator (slash character).\n     * Each dynamic segment is a path parameter.\n     *\n     * The comparison function sorts static segments before dynamic ones.\n     */\n    UrlMatcher.compare = function (a, b) {\n        /**\n         * Turn a UrlMatcher and all its parent matchers into an array\n         * of slash literals '/', string literals, and Param objects\n         *\n         * This example matcher matches strings like \"/foo/:param/tail\":\n         * var matcher = $umf.compile(\"/foo\").append($umf.compile(\"/:param\")).append($umf.compile(\"/\")).append($umf.compile(\"tail\"));\n         * var result = segments(matcher); // [ '/', 'foo', '/', Param, '/', 'tail' ]\n         *\n         * Caches the result as `matcher._cache.segments`\n         */\n        var segments = function segments(matcher) {\n            return matcher._cache.segments = matcher._cache.segments || matcher._cache.path.map(UrlMatcher.pathSegmentsAndParams).reduce(common_1.unnestR, []).reduce(strings_1.joinNeighborsR, []).map(function (x) {\n                return predicates_1.isString(x) ? splitOnSlash(x) : x;\n            }).reduce(common_1.unnestR, []);\n        };\n        /**\n         * Gets the sort weight for each segment of a UrlMatcher\n         *\n         * Caches the result as `matcher._cache.weights`\n         */\n        var weights = function weights(matcher) {\n            return matcher._cache.weights = matcher._cache.weights || segments(matcher).map(function (segment) {\n                // Sort slashes first, then static strings, the Params\n                if (segment === '/') return 1;\n                if (predicates_1.isString(segment)) return 2;\n                if (segment instanceof param_1.Param) return 3;\n            });\n        };\n        var cmp,\n            i,\n            pairs = common_1.arrayTuples(weights(a), weights(b));\n        for (i = 0; i < pairs.length; i++) {\n            cmp = pairs[i][0] - pairs[i][1];\n            if (cmp !== 0) return cmp;\n        }\n        return 0;\n    };\n    return UrlMatcher;\n}();\n/** @hidden */\nUrlMatcher.nameValidator = /^\\w+([-.]+\\w+)*(?:\\[\\])?$/;\nexports.UrlMatcher = UrlMatcher;\n//# sourceMappingURL=urlMatcher.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3VybC91cmxNYXRjaGVyLmpzPzRkY2YiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjb21tb25fMSIsInJlcXVpcmUiLCJob2ZfMSIsInByZWRpY2F0ZXNfMSIsInBhcmFtXzEiLCJzdHJpbmdzXzEiLCJxdW90ZVJlZ0V4cCIsInN0cmluZyIsInBhcmFtIiwic3Vycm91bmRQYXR0ZXJuIiwicmVzdWx0IiwicmVwbGFjZSIsInNxdWFzaCIsImlzT3B0aW9uYWwiLCJ0eXBlIiwicGF0dGVybiIsInNvdXJjZSIsIm1lbW9pemVUbyIsIm9iaiIsInByb3AiLCJmbiIsInNwbGl0T25TbGFzaCIsInNwbGl0T25EZWxpbSIsIlVybE1hdGNoZXIiLCJwYXJhbVR5cGVzIiwicGFyYW1GYWN0b3J5IiwiY29uZmlnIiwiX3RoaXMiLCJfY2FjaGUiLCJwYXRoIiwiX2NoaWxkcmVuIiwiX3BhcmFtcyIsIl9zZWdtZW50cyIsIl9jb21waWxlZCIsImRlZmF1bHRzIiwicGFyYW1zIiwic3RyaWN0IiwiY2FzZUluc2Vuc2l0aXZlIiwicGFyYW1NYXAiLCJpZGVudGl0eSIsInBsYWNlaG9sZGVyIiwic2VhcmNoUGxhY2Vob2xkZXIiLCJsYXN0IiwibSIsInBhdHRlcm5zIiwiY2hlY2tQYXJhbUVycm9ycyIsImlkIiwibmFtZVZhbGlkYXRvciIsInRlc3QiLCJFcnJvciIsImZpbmQiLCJwcm9wRXEiLCJtYXRjaERldGFpbHMiLCJpc1NlYXJjaCIsInJlZ2V4cCIsIm1ha2VSZWdleHBUeXBlIiwiaW5oZXJpdCIsIlJlZ0V4cCIsInVuZGVmaW5lZCIsImNmZyIsInNlZ21lbnQiLCJzdWJzdHJpbmciLCJpbmRleCIsInAiLCJleGVjIiwiaW5kZXhPZiIsInB1c2giLCJmcm9tUGF0aCIsInRhaWwiLCJsYXN0SW5kZXgiLCJpIiwic2VhcmNoIiwibGVuZ3RoIiwiZnJvbVNlYXJjaCIsIm1hcCIsImFwcGx5IiwiY29uY2F0IiwicHJvdG90eXBlIiwiYXBwZW5kIiwidXJsIiwicGFyZW50IiwiaXNSb290IiwidG9TdHJpbmciLCJoYXNoIiwib3B0aW9ucyIsIm1hdGNoIiwidW5uZXN0Iiwiam9pbiIsImFsbFBhcmFtcyIsInBhcmFtZXRlcnMiLCJwYXRoUGFyYW1zIiwiZmlsdGVyIiwic2VhcmNoUGFyYW1zIiwiblBhdGhTZWdtZW50cyIsInVybG0iLCJyZWR1Y2UiLCJhIiwieCIsInZhbHVlcyIsImRlY29kZVBhdGhBcnJheSIsInJldmVyc2VTdHJpbmciLCJzdHIiLCJzcGxpdCIsInJldmVyc2UiLCJ1bnF1b3RlRGFzaGVzIiwiYWxsUmV2ZXJzZWQiLCJqIiwiZnJvbSIsInRvIiwiYXJyYXkiLCJpc0RlZmluZWQiLCJkZWNvZGUiLCJmb3JFYWNoIiwib3B0cyIsIm1hdGNoZXIiLCJwYXJhbWV0ZXIiLCJmaW5kUGFyYW0iLCJfaSIsIl9hIiwidmFsaWRhdGVzIiwidmFsaWRQYXJhbVZhbCIsInZhbCIsInBhcmFtU2NoZW1hIiwicGFyYW1EZWYiLCJoYXNPd25Qcm9wZXJ0eSIsImFsbFRydWVSIiwiZm9ybWF0IiwidXJsTWF0Y2hlcnMiLCJwYXRoU2VnbWVudHNBbmRQYXJhbXMiLCJ1bm5lc3RSIiwiaXNTdHJpbmciLCJnZXREZXRhaWxzIiwicXVlcnlQYXJhbXMiLCJpc0ludmFsaWQiLCJpc1ZhbGlkIiwiaXNEZWZhdWx0VmFsdWUiLCJlbmNvZGVkIiwiZW5jb2RlIiwicGF0aFN0cmluZyIsImFjYyIsInNsaWNlIiwiaXNBcnJheSIsImVuY29kZURhc2hlcyIsInJhdyIsImVuY29kZVVSSUNvbXBvbmVudCIsInF1ZXJ5U3RyaW5nIiwicGFyYW1EZXRhaWxzIiwiYyIsImNoYXJDb2RlQXQiLCJ0b1VwcGVyQ2FzZSIsInN0YXRpY1NlZ21lbnRzIiwibG9jYXRpb24iLCJEZWZUeXBlIiwiUEFUSCIsImFycmF5VHVwbGVzIiwiU0VBUkNIIiwiY29tcGFyZSIsImIiLCJzZWdtZW50cyIsImpvaW5OZWlnaGJvcnNSIiwid2VpZ2h0cyIsIlBhcmFtIiwiY21wIiwicGFpcnMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTs7OztBQUlBO0FBQ0EsSUFBSUMsV0FBVyxtQkFBQUMsQ0FBUSxDQUFSLENBQWY7QUFDQSxJQUFJQyxRQUFRLG1CQUFBRCxDQUFRLENBQVIsQ0FBWjtBQUNBLElBQUlFLGVBQWUsbUJBQUFGLENBQVEsQ0FBUixDQUFuQjtBQUNBLElBQUlHLFVBQVUsbUJBQUFILENBQVEsQ0FBUixDQUFkO0FBQ0EsSUFBSUksWUFBWSxtQkFBQUosQ0FBUSxDQUFSLENBQWhCO0FBQ0E7QUFDQSxTQUFTSyxXQUFULENBQXFCQyxNQUFyQixFQUE2QkMsS0FBN0IsRUFBb0M7QUFDaEMsUUFBSUMsa0JBQWtCLENBQUMsRUFBRCxFQUFLLEVBQUwsQ0FBdEI7QUFBQSxRQUFnQ0MsU0FBU0gsT0FBT0ksT0FBUCxDQUFlLHVCQUFmLEVBQXdDLE1BQXhDLENBQXpDO0FBQ0EsUUFBSSxDQUFDSCxLQUFMLEVBQ0ksT0FBT0UsTUFBUDtBQUNKLFlBQVFGLE1BQU1JLE1BQWQ7QUFDSSxhQUFLLEtBQUw7QUFDSUgsOEJBQWtCLENBQUMsR0FBRCxFQUFNLE9BQU9ELE1BQU1LLFVBQU4sR0FBbUIsR0FBbkIsR0FBeUIsRUFBaEMsQ0FBTixDQUFsQjtBQUNBO0FBQ0osYUFBSyxJQUFMO0FBQ0lILHFCQUFTQSxPQUFPQyxPQUFQLENBQWUsS0FBZixFQUFzQixFQUF0QixDQUFUO0FBQ0FGLDhCQUFrQixDQUFDLFFBQUQsRUFBVyxRQUFYLENBQWxCO0FBQ0E7QUFDSjtBQUNJQSw4QkFBa0IsQ0FBQyxNQUFNRCxNQUFNSSxNQUFaLEdBQXFCLEdBQXRCLEVBQTJCLElBQTNCLENBQWxCO0FBQ0E7QUFWUjtBQVlBLFdBQU9GLFNBQVNELGdCQUFnQixDQUFoQixDQUFULEdB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IiwiZmlsZSI6IjIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEBjb3JlYXBpXG4gKiBAbW9kdWxlIHVybFxuICovXG4vKiogZm9yIHR5cGVkb2MgKi9cbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29tbW9uXCIpO1xudmFyIGhvZl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ob2ZcIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIHBhcmFtXzEgPSByZXF1aXJlKFwiLi4vcGFyYW1zL3BhcmFtXCIpO1xudmFyIHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vc3RyaW5nc1wiKTtcbi8qKiBAaGlkZGVuICovXG5mdW5jdGlvbiBxdW90ZVJlZ0V4cChzdHJpbmcsIHBhcmFtKSB7XG4gICAgdmFyIHN1cnJvdW5kUGF0dGVybiA9IFsnJywgJyddLCByZXN1bHQgPSBzdHJpbmcucmVwbGFjZSgvW1xcXFxcXFtcXF1cXF4kKis/LigpfHt9XS9nLCBcIlxcXFwkJlwiKTtcbiAgICBpZiAoIXBhcmFtKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIHN3aXRjaCAocGFyYW0uc3F1YXNoKSB7XG4gICAgICAgIGNhc2UgZmFsc2U6XG4gICAgICAgICAgICBzdXJyb3VuZFBhdHRlcm4gPSBbJygnLCAnKScgKyAocGFyYW0uaXNPcHRpb25hbCA/ICc/JyA6ICcnKV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0cnVlOlxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcLyQvLCAnJyk7XG4gICAgICAgICAgICBzdXJyb3VuZFBhdHRlcm4gPSBbJyg/OlxcLygnLCAnKXxcXC8pPyddO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBzdXJyb3VuZFBhdHRlcm4gPSBbXCIoXCIgKyBwYXJhbS5zcXVhc2ggKyBcInxcIiwgJyk/J107XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdCArIHN1cnJvdW5kUGF0dGVyblswXSArIHBhcmFtLnR5cGUucGF0dGVybi5zb3VyY2UgKyBzdXJyb3VuZFBhdHRlcm5bMV07XG59XG4vKiogQGhpZGRlbiAqL1xudmFyIG1lbW9pemVUbyA9IGZ1bmN0aW9uIChvYmosIHByb3AsIGZuKSB7XG4gICAgcmV0dXJuIG9ialtwcm9wXSA9IG9ialtwcm9wXSB8fCBmbigpO1xufTtcbi8qKiBAaGlkZGVuICovXG52YXIgc3BsaXRPblNsYXNoID0gc3RyaW5nc18xLnNwbGl0T25EZWxpbSgnLycpO1xuLyoqXG4gKiBNYXRjaGVzIFVSTHMgYWdhaW5zdCBwYXR0ZXJucy5cbiAqXG4gKiBNYXRjaGVzIFVSTHMgYWdhaW5zdCBwYXR0ZXJucyBhbmQgZXh0cmFjdHMgbmFtZWQgcGFyYW1ldGVycyBmcm9tIHRoZSBwYXRoIG9yIHRoZSBzZWFyY2hcbiAqIHBhcnQgb2YgdGhlIFVSTC5cbiAqXG4gKiBBIFVSTCBwYXR0ZXJuIGNvbnNpc3RzIG9mIGEgcGF0aCBwYXR0ZXJuLCBvcHRpb25hbGx5IGZvbGxvd2VkIGJ5ICc/JyBhbmQgYSBsaXN0IG9mIHNlYXJjaCAocXVlcnkpXG4gKiBwYXJhbWV0ZXJzLiBNdWx0aXBsZSBzZWFyY2ggcGFyYW1ldGVyIG5hbWVzIGFyZSBzZXBhcmF0ZWQgYnkgJyYnLiBTZWFyY2ggcGFyYW1ldGVyc1xuICogZG8gbm90IGluZmx1ZW5jZSB3aGV0aGVyIG9yIG5vdCBhIFVSTCBpcyBtYXRjaGVkLCBidXQgdGhlaXIgdmFsdWVzIGFyZSBwYXNzZWQgdGhyb3VnaCBpbnRvXG4gKiB0aGUgbWF0Y2hlZCBwYXJhbWV0ZXJzIHJldHVybmVkIGJ5IFtbVXJsTWF0Y2hlci5leGVjXV0uXG4gKlxuICogLSAqUGF0aCBwYXJhbWV0ZXJzKiBhcmUgZGVmaW5lZCB1c2luZyBjdXJseSBicmFjZSBwbGFjZWhvbGRlcnMgKGAvc29tZXBhdGgve3BhcmFtfWApXG4gKiBvciBjb2xvbiBwbGFjZWhvbGRlcnMgKGAvc29tZVBhdGgvOnBhcmFtYCkuXG4gKlxuICogLSAqQSBwYXJhbWV0ZXIgUmVnRXhwKiBtYXkgYmUgZGVmaW5lZCBmb3IgYSBwYXJhbSBhZnRlciBhIGNvbG9uXG4gKiAoYC9zb21lUGF0aC97cGFyYW06W2EtekEtWjAtOV0rfWApIGluIGEgY3VybHkgYnJhY2UgcGxhY2Vob2xkZXIuXG4gKiBUaGUgcmVnZXhwIG11c3QgbWF0Y2ggZm9yIHRoZSB1cmwgdG8gYmUgbWF0Y2hlZC5cbiAqIFNob3VsZCB0aGUgcmVnZXhwIGl0c2VsZiBjb250YWluIGN1cmx5IGJyYWNlcywgdGhleSBtdXN0IGJlIGluIG1hdGNoZWQgcGFpcnMgb3IgZXNjYXBlZCB3aXRoIGEgYmFja3NsYXNoLlxuICpcbiAqIE5vdGU6IGEgUmVnRXhwIHBhcmFtZXRlciB3aWxsIGVuY29kZSBpdHMgdmFsdWUgdXNpbmcgZWl0aGVyIFtbUGFyYW1UeXBlcy5wYXRoXV0gb3IgW1tQYXJhbVR5cGVzLnF1ZXJ5XV0uXG4gKlxuICogLSAqQ3VzdG9tIHBhcmFtZXRlciB0eXBlcyogbWF5IGFsc28gYmUgc3BlY2lmaWVkIGFmdGVyIGEgY29sb24gKGAvc29tZVBhdGgve3BhcmFtOmludH1gKSBpbiBjdXJseSBicmFjZSBwYXJhbWV0ZXJzLlxuICogICBTZWUgW1tVcmxNYXRjaGVyRmFjdG9yeS50eXBlXV0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogLSAqQ2F0Y2gtYWxsIHBhcmFtZXRlcnMqIGFyZSBkZWZpbmVkIHVzaW5nIGFuIGFzdGVyaXNrIHBsYWNlaG9sZGVyIChgL3NvbWVwYXRoLypjYXRjaGFsbHBhcmFtYCkuXG4gKiAgIEEgY2F0Y2gtYWxsICogcGFyYW1ldGVyIHZhbHVlIHdpbGwgY29udGFpbiB0aGUgcmVtYWluZGVyIG9mIHRoZSBVUkwuXG4gKlxuICogLS0tXG4gKlxuICogUGFyYW1ldGVyIG5hbWVzIG1heSBjb250YWluIG9ubHkgd29yZCBjaGFyYWN0ZXJzIChsYXRpbiBsZXR0ZXJzLCBkaWdpdHMsIGFuZCB1bmRlcnNjb3JlKSBhbmRcbiAqIG11c3QgYmUgdW5pcXVlIHdpdGhpbiB0aGUgcGF0dGVybiAoYWNyb3NzIGJvdGggcGF0aCBhbmQgc2VhcmNoIHBhcmFtZXRlcnMpLlxuICogQSBwYXRoIHBhcmFtZXRlciBtYXRjaGVzIGFueSBudW1iZXIgb2YgY2hhcmFjdGVycyBvdGhlciB0aGFuICcvJy4gRm9yIGNhdGNoLWFsbFxuICogcGxhY2Vob2xkZXJzIHRoZSBwYXRoIHBhcmFtZXRlciBtYXRjaGVzIGFueSBudW1iZXIgb2YgY2hhcmFjdGVycy5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAqIGAnL2hlbGxvLydgIC0gTWF0Y2hlcyBvbmx5IGlmIHRoZSBwYXRoIGlzIGV4YWN0bHkgJy9oZWxsby8nLiBUaGVyZSBpcyBubyBzcGVjaWFsIHRyZWF0bWVudCBmb3JcbiAqICAgdHJhaWxpbmcgc2xhc2hlcywgYW5kIHBhdHRlcm5zIGhhdmUgdG8gbWF0Y2ggdGhlIGVudGlyZSBwYXRoLCBub3QganVzdCBhIHByZWZpeC5cbiAqICogYCcvdXNlci86aWQnYCAtIE1hdGNoZXMgJy91c2VyL2JvYicgb3IgJy91c2VyLzEyMzQhISEnIG9yIGV2ZW4gJy91c2VyLycgYnV0IG5vdCAnL3VzZXInIG9yXG4gKiAgICcvdXNlci9ib2IvZGV0YWlscycuIFRoZSBzZWNvbmQgcGF0aCBzZWdtZW50IHdpbGwgYmUgY2FwdHVyZWQgYXMgdGhlIHBhcmFtZXRlciAnaWQnLlxuICogKiBgJy91c2VyL3tpZH0nYCAtIFNhbWUgYXMgdGhlIHByZXZpb3VzIGV4YW1wbGUsIGJ1dCB1c2luZyBjdXJseSBicmFjZSBzeW50YXguXG4gKiAqIGAnL3VzZXIve2lkOlteL10qfSdgIC0gU2FtZSBhcyB0aGUgcHJldmlvdXMgZXhhbXBsZS5cbiAqICogYCcvdXNlci97aWQ6WzAtOWEtZkEtRl17MSw4fX0nYCAtIFNpbWlsYXIgdG8gdGhlIHByZXZpb3VzIGV4YW1wbGUsIGJ1dCBvbmx5IG1hdGNoZXMgaWYgdGhlIGlkXG4gKiAgIHBhcmFtZXRlciBjb25zaXN0cyBvZiAxIHRvIDggaGV4IGRpZ2l0cy5cbiAqICogYCcvZmlsZXMve3BhdGg6Lip9J2AgLSBNYXRjaGVzIGFueSBVUkwgc3RhcnRpbmcgd2l0aCAnL2ZpbGVzLycgYW5kIGNhcHR1cmVzIHRoZSByZXN0IG9mIHRoZVxuICogICBwYXRoIGludG8gdGhlIHBhcmFtZXRlciAncGF0aCcuXG4gKiAqIGAnL2ZpbGVzLypwYXRoJ2AgLSBkaXR0by5cbiAqICogYCcvY2FsZW5kYXIve3N0YXJ0OmRhdGV9J2AgLSBNYXRjaGVzIFwiL2NhbGVuZGFyLzIwMTQtMTEtMTJcIiAoYmVjYXVzZSB0aGUgcGF0dGVybiBkZWZpbmVkXG4gKiAgIGluIHRoZSBidWlsdC1pbiAgYGRhdGVgIFBhcmFtVHlwZSBtYXRjaGVzIGAyMDE0LTExLTEyYCkgYW5kIHByb3ZpZGVzIGEgRGF0ZSBvYmplY3QgaW4gJHN0YXRlUGFyYW1zLnN0YXJ0XG4gKlxuICovXG52YXIgVXJsTWF0Y2hlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBhdHRlcm4gVGhlIHBhdHRlcm4gdG8gY29tcGlsZSBpbnRvIGEgbWF0Y2hlci5cbiAgICAgKiBAcGFyYW0gcGFyYW1UeXBlcyBUaGUgW1tQYXJhbVR5cGVzXV0gcmVnaXN0cnlcbiAgICAgKiBAcGFyYW0gY29uZmlnICBBIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogLSBgY2FzZUluc2Vuc2l0aXZlYCAtIGB0cnVlYCBpZiBVUkwgbWF0Y2hpbmcgc2hvdWxkIGJlIGNhc2UgaW5zZW5zaXRpdmUsIG90aGVyd2lzZSBgZmFsc2VgLCB0aGUgZGVmYXVsdCB2YWx1ZSAoZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpIGlzIGBmYWxzZWAuXG4gICAgICogLSBgc3RyaWN0YCAtIGBmYWxzZWAgaWYgbWF0Y2hpbmcgYWdhaW5zdCBhIFVSTCB3aXRoIGEgdHJhaWxpbmcgc2xhc2ggc2hvdWxkIGJlIHRyZWF0ZWQgYXMgZXF1aXZhbGVudCB0byBhIFVSTCB3aXRob3V0IGEgdHJhaWxpbmcgc2xhc2gsIHRoZSBkZWZhdWx0IHZhbHVlIGlzIGB0cnVlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBVcmxNYXRjaGVyKHBhdHRlcm4sIHBhcmFtVHlwZXMsIHBhcmFtRmFjdG9yeSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLl9jYWNoZSA9IHsgcGF0aDogW3RoaXNdIH07XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gW107XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX3BhcmFtcyA9IFtdO1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLl9zZWdtZW50cyA9IFtdO1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLl9jb21waWxlZCA9IFtdO1xuICAgICAgICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbW1vbl8xLmRlZmF1bHRzKHRoaXMuY29uZmlnLCB7XG4gICAgICAgICAgICBwYXJhbXM6IHt9LFxuICAgICAgICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgICAgICAgY2FzZUluc2Vuc2l0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIHBhcmFtTWFwOiBjb21tb25fMS5pZGVudGl0eVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gRmluZCBhbGwgcGxhY2Vob2xkZXJzIGFuZCBjcmVhdGUgYSBjb21waWxlZCBwYXR0ZXJuLCB1c2luZyBlaXRoZXIgY2xhc3NpYyBvciBjdXJseSBzeW50YXg6XG4gICAgICAgIC8vICAgJyonIG5hbWVcbiAgICAgICAgLy8gICAnOicgbmFtZVxuICAgICAgICAvLyAgICd7JyBuYW1lICd9J1xuICAgICAgICAvLyAgICd7JyBuYW1lICc6JyByZWdleHAgJ30nXG4gICAgICAgIC8vIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gaXMgc29tZXdoYXQgY29tcGxpY2F0ZWQgZHVlIHRvIHRoZSBuZWVkIHRvIGFsbG93IGN1cmx5IGJyYWNlc1xuICAgICAgICAvLyBpbnNpZGUgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbi4gVGhlIHBsYWNlaG9sZGVyIHJlZ2V4cCBicmVha3MgZG93biBhcyBmb2xsb3dzOlxuICAgICAgICAvLyAgICAoWzoqXSkoW1xcd1xcW1xcXV0rKSAgICAgICAgICAgICAgLSBjbGFzc2ljIHBsYWNlaG9sZGVyICgkMSAvICQyKSAoc2VhcmNoIHZlcnNpb24gaGFzIC0gZm9yIHNuYWtlLWNhc2UpXG4gICAgICAgIC8vICAgIFxceyhbXFx3XFxbXFxdXSspKD86XFw6XFxzKiggLi4uICkpP1xcfSAgLSBjdXJseSBicmFjZSBwbGFjZWhvbGRlciAoJDMpIHdpdGggb3B0aW9uYWwgcmVnZXhwL3R5cGUgLi4uICgkNCkgKHNlYXJjaCB2ZXJzaW9uIGhhcyAtIGZvciBzbmFrZS1jYXNlXG4gICAgICAgIC8vICAgICg/OiAuLi4gfCAuLi4gfCAuLi4gKSsgICAgICAgICAtIHRoZSByZWdleHAgY29uc2lzdHMgb2YgYW55IG51bWJlciBvZiBhdG9tcywgYW4gYXRvbSBiZWluZyBlaXRoZXJcbiAgICAgICAgLy8gICAgW157fVxcXFxdKyAgICAgICAgICAgICAgICAgICAgICAgLSBhbnl0aGluZyBvdGhlciB0aGFuIGN1cmx5IGJyYWNlcyBvciBiYWNrc2xhc2hcbiAgICAgICAgLy8gICAgXFxcXC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBhIGJhY2tzbGFzaCBlc2NhcGVcbiAgICAgICAgLy8gICAgXFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9ICAgICAgICAgIC0gYSBtYXRjaGVkIHNldCBvZiBjdXJseSBicmFjZXMgY29udGFpbmluZyBvdGhlciBhdG9tc1xuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSAvKFs6Kl0pKFtcXHdcXFtcXF1dKyl8XFx7KFtcXHdcXFtcXF1dKykoPzpcXDpcXHMqKCg/Oltee31cXFxcXSt8XFxcXC58XFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9KSspKT9cXH0vZywgc2VhcmNoUGxhY2Vob2xkZXIgPSAvKFs6XT8pKFtcXHdcXFtcXF0uLV0rKXxcXHsoW1xcd1xcW1xcXS4tXSspKD86XFw6XFxzKigoPzpbXnt9XFxcXF0rfFxcXFwufFxceyg/Oltee31cXFxcXSt8XFxcXC4pKlxcfSkrKSk/XFx9L2csIGxhc3QgPSAwLCBtLCBwYXR0ZXJucyA9IFtdO1xuICAgICAgICB2YXIgY2hlY2tQYXJhbUVycm9ycyA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgaWYgKCFVcmxNYXRjaGVyLm5hbWVWYWxpZGF0b3IudGVzdChpZCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXIgbmFtZSAnXCIgKyBpZCArIFwiJyBpbiBwYXR0ZXJuICdcIiArIHBhdHRlcm4gKyBcIidcIik7XG4gICAgICAgICAgICBpZiAoY29tbW9uXzEuZmluZChfdGhpcy5fcGFyYW1zLCBob2ZfMS5wcm9wRXEoJ2lkJywgaWQpKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEdXBsaWNhdGUgcGFyYW1ldGVyIG5hbWUgJ1wiICsgaWQgKyBcIicgaW4gcGF0dGVybiAnXCIgKyBwYXR0ZXJuICsgXCInXCIpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBTcGxpdCBpbnRvIHN0YXRpYyBzZWdtZW50cyBzZXBhcmF0ZWQgYnkgcGF0aCBwYXJhbWV0ZXIgcGxhY2Vob2xkZXJzLlxuICAgICAgICAvLyBUaGUgbnVtYmVyIG9mIHNlZ21lbnRzIGlzIGFsd2F5cyAxIG1vcmUgdGhhbiB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnMuXG4gICAgICAgIHZhciBtYXRjaERldGFpbHMgPSBmdW5jdGlvbiAobSwgaXNTZWFyY2gpIHtcbiAgICAgICAgICAgIC8vIElFWzc4XSByZXR1cm5zICcnIGZvciB1bm1hdGNoZWQgZ3JvdXBzIGluc3RlYWQgb2YgbnVsbFxuICAgICAgICAgICAgdmFyIGlkID0gbVsyXSB8fCBtWzNdO1xuICAgICAgICAgICAgdmFyIHJlZ2V4cCA9IGlzU2VhcmNoID8gbVs0XSA6IG1bNF0gfHwgKG1bMV0gPT09ICcqJyA/ICcuKicgOiBudWxsKTtcbiAgICAgICAgICAgIHZhciBtYWtlUmVnZXhwVHlwZSA9IGZ1bmN0aW9uIChyZWdleHApIHsgcmV0dXJuIGNvbW1vbl8xLmluaGVyaXQocGFyYW1UeXBlcy50eXBlKGlzU2VhcmNoID8gXCJxdWVyeVwiIDogXCJwYXRoXCIpLCB7XG4gICAgICAgICAgICAgICAgcGF0dGVybjogbmV3IFJlZ0V4cChyZWdleHAsIF90aGlzLmNvbmZpZy5jYXNlSW5zZW5zaXRpdmUgPyAnaScgOiB1bmRlZmluZWQpXG4gICAgICAgICAgICB9KTsgfTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIHJlZ2V4cDogcmVnZXhwLFxuICAgICAgICAgICAgICAgIGNmZzogX3RoaXMuY29uZmlnLnBhcmFtc1tpZF0sXG4gICAgICAgICAgICAgICAgc2VnbWVudDogcGF0dGVybi5zdWJzdHJpbmcobGFzdCwgbS5pbmRleCksXG4gICAgICAgICAgICAgICAgdHlwZTogIXJlZ2V4cCA/IG51bGwgOiBwYXJhbVR5cGVzLnR5cGUocmVnZXhwKSB8fCBtYWtlUmVnZXhwVHlwZShyZWdleHApXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcCwgc2VnbWVudDtcbiAgICAgICAgd2hpbGUgKChtID0gcGxhY2Vob2xkZXIuZXhlYyhwYXR0ZXJuKSkpIHtcbiAgICAgICAgICAgIHAgPSBtYXRjaERldGFpbHMobSwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHAuc2VnbWVudC5pbmRleE9mKCc/JykgPj0gMClcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gd2UncmUgaW50byB0aGUgc2VhcmNoIHBhcnRcbiAgICAgICAgICAgIGNoZWNrUGFyYW1FcnJvcnMocC5pZCk7XG4gICAgICAgICAgICB0aGlzLl9wYXJhbXMucHVzaChwYXJhbUZhY3RvcnkuZnJvbVBhdGgocC5pZCwgcC50eXBlLCB0aGlzLmNvbmZpZy5wYXJhbU1hcChwLmNmZywgZmFsc2UpKSk7XG4gICAgICAgICAgICB0aGlzLl9zZWdtZW50cy5wdXNoKHAuc2VnbWVudCk7XG4gICAgICAgICAgICBwYXR0ZXJucy5wdXNoKFtwLnNlZ21lbnQsIGNvbW1vbl8xLnRhaWwodGhpcy5fcGFyYW1zKV0pO1xuICAgICAgICAgICAgbGFzdCA9IHBsYWNlaG9sZGVyLmxhc3RJbmRleDtcbiAgICAgICAgfVxuICAgICAgICBzZWdtZW50ID0gcGF0dGVybi5zdWJzdHJpbmcobGFzdCk7XG4gICAgICAgIC8vIEZpbmQgYW55IHNlYXJjaCBwYXJhbWV0ZXIgbmFtZXMgYW5kIHJlbW92ZSB0aGVtIGZyb20gdGhlIGxhc3Qgc2VnbWVudFxuICAgICAgICB2YXIgaSA9IHNlZ21lbnQuaW5kZXhPZignPycpO1xuICAgICAgICBpZiAoaSA+PSAwKSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gc2VnbWVudC5zdWJzdHJpbmcoaSk7XG4gICAgICAgICAgICBzZWdtZW50ID0gc2VnbWVudC5zdWJzdHJpbmcoMCwgaSk7XG4gICAgICAgICAgICBpZiAoc2VhcmNoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsYXN0ID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoKG0gPSBzZWFyY2hQbGFjZWhvbGRlci5leGVjKHNlYXJjaCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBtYXRjaERldGFpbHMobSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrUGFyYW1FcnJvcnMocC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcmFtcy5wdXNoKHBhcmFtRmFjdG9yeS5mcm9tU2VhcmNoKHAuaWQsIHAudHlwZSwgdGhpcy5jb25maWcucGFyYW1NYXAocC5jZmcsIHRydWUpKSk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3QgPSBwbGFjZWhvbGRlci5sYXN0SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmID8mXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgIHRoaXMuX2NvbXBpbGVkID0gcGF0dGVybnMubWFwKGZ1bmN0aW9uIChwYXR0ZXJuKSB7IHJldHVybiBxdW90ZVJlZ0V4cC5hcHBseShudWxsLCBwYXR0ZXJuKTsgfSkuY29uY2F0KHF1b3RlUmVnRXhwKHNlZ21lbnQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb25jYXRlbmF0ZWQgVXJsTWF0Y2hlclxuICAgICAqXG4gICAgICogQnVpbGRzIGEgbmV3IFVybE1hdGNoZXIgYnkgYXBwZW5kaW5nIGFub3RoZXIgVXJsTWF0Y2hlciB0byB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB1cmwgQSBgVXJsTWF0Y2hlcmAgaW5zdGFuY2UgdG8gYXBwZW5kIGFzIGEgY2hpbGQgb2YgdGhlIGN1cnJlbnQgYFVybE1hdGNoZXJgLlxuICAgICAqL1xuICAgIFVybE1hdGNoZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4ucHVzaCh1cmwpO1xuICAgICAgICB1cmwuX2NhY2hlID0ge1xuICAgICAgICAgICAgcGF0aDogdGhpcy5fY2FjaGUucGF0aC5jb25jYXQodXJsKSxcbiAgICAgICAgICAgIHBhcmVudDogdGhpcyxcbiAgICAgICAgICAgIHBhdHRlcm46IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfTtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFVybE1hdGNoZXIucHJvdG90eXBlLmlzUm9vdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlLnBhdGhbMF0gPT09IHRoaXM7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyB0aGUgaW5wdXQgcGF0dGVybiBzdHJpbmcgKi9cbiAgICBVcmxNYXRjaGVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0dGVybjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3RzIHRoZSBzcGVjaWZpZWQgdXJsL3BhdGggYWdhaW5zdCB0aGlzIG1hdGNoZXIuXG4gICAgICpcbiAgICAgKiBUZXN0cyBpZiB0aGUgZ2l2ZW4gdXJsIG1hdGNoZXMgdGhpcyBtYXRjaGVyJ3MgcGF0dGVybiwgYW5kIHJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNhcHR1cmVkXG4gICAgICogcGFyYW1ldGVyIHZhbHVlcy4gIFJldHVybnMgbnVsbCBpZiB0aGUgcGF0aCBkb2VzIG5vdCBtYXRjaC5cbiAgICAgKlxuICAgICAqIFRoZSByZXR1cm5lZCBvYmplY3QgY29udGFpbnMgdGhlIHZhbHVlc1xuICAgICAqIG9mIGFueSBzZWFyY2ggcGFyYW1ldGVycyB0aGF0IGFyZSBtZW50aW9uZWQgaW4gdGhlIHBhdHRlcm4sIGJ1dCB0aGVpciB2YWx1ZSBtYXkgYmUgbnVsbCBpZlxuICAgICAqIHRoZXkgYXJlIG5vdCBwcmVzZW50IGluIGBzZWFyY2hgLiBUaGlzIG1lYW5zIHRoYXQgc2VhcmNoIHBhcmFtZXRlcnMgYXJlIGFsd2F5cyB0cmVhdGVkXG4gICAgICogYXMgb3B0aW9uYWwuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiBuZXcgVXJsTWF0Y2hlcignL3VzZXIve2lkfT9xJnInKS5leGVjKCcvdXNlci9ib2InLCB7XG4gICAgICogICB4OiAnMScsIHE6ICdoZWxsbydcbiAgICAgKiB9KTtcbiAgICAgKiAvLyByZXR1cm5zIHsgaWQ6ICdib2InLCBxOiAnaGVsbG8nLCByOiBudWxsIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoICAgIFRoZSBVUkwgcGF0aCB0byBtYXRjaCwgZS5nLiBgJGxvY2F0aW9uLnBhdGgoKWAuXG4gICAgICogQHBhcmFtIHNlYXJjaCAgVVJMIHNlYXJjaCBwYXJhbWV0ZXJzLCBlLmcuIGAkbG9jYXRpb24uc2VhcmNoKClgLlxuICAgICAqIEBwYXJhbSBoYXNoICAgIFVSTCBoYXNoIGUuZy4gYCRsb2NhdGlvbi5oYXNoKClgLlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgY2FwdHVyZWQgcGFyYW1ldGVyIHZhbHVlcy5cbiAgICAgKi9cbiAgICBVcmxNYXRjaGVyLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24gKHBhdGgsIHNlYXJjaCwgaGFzaCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoc2VhcmNoID09PSB2b2lkIDApIHsgc2VhcmNoID0ge307IH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIG1hdGNoID0gbWVtb2l6ZVRvKHRoaXMuX2NhY2hlLCAncGF0dGVybicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFtcbiAgICAgICAgICAgICAgICAnXicsXG4gICAgICAgICAgICAgICAgY29tbW9uXzEudW5uZXN0KF90aGlzLl9jYWNoZS5wYXRoLm1hcChob2ZfMS5wcm9wKCdfY29tcGlsZWQnKSkpLmpvaW4oJycpLFxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZy5zdHJpY3QgPT09IGZhbHNlID8gJ1xcLz8nIDogJycsXG4gICAgICAgICAgICAgICAgJyQnXG4gICAgICAgICAgICBdLmpvaW4oJycpLCBfdGhpcy5jb25maWcuY2FzZUluc2Vuc2l0aXZlID8gJ2knIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfSkuZXhlYyhwYXRoKTtcbiAgICAgICAgaWYgKCFtYXRjaClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAvL29wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCB7IGlzb2xhdGU6IGZhbHNlIH0pO1xuICAgICAgICB2YXIgYWxsUGFyYW1zID0gdGhpcy5wYXJhbWV0ZXJzKCksIHBhdGhQYXJhbXMgPSBhbGxQYXJhbXMuZmlsdGVyKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gIXBhcmFtLmlzU2VhcmNoKCk7IH0pLCBzZWFyY2hQYXJhbXMgPSBhbGxQYXJhbXMuZmlsdGVyKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gcGFyYW0uaXNTZWFyY2goKTsgfSksIG5QYXRoU2VnbWVudHMgPSB0aGlzLl9jYWNoZS5wYXRoLm1hcChmdW5jdGlvbiAodXJsbSkgeyByZXR1cm4gdXJsbS5fc2VnbWVudHMubGVuZ3RoIC0gMTsgfSkucmVkdWNlKGZ1bmN0aW9uIChhLCB4KSB7IHJldHVybiBhICsgeDsgfSksIHZhbHVlcyA9IHt9O1xuICAgICAgICBpZiAoblBhdGhTZWdtZW50cyAhPT0gbWF0Y2gubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYmFsYW5jZWQgY2FwdHVyZSBncm91cCBpbiByb3V0ZSAnXCIgKyB0aGlzLnBhdHRlcm4gKyBcIidcIik7XG4gICAgICAgIGZ1bmN0aW9uIGRlY29kZVBhdGhBcnJheShzdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciByZXZlcnNlU3RyaW5nID0gZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gc3RyLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpOyB9O1xuICAgICAgICAgICAgdmFyIHVucXVvdGVEYXNoZXMgPSBmdW5jdGlvbiAoc3RyKSB7IHJldHVybiBzdHIucmVwbGFjZSgvXFxcXC0vZywgXCItXCIpOyB9O1xuICAgICAgICAgICAgdmFyIHNwbGl0ID0gcmV2ZXJzZVN0cmluZyhzdHJpbmcpLnNwbGl0KC8tKD8hXFxcXCkvKTtcbiAgICAgICAgICAgIHZhciBhbGxSZXZlcnNlZCA9IGNvbW1vbl8xLm1hcChzcGxpdCwgcmV2ZXJzZVN0cmluZyk7XG4gICAgICAgICAgICByZXR1cm4gY29tbW9uXzEubWFwKGFsbFJldmVyc2VkLCB1bnF1b3RlRGFzaGVzKS5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuUGF0aFNlZ21lbnRzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IHBhdGhQYXJhbXNbaV07XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBtYXRjaFtpICsgMV07XG4gICAgICAgICAgICAvLyBpZiB0aGUgcGFyYW0gdmFsdWUgbWF0Y2hlcyBhIHByZS1yZXBsYWNlIHBhaXIsIHJlcGxhY2UgdGhlIHZhbHVlIGJlZm9yZSBkZWNvZGluZy5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcGFyYW0ucmVwbGFjZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbS5yZXBsYWNlW2pdLmZyb20gPT09IHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcmFtLnJlcGxhY2Vbal0udG87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgcGFyYW0uYXJyYXkgPT09IHRydWUpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBkZWNvZGVQYXRoQXJyYXkodmFsdWUpO1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc0RlZmluZWQodmFsdWUpKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyYW0udHlwZS5kZWNvZGUodmFsdWUpO1xuICAgICAgICAgICAgdmFsdWVzW3BhcmFtLmlkXSA9IHBhcmFtLnZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZWFyY2hQYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNlYXJjaFtwYXJhbS5pZF07XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhcmFtLnJlcGxhY2UubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW0ucmVwbGFjZVtqXS5mcm9tID09PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJhbS5yZXBsYWNlW2pdLnRvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc0RlZmluZWQodmFsdWUpKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyYW0udHlwZS5kZWNvZGUodmFsdWUpO1xuICAgICAgICAgICAgdmFsdWVzW3BhcmFtLmlkXSA9IHBhcmFtLnZhbHVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChoYXNoKVxuICAgICAgICAgICAgdmFsdWVzW1wiI1wiXSA9IGhhc2g7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaGlkZGVuXG4gICAgICogUmV0dXJucyBhbGwgdGhlIFtbUGFyYW1dXSBvYmplY3RzIG9mIGFsbCBwYXRoIGFuZCBzZWFyY2ggcGFyYW1ldGVycyBvZiB0aGlzIHBhdHRlcm4gaW4gb3JkZXIgb2YgYXBwZWFyYW5jZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheS48UGFyYW0+fSAgQW4gYXJyYXkgb2YgW1tQYXJhbV1dIG9iamVjdHMuIE11c3QgYmUgdHJlYXRlZCBhcyByZWFkLW9ubHkuIElmIHRoZVxuICAgICAqICAgIHBhdHRlcm4gaGFzIG5vIHBhcmFtZXRlcnMsIGFuIGVtcHR5IGFycmF5IGlzIHJldHVybmVkLlxuICAgICAqL1xuICAgIFVybE1hdGNoZXIucHJvdG90eXBlLnBhcmFtZXRlcnMgPSBmdW5jdGlvbiAob3B0cykge1xuICAgICAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7IG9wdHMgPSB7fTsgfVxuICAgICAgICBpZiAob3B0cy5pbmhlcml0ID09PSBmYWxzZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJhbXM7XG4gICAgICAgIHJldHVybiBjb21tb25fMS51bm5lc3QodGhpcy5fY2FjaGUucGF0aC5tYXAoZnVuY3Rpb24gKG1hdGNoZXIpIHsgcmV0dXJuIG1hdGNoZXIuX3BhcmFtczsgfSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGhpZGRlblxuICAgICAqIFJldHVybnMgYSBzaW5nbGUgcGFyYW1ldGVyIGZyb20gdGhpcyBVcmxNYXRjaGVyIGJ5IGlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcGFyYW0gb3B0c1xuICAgICAqIEByZXR1cm5zIHtUfFBhcmFtfGFueXxib29sZWFufFVybE1hdGNoZXJ8bnVsbH1cbiAgICAgKi9cbiAgICBVcmxNYXRjaGVyLnByb3RvdHlwZS5wYXJhbWV0ZXIgPSBmdW5jdGlvbiAoaWQsIG9wdHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cbiAgICAgICAgdmFyIGZpbmRQYXJhbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5fcGFyYW1zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBwYXJhbSA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW0uaWQgPT09IGlkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLl9jYWNoZS5wYXJlbnQ7XG4gICAgICAgIHJldHVybiBmaW5kUGFyYW0oKSB8fCAob3B0cy5pbmhlcml0ICE9PSBmYWxzZSAmJiBwYXJlbnQgJiYgcGFyZW50LnBhcmFtZXRlcihpZCwgb3B0cykpIHx8IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdGhlIGlucHV0IHBhcmFtZXRlciB2YWx1ZXMgYWdhaW5zdCB0aGlzIFVybE1hdGNoZXJcbiAgICAgKlxuICAgICAqIENoZWNrcyBhbiBvYmplY3QgaGFzaCBvZiBwYXJhbWV0ZXJzIHRvIHZhbGlkYXRlIHRoZWlyIGNvcnJlY3RuZXNzIGFjY29yZGluZyB0byB0aGUgcGFyYW1ldGVyXG4gICAgICogdHlwZXMgb2YgdGhpcyBgVXJsTWF0Y2hlcmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFRoZSBvYmplY3QgaGFzaCBvZiBwYXJhbWV0ZXJzIHRvIHZhbGlkYXRlLlxuICAgICAqIEByZXR1cm5zIFJldHVybnMgYHRydWVgIGlmIGBwYXJhbXNgIHZhbGlkYXRlcywgb3RoZXJ3aXNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgVXJsTWF0Y2hlci5wcm90b3R5cGUudmFsaWRhdGVzID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICB2YXIgdmFsaWRQYXJhbVZhbCA9IGZ1bmN0aW9uIChwYXJhbSwgdmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gIXBhcmFtIHx8IHBhcmFtLnZhbGlkYXRlcyh2YWwpO1xuICAgICAgICB9O1xuICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwge307XG4gICAgICAgIC8vIEknbSBub3Qgc3VyZSB3aHkgdGhpcyBjaGVja3Mgb25seSB0aGUgcGFyYW0ga2V5cyBwYXNzZWQgaW4sIGFuZCBub3QgYWxsIHRoZSBwYXJhbXMga25vd24gdG8gdGhlIG1hdGNoZXJcbiAgICAgICAgdmFyIHBhcmFtU2NoZW1hID0gdGhpcy5wYXJhbWV0ZXJzKCkuZmlsdGVyKGZ1bmN0aW9uIChwYXJhbURlZikgeyByZXR1cm4gcGFyYW1zLmhhc093blByb3BlcnR5KHBhcmFtRGVmLmlkKTsgfSk7XG4gICAgICAgIHJldHVybiBwYXJhbVNjaGVtYS5tYXAoZnVuY3Rpb24gKHBhcmFtRGVmKSB7IHJldHVybiB2YWxpZFBhcmFtVmFsKHBhcmFtRGVmLCBwYXJhbXNbcGFyYW1EZWYuaWRdKTsgfSkucmVkdWNlKGNvbW1vbl8xLmFsbFRydWVSLCB0cnVlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgc2V0IG9mIHBhcmFtZXRlciB2YWx1ZXMsIGNyZWF0ZXMgYSBVUkwgZnJvbSB0aGlzIFVybE1hdGNoZXIuXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIGEgVVJMIHRoYXQgbWF0Y2hlcyB0aGlzIHBhdHRlcm4gYnkgc3Vic3RpdHV0aW5nIHRoZSBzcGVjaWZpZWQgdmFsdWVzXG4gICAgICogZm9yIHRoZSBwYXRoIGFuZCBzZWFyY2ggcGFyYW1ldGVycy5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIG5ldyBVcmxNYXRjaGVyKCcvdXNlci97aWR9P3EnKS5mb3JtYXQoeyBpZDonYm9iJywgcToneWVzJyB9KTtcbiAgICAgKiAvLyByZXR1cm5zICcvdXNlci9ib2I/cT15ZXMnXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWVzICB0aGUgdmFsdWVzIHRvIHN1YnN0aXR1dGUgZm9yIHRoZSBwYXJhbWV0ZXJzIGluIHRoaXMgcGF0dGVybi5cbiAgICAgKiBAcmV0dXJucyB0aGUgZm9ybWF0dGVkIFVSTCAocGF0aCBhbmQgb3B0aW9uYWxseSBzZWFyY2ggcGFydCkuXG4gICAgICovXG4gICAgVXJsTWF0Y2hlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICBpZiAodmFsdWVzID09PSB2b2lkIDApIHsgdmFsdWVzID0ge307IH1cbiAgICAgICAgLy8gQnVpbGQgdGhlIGZ1bGwgcGF0aCBvZiBVcmxNYXRjaGVycyAoaW5jbHVkaW5nIGFsbCBwYXJlbnQgVXJsTWF0Y2hlcnMpXG4gICAgICAgIHZhciB1cmxNYXRjaGVycyA9IHRoaXMuX2NhY2hlLnBhdGg7XG4gICAgICAgIC8vIEV4dHJhY3QgYWxsIHRoZSBzdGF0aWMgc2VnbWVudHMgYW5kIFBhcmFtcyAocHJvY2Vzc2VkIGFzIFBhcmFtRGV0YWlscylcbiAgICAgICAgLy8gaW50byBhbiBvcmRlcmVkIGFycmF5XG4gICAgICAgIHZhciBwYXRoU2VnbWVudHNBbmRQYXJhbXMgPSB1cmxNYXRjaGVycy5tYXAoVXJsTWF0Y2hlci5wYXRoU2VnbWVudHNBbmRQYXJhbXMpXG4gICAgICAgICAgICAucmVkdWNlKGNvbW1vbl8xLnVubmVzdFIsIFtdKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gcHJlZGljYXRlc18xLmlzU3RyaW5nKHgpID8geCA6IGdldERldGFpbHMoeCk7IH0pO1xuICAgICAgICAvLyBFeHRyYWN0IHRoZSBxdWVyeSBwYXJhbXMgaW50byBhIHNlcGFyYXRlIGFycmF5XG4gICAgICAgIHZhciBxdWVyeVBhcmFtcyA9IHVybE1hdGNoZXJzLm1hcChVcmxNYXRjaGVyLnF1ZXJ5UGFyYW1zKVxuICAgICAgICAgICAgLnJlZHVjZShjb21tb25fMS51bm5lc3RSLCBbXSlcbiAgICAgICAgICAgIC5tYXAoZ2V0RGV0YWlscyk7XG4gICAgICAgIHZhciBpc0ludmFsaWQgPSBmdW5jdGlvbiAocGFyYW0pIHsgcmV0dXJuIHBhcmFtLmlzVmFsaWQgPT09IGZhbHNlOyB9O1xuICAgICAgICBpZiAocGF0aFNlZ21lbnRzQW5kUGFyYW1zLmNvbmNhdChxdWVyeVBhcmFtcykuZmlsdGVyKGlzSW52YWxpZCkubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogR2l2ZW4gYSBQYXJhbSwgYXBwbGllcyB0aGUgcGFyYW1ldGVyIHZhbHVlLCB0aGVuIHJldHVybnMgZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgaXRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldERldGFpbHMocGFyYW0pIHtcbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSB0byB0eXBlZCB2YWx1ZVxuICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyYW0udmFsdWUodmFsdWVzW3BhcmFtLmlkXSk7XG4gICAgICAgICAgICB2YXIgaXNWYWxpZCA9IHBhcmFtLnZhbGlkYXRlcyh2YWx1ZSk7XG4gICAgICAgICAgICB2YXIgaXNEZWZhdWx0VmFsdWUgPSBwYXJhbS5pc0RlZmF1bHRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBpbiBzcXVhc2ggbW9kZSBmb3IgdGhlIHBhcmFtZXRlclxuICAgICAgICAgICAgdmFyIHNxdWFzaCA9IGlzRGVmYXVsdFZhbHVlID8gcGFyYW0uc3F1YXNoIDogZmFsc2U7XG4gICAgICAgICAgICAvLyBBbGxvdyB0aGUgUGFyYW1ldGVyJ3MgVHlwZSB0byBlbmNvZGUgdGhlIHZhbHVlXG4gICAgICAgICAgICB2YXIgZW5jb2RlZCA9IHBhcmFtLnR5cGUuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB7IHBhcmFtOiBwYXJhbSwgdmFsdWU6IHZhbHVlLCBpc1ZhbGlkOiBpc1ZhbGlkLCBpc0RlZmF1bHRWYWx1ZTogaXNEZWZhdWx0VmFsdWUsIHNxdWFzaDogc3F1YXNoLCBlbmNvZGVkOiBlbmNvZGVkIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVpbGQgdXAgdGhlIHBhdGgtcG9ydGlvbiBmcm9tIHRoZSBsaXN0IG9mIHN0YXRpYyBzZWdtZW50cyBhbmQgcGFyYW1ldGVyc1xuICAgICAgICB2YXIgcGF0aFN0cmluZyA9IHBhdGhTZWdtZW50c0FuZFBhcmFtcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgeCkge1xuICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgaXMgYSBzdGF0aWMgc2VnbWVudCAoYSByYXcgc3RyaW5nKTsganVzdCBhcHBlbmQgaXRcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNTdHJpbmcoeCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIHg7XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIGl0J3MgYSBQYXJhbURldGFpbHMuXG4gICAgICAgICAgICB2YXIgc3F1YXNoID0geC5zcXVhc2gsIGVuY29kZWQgPSB4LmVuY29kZWQsIHBhcmFtID0geC5wYXJhbTtcbiAgICAgICAgICAgIC8vIElmIHNxdWFzaCBpcyA9PT0gdHJ1ZSwgdHJ5IHRvIHJlbW92ZSBhIHNsYXNoIGZyb20gdGhlIHBhdGhcbiAgICAgICAgICAgIGlmIChzcXVhc2ggPT09IHRydWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIChhY2MubWF0Y2goL1xcLyQvKSkgPyBhY2Muc2xpY2UoMCwgLTEpIDogYWNjO1xuICAgICAgICAgICAgLy8gSWYgc3F1YXNoIGlzIGEgc3RyaW5nLCB1c2UgdGhlIHN0cmluZyBmb3IgdGhlIHBhcmFtIHZhbHVlXG4gICAgICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzU3RyaW5nKHNxdWFzaCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIHNxdWFzaDtcbiAgICAgICAgICAgIGlmIChzcXVhc2ggIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7IC8vID9cbiAgICAgICAgICAgIGlmIChlbmNvZGVkID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIC8vIElmIHRoaXMgcGFyYW1ldGVyIHZhbHVlIGlzIGFuIGFycmF5LCBlbmNvZGUgdGhlIHZhbHVlIHVzaW5nIGVuY29kZURhc2hlc1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc0FycmF5KGVuY29kZWQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2MgKyBjb21tb25fMS5tYXAoZW5jb2RlZCwgVXJsTWF0Y2hlci5lbmNvZGVEYXNoZXMpLmpvaW4oXCItXCIpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciB0eXBlIGlzIFwicmF3XCIsIHRoZW4gZG8gbm90IGVuY29kZVVSSUNvbXBvbmVudFxuICAgICAgICAgICAgaWYgKHBhcmFtLnJhdylcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjICsgZW5jb2RlZDtcbiAgICAgICAgICAgIC8vIEVuY29kZSB0aGUgdmFsdWVcbiAgICAgICAgICAgIHJldHVybiBhY2MgKyBlbmNvZGVVUklDb21wb25lbnQoZW5jb2RlZCk7XG4gICAgICAgIH0sIFwiXCIpO1xuICAgICAgICAvLyBCdWlsZCB0aGUgcXVlcnkgc3RyaW5nIGJ5IGFwcGx5aW5nIHBhcmFtZXRlciB2YWx1ZXMgKGFycmF5IG9yIHJlZ3VsYXIpXG4gICAgICAgIC8vIHRoZW4gbWFwcGluZyB0byBrZXk9dmFsdWUsIHRoZW4gZmxhdHRlbmluZyBhbmQgam9pbmluZyB1c2luZyBcIiZcIlxuICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBxdWVyeVBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtRGV0YWlscykge1xuICAgICAgICAgICAgdmFyIHBhcmFtID0gcGFyYW1EZXRhaWxzLnBhcmFtLCBzcXVhc2ggPSBwYXJhbURldGFpbHMuc3F1YXNoLCBlbmNvZGVkID0gcGFyYW1EZXRhaWxzLmVuY29kZWQsIGlzRGVmYXVsdFZhbHVlID0gcGFyYW1EZXRhaWxzLmlzRGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgaWYgKGVuY29kZWQgPT0gbnVsbCB8fCAoaXNEZWZhdWx0VmFsdWUgJiYgc3F1YXNoICE9PSBmYWxzZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNBcnJheShlbmNvZGVkKSlcbiAgICAgICAgICAgICAgICBlbmNvZGVkID0gW2VuY29kZWRdO1xuICAgICAgICAgICAgaWYgKGVuY29kZWQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmICghcGFyYW0ucmF3KVxuICAgICAgICAgICAgICAgIGVuY29kZWQgPSBjb21tb25fMS5tYXAoZW5jb2RlZCwgZW5jb2RlVVJJQ29tcG9uZW50KTtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVkLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBwYXJhbS5pZCArIFwiPVwiICsgdmFsOyB9KTtcbiAgICAgICAgfSkuZmlsdGVyKGNvbW1vbl8xLmlkZW50aXR5KS5yZWR1Y2UoY29tbW9uXzEudW5uZXN0UiwgW10pLmpvaW4oXCImXCIpO1xuICAgICAgICAvLyBDb25jYXQgdGhlIHBhdGhzdHJpbmcgd2l0aCB0aGUgcXVlcnlTdHJpbmcgKGlmIGV4aXN0cykgYW5kIHRoZSBoYXNoU3RyaW5nIChpZiBleGlzdHMpXG4gICAgICAgIHJldHVybiBwYXRoU3RyaW5nICsgKHF1ZXJ5U3RyaW5nID8gXCI/XCIgKyBxdWVyeVN0cmluZyA6IFwiXCIpICsgKHZhbHVlc1tcIiNcIl0gPyBcIiNcIiArIHZhbHVlc1tcIiNcIl0gOiBcIlwiKTtcbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgVXJsTWF0Y2hlci5lbmNvZGVEYXNoZXMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyKS5yZXBsYWNlKC8tL2csIGZ1bmN0aW9uIChjKSB7IHJldHVybiBcIiU1QyVcIiArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTsgfSk7XG4gICAgfTtcbiAgICAvKiogQGhpZGRlbiBHaXZlbiBhIG1hdGNoZXIsIHJldHVybiBhbiBhcnJheSB3aXRoIHRoZSBtYXRjaGVyJ3MgcGF0aCBzZWdtZW50cyBhbmQgcGF0aCBwYXJhbXMsIGluIG9yZGVyICovXG4gICAgVXJsTWF0Y2hlci5wYXRoU2VnbWVudHNBbmRQYXJhbXMgPSBmdW5jdGlvbiAobWF0Y2hlcikge1xuICAgICAgICB2YXIgc3RhdGljU2VnbWVudHMgPSBtYXRjaGVyLl9zZWdtZW50cztcbiAgICAgICAgdmFyIHBhdGhQYXJhbXMgPSBtYXRjaGVyLl9wYXJhbXMuZmlsdGVyKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwLmxvY2F0aW9uID09PSBwYXJhbV8xLkRlZlR5cGUuUEFUSDsgfSk7XG4gICAgICAgIHJldHVybiBjb21tb25fMS5hcnJheVR1cGxlcyhzdGF0aWNTZWdtZW50cywgcGF0aFBhcmFtcy5jb25jYXQodW5kZWZpbmVkKSlcbiAgICAgICAgICAgIC5yZWR1Y2UoY29tbW9uXzEudW5uZXN0UiwgW10pXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICE9PSBcIlwiICYmIHByZWRpY2F0ZXNfMS5pc0RlZmluZWQoeCk7IH0pO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gR2l2ZW4gYSBtYXRjaGVyLCByZXR1cm4gYW4gYXJyYXkgd2l0aCB0aGUgbWF0Y2hlcidzIHF1ZXJ5IHBhcmFtcyAqL1xuICAgIFVybE1hdGNoZXIucXVlcnlQYXJhbXMgPSBmdW5jdGlvbiAobWF0Y2hlcikge1xuICAgICAgICByZXR1cm4gbWF0Y2hlci5fcGFyYW1zLmZpbHRlcihmdW5jdGlvbiAocCkgeyByZXR1cm4gcC5sb2NhdGlvbiA9PT0gcGFyYW1fMS5EZWZUeXBlLlNFQVJDSDsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wYXJlIHR3byBVcmxNYXRjaGVyc1xuICAgICAqXG4gICAgICogVGhpcyBjb21wYXJpc29uIGZ1bmN0aW9uIGNvbnZlcnRzIGEgVXJsTWF0Y2hlciBpbnRvIHN0YXRpYyBhbmQgZHluYW1pYyBwYXRoIHNlZ21lbnRzLlxuICAgICAqIEVhY2ggc3RhdGljIHBhdGggc2VnbWVudCBpcyBhIHN0YXRpYyBzdHJpbmcgYmV0d2VlbiBhIHBhdGggc2VwYXJhdG9yIChzbGFzaCBjaGFyYWN0ZXIpLlxuICAgICAqIEVhY2ggZHluYW1pYyBzZWdtZW50IGlzIGEgcGF0aCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBUaGUgY29tcGFyaXNvbiBmdW5jdGlvbiBzb3J0cyBzdGF0aWMgc2VnbWVudHMgYmVmb3JlIGR5bmFtaWMgb25lcy5cbiAgICAgKi9cbiAgICBVcmxNYXRjaGVyLmNvbXBhcmUgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAvKipcbiAgICAgICAgICogVHVybiBhIFVybE1hdGNoZXIgYW5kIGFsbCBpdHMgcGFyZW50IG1hdGNoZXJzIGludG8gYW4gYXJyYXlcbiAgICAgICAgICogb2Ygc2xhc2ggbGl0ZXJhbHMgJy8nLCBzdHJpbmcgbGl0ZXJhbHMsIGFuZCBQYXJhbSBvYmplY3RzXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgZXhhbXBsZSBtYXRjaGVyIG1hdGNoZXMgc3RyaW5ncyBsaWtlIFwiL2Zvby86cGFyYW0vdGFpbFwiOlxuICAgICAgICAgKiB2YXIgbWF0Y2hlciA9ICR1bWYuY29tcGlsZShcIi9mb29cIikuYXBwZW5kKCR1bWYuY29tcGlsZShcIi86cGFyYW1cIikpLmFwcGVuZCgkdW1mLmNvbXBpbGUoXCIvXCIpKS5hcHBlbmQoJHVtZi5jb21waWxlKFwidGFpbFwiKSk7XG4gICAgICAgICAqIHZhciByZXN1bHQgPSBzZWdtZW50cyhtYXRjaGVyKTsgLy8gWyAnLycsICdmb28nLCAnLycsIFBhcmFtLCAnLycsICd0YWlsJyBdXG4gICAgICAgICAqXG4gICAgICAgICAqIENhY2hlcyB0aGUgcmVzdWx0IGFzIGBtYXRjaGVyLl9jYWNoZS5zZWdtZW50c2BcbiAgICAgICAgICovXG4gICAgICAgIHZhciBzZWdtZW50cyA9IGZ1bmN0aW9uIChtYXRjaGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlci5fY2FjaGUuc2VnbWVudHMgPSBtYXRjaGVyLl9jYWNoZS5zZWdtZW50cyB8fFxuICAgICAgICAgICAgICAgIG1hdGNoZXIuX2NhY2hlLnBhdGgubWFwKFVybE1hdGNoZXIucGF0aFNlZ21lbnRzQW5kUGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAucmVkdWNlKGNvbW1vbl8xLnVubmVzdFIsIFtdKVxuICAgICAgICAgICAgICAgICAgICAucmVkdWNlKHN0cmluZ3NfMS5qb2luTmVpZ2hib3JzUiwgW10pXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHByZWRpY2F0ZXNfMS5pc1N0cmluZyh4KSA/IHNwbGl0T25TbGFzaCh4KSA6IHg7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5yZWR1Y2UoY29tbW9uXzEudW5uZXN0UiwgW10pO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgc29ydCB3ZWlnaHQgZm9yIGVhY2ggc2VnbWVudCBvZiBhIFVybE1hdGNoZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQ2FjaGVzIHRoZSByZXN1bHQgYXMgYG1hdGNoZXIuX2NhY2hlLndlaWdodHNgXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgd2VpZ2h0cyA9IGZ1bmN0aW9uIChtYXRjaGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlci5fY2FjaGUud2VpZ2h0cyA9IG1hdGNoZXIuX2NhY2hlLndlaWdodHMgfHxcbiAgICAgICAgICAgICAgICBzZWdtZW50cyhtYXRjaGVyKS5tYXAoZnVuY3Rpb24gKHNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU29ydCBzbGFzaGVzIGZpcnN0LCB0aGVuIHN0YXRpYyBzdHJpbmdzLCB0aGUgUGFyYW1zXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50ID09PSAnLycpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc1N0cmluZyhzZWdtZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudCBpbnN0YW5jZW9mIHBhcmFtXzEuUGFyYW0pXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNtcCwgaSwgcGFpcnMgPSBjb21tb25fMS5hcnJheVR1cGxlcyh3ZWlnaHRzKGEpLCB3ZWlnaHRzKGIpKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjbXAgPSBwYWlyc1tpXVswXSAtIHBhaXJzW2ldWzFdO1xuICAgICAgICAgICAgaWYgKGNtcCAhPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gY21wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgcmV0dXJuIFVybE1hdGNoZXI7XG59KCkpO1xuLyoqIEBoaWRkZW4gKi9cblVybE1hdGNoZXIubmFtZVZhbGlkYXRvciA9IC9eXFx3KyhbLS5dK1xcdyspKig/OlxcW1xcXSk/JC87XG5leHBvcnRzLlVybE1hdGNoZXIgPSBVcmxNYXRjaGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJsTWF0Y2hlci5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3VybC91cmxNYXRjaGVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///20\n")},function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * @internalapi\n * @module vanilla\n */ /** */\n\nObject.defineProperty(exports, "__esModule", { value: true });\nvar utils_1 = __webpack_require__(14);\nvar predicates_1 = __webpack_require__(1);\nvar common_1 = __webpack_require__(0);\n/** A base `LocationServices` */\nvar BaseLocationServices = function () {\n    function BaseLocationServices(router, fireAfterUpdate) {\n        var _this = this;\n        this.fireAfterUpdate = fireAfterUpdate;\n        this._listener = function (evt) {\n            return _this._listeners.forEach(function (cb) {\n                return cb(evt);\n            });\n        };\n        this._listeners = [];\n        this.hash = function () {\n            return utils_1.parseUrl(_this._get()).hash;\n        };\n        this.path = function () {\n            return utils_1.parseUrl(_this._get()).path;\n        };\n        this.search = function () {\n            return utils_1.getParams(utils_1.parseUrl(_this._get()).search);\n        };\n        this._location = window && window.location;\n        this._history = window && window.history;\n    }\n    BaseLocationServices.prototype.url = function (url, replace) {\n        if (replace === void 0) {\n            replace = true;\n        }\n        if (predicates_1.isDefined(url) && url !== this._get()) {\n            this._set(null, null, url, replace);\n            if (this.fireAfterUpdate) {\n                var evt_1 = common_1.extend(new Event("locationchange"), { url: url });\n                this._listeners.forEach(function (cb) {\n                    return cb(evt_1);\n                });\n            }\n        }\n        return utils_1.buildUrl(this);\n    };\n    BaseLocationServices.prototype.onChange = function (cb) {\n        var _this = this;\n        this._listeners.push(cb);\n        return function () {\n            return common_1.removeFrom(_this._listeners, cb);\n        };\n    };\n    BaseLocationServices.prototype.dispose = function (router) {\n        common_1.deregAll(this._listeners);\n    };\n    return BaseLocationServices;\n}();\nexports.BaseLocationServices = BaseLocationServices;\n//# sourceMappingURL=baseLocationService.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZhbmlsbGEvYmFzZUxvY2F0aW9uU2VydmljZS5qcz8wODc5Il0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwidXRpbHNfMSIsInJlcXVpcmUiLCJwcmVkaWNhdGVzXzEiLCJjb21tb25fMSIsIkJhc2VMb2NhdGlvblNlcnZpY2VzIiwicm91dGVyIiwiZmlyZUFmdGVyVXBkYXRlIiwiX3RoaXMiLCJfbGlzdGVuZXIiLCJldnQiLCJfbGlzdGVuZXJzIiwiZm9yRWFjaCIsImNiIiwiaGFzaCIsInBhcnNlVXJsIiwiX2dldCIsInBhdGgiLCJzZWFyY2giLCJnZXRQYXJhbXMiLCJfbG9jYXRpb24iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsIl9oaXN0b3J5IiwiaGlzdG9yeSIsInByb3RvdHlwZSIsInVybCIsInJlcGxhY2UiLCJpc0RlZmluZWQiLCJfc2V0IiwiZXZ0XzEiLCJleHRlbmQiLCJFdmVudCIsImJ1aWxkVXJsIiwib25DaGFuZ2UiLCJwdXNoIiwicmVtb3ZlRnJvbSIsImRpc3Bvc2UiLCJkZXJlZ0FsbCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7O0lBR0k7O0FBQ0pBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBLElBQUlDLFVBQVUsbUJBQUFDLENBQVEsRUFBUixDQUFkO0FBQ0EsSUFBSUMsZUFBZSxtQkFBQUQsQ0FBUSxDQUFSLENBQW5CO0FBQ0EsSUFBSUUsV0FBVyxtQkFBQUYsQ0FBUSxDQUFSLENBQWY7QUFDQTtBQUNBLElBQUlHLHVCQUF3QixZQUFZO0FBQ3BDLGFBQVNBLG9CQUFULENBQThCQyxNQUE5QixFQUFzQ0MsZUFBdEMsRUFBdUQ7QUFDbkQsWUFBSUMsUUFBUSxJQUFaO0FBQ0EsYUFBS0QsZUFBTCxHQUF1QkEsZUFBdkI7QUFDQSxhQUFLRSxTQUFMLEdBQWlCLFVBQVVDLEdBQVYsRUFBZTtBQUFFLG1CQUFPRixNQUFNRyxVQUFOLENBQWlCQyxPQUFqQixDQUF5QixVQUFVQyxFQUFWLEVBQWM7QUFBRSx1QkFBT0EsR0FBR0gsR0FBSCxDQUFQO0FBQWlCLGFBQTFELENBQVA7QUFBcUUsU0FBdkc7QUFDQSxhQUFLQyxVQUFMLEdBQWtCLEVBQWxCO0FBQ0EsYUFBS0csSUFBTCxHQUFZLFlBQVk7QUFBRSxtQkFBT2IsUUFBUWMsUUFBUixDQUFpQlAsTUFBTVEsSUFBTixFQUFqQixFQUErQkYsSUFBdEM7QUFBNkMsU0FBdkU7QUFDQSxhQUFLRyxJQUFMLEdBQVksWUFBWTtBQUFFLG1CQUFPaEIsUUFBUWMsUUFBUixDQUFpQlAsTUFBTVEsSUFBTixFQUFqQixFQUErQkMsSUFBdEM7QUFBNkMsU0FBdkU7QUFDQSxhQUFLQyxNQUFMLEdBQWMsWUFBWTtBQUFFLG1CQUFPakIsUUFBUWtCLFNBQVIsQ0FBa0JsQixRQUFRYyxRQUFSLENBQWlCUCxNQUFNUSxJQUFOLEVBQWpCLEVBQStCRSxNQUFqRCxDQUFQO0FBQWtFLFNBQTlGO0FBQ0EsYUFBS0UsU0FBTCxHQUFpQkMsVUFBVUEsT0FBT0MsUUFBbEM7QUFDQSxhQUFLQyxRQUFMLEdBQWdCRixVQUFVQSxPQUFPRyxPQUFqQztBQUNIO0FBQ0RuQix5QkFBcUJvQixTQUFyQixDQUErQkMsR0FBL0IsR0FBcUMsVUFBVUEsR0FBVixFQUFlQyxPQUFmLEVBQXdCO0FBQ3pELFlBQUlBLFlBQVksS0FBSyxDQUFyQixFQUF3QjtBQUFFQSxzQkFBVSxJQUFWO0FBQWlCO0FBQzNDLFlBQUl4QixhQUFheUIsU0FBYixDQUF1QkYsR0FBdkIsS0FBK0JBLFFBQVEsS0FBS1YsSUFBTCxFQUEzQyxFQUF3RDtBQUNwRCxpQkFBS2EsSUFBTCxDQUFVLElBQVYsRUFBZ0IsSUFBaEIsRUFBc0JILEdBQXRCLEVBQTJCQyxPQUEzQjtBQUNBLGdCQUFJLEtBQUtwQixlQUFULEVBQTBCO0FBQ3RCLG9CQUFJdUIsUUFBUTFCLFNBQVMyQixNQUFULENBQWdCLElBQUlDLEtBQUosQ0FBVSxnQkFBVixDQUFoQixFQUE2QyxFQUFFTixLQUFLQSxHQUFQLEVBQTdDLENBQVo7QUFDQSxxQkFBS2YsVUFBTCxDQUFnQkMsT0FBaEIsQ0FBd0IsVUFBVUMsRUFBVixFQUFjO0FBQUUsMkJBQU9BLEdBQUdpQixLQUFILENBQVA7QUFBbUIsaUJBQTNEO0FBQ0g7QUFDSjtBQUNELGVBQU83QixRQUFRZ0MsUUFBUixDQUFpQixJQUFqQixDQUFQO0FBQ0gsS0FWRDtBQVdBNUIseUJBQXFCb0IsU0FBckIsQ0FBK0JTLFFBQS9CLEdBQTBDLFVBQVVyQixFQUFWLEVBQWM7QUFDcEQsWUFBSUwsUUFBUSxJQUFaO0FBQ0EsYUFBS0csVUFBTCxDQUFnQndCLElBQWhCLENBQXFCdEIsRUFBckI7QUFDQSxlQUFPLFlBQVk7QUFBRSxtQkFBT1QsU0FBU2dDLFVBQVQsQ0FBb0I1QixNQUFNRyxVQUExQixFQUFzQ0UsRUFBdEMsQ0FBUDtBQUFtRCxTQUF4RTtBQUNILEtBSkQ7QUFLQVIseUJBQXFCb0IsU0FBckIsQ0FBK0JZLE9BQS9CLEdBQXlDLFVBQVUvQixNQUFWLEVBQWtCO0FBQ3ZERixpQkFBU2tDLFFBQVQsQ0FBa0IsS0FBSzNCLFVBQXZCO0FBQ0gsS0FGRDtBQUdBLFdBQU9OLG9CQUFQO0FBQ0gsQ0FoQzJCLEVBQTVCO0FBaUNBTixRQUFRTSxvQkFBUixHQUErQkEsb0JBQS9CO0FBQ0EiLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGludGVybmFsYXBpXG4gKiBAbW9kdWxlIHZhbmlsbGFcbiAqLyAvKiogKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG4vKiogQSBiYXNlIGBMb2NhdGlvblNlcnZpY2VzYCAqL1xudmFyIEJhc2VMb2NhdGlvblNlcnZpY2VzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXNlTG9jYXRpb25TZXJ2aWNlcyhyb3V0ZXIsIGZpcmVBZnRlclVwZGF0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmZpcmVBZnRlclVwZGF0ZSA9IGZpcmVBZnRlclVwZGF0ZTtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZ0KSB7IHJldHVybiBfdGhpcy5fbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7IHJldHVybiBjYihldnQpOyB9KTsgfTtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuaGFzaCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHV0aWxzXzEucGFyc2VVcmwoX3RoaXMuX2dldCgpKS5oYXNoOyB9O1xuICAgICAgICB0aGlzLnBhdGggPSBmdW5jdGlvbiAoKSB7IHJldHVybiB1dGlsc18xLnBhcnNlVXJsKF90aGlzLl9nZXQoKSkucGF0aDsgfTtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBmdW5jdGlvbiAoKSB7IHJldHVybiB1dGlsc18xLmdldFBhcmFtcyh1dGlsc18xLnBhcnNlVXJsKF90aGlzLl9nZXQoKSkuc2VhcmNoKTsgfTtcbiAgICAgICAgdGhpcy5fbG9jYXRpb24gPSB3aW5kb3cgJiYgd2luZG93LmxvY2F0aW9uO1xuICAgICAgICB0aGlzLl9oaXN0b3J5ID0gd2luZG93ICYmIHdpbmRvdy5oaXN0b3J5O1xuICAgIH1cbiAgICBCYXNlTG9jYXRpb25TZXJ2aWNlcy5wcm90b3R5cGUudXJsID0gZnVuY3Rpb24gKHVybCwgcmVwbGFjZSkge1xuICAgICAgICBpZiAocmVwbGFjZSA9PT0gdm9pZCAwKSB7IHJlcGxhY2UgPSB0cnVlOyB9XG4gICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKHVybCkgJiYgdXJsICE9PSB0aGlzLl9nZXQoKSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0KG51bGwsIG51bGwsIHVybCwgcmVwbGFjZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5maXJlQWZ0ZXJVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZ0XzEgPSBjb21tb25fMS5leHRlbmQobmV3IEV2ZW50KFwibG9jYXRpb25jaGFuZ2VcIiksIHsgdXJsOiB1cmwgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7IHJldHVybiBjYihldnRfMSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1dGlsc18xLmJ1aWxkVXJsKHRoaXMpO1xuICAgIH07XG4gICAgQmFzZUxvY2F0aW9uU2VydmljZXMucHJvdG90eXBlLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKGNiKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbW1vbl8xLnJlbW92ZUZyb20oX3RoaXMuX2xpc3RlbmVycywgY2IpOyB9O1xuICAgIH07XG4gICAgQmFzZUxvY2F0aW9uU2VydmljZXMucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAocm91dGVyKSB7XG4gICAgICAgIGNvbW1vbl8xLmRlcmVnQWxsKHRoaXMuX2xpc3RlbmVycyk7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZUxvY2F0aW9uU2VydmljZXM7XG59KCkpO1xuZXhwb3J0cy5CYXNlTG9jYXRpb25TZXJ2aWNlcyA9IEJhc2VMb2NhdGlvblNlcnZpY2VzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZUxvY2F0aW9uU2VydmljZS5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZhbmlsbGEvYmFzZUxvY2F0aW9uU2VydmljZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///21\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar common_1 = __webpack_require__(0);\nvar hof_1 = __webpack_require__(2);\nvar glob_1 = __webpack_require__(16);\nvar predicates_1 = __webpack_require__(1);\n/**\n * Internal representation of a UI-Router state.\n *\n * Instances of this class are created when a [[StateDeclaration]] is registered with the [[StateRegistry]].\n *\n * A registered [[StateDeclaration]] is augmented with a getter ([[StateDeclaration.$$state]]) which returns the corresponding [[StateObject]] object.\n *\n * This class prototypally inherits from the corresponding [[StateDeclaration]].\n * Each of its own properties (i.e., `hasOwnProperty`) are built using builders from the [[StateBuilder]].\n */\nvar StateObject = function () {\n    /** @deprecated use State.create() */\n    function StateObject(config) {\n        return StateObject.create(config || {});\n    }\n    /**\n     * Create a state object to put the private/internal implementation details onto.\n     * The object's prototype chain looks like:\n     * (Internal State Object) -> (Copy of State.prototype) -> (State Declaration object) -> (State Declaration's prototype...)\n     *\n     * @param stateDecl the user-supplied State Declaration\n     * @returns {StateObject} an internal State object\n     */\n    StateObject.create = function (stateDecl) {\n        stateDecl = StateObject.isStateClass(stateDecl) ? new stateDecl() : stateDecl;\n        var state = common_1.inherit(common_1.inherit(stateDecl, StateObject.prototype));\n        stateDecl.$$state = function () {\n            return state;\n        };\n        state.self = stateDecl;\n        state.__stateObjectCache = {\n            nameGlob: glob_1.Glob.fromString(state.name) // might return null\n        };\n        return state;\n    };\n    /**\n     * Returns true if the provided parameter is the same state.\n     *\n     * Compares the identity of the state against the passed value, which is either an object\n     * reference to the actual `State` instance, the original definition object passed to\n     * `$stateProvider.state()`, or the fully-qualified name.\n     *\n     * @param ref Can be one of (a) a `State` instance, (b) an object that was passed\n     *        into `$stateProvider.state()`, (c) the fully-qualified name of a state as a string.\n     * @returns Returns `true` if `ref` matches the current `State` instance.\n     */\n    StateObject.prototype.is = function (ref) {\n        return this === ref || this.self === ref || this.fqn() === ref;\n    };\n    /**\n     * @deprecated this does not properly handle dot notation\n     * @returns Returns a dot-separated name of the state.\n     */\n    StateObject.prototype.fqn = function () {\n        if (!this.parent || !(this.parent instanceof this.constructor)) return this.name;\n        var name = this.parent.fqn();\n        return name ? name + \".\" + this.name : this.name;\n    };\n    /**\n     * Returns the root node of this state's tree.\n     *\n     * @returns The root of this state's tree.\n     */\n    StateObject.prototype.root = function () {\n        return this.parent && this.parent.root() || this;\n    };\n    /**\n     * Gets the state's `Param` objects\n     *\n     * Gets the list of [[Param]] objects owned by the state.\n     * If `opts.inherit` is true, it also includes the ancestor states' [[Param]] objects.\n     * If `opts.matchingKeys` exists, returns only `Param`s whose `id` is a key on the `matchingKeys` object\n     *\n     * @param opts options\n     */\n    StateObject.prototype.parameters = function (opts) {\n        opts = common_1.defaults(opts, { inherit: true, matchingKeys: null });\n        var inherited = opts.inherit && this.parent && this.parent.parameters() || [];\n        return inherited.concat(common_1.values(this.params)).filter(function (param) {\n            return !opts.matchingKeys || opts.matchingKeys.hasOwnProperty(param.id);\n        });\n    };\n    /**\n     * Returns a single [[Param]] that is owned by the state\n     *\n     * If `opts.inherit` is true, it also searches the ancestor states` [[Param]]s.\n     * @param id the name of the [[Param]] to return\n     * @param opts options\n     */\n    StateObject.prototype.parameter = function (id, opts) {\n        if (opts === void 0) {\n            opts = {};\n        }\n        return this.url && this.url.parameter(id, opts) || common_1.find(common_1.values(this.params), hof_1.propEq('id', id)) || opts.inherit && this.parent && this.parent.parameter(id);\n    };\n    StateObject.prototype.toString = function () {\n        return this.fqn();\n    };\n    return StateObject;\n}();\n/** Predicate which returns true if the object is an class with @State() decorator */\nStateObject.isStateClass = function (stateDecl) {\n    return predicates_1.isFunction(stateDecl) && stateDecl['__uiRouterState'] === true;\n};\n/** Predicate which returns true if the object is an internal [[StateObject]] object */\nStateObject.isState = function (obj) {\n    return predicates_1.isObject(obj['__stateObjectCache']);\n};\nexports.StateObject = StateObject;\n//# sourceMappingURL=stateObject.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3N0YXRlL3N0YXRlT2JqZWN0LmpzP2U4YzciXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjb21tb25fMSIsInJlcXVpcmUiLCJob2ZfMSIsImdsb2JfMSIsInByZWRpY2F0ZXNfMSIsIlN0YXRlT2JqZWN0IiwiY29uZmlnIiwiY3JlYXRlIiwic3RhdGVEZWNsIiwiaXNTdGF0ZUNsYXNzIiwic3RhdGUiLCJpbmhlcml0IiwicHJvdG90eXBlIiwiJCRzdGF0ZSIsInNlbGYiLCJfX3N0YXRlT2JqZWN0Q2FjaGUiLCJuYW1lR2xvYiIsIkdsb2IiLCJmcm9tU3RyaW5nIiwibmFtZSIsImlzIiwicmVmIiwiZnFuIiwicGFyZW50IiwiY29uc3RydWN0b3IiLCJyb290IiwicGFyYW1ldGVycyIsIm9wdHMiLCJkZWZhdWx0cyIsIm1hdGNoaW5nS2V5cyIsImluaGVyaXRlZCIsImNvbmNhdCIsInZhbHVlcyIsInBhcmFtcyIsImZpbHRlciIsInBhcmFtIiwiaGFzT3duUHJvcGVydHkiLCJpZCIsInBhcmFtZXRlciIsInVybCIsImZpbmQiLCJwcm9wRXEiLCJ0b1N0cmluZyIsImlzRnVuY3Rpb24iLCJpc1N0YXRlIiwib2JqIiwiaXNPYmplY3QiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQSxJQUFJQyxXQUFXLG1CQUFBQyxDQUFRLENBQVIsQ0FBZjtBQUNBLElBQUlDLFFBQVEsbUJBQUFELENBQVEsQ0FBUixDQUFaO0FBQ0EsSUFBSUUsU0FBUyxtQkFBQUYsQ0FBUSxFQUFSLENBQWI7QUFDQSxJQUFJRyxlQUFlLG1CQUFBSCxDQUFRLENBQVIsQ0FBbkI7QUFDQTs7Ozs7Ozs7OztBQVVBLElBQUlJLGNBQWUsWUFB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LENBQWQsRUFBNEMvQixNQUFNdUMsTUFBTixDQUFhLElBQWIsRUFBbUJKLEVBQW5CLENBQTVDLENBREksSUFFSlYsS0FBS2hCLE9BQUwsSUFBZ0IsS0FBS1ksTUFBckIsSUFBK0IsS0FBS0EsTUFBTCxDQUFZZSxTQUFaLENBQXNCRCxFQUF0QixDQUZuQztBQUdILEtBTEQ7QUFNQWhDLGdCQUFZTyxTQUFaLENBQXNCOEIsUUFBdEIsR0FBaUMsWUFBWTtBQUN6QyxlQUFPLEtBQUtwQixHQUFMLEVBQVA7QUFDSCxLQUZEO0FBR0EsV0FBT2pCLFdBQVA7QUFDSCxDQXZGa0IsRUFBbkI7QUF3RkE7QUFDQUEsWUFBWUksWUFBWixHQUEyQixVQUFVRCxTQUFWLEVBQXFCO0FBQzVDLFdBQU9KLGFBQWF1QyxVQUFiLENBQXdCbkMsU0FBeEIsS0FBc0NBLFVBQVUsaUJBQVYsTUFBaUMsSUFBOUU7QUFDSCxDQUZEO0FBR0E7QUFDQUgsWUFBWXVDLE9BQVosR0FBc0IsVUFBVUMsR0FBVixFQUFlO0FBQ2pDLFdBQU96QyxhQUFhMEMsUUFBYixDQUFzQkQsSUFBSSxvQkFBSixDQUF0QixDQUFQO0FBQ0gsQ0FGRDtBQUdBL0MsUUFBUU8sV0FBUixHQUFzQkEsV0FBdEI7QUFDQSIsImZpbGUiOiIyMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2hvZlwiKTtcbnZhciBnbG9iXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2dsb2JcIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xuLyoqXG4gKiBJbnRlcm5hbCByZXByZXNlbnRhdGlvbiBvZiBhIFVJLVJvdXRlciBzdGF0ZS5cbiAqXG4gKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgY3JlYXRlZCB3aGVuIGEgW1tTdGF0ZURlY2xhcmF0aW9uXV0gaXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBbW1N0YXRlUmVnaXN0cnldXS5cbiAqXG4gKiBBIHJlZ2lzdGVyZWQgW1tTdGF0ZURlY2xhcmF0aW9uXV0gaXMgYXVnbWVudGVkIHdpdGggYSBnZXR0ZXIgKFtbU3RhdGVEZWNsYXJhdGlvbi4kJHN0YXRlXV0pIHdoaWNoIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgW1tTdGF0ZU9iamVjdF1dIG9iamVjdC5cbiAqXG4gKiBUaGlzIGNsYXNzIHByb3RvdHlwYWxseSBpbmhlcml0cyBmcm9tIHRoZSBjb3JyZXNwb25kaW5nIFtbU3RhdGVEZWNsYXJhdGlvbl1dLlxuICogRWFjaCBvZiBpdHMgb3duIHByb3BlcnRpZXMgKGkuZS4sIGBoYXNPd25Qcm9wZXJ0eWApIGFyZSBidWlsdCB1c2luZyBidWlsZGVycyBmcm9tIHRoZSBbW1N0YXRlQnVpbGRlcl1dLlxuICovXG52YXIgU3RhdGVPYmplY3QgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAZGVwcmVjYXRlZCB1c2UgU3RhdGUuY3JlYXRlKCkgKi9cbiAgICBmdW5jdGlvbiBTdGF0ZU9iamVjdChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIFN0YXRlT2JqZWN0LmNyZWF0ZShjb25maWcgfHwge30pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBzdGF0ZSBvYmplY3QgdG8gcHV0IHRoZSBwcml2YXRlL2ludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbHMgb250by5cbiAgICAgKiBUaGUgb2JqZWN0J3MgcHJvdG90eXBlIGNoYWluIGxvb2tzIGxpa2U6XG4gICAgICogKEludGVybmFsIFN0YXRlIE9iamVjdCkgLT4gKENvcHkgb2YgU3RhdGUucHJvdG90eXBlKSAtPiAoU3RhdGUgRGVjbGFyYXRpb24gb2JqZWN0KSAtPiAoU3RhdGUgRGVjbGFyYXRpb24ncyBwcm90b3R5cGUuLi4pXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhdGVEZWNsIHRoZSB1c2VyLXN1cHBsaWVkIFN0YXRlIERlY2xhcmF0aW9uXG4gICAgICogQHJldHVybnMge1N0YXRlT2JqZWN0fSBhbiBpbnRlcm5hbCBTdGF0ZSBvYmplY3RcbiAgICAgKi9cbiAgICBTdGF0ZU9iamVjdC5jcmVhdGUgPSBmdW5jdGlvbiAoc3RhdGVEZWNsKSB7XG4gICAgICAgIHN0YXRlRGVjbCA9IFN0YXRlT2JqZWN0LmlzU3RhdGVDbGFzcyhzdGF0ZURlY2wpID8gbmV3IHN0YXRlRGVjbCgpIDogc3RhdGVEZWNsO1xuICAgICAgICB2YXIgc3RhdGUgPSBjb21tb25fMS5pbmhlcml0KGNvbW1vbl8xLmluaGVyaXQoc3RhdGVEZWNsLCBTdGF0ZU9iamVjdC5wcm90b3R5cGUpKTtcbiAgICAgICAgc3RhdGVEZWNsLiQkc3RhdGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzdGF0ZTsgfTtcbiAgICAgICAgc3RhdGUuc2VsZiA9IHN0YXRlRGVjbDtcbiAgICAgICAgc3RhdGUuX19zdGF0ZU9iamVjdENhY2hlID0ge1xuICAgICAgICAgICAgbmFtZUdsb2I6IGdsb2JfMS5HbG9iLmZyb21TdHJpbmcoc3RhdGUubmFtZSkgLy8gbWlnaHQgcmV0dXJuIG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXIgaXMgdGhlIHNhbWUgc3RhdGUuXG4gICAgICpcbiAgICAgKiBDb21wYXJlcyB0aGUgaWRlbnRpdHkgb2YgdGhlIHN0YXRlIGFnYWluc3QgdGhlIHBhc3NlZCB2YWx1ZSwgd2hpY2ggaXMgZWl0aGVyIGFuIG9iamVjdFxuICAgICAqIHJlZmVyZW5jZSB0byB0aGUgYWN0dWFsIGBTdGF0ZWAgaW5zdGFuY2UsIHRoZSBvcmlnaW5hbCBkZWZpbml0aW9uIG9iamVjdCBwYXNzZWQgdG9cbiAgICAgKiBgJHN0YXRlUHJvdmlkZXIuc3RhdGUoKWAsIG9yIHRoZSBmdWxseS1xdWFsaWZpZWQgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZWYgQ2FuIGJlIG9uZSBvZiAoYSkgYSBgU3RhdGVgIGluc3RhbmNlLCAoYikgYW4gb2JqZWN0IHRoYXQgd2FzIHBhc3NlZFxuICAgICAqICAgICAgICBpbnRvIGAkc3RhdGVQcm92aWRlci5zdGF0ZSgpYCwgKGMpIHRoZSBmdWxseS1xdWFsaWZpZWQgbmFtZSBvZiBhIHN0YXRlIGFzIGEgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIFJldHVybnMgYHRydWVgIGlmIGByZWZgIG1hdGNoZXMgdGhlIGN1cnJlbnQgYFN0YXRlYCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBTdGF0ZU9iamVjdC5wcm90b3R5cGUuaXMgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzID09PSByZWYgfHwgdGhpcy5zZWxmID09PSByZWYgfHwgdGhpcy5mcW4oKSA9PT0gcmVmO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgdGhpcyBkb2VzIG5vdCBwcm9wZXJseSBoYW5kbGUgZG90IG5vdGF0aW9uXG4gICAgICogQHJldHVybnMgUmV0dXJucyBhIGRvdC1zZXBhcmF0ZWQgbmFtZSBvZiB0aGUgc3RhdGUuXG4gICAgICovXG4gICAgU3RhdGVPYmplY3QucHJvdG90eXBlLmZxbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudCB8fCAhKHRoaXMucGFyZW50IGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvcikpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgICAgICB2YXIgbmFtZSA9IHRoaXMucGFyZW50LmZxbigpO1xuICAgICAgICByZXR1cm4gbmFtZSA/IG5hbWUgKyBcIi5cIiArIHRoaXMubmFtZSA6IHRoaXMubmFtZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJvb3Qgbm9kZSBvZiB0aGlzIHN0YXRlJ3MgdHJlZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSByb290IG9mIHRoaXMgc3RhdGUncyB0cmVlLlxuICAgICAqL1xuICAgIFN0YXRlT2JqZWN0LnByb3RvdHlwZS5yb290ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQucm9vdCgpIHx8IHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGF0ZSdzIGBQYXJhbWAgb2JqZWN0c1xuICAgICAqXG4gICAgICogR2V0cyB0aGUgbGlzdCBvZiBbW1BhcmFtXV0gb2JqZWN0cyBvd25lZCBieSB0aGUgc3RhdGUuXG4gICAgICogSWYgYG9wdHMuaW5oZXJpdGAgaXMgdHJ1ZSwgaXQgYWxzbyBpbmNsdWRlcyB0aGUgYW5jZXN0b3Igc3RhdGVzJyBbW1BhcmFtXV0gb2JqZWN0cy5cbiAgICAgKiBJZiBgb3B0cy5tYXRjaGluZ0tleXNgIGV4aXN0cywgcmV0dXJucyBvbmx5IGBQYXJhbWBzIHdob3NlIGBpZGAgaXMgYSBrZXkgb24gdGhlIGBtYXRjaGluZ0tleXNgIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdHMgb3B0aW9uc1xuICAgICAqL1xuICAgIFN0YXRlT2JqZWN0LnByb3RvdHlwZS5wYXJhbWV0ZXJzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgICAgICAgb3B0cyA9IGNvbW1vbl8xLmRlZmF1bHRzKG9wdHMsIHsgaW5oZXJpdDogdHJ1ZSwgbWF0Y2hpbmdLZXlzOiBudWxsIH0pO1xuICAgICAgICB2YXIgaW5oZXJpdGVkID0gb3B0cy5pbmhlcml0ICYmIHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnBhcmFtZXRlcnMoKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIGluaGVyaXRlZC5jb25jYXQoY29tbW9uXzEudmFsdWVzKHRoaXMucGFyYW1zKSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiAhb3B0cy5tYXRjaGluZ0tleXMgfHwgb3B0cy5tYXRjaGluZ0tleXMuaGFzT3duUHJvcGVydHkocGFyYW0uaWQpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzaW5nbGUgW1tQYXJhbV1dIHRoYXQgaXMgb3duZWQgYnkgdGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBJZiBgb3B0cy5pbmhlcml0YCBpcyB0cnVlLCBpdCBhbHNvIHNlYXJjaGVzIHRoZSBhbmNlc3RvciBzdGF0ZXNgIFtbUGFyYW1dXXMuXG4gICAgICogQHBhcmFtIGlkIHRoZSBuYW1lIG9mIHRoZSBbW1BhcmFtXV0gdG8gcmV0dXJuXG4gICAgICogQHBhcmFtIG9wdHMgb3B0aW9uc1xuICAgICAqL1xuICAgIFN0YXRlT2JqZWN0LnByb3RvdHlwZS5wYXJhbWV0ZXIgPSBmdW5jdGlvbiAoaWQsIG9wdHMpIHtcbiAgICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cbiAgICAgICAgcmV0dXJuICh0aGlzLnVybCAmJiB0aGlzLnVybC5wYXJhbWV0ZXIoaWQsIG9wdHMpIHx8XG4gICAgICAgICAgICBjb21tb25fMS5maW5kKGNvbW1vbl8xLnZhbHVlcyh0aGlzLnBhcmFtcyksIGhvZl8xLnByb3BFcSgnaWQnLCBpZCkpIHx8XG4gICAgICAgICAgICBvcHRzLmluaGVyaXQgJiYgdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQucGFyYW1ldGVyKGlkKSk7XG4gICAgfTtcbiAgICBTdGF0ZU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZxbigpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlT2JqZWN0O1xufSgpKTtcbi8qKiBQcmVkaWNhdGUgd2hpY2ggcmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgYW4gY2xhc3Mgd2l0aCBAU3RhdGUoKSBkZWNvcmF0b3IgKi9cblN0YXRlT2JqZWN0LmlzU3RhdGVDbGFzcyA9IGZ1bmN0aW9uIChzdGF0ZURlY2wpIHtcbiAgICByZXR1cm4gcHJlZGljYXRlc18xLmlzRnVuY3Rpb24oc3RhdGVEZWNsKSAmJiBzdGF0ZURlY2xbJ19fdWlSb3V0ZXJTdGF0ZSddID09PSB0cnVlO1xufTtcbi8qKiBQcmVkaWNhdGUgd2hpY2ggcmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgYW4gaW50ZXJuYWwgW1tTdGF0ZU9iamVjdF1dIG9iamVjdCAqL1xuU3RhdGVPYmplY3QuaXNTdGF0ZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gcHJlZGljYXRlc18xLmlzT2JqZWN0KG9ialsnX19zdGF0ZU9iamVjdENhY2hlJ10pO1xufTtcbmV4cG9ydHMuU3RhdGVPYmplY3QgPSBTdGF0ZU9iamVjdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXRlT2JqZWN0LmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvc3RhdGUvc3RhdGVPYmplY3QuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///22\n")},function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * @module common\n */ /** for typedoc */\n\nObject.defineProperty(exports, "__esModule", { value: true });\nvar Queue = function () {\n    function Queue(_items, _limit) {\n        if (_items === void 0) {\n            _items = [];\n        }\n        if (_limit === void 0) {\n            _limit = null;\n        }\n        this._items = _items;\n        this._limit = _limit;\n    }\n    Queue.prototype.enqueue = function (item) {\n        var items = this._items;\n        items.push(item);\n        if (this._limit && items.length > this._limit) items.shift();\n        return item;\n    };\n    Queue.prototype.dequeue = function () {\n        if (this.size()) return this._items.splice(0, 1)[0];\n    };\n    Queue.prototype.clear = function () {\n        var current = this._items;\n        this._items = [];\n        return current;\n    };\n    Queue.prototype.size = function () {\n        return this._items.length;\n    };\n    Queue.prototype.remove = function (item) {\n        var idx = this._items.indexOf(item);\n        return idx > -1 && this._items.splice(idx, 1)[0];\n    };\n    Queue.prototype.peekTail = function () {\n        return this._items[this._items.length - 1];\n    };\n    Queue.prototype.peekHead = function () {\n        if (this.size()) return this._items[0];\n    };\n    return Queue;\n}();\nexports.Queue = Queue;\n//# sourceMappingURL=queue.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2NvbW1vbi9xdWV1ZS5qcz9iNTY0Il0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiUXVldWUiLCJfaXRlbXMiLCJfbGltaXQiLCJwcm90b3R5cGUiLCJlbnF1ZXVlIiwiaXRlbSIsIml0ZW1zIiwicHVzaCIsImxlbmd0aCIsInNoaWZ0IiwiZGVxdWV1ZSIsInNpemUiLCJzcGxpY2UiLCJjbGVhciIsImN1cnJlbnQiLCJyZW1vdmUiLCJpZHgiLCJpbmRleE9mIiwicGVla1RhaWwiLCJwZWVrSGVhZCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7SUFFSTs7QUFDSkEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0EsSUFBSUMsUUFBUyxZQUFZO0FBQ3JCLGFBQVNBLEtBQVQsQ0FBZUMsTUFBZixFQUF1QkMsTUFBdkIsRUFBK0I7QUFDM0IsWUFBSUQsV0FBVyxLQUFLLENBQXBCLEVBQXVCO0FBQUVBLHFCQUFTLEVBQVQ7QUFBYztBQUN2QyxZQUFJQyxXQUFXLEtBQUssQ0FBcEIsRUFBdUI7QUFBRUEscUJBQVMsSUFBVDtBQUFnQjtBQUN6QyxhQUFLRCxNQUFMLEdBQWNBLE1BQWQ7QUFDQSxhQUFLQyxNQUFMLEdBQWNBLE1BQWQ7QUFDSDtBQUNERixVQUFNRyxTQUFOLENBQWdCQyxPQUFoQixHQUEwQixVQUFVQyxJQUFWLEVBQWdCO0FBQ3RDLFlBQUlDLFFBQVEsS0FBS0wsTUFBakI7QUFDQUssY0FBTUMsSUFBTixDQUFXRixJQUFYO0FBQ0EsWUFBSSxLQUFLSCxNQUFMLElBQWVJLE1BQU1FLE1BQU4sR0FBZSxLQUFLTixNQUF2QyxFQUNJSSxNQUFNRyxLQUFOO0FBQ0osZUFBT0osSUFBUDtBQUNILEtBTkQ7QUFPQUwsVUFBTUcsU0FBTixDQUFnQk8sT0FBaEIsR0FBMEIsWUFBWTtBQUNsQyxZQUFJLEtBQUtDLElBQUwsRUFBSixFQUNJLE9BQU8sS0FBS1YsTUFBTCxDQUFZVyxNQUFaLENBQW1CLENBQW5CLEVBQXNCLENBQXRCLEVBQXlCLENBQXpCLENBQVA7QUFDUCxLQUhEO0FBSUFaLFVBQU1HLFNBQU4sQ0FBZ0JVLEtBQWhCLEdBQXdCLFlBQVk7QUFDaEMsWUFBSUMsVUFBVSxLQUFLYixNQUFuQjtBQUNBLGFBQUtBLE1BQUwsR0FBYyxFQUFkO0FBQ0EsZUFBT2EsT0FBUDtBQUNILEtBSkQ7QUFLQWQsVUFBTUcsU0FBTixDQUFnQlEsSUFBaEIsR0FBdUIsWUFBWTtBQUMvQixlQUFPLEtBQUtWLE1BQUwsQ0FBWU8sTUFBbkI7QUFDSCxLQUZEO0FBR0FSLFVBQU1HLFNBQU4sQ0FBZ0JZLE1BQWhCLEdBQXlCLFVBQVVWLElBQVYsRUFBZ0I7QUFDckMsWUFBSVcsTUFBTSxLQUFLZixNQUFMLENBQVlnQixPQUFaLENBQW9CWixJQUFwQixDQUFWO0FBQ0EsZUFBT1csTUFBTSxDQUFDLENBQVAsSUFBWSxLQUFLZixNQUFMLENBQVlXLE1BQVosQ0FBbUJJLEdBQW5CLEVBQXdCLENBQXhCLEVBQTJCLENBQTNCLENBQW5CO0FBQ0gsS0FIRDtBQUlBaEIsVUFBTUcsU0FBTixDQUFnQmUsUUFBaEIsR0FBMkIsWUFBWTtBQUNuQyxlQUFPLEtBQUtqQixNQUFMLENBQVksS0FBS0EsTUFBTCxDQUFZTyxNQUFaLEdBQXFCLENBQWpDLENBQVA7QUFDSCxLQUZEO0FBR0FSLFVBQU1HLFNBQU4sQ0FBZ0JnQixRQUFoQixHQUEyQixZQUFZO0FBQ25DLFlBQUksS0FBS1IsSUFBTCxFQUFKLEVBQ0ksT0FBTyxLQUFLVixNQUFMLENBQVksQ0FBWixDQUFQO0FBQ1AsS0FIRDtBQUlBLFdBQU9ELEtBQVA7QUFDSCxDQXRDWSxFQUFiO0FBdUNBRixRQUFRRSxLQUFSLEdBQWdCQSxLQUFoQjtBQUNBIiwiZmlsZSI6IjIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBtb2R1bGUgY29tbW9uXG4gKi8gLyoqIGZvciB0eXBlZG9jICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUXVldWUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFF1ZXVlKF9pdGVtcywgX2xpbWl0KSB7XG4gICAgICAgIGlmIChfaXRlbXMgPT09IHZvaWQgMCkgeyBfaXRlbXMgPSBbXTsgfVxuICAgICAgICBpZiAoX2xpbWl0ID09PSB2b2lkIDApIHsgX2xpbWl0ID0gbnVsbDsgfVxuICAgICAgICB0aGlzLl9pdGVtcyA9IF9pdGVtcztcbiAgICAgICAgdGhpcy5fbGltaXQgPSBfbGltaXQ7XG4gICAgfVxuICAgIFF1ZXVlLnByb3RvdHlwZS5lbnF1ZXVlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5faXRlbXM7XG4gICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIGlmICh0aGlzLl9saW1pdCAmJiBpdGVtcy5sZW5ndGggPiB0aGlzLl9saW1pdClcbiAgICAgICAgICAgIGl0ZW1zLnNoaWZ0KCk7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH07XG4gICAgUXVldWUucHJvdG90eXBlLmRlcXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnNpemUoKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdGVtcy5zcGxpY2UoMCwgMSlbMF07XG4gICAgfTtcbiAgICBRdWV1ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5faXRlbXM7XG4gICAgICAgIHRoaXMuX2l0ZW1zID0gW107XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH07XG4gICAgUXVldWUucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtcy5sZW5ndGg7XG4gICAgfTtcbiAgICBRdWV1ZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuX2l0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIHJldHVybiBpZHggPiAtMSAmJiB0aGlzLl9pdGVtcy5zcGxpY2UoaWR4LCAxKVswXTtcbiAgICB9O1xuICAgIFF1ZXVlLnByb3RvdHlwZS5wZWVrVGFpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zW3RoaXMuX2l0ZW1zLmxlbmd0aCAtIDFdO1xuICAgIH07XG4gICAgUXVldWUucHJvdG90eXBlLnBlZWtIZWFkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zaXplKCkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXRlbXNbMF07XG4gICAgfTtcbiAgICByZXR1cm4gUXVldWU7XG59KCkpO1xuZXhwb3J0cy5RdWV1ZSA9IFF1ZXVlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVldWUuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi9jb21tb24vcXVldWUuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///23\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @coreapi\n * @module transition\n */ /** for typedoc */\nvar common_1 = __webpack_require__(0);\nvar predicates_1 = __webpack_require__(1);\nvar interface_1 = __webpack_require__(8); // has or is using\nvar glob_1 = __webpack_require__(16);\n/**\n * Determines if the given state matches the matchCriteria\n *\n * @hidden\n *\n * @param state a State Object to test against\n * @param criterion\n * - If a string, matchState uses the string as a glob-matcher against the state name\n * - If an array (of strings), matchState uses each string in the array as a glob-matchers against the state name\n *   and returns a positive match if any of the globs match.\n * - If a function, matchState calls the function with the state and returns true if the function\'s result is truthy.\n * @returns {boolean}\n */\nfunction matchState(state, criterion) {\n    var toMatch = predicates_1.isString(criterion) ? [criterion] : criterion;\n    function matchGlobs(_state) {\n        var globStrings = toMatch;\n        for (var i = 0; i < globStrings.length; i++) {\n            var glob = new glob_1.Glob(globStrings[i]);\n            if (glob && glob.matches(_state.name) || !glob && globStrings[i] === _state.name) {\n                return true;\n            }\n        }\n        return false;\n    }\n    var matchFn = predicates_1.isFunction(toMatch) ? toMatch : matchGlobs;\n    return !!matchFn(state);\n}\nexports.matchState = matchState;\n/**\n * @internalapi\n * The registration data for a registered transition hook\n */\nvar RegisteredHook = function () {\n    function RegisteredHook(tranSvc, eventType, callback, matchCriteria, options) {\n        if (options === void 0) {\n            options = {};\n        }\n        this.tranSvc = tranSvc;\n        this.eventType = eventType;\n        this.callback = callback;\n        this.matchCriteria = matchCriteria;\n        this.priority = options.priority || 0;\n        this.bind = options.bind || null;\n        this._deregistered = false;\n    }\n    /**\n     * Gets the matching [[PathNode]]s\n     *\n     * Given an array of [[PathNode]]s, and a [[HookMatchCriterion]], returns an array containing\n     * the [[PathNode]]s that the criteria matches, or `null` if there were no matching nodes.\n     *\n     * Returning `null` is significant to distinguish between the default\n     * "match-all criterion value" of `true` compared to a `() => true` function,\n     * when the nodes is an empty array.\n     *\n     * This is useful to allow a transition match criteria of `entering: true`\n     * to still match a transition, even when `entering === []`.  Contrast that\n     * with `entering: (state) => true` which only matches when a state is actually\n     * being entered.\n     */\n    RegisteredHook.prototype._matchingNodes = function (nodes, criterion) {\n        if (criterion === true) return nodes;\n        var matching = nodes.filter(function (node) {\n            return matchState(node.state, criterion);\n        });\n        return matching.length ? matching : null;\n    };\n    /**\n     * Gets the default match criteria (all `true`)\n     *\n     * Returns an object which has all the criteria match paths as keys and `true` as values, i.e.:\n     *\n     * ```js\n     * {\n     *   to: true,\n     *   from: true,\n     *   entering: true,\n     *   exiting: true,\n     *   retained: true,\n     * }\n     */\n    RegisteredHook.prototype._getDefaultMatchCriteria = function () {\n        return common_1.map(this.tranSvc._pluginapi._getPathTypes(), function () {\n            return true;\n        });\n    };\n    /**\n     * Gets matching nodes as [[IMatchingNodes]]\n     *\n     * Create a IMatchingNodes object from the TransitionHookTypes that is roughly equivalent to:\n     *\n     * ```js\n     * let matches: IMatchingNodes = {\n     *   to:       _matchingNodes([tail(treeChanges.to)],   mc.to),\n     *   from:     _matchingNodes([tail(treeChanges.from)], mc.from),\n     *   exiting:  _matchingNodes(treeChanges.exiting,      mc.exiting),\n     *   retained: _matchingNodes(treeChanges.retained,     mc.retained),\n     *   entering: _matchingNodes(treeChanges.entering,     mc.entering),\n     * };\n     * ```\n     */\n    RegisteredHook.prototype._getMatchingNodes = function (treeChanges) {\n        var _this = this;\n        var criteria = common_1.extend(this._getDefaultMatchCriteria(), this.matchCriteria);\n        var paths = common_1.values(this.tranSvc._pluginapi._getPathTypes());\n        return paths.reduce(function (mn, pathtype) {\n            // STATE scope criteria matches against every node in the path.\n            // TRANSITION scope criteria matches against only the last node in the path\n            var isStateHook = pathtype.scope === interface_1.TransitionHookScope.STATE;\n            var path = treeChanges[pathtype.name] || [];\n            var nodes = isStateHook ? path : [common_1.tail(path)];\n            mn[pathtype.name] = _this._matchingNodes(nodes, criteria[pathtype.name]);\n            return mn;\n        }, {});\n    };\n    /**\n     * Determines if this hook\'s [[matchCriteria]] match the given [[TreeChanges]]\n     *\n     * @returns an IMatchingNodes object, or null. If an IMatchingNodes object is returned, its values\n     * are the matching [[PathNode]]s for each [[HookMatchCriterion]] (to, from, exiting, retained, entering)\n     */\n    RegisteredHook.prototype.matches = function (treeChanges) {\n        var matches = this._getMatchingNodes(treeChanges);\n        // Check if all the criteria matched the TreeChanges object\n        var allMatched = common_1.values(matches).every(common_1.identity);\n        return allMatched ? matches : null;\n    };\n    return RegisteredHook;\n}();\nexports.RegisteredHook = RegisteredHook;\n/** @hidden Return a registration function of the requested type. */\nfunction makeEvent(registry, transitionService, eventType) {\n    // Create the object which holds the registered transition hooks.\n    var _registeredHooks = registry._registeredHooks = registry._registeredHooks || {};\n    var hooks = _registeredHooks[eventType.name] = [];\n    // Create hook registration function on the IHookRegistry for the event\n    registry[eventType.name] = hookRegistrationFn;\n    function hookRegistrationFn(matchObject, callback, options) {\n        if (options === void 0) {\n            options = {};\n        }\n        var registeredHook = new RegisteredHook(transitionService, eventType, callback, matchObject, options);\n        hooks.push(registeredHook);\n        return function deregisterEventHook() {\n            registeredHook._deregistered = true;\n            common_1.removeFrom(hooks)(registeredHook);\n        };\n    }\n    return hookRegistrationFn;\n}\nexports.makeEvent = makeEvent;\n//# sourceMappingURL=hookRegistry.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3RyYW5zaXRpb24vaG9va1JlZ2lzdHJ5LmpzP2U5ZDUiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjb21tb25fMSIsInJlcXVpcmUiLCJwcmVkaWNhdGVzXzEiLCJpbnRlcmZhY2VfMSIsImdsb2JfMSIsIm1hdGNoU3RhdGUiLCJzdGF0ZSIsImNyaXRlcmlvbiIsInRvTWF0Y2giLCJpc1N0cmluZyIsIm1hdGNoR2xvYnMiLCJfc3RhdGUiLCJnbG9iU3RyaW5ncyIsImkiLCJsZW5ndGgiLCJnbG9iIiwiR2xvYiIsIm1hdGNoZXMiLCJuYW1lIiwibWF0Y2hGbiIsImlzRnVuY3Rpb24iLCJSZWdpc3RlcmVkSG9vayIsInRyYW5TdmMiLCJldmVudFR5cGUiLCJjYWxsYmFjayIsIm1hdGNoQ3JpdGVyaWEiLCJvcHRpb25zIiwicHJpb3JpdHkiLCJiaW5kIiwiX2RlcmVnaXN0ZXJlZCIsInByb3RvdHlwZSIsIl9tYXRjaGluZ05vZGVzIiwibm9kZXMiLCJtYXRjaGluZyIsImZpbHRlciIsIm5vZGUiLCJfZ2V0RGVmYXVsdE1hdGNoQ3JpdGVyaWEiLCJtYXAiLCJfcGx1Z2luYXBpIiwiX2dldFBhdGhUeXBlcyIsIl9nZXRNYXRjaGluZ05vZGVzIiwidHJlZUNoYW5nZXMiLCJfdGhpcyIsImNyaXRlcmlhIiwiZXh0ZW5kIiwicGF0aHMiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJtbiIsInBhdGh0eXBlIiwiaXNTdGF0ZUhvb2siLCJzY29wZSIsIlRyYW5zaXRpb25Ib29rU2NvcGUiLCJTVEFURSIsInBhdGgiLCJ0YWlsIiwiYWxsTWF0Y2hlZCIsImV2ZXJ5IiwiaWRlbnRpdHkiLCJtYWtlRXZlbnQiLCJyZWdpc3RyeSIsInRyYW5zaXRpb25TZXJ2aWNlIiwiX3JlZ2lzdGVyZWRIb29rcyIsImhvb2tzIiwiaG9va1JlZ2lzdHJhdGlvbkZuIiwibWF0Y2hPYmplY3QiLCJyZWdpc3RlcmVkSG9vayIsInB1c2giLCJkZXJlZ2lzdGVyRXZlbnRIb29rIiwicmVtb3ZlRnJvbSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBOzs7SUFHSTtBQUNKLElBQUlDLFdBQVcsbUJBQUFDLENBQVEsQ0FBUixDQUFmO0FBQ0EsSUFBSUMsZUFBZSxtQkFBQUQsQ0FBUSxDQUFSLENBQW5CO0FBQ0EsSUFBSUUsY0FBYyxtQkFBQUYsQ0FBUSxDQUFSLENBQWxCLEMsQ0FBMEM7QUFDMUMsSUFBSUcsU0FBUyxtQkFBQUgsQ0FBUSxFQUFSLENBQWI7QUFDQTs7Ozs7Ozs7Ozs7OztBQWFBLFNBQVNJLFVBQVQsQ0FBb0JDLEtBQXBCLEVBQTJCQyxTQUEzQixFQUFzQztBQUNsQyxRQUFJQyxVQUFVTixhQUFhTyxRQUFiLENBQXNCRixTQUF0QixJQUFtQyxDQUFDQSxTQUFELENBQW5DLEdBQWlEQSxTQUEvRDtBQUNBLGFBQVNHLFVBQVQsQ0FBb0JDLE1BQXBCLEVBQTRCO0FBQ3hCLFlBQUlDLGNBQWNKLE9BQWxCO0FBQ0EsYUFBSyxJQUFJSyxJQUFJLENBQWIsRUFBZ0JBLElBQUlELFlBQVlFLE1BQWhDLEVBQXdDRCxHQUF4QyxFQUE2QztBQUN6QyxnQkFBSUUsT0FBTyxJQUFJWCxPQUFPWSxJQUFYLENBQWdCSixZQUFZQyxDQUFaLENBQWhCLENBQVg7QUFDQSxnQkFBS0UsUUFBUUEsS0FBS0UsT0FBTCxDQUFhTixPQUFPTyxJQUFwQixDQUFULElBQXdDLENBQUNILElBQUQsSUFBU0gsWUFBWUMsQ0FBWixNQUFtQkYsT0FBT08sSUFBL0UsRUFBc0Y7QUFDbEYsdUJBQU8sSUFBUDtBQUNIO0FBQ0o7QUFDRCxlQUFPLEtBQVA7QUFDSDtBQUNELFFBQUlDLFVBQVdqQixhQUFha0IsVUFBYixDQUF3QlosT0FBeEIsSUFBbUNBLE9BQW5DLEdBQTZDRSxVQUE1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QWhCLEVBQXlCd0MsS0FBekIsQ0FBK0J6RCxTQUFTMEQsUUFBeEMsQ0FBakI7QUFDQSxlQUFPRixhQUFhdkMsT0FBYixHQUF1QixJQUE5QjtBQUNILEtBTEQ7QUFNQSxXQUFPSSxjQUFQO0FBQ0gsQ0EzRnFCLEVBQXRCO0FBNEZBdkIsUUFBUXVCLGNBQVIsR0FBeUJBLGNBQXpCO0FBQ0E7QUFDQSxTQUFTc0MsU0FBVCxDQUFtQkMsUUFBbkIsRUFBNkJDLGlCQUE3QixFQUFnRHRDLFNBQWhELEVBQTJEO0FBQ3ZEO0FBQ0EsUUFBSXVDLG1CQUFtQkYsU0FBU0UsZ0JBQVQsR0FBNkJGLFNBQVNFLGdCQUFULElBQTZCLEVBQWpGO0FBQ0EsUUFBSUMsUUFBUUQsaUJBQWlCdkMsVUFBVUwsSUFBM0IsSUFBbUMsRUFBL0M7QUFDQTtBQUNBMEMsYUFBU3JDLFVBQVVMLElBQW5CLElBQTJCOEMsa0JBQTNCO0FBQ0EsYUFBU0Esa0JBQVQsQ0FBNEJDLFdBQTVCLEVBQXlDekMsUUFBekMsRUFBbURFLE9BQW5ELEVBQTREO0FBQ3hELFlBQUlBLFlBQVksS0FBSyxDQUFyQixFQUF3QjtBQUFFQSxzQkFBVSxFQUFWO0FBQWU7QUFDekMsWUFBSXdDLGlCQUFpQixJQUFJN0MsY0FBSixDQUFtQndDLGlCQUFuQixFQUFzQ3RDLFNBQXRDLEVBQWlEQyxRQUFqRCxFQUEyRHlDLFdBQTNELEVBQXdFdkMsT0FBeEUsQ0FBckI7QUFDQXFDLGNBQU1JLElBQU4sQ0FBV0QsY0FBWDtBQUNBLGVBQU8sU0FBU0UsbUJBQVQsR0FBK0I7QUFDbENGLDJCQUFlckMsYUFBZixHQUErQixJQUEvQjtBQUNBN0IscUJBQVNxRSxVQUFULENBQW9CTixLQUFwQixFQUEyQkcsY0FBM0I7QUFDSCxTQUhEO0FBSUg7QUFDRCxXQUFPRixrQkFBUDtBQUNIO0FBQ0RsRSxRQUFRNkQsU0FBUixHQUFvQkEsU0FBcEI7QUFDQSIsImZpbGUiOiIyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBAY29yZWFwaVxuICogQG1vZHVsZSB0cmFuc2l0aW9uXG4gKi8gLyoqIGZvciB0eXBlZG9jICovXG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBwcmVkaWNhdGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9pbnRlcmZhY2VcIik7IC8vIGhhcyBvciBpcyB1c2luZ1xudmFyIGdsb2JfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vZ2xvYlwiKTtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gc3RhdGUgbWF0Y2hlcyB0aGUgbWF0Y2hDcml0ZXJpYVxuICpcbiAqIEBoaWRkZW5cbiAqXG4gKiBAcGFyYW0gc3RhdGUgYSBTdGF0ZSBPYmplY3QgdG8gdGVzdCBhZ2FpbnN0XG4gKiBAcGFyYW0gY3JpdGVyaW9uXG4gKiAtIElmIGEgc3RyaW5nLCBtYXRjaFN0YXRlIHVzZXMgdGhlIHN0cmluZyBhcyBhIGdsb2ItbWF0Y2hlciBhZ2FpbnN0IHRoZSBzdGF0ZSBuYW1lXG4gKiAtIElmIGFuIGFycmF5IChvZiBzdHJpbmdzKSwgbWF0Y2hTdGF0ZSB1c2VzIGVhY2ggc3RyaW5nIGluIHRoZSBhcnJheSBhcyBhIGdsb2ItbWF0Y2hlcnMgYWdhaW5zdCB0aGUgc3RhdGUgbmFtZVxuICogICBhbmQgcmV0dXJucyBhIHBvc2l0aXZlIG1hdGNoIGlmIGFueSBvZiB0aGUgZ2xvYnMgbWF0Y2guXG4gKiAtIElmIGEgZnVuY3Rpb24sIG1hdGNoU3RhdGUgY2FsbHMgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIHN0YXRlIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGZ1bmN0aW9uJ3MgcmVzdWx0IGlzIHRydXRoeS5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBtYXRjaFN0YXRlKHN0YXRlLCBjcml0ZXJpb24pIHtcbiAgICB2YXIgdG9NYXRjaCA9IHByZWRpY2F0ZXNfMS5pc1N0cmluZyhjcml0ZXJpb24pID8gW2NyaXRlcmlvbl0gOiBjcml0ZXJpb247XG4gICAgZnVuY3Rpb24gbWF0Y2hHbG9icyhfc3RhdGUpIHtcbiAgICAgICAgdmFyIGdsb2JTdHJpbmdzID0gdG9NYXRjaDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnbG9iU3RyaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGdsb2IgPSBuZXcgZ2xvYl8xLkdsb2IoZ2xvYlN0cmluZ3NbaV0pO1xuICAgICAgICAgICAgaWYgKChnbG9iICYmIGdsb2IubWF0Y2hlcyhfc3RhdGUubmFtZSkpIHx8ICghZ2xvYiAmJiBnbG9iU3RyaW5nc1tpXSA9PT0gX3N0YXRlLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgbWF0Y2hGbiA9IChwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbih0b01hdGNoKSA/IHRvTWF0Y2ggOiBtYXRjaEdsb2JzKTtcbiAgICByZXR1cm4gISFtYXRjaEZuKHN0YXRlKTtcbn1cbmV4cG9ydHMubWF0Y2hTdGF0ZSA9IG1hdGNoU3RhdGU7XG4vKipcbiAqIEBpbnRlcm5hbGFwaVxuICogVGhlIHJlZ2lzdHJhdGlvbiBkYXRhIGZvciBhIHJlZ2lzdGVyZWQgdHJhbnNpdGlvbiBob29rXG4gKi9cbnZhciBSZWdpc3RlcmVkSG9vayA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVnaXN0ZXJlZEhvb2sodHJhblN2YywgZXZlbnRUeXBlLCBjYWxsYmFjaywgbWF0Y2hDcml0ZXJpYSwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB0aGlzLnRyYW5TdmMgPSB0cmFuU3ZjO1xuICAgICAgICB0aGlzLmV2ZW50VHlwZSA9IGV2ZW50VHlwZTtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICB0aGlzLm1hdGNoQ3JpdGVyaWEgPSBtYXRjaENyaXRlcmlhO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gb3B0aW9ucy5wcmlvcml0eSB8fCAwO1xuICAgICAgICB0aGlzLmJpbmQgPSBvcHRpb25zLmJpbmQgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fZGVyZWdpc3RlcmVkID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1hdGNoaW5nIFtbUGF0aE5vZGVdXXNcbiAgICAgKlxuICAgICAqIEdpdmVuIGFuIGFycmF5IG9mIFtbUGF0aE5vZGVdXXMsIGFuZCBhIFtbSG9va01hdGNoQ3JpdGVyaW9uXV0sIHJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZ1xuICAgICAqIHRoZSBbW1BhdGhOb2RlXV1zIHRoYXQgdGhlIGNyaXRlcmlhIG1hdGNoZXMsIG9yIGBudWxsYCBpZiB0aGVyZSB3ZXJlIG5vIG1hdGNoaW5nIG5vZGVzLlxuICAgICAqXG4gICAgICogUmV0dXJuaW5nIGBudWxsYCBpcyBzaWduaWZpY2FudCB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIHRoZSBkZWZhdWx0XG4gICAgICogXCJtYXRjaC1hbGwgY3JpdGVyaW9uIHZhbHVlXCIgb2YgYHRydWVgIGNvbXBhcmVkIHRvIGEgYCgpID0+IHRydWVgIGZ1bmN0aW9uLFxuICAgICAqIHdoZW4gdGhlIG5vZGVzIGlzIGFuIGVtcHR5IGFycmF5LlxuICAgICAqXG4gICAgICogVGhpcyBpcyB1c2VmdWwgdG8gYWxsb3cgYSB0cmFuc2l0aW9uIG1hdGNoIGNyaXRlcmlhIG9mIGBlbnRlcmluZzogdHJ1ZWBcbiAgICAgKiB0byBzdGlsbCBtYXRjaCBhIHRyYW5zaXRpb24sIGV2ZW4gd2hlbiBgZW50ZXJpbmcgPT09IFtdYC4gIENvbnRyYXN0IHRoYXRcbiAgICAgKiB3aXRoIGBlbnRlcmluZzogKHN0YXRlKSA9PiB0cnVlYCB3aGljaCBvbmx5IG1hdGNoZXMgd2hlbiBhIHN0YXRlIGlzIGFjdHVhbGx5XG4gICAgICogYmVpbmcgZW50ZXJlZC5cbiAgICAgKi9cbiAgICBSZWdpc3RlcmVkSG9vay5wcm90b3R5cGUuX21hdGNoaW5nTm9kZXMgPSBmdW5jdGlvbiAobm9kZXMsIGNyaXRlcmlvbikge1xuICAgICAgICBpZiAoY3JpdGVyaW9uID09PSB0cnVlKVxuICAgICAgICAgICAgcmV0dXJuIG5vZGVzO1xuICAgICAgICB2YXIgbWF0Y2hpbmcgPSBub2Rlcy5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG1hdGNoU3RhdGUobm9kZS5zdGF0ZSwgY3JpdGVyaW9uKTsgfSk7XG4gICAgICAgIHJldHVybiBtYXRjaGluZy5sZW5ndGggPyBtYXRjaGluZyA6IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkZWZhdWx0IG1hdGNoIGNyaXRlcmlhIChhbGwgYHRydWVgKVxuICAgICAqXG4gICAgICogUmV0dXJucyBhbiBvYmplY3Qgd2hpY2ggaGFzIGFsbCB0aGUgY3JpdGVyaWEgbWF0Y2ggcGF0aHMgYXMga2V5cyBhbmQgYHRydWVgIGFzIHZhbHVlcywgaS5lLjpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICoge1xuICAgICAqICAgdG86IHRydWUsXG4gICAgICogICBmcm9tOiB0cnVlLFxuICAgICAqICAgZW50ZXJpbmc6IHRydWUsXG4gICAgICogICBleGl0aW5nOiB0cnVlLFxuICAgICAqICAgcmV0YWluZWQ6IHRydWUsXG4gICAgICogfVxuICAgICAqL1xuICAgIFJlZ2lzdGVyZWRIb29rLnByb3RvdHlwZS5fZ2V0RGVmYXVsdE1hdGNoQ3JpdGVyaWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb21tb25fMS5tYXAodGhpcy50cmFuU3ZjLl9wbHVnaW5hcGkuX2dldFBhdGhUeXBlcygpLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgbWF0Y2hpbmcgbm9kZXMgYXMgW1tJTWF0Y2hpbmdOb2Rlc11dXG4gICAgICpcbiAgICAgKiBDcmVhdGUgYSBJTWF0Y2hpbmdOb2RlcyBvYmplY3QgZnJvbSB0aGUgVHJhbnNpdGlvbkhvb2tUeXBlcyB0aGF0IGlzIHJvdWdobHkgZXF1aXZhbGVudCB0bzpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogbGV0IG1hdGNoZXM6IElNYXRjaGluZ05vZGVzID0ge1xuICAgICAqICAgdG86ICAgICAgIF9tYXRjaGluZ05vZGVzKFt0YWlsKHRyZWVDaGFuZ2VzLnRvKV0sICAgbWMudG8pLFxuICAgICAqICAgZnJvbTogICAgIF9tYXRjaGluZ05vZGVzKFt0YWlsKHRyZWVDaGFuZ2VzLmZyb20pXSwgbWMuZnJvbSksXG4gICAgICogICBleGl0aW5nOiAgX21hdGNoaW5nTm9kZXModHJlZUNoYW5nZXMuZXhpdGluZywgICAgICBtYy5leGl0aW5nKSxcbiAgICAgKiAgIHJldGFpbmVkOiBfbWF0Y2hpbmdOb2Rlcyh0cmVlQ2hhbmdlcy5yZXRhaW5lZCwgICAgIG1jLnJldGFpbmVkKSxcbiAgICAgKiAgIGVudGVyaW5nOiBfbWF0Y2hpbmdOb2Rlcyh0cmVlQ2hhbmdlcy5lbnRlcmluZywgICAgIG1jLmVudGVyaW5nKSxcbiAgICAgKiB9O1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIFJlZ2lzdGVyZWRIb29rLnByb3RvdHlwZS5fZ2V0TWF0Y2hpbmdOb2RlcyA9IGZ1bmN0aW9uICh0cmVlQ2hhbmdlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY3JpdGVyaWEgPSBjb21tb25fMS5leHRlbmQodGhpcy5fZ2V0RGVmYXVsdE1hdGNoQ3JpdGVyaWEoKSwgdGhpcy5tYXRjaENyaXRlcmlhKTtcbiAgICAgICAgdmFyIHBhdGhzID0gY29tbW9uXzEudmFsdWVzKHRoaXMudHJhblN2Yy5fcGx1Z2luYXBpLl9nZXRQYXRoVHlwZXMoKSk7XG4gICAgICAgIHJldHVybiBwYXRocy5yZWR1Y2UoZnVuY3Rpb24gKG1uLCBwYXRodHlwZSkge1xuICAgICAgICAgICAgLy8gU1RBVEUgc2NvcGUgY3JpdGVyaWEgbWF0Y2hlcyBhZ2FpbnN0IGV2ZXJ5IG5vZGUgaW4gdGhlIHBhdGguXG4gICAgICAgICAgICAvLyBUUkFOU0lUSU9OIHNjb3BlIGNyaXRlcmlhIG1hdGNoZXMgYWdhaW5zdCBvbmx5IHRoZSBsYXN0IG5vZGUgaW4gdGhlIHBhdGhcbiAgICAgICAgICAgIHZhciBpc1N0YXRlSG9vayA9IHBhdGh0eXBlLnNjb3BlID09PSBpbnRlcmZhY2VfMS5UcmFuc2l0aW9uSG9va1Njb3BlLlNUQVRFO1xuICAgICAgICAgICAgdmFyIHBhdGggPSB0cmVlQ2hhbmdlc1twYXRodHlwZS5uYW1lXSB8fCBbXTtcbiAgICAgICAgICAgIHZhciBub2RlcyA9IGlzU3RhdGVIb29rID8gcGF0aCA6IFtjb21tb25fMS50YWlsKHBhdGgpXTtcbiAgICAgICAgICAgIG1uW3BhdGh0eXBlLm5hbWVdID0gX3RoaXMuX21hdGNoaW5nTm9kZXMobm9kZXMsIGNyaXRlcmlhW3BhdGh0eXBlLm5hbWVdKTtcbiAgICAgICAgICAgIHJldHVybiBtbjtcbiAgICAgICAgfSwge30pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGlzIGhvb2sncyBbW21hdGNoQ3JpdGVyaWFdXSBtYXRjaCB0aGUgZ2l2ZW4gW1tUcmVlQ2hhbmdlc11dXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhbiBJTWF0Y2hpbmdOb2RlcyBvYmplY3QsIG9yIG51bGwuIElmIGFuIElNYXRjaGluZ05vZGVzIG9iamVjdCBpcyByZXR1cm5lZCwgaXRzIHZhbHVlc1xuICAgICAqIGFyZSB0aGUgbWF0Y2hpbmcgW1tQYXRoTm9kZV1dcyBmb3IgZWFjaCBbW0hvb2tNYXRjaENyaXRlcmlvbl1dICh0bywgZnJvbSwgZXhpdGluZywgcmV0YWluZWQsIGVudGVyaW5nKVxuICAgICAqL1xuICAgIFJlZ2lzdGVyZWRIb29rLnByb3RvdHlwZS5tYXRjaGVzID0gZnVuY3Rpb24gKHRyZWVDaGFuZ2VzKSB7XG4gICAgICAgIHZhciBtYXRjaGVzID0gdGhpcy5fZ2V0TWF0Y2hpbmdOb2Rlcyh0cmVlQ2hhbmdlcyk7XG4gICAgICAgIC8vIENoZWNrIGlmIGFsbCB0aGUgY3JpdGVyaWEgbWF0Y2hlZCB0aGUgVHJlZUNoYW5nZXMgb2JqZWN0XG4gICAgICAgIHZhciBhbGxNYXRjaGVkID0gY29tbW9uXzEudmFsdWVzKG1hdGNoZXMpLmV2ZXJ5KGNvbW1vbl8xLmlkZW50aXR5KTtcbiAgICAgICAgcmV0dXJuIGFsbE1hdGNoZWQgPyBtYXRjaGVzIDogbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBSZWdpc3RlcmVkSG9vaztcbn0oKSk7XG5leHBvcnRzLlJlZ2lzdGVyZWRIb29rID0gUmVnaXN0ZXJlZEhvb2s7XG4vKiogQGhpZGRlbiBSZXR1cm4gYSByZWdpc3RyYXRpb24gZnVuY3Rpb24gb2YgdGhlIHJlcXVlc3RlZCB0eXBlLiAqL1xuZnVuY3Rpb24gbWFrZUV2ZW50KHJlZ2lzdHJ5LCB0cmFuc2l0aW9uU2VydmljZSwgZXZlbnRUeXBlKSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBvYmplY3Qgd2hpY2ggaG9sZHMgdGhlIHJlZ2lzdGVyZWQgdHJhbnNpdGlvbiBob29rcy5cbiAgICB2YXIgX3JlZ2lzdGVyZWRIb29rcyA9IHJlZ2lzdHJ5Ll9yZWdpc3RlcmVkSG9va3MgPSAocmVnaXN0cnkuX3JlZ2lzdGVyZWRIb29rcyB8fCB7fSk7XG4gICAgdmFyIGhvb2tzID0gX3JlZ2lzdGVyZWRIb29rc1tldmVudFR5cGUubmFtZV0gPSBbXTtcbiAgICAvLyBDcmVhdGUgaG9vayByZWdpc3RyYXRpb24gZnVuY3Rpb24gb24gdGhlIElIb29rUmVnaXN0cnkgZm9yIHRoZSBldmVudFxuICAgIHJlZ2lzdHJ5W2V2ZW50VHlwZS5uYW1lXSA9IGhvb2tSZWdpc3RyYXRpb25GbjtcbiAgICBmdW5jdGlvbiBob29rUmVnaXN0cmF0aW9uRm4obWF0Y2hPYmplY3QsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciByZWdpc3RlcmVkSG9vayA9IG5ldyBSZWdpc3RlcmVkSG9vayh0cmFuc2l0aW9uU2VydmljZSwgZXZlbnRUeXBlLCBjYWxsYmFjaywgbWF0Y2hPYmplY3QsIG9wdGlvbnMpO1xuICAgICAgICBob29rcy5wdXNoKHJlZ2lzdGVyZWRIb29rKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJFdmVudEhvb2soKSB7XG4gICAgICAgICAgICByZWdpc3RlcmVkSG9vay5fZGVyZWdpc3RlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnJlbW92ZUZyb20oaG9va3MpKHJlZ2lzdGVyZWRIb29rKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGhvb2tSZWdpc3RyYXRpb25Gbjtcbn1cbmV4cG9ydHMubWFrZUV2ZW50ID0gbWFrZUV2ZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9va1JlZ2lzdHJ5LmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvdHJhbnNpdGlvbi9ob29rUmVnaXN0cnkuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/** @module path */ /** for typedoc */\nvar common_1 = __webpack_require__(0);\nvar hof_1 = __webpack_require__(2);\nvar param_1 = __webpack_require__(9);\n/**\n * @internalapi\n *\n * A node in a [[TreeChanges]] path\n *\n * For a [[TreeChanges]] path, this class holds the stateful information for a single node in the path.\n * Each PathNode corresponds to a state being entered, exited, or retained.\n * The stateful information includes parameter values and resolve data.\n */\nvar PathNode = function () {\n    function PathNode(stateOrNode) {\n        if (stateOrNode instanceof PathNode) {\n            var node = stateOrNode;\n            this.state = node.state;\n            this.paramSchema = node.paramSchema.slice();\n            this.paramValues = common_1.extend({}, node.paramValues);\n            this.resolvables = node.resolvables.slice();\n            this.views = node.views && node.views.slice();\n        } else {\n            var state = stateOrNode;\n            this.state = state;\n            this.paramSchema = state.parameters({ inherit: false });\n            this.paramValues = {};\n            this.resolvables = state.resolvables.map(function (res) {\n                return res.clone();\n            });\n        }\n    }\n    /** Sets [[paramValues]] for the node, from the values of an object hash */\n    PathNode.prototype.applyRawParams = function (params) {\n        var getParamVal = function getParamVal(paramDef) {\n            return [paramDef.id, paramDef.value(params[paramDef.id])];\n        };\n        this.paramValues = this.paramSchema.reduce(function (memo, pDef) {\n            return common_1.applyPairs(memo, getParamVal(pDef));\n        }, {});\n        return this;\n    };\n    /** Gets a specific [[Param]] metadata that belongs to the node */\n    PathNode.prototype.parameter = function (name) {\n        return common_1.find(this.paramSchema, hof_1.propEq("id", name));\n    };\n    /**\n     * @returns true if the state and parameter values for another PathNode are\n     * equal to the state and param values for this PathNode\n     */\n    PathNode.prototype.equals = function (node, paramsFn) {\n        var diff = this.diff(node, paramsFn);\n        return diff && diff.length === 0;\n    };\n    /**\n     * Finds Params with different parameter values on another PathNode.\n     *\n     * Given another node (of the same state), finds the parameter values which differ.\n     * Returns the [[Param]] (schema objects) whose parameter values differ.\n     *\n     * Given another node for a different state, returns `false`\n     *\n     * @param node The node to compare to\n     * @param paramsFn A function that returns which parameters should be compared.\n     * @returns The [[Param]]s which differ, or null if the two nodes are for different states\n     */\n    PathNode.prototype.diff = function (node, paramsFn) {\n        if (this.state !== node.state) return false;\n        var params = paramsFn ? paramsFn(this) : this.paramSchema;\n        return param_1.Param.changed(params, this.paramValues, node.paramValues);\n    };\n    /** Returns a clone of the PathNode */\n    PathNode.clone = function (node) {\n        return new PathNode(node);\n    };\n    return PathNode;\n}();\nexports.PathNode = PathNode;\n//# sourceMappingURL=pathNode.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3BhdGgvcGF0aE5vZGUuanM/ZTZiNyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNvbW1vbl8xIiwicmVxdWlyZSIsImhvZl8xIiwicGFyYW1fMSIsIlBhdGhOb2RlIiwic3RhdGVPck5vZGUiLCJub2RlIiwic3RhdGUiLCJwYXJhbVNjaGVtYSIsInNsaWNlIiwicGFyYW1WYWx1ZXMiLCJleHRlbmQiLCJyZXNvbHZhYmxlcyIsInZpZXdzIiwicGFyYW1ldGVycyIsImluaGVyaXQiLCJtYXAiLCJyZXMiLCJjbG9uZSIsInByb3RvdHlwZSIsImFwcGx5UmF3UGFyYW1zIiwicGFyYW1zIiwiZ2V0UGFyYW1WYWwiLCJwYXJhbURlZiIsImlkIiwicmVkdWNlIiwibWVtbyIsInBEZWYiLCJhcHBseVBhaXJzIiwicGFyYW1ldGVyIiwibmFtZSIsImZpbmQiLCJwcm9wRXEiLCJlcXVhbHMiLCJwYXJhbXNGbiIsImRpZmYiLCJsZW5ndGgiLCJQYXJhbSIsImNoYW5nZWQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQSxtQixDQUFvQjtBQUNwQixJQUFJQyxXQUFXLG1CQUFBQyxDQUFRLENBQVIsQ0FBZjtBQUNBLElBQUlDLFFBQVEsbUJBQUFELENBQVEsQ0FBUixDQUFaO0FBQ0EsSUFBSUUsVUFBVSxtQkFBQUYsQ0FBUSxDQUFSLENBQWQ7QUFDQTs7Ozs7Ozs7O0FBU0EsSUFBSUcsV0FBWSxZQUFZO0FBQ3hCLGFBQVNBLFFBQVQsQ0FBa0JDLFdBQWxCLEVBQStCO0FBQzNCLFlBQUlBLHVCQUF1QkQsUUFBM0IsRUFBcUM7QUFDakMsZ0JBQUlFLE9BQU9ELFdBQVg7QUFDQSxpQkFBS0UsS0FBTCxHQUFhRCxLQUFL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InVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAbW9kdWxlIHBhdGggKi8gLyoqIGZvciB0eXBlZG9jICovXG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vaG9mXCIpO1xudmFyIHBhcmFtXzEgPSByZXF1aXJlKFwiLi4vcGFyYW1zL3BhcmFtXCIpO1xuLyoqXG4gKiBAaW50ZXJuYWxhcGlcbiAqXG4gKiBBIG5vZGUgaW4gYSBbW1RyZWVDaGFuZ2VzXV0gcGF0aFxuICpcbiAqIEZvciBhIFtbVHJlZUNoYW5nZXNdXSBwYXRoLCB0aGlzIGNsYXNzIGhvbGRzIHRoZSBzdGF0ZWZ1bCBpbmZvcm1hdGlvbiBmb3IgYSBzaW5nbGUgbm9kZSBpbiB0aGUgcGF0aC5cbiAqIEVhY2ggUGF0aE5vZGUgY29ycmVzcG9uZHMgdG8gYSBzdGF0ZSBiZWluZyBlbnRlcmVkLCBleGl0ZWQsIG9yIHJldGFpbmVkLlxuICogVGhlIHN0YXRlZnVsIGluZm9ybWF0aW9uIGluY2x1ZGVzIHBhcmFtZXRlciB2YWx1ZXMgYW5kIHJlc29sdmUgZGF0YS5cbiAqL1xudmFyIFBhdGhOb2RlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYXRoTm9kZShzdGF0ZU9yTm9kZSkge1xuICAgICAgICBpZiAoc3RhdGVPck5vZGUgaW5zdGFuY2VvZiBQYXRoTm9kZSkge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBzdGF0ZU9yTm9kZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBub2RlLnN0YXRlO1xuICAgICAgICAgICAgdGhpcy5wYXJhbVNjaGVtYSA9IG5vZGUucGFyYW1TY2hlbWEuc2xpY2UoKTtcbiAgICAgICAgICAgIHRoaXMucGFyYW1WYWx1ZXMgPSBjb21tb25fMS5leHRlbmQoe30sIG5vZGUucGFyYW1WYWx1ZXMpO1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZhYmxlcyA9IG5vZGUucmVzb2x2YWJsZXMuc2xpY2UoKTtcbiAgICAgICAgICAgIHRoaXMudmlld3MgPSBub2RlLnZpZXdzICYmIG5vZGUudmlld3Muc2xpY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHN0YXRlT3JOb2RlO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgICAgdGhpcy5wYXJhbVNjaGVtYSA9IHN0YXRlLnBhcmFtZXRlcnMoeyBpbmhlcml0OiBmYWxzZSB9KTtcbiAgICAgICAgICAgIHRoaXMucGFyYW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2YWJsZXMgPSBzdGF0ZS5yZXNvbHZhYmxlcy5tYXAoZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcmVzLmNsb25lKCk7IH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBTZXRzIFtbcGFyYW1WYWx1ZXNdXSBmb3IgdGhlIG5vZGUsIGZyb20gdGhlIHZhbHVlcyBvZiBhbiBvYmplY3QgaGFzaCAqL1xuICAgIFBhdGhOb2RlLnByb3RvdHlwZS5hcHBseVJhd1BhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgdmFyIGdldFBhcmFtVmFsID0gZnVuY3Rpb24gKHBhcmFtRGVmKSB7IHJldHVybiBbcGFyYW1EZWYuaWQsIHBhcmFtRGVmLnZhbHVlKHBhcmFtc1twYXJhbURlZi5pZF0pXTsgfTtcbiAgICAgICAgdGhpcy5wYXJhbVZhbHVlcyA9IHRoaXMucGFyYW1TY2hlbWEucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBwRGVmKSB7IHJldHVybiBjb21tb25fMS5hcHBseVBhaXJzKG1lbW8sIGdldFBhcmFtVmFsKHBEZWYpKTsgfSwge30pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKiBHZXRzIGEgc3BlY2lmaWMgW1tQYXJhbV1dIG1ldGFkYXRhIHRoYXQgYmVsb25ncyB0byB0aGUgbm9kZSAqL1xuICAgIFBhdGhOb2RlLnByb3RvdHlwZS5wYXJhbWV0ZXIgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gY29tbW9uXzEuZmluZCh0aGlzLnBhcmFtU2NoZW1hLCBob2ZfMS5wcm9wRXEoXCJpZFwiLCBuYW1lKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBzdGF0ZSBhbmQgcGFyYW1ldGVyIHZhbHVlcyBmb3IgYW5vdGhlciBQYXRoTm9kZSBhcmVcbiAgICAgKiBlcXVhbCB0byB0aGUgc3RhdGUgYW5kIHBhcmFtIHZhbHVlcyBmb3IgdGhpcyBQYXRoTm9kZVxuICAgICAqL1xuICAgIFBhdGhOb2RlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobm9kZSwgcGFyYW1zRm4pIHtcbiAgICAgICAgdmFyIGRpZmYgPSB0aGlzLmRpZmYobm9kZSwgcGFyYW1zRm4pO1xuICAgICAgICByZXR1cm4gZGlmZiAmJiBkaWZmLmxlbmd0aCA9PT0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbmRzIFBhcmFtcyB3aXRoIGRpZmZlcmVudCBwYXJhbWV0ZXIgdmFsdWVzIG9uIGFub3RoZXIgUGF0aE5vZGUuXG4gICAgICpcbiAgICAgKiBHaXZlbiBhbm90aGVyIG5vZGUgKG9mIHRoZSBzYW1lIHN0YXRlKSwgZmluZHMgdGhlIHBhcmFtZXRlciB2YWx1ZXMgd2hpY2ggZGlmZmVyLlxuICAgICAqIFJldHVybnMgdGhlIFtbUGFyYW1dXSAoc2NoZW1hIG9iamVjdHMpIHdob3NlIHBhcmFtZXRlciB2YWx1ZXMgZGlmZmVyLlxuICAgICAqXG4gICAgICogR2l2ZW4gYW5vdGhlciBub2RlIGZvciBhIGRpZmZlcmVudCBzdGF0ZSwgcmV0dXJucyBgZmFsc2VgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbm9kZSBUaGUgbm9kZSB0byBjb21wYXJlIHRvXG4gICAgICogQHBhcmFtIHBhcmFtc0ZuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHdoaWNoIHBhcmFtZXRlcnMgc2hvdWxkIGJlIGNvbXBhcmVkLlxuICAgICAqIEByZXR1cm5zIFRoZSBbW1BhcmFtXV1zIHdoaWNoIGRpZmZlciwgb3IgbnVsbCBpZiB0aGUgdHdvIG5vZGVzIGFyZSBmb3IgZGlmZmVyZW50IHN0YXRlc1xuICAgICAqL1xuICAgIFBhdGhOb2RlLnByb3RvdHlwZS5kaWZmID0gZnVuY3Rpb24gKG5vZGUsIHBhcmFtc0ZuKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBub2RlLnN0YXRlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgcGFyYW1zID0gcGFyYW1zRm4gPyBwYXJhbXNGbih0aGlzKSA6IHRoaXMucGFyYW1TY2hlbWE7XG4gICAgICAgIHJldHVybiBwYXJhbV8xLlBhcmFtLmNoYW5nZWQocGFyYW1zLCB0aGlzLnBhcmFtVmFsdWVzLCBub2RlLnBhcmFtVmFsdWVzKTtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIFBhdGhOb2RlICovXG4gICAgUGF0aE5vZGUuY2xvbmUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICByZXR1cm4gbmV3IFBhdGhOb2RlKG5vZGUpO1xuICAgIH07XG4gICAgcmV0dXJuIFBhdGhOb2RlO1xufSgpKTtcbmV4cG9ydHMuUGF0aE5vZGUgPSBQYXRoTm9kZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhdGhOb2RlLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvcGF0aC9wYXRoTm9kZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///25\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @coreapi\n * @module params\n */\n/** */\nvar common_1 = __webpack_require__(0);\nvar predicates_1 = __webpack_require__(1);\n/**\n * An internal class which implements [[ParamTypeDefinition]].\n *\n * A [[ParamTypeDefinition]] is a plain javascript object used to register custom parameter types.\n * When a param type definition is registered, an instance of this class is created internally.\n *\n * This class has naive implementations for all the [[ParamTypeDefinition]] methods.\n *\n * Used by [[UrlMatcher]] when matching or formatting URLs, or comparing and validating parameter values.\n *\n * #### Example:\n * ```js\n * var paramTypeDef = {\n *   decode: function(val) { return parseInt(val, 10); },\n *   encode: function(val) { return val && val.toString(); },\n *   equals: function(a, b) { return this.is(a) && a === b; },\n *   is: function(val) { return angular.isNumber(val) && isFinite(val) && val % 1 === 0; },\n *   pattern: /\\d+/\n * }\n *\n * var paramType = new ParamType(paramTypeDef);\n * ```\n * @internalapi\n */\nvar ParamType = function () {\n    /**\n     * @param def  A configuration object which contains the custom type definition.  The object\'s\n     *        properties will override the default methods and/or pattern in `ParamType`\'s public interface.\n     * @returns a new ParamType object\n     */\n    function ParamType(def) {\n        /** @inheritdoc */\n        this.pattern = /.*/;\n        /** @inheritdoc */\n        this.inherit = true;\n        common_1.extend(this, def);\n    }\n    // consider these four methods to be "abstract methods" that should be overridden\n    /** @inheritdoc */\n    ParamType.prototype.is = function (val, key) {\n        return true;\n    };\n    /** @inheritdoc */\n    ParamType.prototype.encode = function (val, key) {\n        return val;\n    };\n    /** @inheritdoc */\n    ParamType.prototype.decode = function (val, key) {\n        return val;\n    };\n    /** @inheritdoc */\n    ParamType.prototype.equals = function (a, b) {\n        return a == b;\n    };\n    ParamType.prototype.$subPattern = function () {\n        var sub = this.pattern.toString();\n        return sub.substr(1, sub.length - 2);\n    };\n    ParamType.prototype.toString = function () {\n        return "{ParamType:" + this.name + "}";\n    };\n    /** Given an encoded string, or a decoded object, returns a decoded object */\n    ParamType.prototype.$normalize = function (val) {\n        return this.is(val) ? val : this.decode(val);\n    };\n    /**\n     * Wraps an existing custom ParamType as an array of ParamType, depending on \'mode\'.\n     * e.g.:\n     * - urlmatcher pattern "/path?{queryParam[]:int}"\n     * - url: "/path?queryParam=1&queryParam=2\n     * - $stateParams.queryParam will be [1, 2]\n     * if `mode` is "auto", then\n     * - url: "/path?queryParam=1 will create $stateParams.queryParam: 1\n     * - url: "/path?queryParam=1&queryParam=2 will create $stateParams.queryParam: [1, 2]\n     */\n    ParamType.prototype.$asArray = function (mode, isSearch) {\n        if (!mode) return this;\n        if (mode === "auto" && !isSearch) throw new Error("\'auto\' array mode is for query parameters only");\n        return new ArrayType(this, mode);\n    };\n    return ParamType;\n}();\nexports.ParamType = ParamType;\n/**\n * Wraps up a `ParamType` object to handle array values.\n * @internalapi\n */\nfunction ArrayType(type, mode) {\n    var _this = this;\n    // Wrap non-array value as array\n    function arrayWrap(val) {\n        return predicates_1.isArray(val) ? val : predicates_1.isDefined(val) ? [val] : [];\n    }\n    // Unwrap array value for "auto" mode. Return undefined for empty array.\n    function arrayUnwrap(val) {\n        switch (val.length) {\n            case 0:\n                return undefined;\n            case 1:\n                return mode === "auto" ? val[0] : val;\n            default:\n                return val;\n        }\n    }\n    // Wraps type (.is/.encode/.decode) functions to operate on each value of an array\n    function arrayHandler(callback, allTruthyMode) {\n        return function handleArray(val) {\n            if (predicates_1.isArray(val) && val.length === 0) return val;\n            var arr = arrayWrap(val);\n            var result = common_1.map(arr, callback);\n            return allTruthyMode === true ? common_1.filter(result, function (x) {\n                return !x;\n            }).length === 0 : arrayUnwrap(result);\n        };\n    }\n    // Wraps type (.equals) functions to operate on each value of an array\n    function arrayEqualsHandler(callback) {\n        return function handleArray(val1, val2) {\n            var left = arrayWrap(val1),\n                right = arrayWrap(val2);\n            if (left.length !== right.length) return false;\n            for (var i = 0; i < left.length; i++) {\n                if (!callback(left[i], right[i])) return false;\n            }\n            return true;\n        };\n    }\n    [\'encode\', \'decode\', \'equals\', \'$normalize\'].forEach(function (name) {\n        var paramTypeFn = type[name].bind(type);\n        var wrapperFn = name === \'equals\' ? arrayEqualsHandler : arrayHandler;\n        _this[name] = wrapperFn(paramTypeFn);\n    });\n    common_1.extend(this, {\n        dynamic: type.dynamic,\n        name: type.name,\n        pattern: type.pattern,\n        inherit: type.inherit,\n        is: arrayHandler(type.is.bind(type), true),\n        $arrayMode: mode\n    });\n}\n//# sourceMappingURL=paramType.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3BhcmFtcy9wYXJhbVR5cGUuanM/MGZjMCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNvbW1vbl8xIiwicmVxdWlyZSIsInByZWRpY2F0ZXNfMSIsIlBhcmFtVHlwZSIsImRlZiIsInBhdHRlcm4iLCJpbmhlcml0IiwiZXh0ZW5kIiwicHJvdG90eXBlIiwiaXMiLCJ2YWwiLCJrZXkiLCJlbmNvZGUiLCJkZWNvZGUiLCJlcXVhbHMiLCJhIiwiYiIsIiRzdWJQYXR0ZXJuIiwic3ViIiwidG9TdHJpbmciLCJzdWJzdHIiLCJsZW5ndGgiLCJuYW1lIiwiJG5vcm1hbGl6ZSIsIiRhc0FycmF5IiwibW9kZSIsImlzU2VhcmNoIiwiRXJyb3IiLCJBcnJheVR5cGUiLCJ0eXBlIiwiX3RoaXMiLCJhcnJheVdyYXAiLCJpc0FycmF5IiwiaXNEZWZpbmVkIiwiYXJyYXlVbndyYXAiLCJ1bmRlZmluZWQiLCJhcnJheUhhbmRsZXIiLCJjYWxsYmFjayIsImFsbFRydXRoeU1vZGUiLCJoYW5kbGVBcnJheSIsImFyciIsInJlc3VsdCIsIm1hcCIsImZpbHRlciIsIngiLCJhcnJheUVxdWFsc0hhbmRsZXIiLCJ2YWwxIiwidmFsMiIsImxlZnQiLCJyaWdodCIsImkiLCJmb3JFYWNoIiwicGFyYW1UeXBlRm4iLCJiaW5kIiwid3JhcHBlckZuIiwiZHluYW1pYyIsIiRhcnJheU1vZGUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTs7OztBQUlBO0FBQ0EsSUFBSUMsV0FBVyxtQkFBQUMsQ0FBUSxDQUFSLENBQWY7QUFDQSxJQUFJQyxlQUFlLG1CQUFBRCxDQUFRLENBQVIsQ0FBbkI7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7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LElBQVYsRUFBZ0I7QUFDakUsWUFBSThCLGNBQWN2QixLQUFLUCxJQUFMLEVBQVcrQixJQUFYLENBQWdCeEIsSUFBaEIsQ0FBbEI7QUFDQSxZQUFJeUIsWUFBWWhDLFNBQVMsUUFBVCxHQUFvQnVCLGtCQUFwQixHQUF5Q1QsWUFBekQ7QUFDQU4sY0FBTVIsSUFBTixJQUFjZ0MsVUFBVUYsV0FBVixDQUFkO0FBQ0gsS0FKRDtBQUtBcEQsYUFBU08sTUFBVCxDQUFnQixJQUFoQixFQUFzQjtBQUNsQmdELGlCQUFTMUIsS0FBSzBCLE9BREk7QUFFbEJqQyxjQUFNTyxLQUFLUCxJQUZPO0FBR2xCakIsaUJBQVN3QixLQUFLeEIsT0FISTtBQUlsQkMsaUJBQVN1QixLQUFLdkIsT0FKSTtBQUtsQkcsWUFBSTJCLGFBQWFQLEtBQUtwQixFQUFMLENBQVE0QyxJQUFSLENBQWF4QixJQUFiLENBQWIsRUFBaUMsSUFBakMsQ0FMYztBQU1sQjJCLG9CQUFZL0I7QUFOTSxLQUF0QjtBQVFIO0FBQ0QiLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgcGFyYW1zXG4gKi9cbi8qKiAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xuLyoqXG4gKiBBbiBpbnRlcm5hbCBjbGFzcyB3aGljaCBpbXBsZW1lbnRzIFtbUGFyYW1UeXBlRGVmaW5pdGlvbl1dLlxuICpcbiAqIEEgW1tQYXJhbVR5cGVEZWZpbml0aW9uXV0gaXMgYSBwbGFpbiBqYXZhc2NyaXB0IG9iamVjdCB1c2VkIHRvIHJlZ2lzdGVyIGN1c3RvbSBwYXJhbWV0ZXIgdHlwZXMuXG4gKiBXaGVuIGEgcGFyYW0gdHlwZSBkZWZpbml0aW9uIGlzIHJlZ2lzdGVyZWQsIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgY3JlYXRlZCBpbnRlcm5hbGx5LlxuICpcbiAqIFRoaXMgY2xhc3MgaGFzIG5haXZlIGltcGxlbWVudGF0aW9ucyBmb3IgYWxsIHRoZSBbW1BhcmFtVHlwZURlZmluaXRpb25dXSBtZXRob2RzLlxuICpcbiAqIFVzZWQgYnkgW1tVcmxNYXRjaGVyXV0gd2hlbiBtYXRjaGluZyBvciBmb3JtYXR0aW5nIFVSTHMsIG9yIGNvbXBhcmluZyBhbmQgdmFsaWRhdGluZyBwYXJhbWV0ZXIgdmFsdWVzLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIGBgYGpzXG4gKiB2YXIgcGFyYW1UeXBlRGVmID0ge1xuICogICBkZWNvZGU6IGZ1bmN0aW9uKHZhbCkgeyByZXR1cm4gcGFyc2VJbnQodmFsLCAxMCk7IH0sXG4gKiAgIGVuY29kZTogZnVuY3Rpb24odmFsKSB7IHJldHVybiB2YWwgJiYgdmFsLnRvU3RyaW5nKCk7IH0sXG4gKiAgIGVxdWFsczogZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gdGhpcy5pcyhhKSAmJiBhID09PSBiOyB9LFxuICogICBpczogZnVuY3Rpb24odmFsKSB7IHJldHVybiBhbmd1bGFyLmlzTnVtYmVyKHZhbCkgJiYgaXNGaW5pdGUodmFsKSAmJiB2YWwgJSAxID09PSAwOyB9LFxuICogICBwYXR0ZXJuOiAvXFxkKy9cbiAqIH1cbiAqXG4gKiB2YXIgcGFyYW1UeXBlID0gbmV3IFBhcmFtVHlwZShwYXJhbVR5cGVEZWYpO1xuICogYGBgXG4gKiBAaW50ZXJuYWxhcGlcbiAqL1xudmFyIFBhcmFtVHlwZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGRlZiAgQSBjb25maWd1cmF0aW9uIG9iamVjdCB3aGljaCBjb250YWlucyB0aGUgY3VzdG9tIHR5cGUgZGVmaW5pdGlvbi4gIFRoZSBvYmplY3Qnc1xuICAgICAqICAgICAgICBwcm9wZXJ0aWVzIHdpbGwgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgbWV0aG9kcyBhbmQvb3IgcGF0dGVybiBpbiBgUGFyYW1UeXBlYCdzIHB1YmxpYyBpbnRlcmZhY2UuXG4gICAgICogQHJldHVybnMgYSBuZXcgUGFyYW1UeXBlIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcmFtVHlwZShkZWYpIHtcbiAgICAgICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgICAgIHRoaXMucGF0dGVybiA9IC8uKi87XG4gICAgICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgICAgICB0aGlzLmluaGVyaXQgPSB0cnVlO1xuICAgICAgICBjb21tb25fMS5leHRlbmQodGhpcywgZGVmKTtcbiAgICB9XG4gICAgLy8gY29uc2lkZXIgdGhlc2UgZm91ciBtZXRob2RzIHRvIGJlIFwiYWJzdHJhY3QgbWV0aG9kc1wiIHRoYXQgc2hvdWxkIGJlIG92ZXJyaWRkZW5cbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBQYXJhbVR5cGUucHJvdG90eXBlLmlzID0gZnVuY3Rpb24gKHZhbCwga2V5KSB7IHJldHVybiB0cnVlOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFBhcmFtVHlwZS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKHZhbCwga2V5KSB7IHJldHVybiB2YWw7IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgUGFyYW1UeXBlLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAodmFsLCBrZXkpIHsgcmV0dXJuIHZhbDsgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBQYXJhbVR5cGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhID09IGI7IH07XG4gICAgUGFyYW1UeXBlLnByb3RvdHlwZS4kc3ViUGF0dGVybiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN1YiA9IHRoaXMucGF0dGVybi50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gc3ViLnN1YnN0cigxLCBzdWIubGVuZ3RoIC0gMik7XG4gICAgfTtcbiAgICBQYXJhbVR5cGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJ7UGFyYW1UeXBlOlwiICsgdGhpcy5uYW1lICsgXCJ9XCI7XG4gICAgfTtcbiAgICAvKiogR2l2ZW4gYW4gZW5jb2RlZCBzdHJpbmcsIG9yIGEgZGVjb2RlZCBvYmplY3QsIHJldHVybnMgYSBkZWNvZGVkIG9iamVjdCAqL1xuICAgIFBhcmFtVHlwZS5wcm90b3R5cGUuJG5vcm1hbGl6ZSA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXModmFsKSA/IHZhbCA6IHRoaXMuZGVjb2RlKHZhbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXcmFwcyBhbiBleGlzdGluZyBjdXN0b20gUGFyYW1UeXBlIGFzIGFuIGFycmF5IG9mIFBhcmFtVHlwZSwgZGVwZW5kaW5nIG9uICdtb2RlJy5cbiAgICAgKiBlLmcuOlxuICAgICAqIC0gdXJsbWF0Y2hlciBwYXR0ZXJuIFwiL3BhdGg/e3F1ZXJ5UGFyYW1bXTppbnR9XCJcbiAgICAgKiAtIHVybDogXCIvcGF0aD9xdWVyeVBhcmFtPTEmcXVlcnlQYXJhbT0yXG4gICAgICogLSAkc3RhdGVQYXJhbXMucXVlcnlQYXJhbSB3aWxsIGJlIFsxLCAyXVxuICAgICAqIGlmIGBtb2RlYCBpcyBcImF1dG9cIiwgdGhlblxuICAgICAqIC0gdXJsOiBcIi9wYXRoP3F1ZXJ5UGFyYW09MSB3aWxsIGNyZWF0ZSAkc3RhdGVQYXJhbXMucXVlcnlQYXJhbTogMVxuICAgICAqIC0gdXJsOiBcIi9wYXRoP3F1ZXJ5UGFyYW09MSZxdWVyeVBhcmFtPTIgd2lsbCBjcmVhdGUgJHN0YXRlUGFyYW1zLnF1ZXJ5UGFyYW06IFsxLCAyXVxuICAgICAqL1xuICAgIFBhcmFtVHlwZS5wcm90b3R5cGUuJGFzQXJyYXkgPSBmdW5jdGlvbiAobW9kZSwgaXNTZWFyY2gpIHtcbiAgICAgICAgaWYgKCFtb2RlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGlmIChtb2RlID09PSBcImF1dG9cIiAmJiAhaXNTZWFyY2gpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInYXV0bycgYXJyYXkgbW9kZSBpcyBmb3IgcXVlcnkgcGFyYW1ldGVycyBvbmx5XCIpO1xuICAgICAgICByZXR1cm4gbmV3IEFycmF5VHlwZSh0aGlzLCBtb2RlKTtcbiAgICB9O1xuICAgIHJldHVybiBQYXJhbVR5cGU7XG59KCkpO1xuZXhwb3J0cy5QYXJhbVR5cGUgPSBQYXJhbVR5cGU7XG4vKipcbiAqIFdyYXBzIHVwIGEgYFBhcmFtVHlwZWAgb2JqZWN0IHRvIGhhbmRsZSBhcnJheSB2YWx1ZXMuXG4gKiBAaW50ZXJuYWxhcGlcbiAqL1xuZnVuY3Rpb24gQXJyYXlUeXBlKHR5cGUsIG1vZGUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIC8vIFdyYXAgbm9uLWFycmF5IHZhbHVlIGFzIGFycmF5XG4gICAgZnVuY3Rpb24gYXJyYXlXcmFwKHZhbCkge1xuICAgICAgICByZXR1cm4gcHJlZGljYXRlc18xLmlzQXJyYXkodmFsKSA/IHZhbCA6IChwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKHZhbCkgPyBbdmFsXSA6IFtdKTtcbiAgICB9XG4gICAgLy8gVW53cmFwIGFycmF5IHZhbHVlIGZvciBcImF1dG9cIiBtb2RlLiBSZXR1cm4gdW5kZWZpbmVkIGZvciBlbXB0eSBhcnJheS5cbiAgICBmdW5jdGlvbiBhcnJheVVud3JhcCh2YWwpIHtcbiAgICAgICAgc3dpdGNoICh2YWwubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBtb2RlID09PSBcImF1dG9cIiA/IHZhbFswXSA6IHZhbDtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiB2YWw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gV3JhcHMgdHlwZSAoLmlzLy5lbmNvZGUvLmRlY29kZSkgZnVuY3Rpb25zIHRvIG9wZXJhdGUgb24gZWFjaCB2YWx1ZSBvZiBhbiBhcnJheVxuICAgIGZ1bmN0aW9uIGFycmF5SGFuZGxlcihjYWxsYmFjaywgYWxsVHJ1dGh5TW9kZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlQXJyYXkodmFsKSB7XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzQXJyYXkodmFsKSAmJiB2YWwubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgICAgICB2YXIgYXJyID0gYXJyYXlXcmFwKHZhbCk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29tbW9uXzEubWFwKGFyciwgY2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuIChhbGxUcnV0aHlNb2RlID09PSB0cnVlKSA/IGNvbW1vbl8xLmZpbHRlcihyZXN1bHQsIGZ1bmN0aW9uICh4KSB7IHJldHVybiAheDsgfSkubGVuZ3RoID09PSAwIDogYXJyYXlVbndyYXAocmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gV3JhcHMgdHlwZSAoLmVxdWFscykgZnVuY3Rpb25zIHRvIG9wZXJhdGUgb24gZWFjaCB2YWx1ZSBvZiBhbiBhcnJheVxuICAgIGZ1bmN0aW9uIGFycmF5RXF1YWxzSGFuZGxlcihjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlQXJyYXkodmFsMSwgdmFsMikge1xuICAgICAgICAgICAgdmFyIGxlZnQgPSBhcnJheVdyYXAodmFsMSksIHJpZ2h0ID0gYXJyYXlXcmFwKHZhbDIpO1xuICAgICAgICAgICAgaWYgKGxlZnQubGVuZ3RoICE9PSByaWdodC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWZ0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFjayhsZWZ0W2ldLCByaWdodFtpXSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBbJ2VuY29kZScsICdkZWNvZGUnLCAnZXF1YWxzJywgJyRub3JtYWxpemUnXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciBwYXJhbVR5cGVGbiA9IHR5cGVbbmFtZV0uYmluZCh0eXBlKTtcbiAgICAgICAgdmFyIHdyYXBwZXJGbiA9IG5hbWUgPT09ICdlcXVhbHMnID8gYXJyYXlFcXVhbHNIYW5kbGVyIDogYXJyYXlIYW5kbGVyO1xuICAgICAgICBfdGhpc1tuYW1lXSA9IHdyYXBwZXJGbihwYXJhbVR5cGVGbik7XG4gICAgfSk7XG4gICAgY29tbW9uXzEuZXh0ZW5kKHRoaXMsIHtcbiAgICAgICAgZHluYW1pYzogdHlwZS5keW5hbWljLFxuICAgICAgICBuYW1lOiB0eXBlLm5hbWUsXG4gICAgICAgIHBhdHRlcm46IHR5cGUucGF0dGVybixcbiAgICAgICAgaW5oZXJpdDogdHlwZS5pbmhlcml0LFxuICAgICAgICBpczogYXJyYXlIYW5kbGVyKHR5cGUuaXMuYmluZCh0eXBlKSwgdHJ1ZSksXG4gICAgICAgICRhcnJheU1vZGU6IG1vZGVcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcmFtVHlwZS5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3BhcmFtcy9wYXJhbVR5cGUuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///26\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @coreapi\n * @module transition\n */\n/** for typedoc */\nvar interface_1 = __webpack_require__(8);\nvar transition_1 = __webpack_require__(17);\nvar hookRegistry_1 = __webpack_require__(24);\nvar coreResolvables_1 = __webpack_require__(64);\nvar redirectTo_1 = __webpack_require__(65);\nvar onEnterExitRetain_1 = __webpack_require__(66);\nvar resolve_1 = __webpack_require__(67);\nvar views_1 = __webpack_require__(68);\nvar updateGlobals_1 = __webpack_require__(69);\nvar url_1 = __webpack_require__(70);\nvar lazyLoad_1 = __webpack_require__(46);\nvar transitionEventType_1 = __webpack_require__(47);\nvar transitionHook_1 = __webpack_require__(12);\nvar predicates_1 = __webpack_require__(1);\nvar common_1 = __webpack_require__(0);\nvar hof_1 = __webpack_require__(2);\nvar ignoredTransition_1 = __webpack_require__(71);\nvar invalidTransition_1 = __webpack_require__(72);\n/**\n * The default [[Transition]] options.\n *\n * Include this object when applying custom defaults:\n * let reloadOpts = { reload: true, notify: true }\n * let options = defaults(theirOpts, customDefaults, defaultOptions);\n */\nexports.defaultTransOpts = {\n    location: true,\n    relative: null,\n    inherit: false,\n    notify: true,\n    reload: false,\n    custom: {},\n    current: function current() {\n        return null;\n    },\n    source: "unknown"\n};\n/**\n * This class provides services related to Transitions.\n *\n * - Most importantly, it allows global Transition Hooks to be registered.\n * - It allows the default transition error handler to be set.\n * - It also has a factory function for creating new [[Transition]] objects, (used internally by the [[StateService]]).\n *\n * At bootstrap, [[UIRouter]] creates a single instance (singleton) of this class.\n */\nvar TransitionService = function () {\n    /** @hidden */\n    function TransitionService(_router) {\n        /** @hidden */\n        this._transitionCount = 0;\n        /** @hidden The transition hook types, such as `onEnter`, `onStart`, etc */\n        this._eventTypes = [];\n        /** @hidden The registered transition hooks */\n        this._registeredHooks = {};\n        /** @hidden The  paths on a criteria object */\n        this._criteriaPaths = {};\n        this._router = _router;\n        this.$view = _router.viewService;\n        this._deregisterHookFns = {};\n        this._pluginapi = common_1.createProxyFunctions(hof_1.val(this), {}, hof_1.val(this), [\'_definePathType\', \'_defineEvent\', \'_getPathTypes\', \'_getEvents\', \'getHooks\']);\n        this._defineCorePaths();\n        this._defineCoreEvents();\n        this._registerCoreTransitionHooks();\n    }\n    /**\n     * Registers a [[TransitionHookFn]], called *while a transition is being constructed*.\n     *\n     * Registers a transition lifecycle hook, which is invoked during transition construction.\n     *\n     * This low level hook should only be used by plugins.\n     * This can be a useful time for plugins to add resolves or mutate the transition as needed.\n     * The Sticky States plugin uses this hook to modify the treechanges.\n     *\n     * ### Lifecycle\n     *\n     * `onCreate` hooks are invoked *while a transition is being constructed*.\n     *\n     * ### Return value\n     *\n     * The hook\'s return value is ignored\n     *\n     * @internalapi\n     * @param criteria defines which Transitions the Hook should be invoked for.\n     * @param callback the hook function which will be invoked.\n     * @param options the registration options\n     * @returns a function which deregisters the hook.\n     */\n    TransitionService.prototype.onCreate = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    TransitionService.prototype.onBefore = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    TransitionService.prototype.onStart = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    TransitionService.prototype.onExit = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    TransitionService.prototype.onRetain = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    TransitionService.prototype.onEnter = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    TransitionService.prototype.onFinish = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    TransitionService.prototype.onSuccess = function (criteria, callback, options) {\n        return;\n    };\n    /** @inheritdoc */\n    TransitionService.prototype.onError = function (criteria, callback, options) {\n        return;\n    };\n    /**\n     * dispose\n     * @internalapi\n     */\n    TransitionService.prototype.dispose = function (router) {\n        common_1.values(this._registeredHooks).forEach(function (hooksArray) {\n            return hooksArray.forEach(function (hook) {\n                hook._deregistered = true;\n                common_1.removeFrom(hooksArray, hook);\n            });\n        });\n    };\n    /**\n     * Creates a new [[Transition]] object\n     *\n     * This is a factory function for creating new Transition objects.\n     * It is used internally by the [[StateService]] and should generally not be called by application code.\n     *\n     * @param fromPath the path to the current state (the from state)\n     * @param targetState the target state (destination)\n     * @returns a Transition\n     */\n    TransitionService.prototype.create = function (fromPath, targetState) {\n        return new transition_1.Transition(fromPath, targetState, this._router);\n    };\n    /** @hidden */\n    TransitionService.prototype._defineCoreEvents = function () {\n        var Phase = interface_1.TransitionHookPhase;\n        var TH = transitionHook_1.TransitionHook;\n        var paths = this._criteriaPaths;\n        var NORMAL_SORT = false,\n            REVERSE_SORT = true;\n        var ASYNCHRONOUS = false,\n            SYNCHRONOUS = true;\n        this._defineEvent("onCreate", Phase.CREATE, 0, paths.to, NORMAL_SORT, TH.LOG_REJECTED_RESULT, TH.THROW_ERROR, SYNCHRONOUS);\n        this._defineEvent("onBefore", Phase.BEFORE, 0, paths.to);\n        this._defineEvent("onStart", Phase.RUN, 0, paths.to);\n        this._defineEvent("onExit", Phase.RUN, 100, paths.exiting, REVERSE_SORT);\n        this._defineEvent("onRetain", Phase.RUN, 200, paths.retained);\n        this._defineEvent("onEnter", Phase.RUN, 300, paths.entering);\n        this._defineEvent("onFinish", Phase.RUN, 400, paths.to);\n        this._defineEvent("onSuccess", Phase.SUCCESS, 0, paths.to, NORMAL_SORT, TH.LOG_REJECTED_RESULT, TH.LOG_ERROR, SYNCHRONOUS);\n        this._defineEvent("onError", Phase.ERROR, 0, paths.to, NORMAL_SORT, TH.LOG_REJECTED_RESULT, TH.LOG_ERROR, SYNCHRONOUS);\n    };\n    /** @hidden */\n    TransitionService.prototype._defineCorePaths = function () {\n        var STATE = interface_1.TransitionHookScope.STATE,\n            TRANSITION = interface_1.TransitionHookScope.TRANSITION;\n        this._definePathType("to", TRANSITION);\n        this._definePathType("from", TRANSITION);\n        this._definePathType("exiting", STATE);\n        this._definePathType("retained", STATE);\n        this._definePathType("entering", STATE);\n    };\n    /** @hidden */\n    TransitionService.prototype._defineEvent = function (name, hookPhase, hookOrder, criteriaMatchPath, reverseSort, getResultHandler, getErrorHandler, synchronous) {\n        if (reverseSort === void 0) {\n            reverseSort = false;\n        }\n        if (getResultHandler === void 0) {\n            getResultHandler = transitionHook_1.TransitionHook.HANDLE_RESULT;\n        }\n        if (getErrorHandler === void 0) {\n            getErrorHandler = transitionHook_1.TransitionHook.REJECT_ERROR;\n        }\n        if (synchronous === void 0) {\n            synchronous = false;\n        }\n        var eventType = new transitionEventType_1.TransitionEventType(name, hookPhase, hookOrder, criteriaMatchPath, reverseSort, getResultHandler, getErrorHandler, synchronous);\n        this._eventTypes.push(eventType);\n        hookRegistry_1.makeEvent(this, this, eventType);\n    };\n    ;\n    /** @hidden */\n    TransitionService.prototype._getEvents = function (phase) {\n        var transitionHookTypes = predicates_1.isDefined(phase) ? this._eventTypes.filter(function (type) {\n            return type.hookPhase === phase;\n        }) : this._eventTypes.slice();\n        return transitionHookTypes.sort(function (l, r) {\n            var cmpByPhase = l.hookPhase - r.hookPhase;\n            return cmpByPhase === 0 ? l.hookOrder - r.hookOrder : cmpByPhase;\n        });\n    };\n    /**\n     * Adds a Path to be used as a criterion against a TreeChanges path\n     *\n     * For example: the `exiting` path in [[HookMatchCriteria]] is a STATE scoped path.\n     * It was defined by calling `defineTreeChangesCriterion(\'exiting\', TransitionHookScope.STATE)`\n     * Each state in the exiting path is checked against the criteria and returned as part of the match.\n     *\n     * Another example: the `to` path in [[HookMatchCriteria]] is a TRANSITION scoped path.\n     * It was defined by calling `defineTreeChangesCriterion(\'to\', TransitionHookScope.TRANSITION)`\n     * Only the tail of the `to` path is checked against the criteria and returned as part of the match.\n     *\n     * @hidden\n     */\n    TransitionService.prototype._definePathType = function (name, hookScope) {\n        this._criteriaPaths[name] = { name: name, scope: hookScope };\n    };\n    /** * @hidden */\n    TransitionService.prototype._getPathTypes = function () {\n        return this._criteriaPaths;\n    };\n    /** @hidden */\n    TransitionService.prototype.getHooks = function (hookName) {\n        return this._registeredHooks[hookName];\n    };\n    /** @hidden */\n    TransitionService.prototype._registerCoreTransitionHooks = function () {\n        var fns = this._deregisterHookFns;\n        fns.addCoreResolves = coreResolvables_1.registerAddCoreResolvables(this);\n        fns.ignored = ignoredTransition_1.registerIgnoredTransitionHook(this);\n        fns.invalid = invalidTransition_1.registerInvalidTransitionHook(this);\n        // Wire up redirectTo hook\n        fns.redirectTo = redirectTo_1.registerRedirectToHook(this);\n        // Wire up onExit/Retain/Enter state hooks\n        fns.onExit = onEnterExitRetain_1.registerOnExitHook(this);\n        fns.onRetain = onEnterExitRetain_1.registerOnRetainHook(this);\n        fns.onEnter = onEnterExitRetain_1.registerOnEnterHook(this);\n        // Wire up Resolve hooks\n        fns.eagerResolve = resolve_1.registerEagerResolvePath(this);\n        fns.lazyResolve = resolve_1.registerLazyResolveState(this);\n        // Wire up the View management hooks\n        fns.loadViews = views_1.registerLoadEnteringViews(this);\n        fns.activateViews = views_1.registerActivateViews(this);\n        // Updates global state after a transition\n        fns.updateGlobals = updateGlobals_1.registerUpdateGlobalState(this);\n        // After globals.current is updated at priority: 10000\n        fns.updateUrl = url_1.registerUpdateUrl(this);\n        // Lazy load state trees\n        fns.lazyLoad = lazyLoad_1.registerLazyLoadHook(this);\n    };\n    return TransitionService;\n}();\nexports.TransitionService = TransitionService;\n//# sourceMappingURL=transitionService.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3RyYW5zaXRpb24vdHJhbnNpdGlvblNlcnZpY2UuanM/NDFmYiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImludGVyZmFjZV8xIiwicmVxdWlyZSIsInRyYW5zaXRpb25fMSIsImhvb2tSZWdpc3RyeV8xIiwiY29yZVJlc29sdmFibGVzXzEiLCJyZWRpcmVjdFRvXzEiLCJvbkVudGVyRXhpdFJldGFpbl8xIiwicmVzb2x2ZV8xIiwidmlld3NfMSIsInVwZGF0ZUdsb2JhbHNfMSIsInVybF8xIiwibGF6eUxvYWRfMSIsInRyYW5zaXRpb25FdmVudFR5cGVfMSIsInRyYW5zaXRpb25Ib29rXzEiLCJwcmVkaWNhdGVzXzEiLCJjb21tb25fMSIsImhvZl8xIiwiaWdub3JlZFRyYW5zaXRpb25fMSIsImludmFsaWRUcmFuc2l0aW9uXzEiLCJkZWZhdWx0VHJhbnNPcHRzIiwibG9jYXRpb24iLCJyZWxhdGl2ZSIsImluaGVyaXQiLCJub3RpZnkiLCJyZWxvYWQiLCJjdXN0b20iLCJjdXJyZW50Iiwic291cmNlIiwiVHJhbnNpdGlvblNlcnZpY2UiLCJfcm91dGVyIiwiX3RyYW5zaXRpb25Db3VudCIsIl9ldmVudFR5cGVzIiwiX3JlZ2lzdGVyZWRIb29rcyIsIl9jcml0ZXJpYVBhdGhzIiwiJHZpZXciLCJ2aWV3U2VydmljZSIsIl9kZXJlZ2lzdGVySG9va0ZucyIsIl9wbHVnaW5hcGkiLCJjcmVhdGVQcm94eUZ1bmN0aW9ucyIsInZhbCIsIl9kZWZpbmVDb3JlUGF0aHMiLCJfZGVmaW5lQ29yZUV2ZW50cyIsIl9yZWdpc3RlckNvcmVUcmFuc2l0aW9uSG9va3MiLCJwcm90b3R5cGUiLCJvbkNyZWF0ZSIsImNyaXRlcmlhIiwiY2FsbGJhY2siLCJvcHRpb25zIiwib25CZWZvcmUiLCJvblN0YXJ0Iiwib25FeGl0Iiwib25SZXRhaW4iLCJvbkVudGVyIiwib25GaW5pc2giLCJvblN1Y2Nlc3MiLCJvbkVycm9yIiwiZGlzcG9zZSIsInJvdXRlciIsInZhbHVlcyIsImZvckVhY2giLCJob29rc0FycmF5IiwiaG9vayIsIl9kZXJlZ2lzdGVyZWQiLCJyZW1vdmVGcm9tIiwiY3JlYXRlIiwiZnJvbVBhdGgiLCJ0YXJnZXRTdGF0ZSIsIlRyYW5zaXRpb24iLCJQaGFzZSIsIlRyYW5zaXRpb25Ib29rUGhhc2UiLCJUSCIsIlRyYW5zaXRpb25Ib29rIiwicGF0aHMiLCJOT1JNQUxfU09SVCIsIlJFVkVSU0VfU09SVCIsIkFTWU5DSFJPTk9VUyIsIlNZTkNIUk9OT1VTIiwiX2RlZmluZUV2ZW50IiwiQ1JFQVRFIiwidG8iLCJMT0dfUkVKRUNURURfUkVTVUxUIiwiVEhST1dfRVJST1IiLCJCRUZPUkUiLCJSVU4iLCJleGl0aW5nIiwicmV0YWluZWQiLCJlbnRlcmluZyIsIlNVQ0NFU1MiLCJMT0dfRVJST1IiLCJFUlJPUiIsIlNUQVRFIiwiVHJhbnNpdGlvbkhvb2tTY29wZSIsIlRSQU5TSVRJT04iLCJfZGVmaW5lUGF0aFR5cGUiLCJuYW1lIiwiaG9va1BoYXNlIiwiaG9va09yZGVyIiwiY3JpdGVyaWFNYXRjaFBhdGgiLCJyZXZlcnNlU29ydCIsImdldFJlc3VsdEhhbmRsZXIiLCJnZXRFcnJvckhhbmRsZXIiLCJzeW5jaHJvbm91cyIsIkhBTkRMRV9SRVNVTFQiLCJSRUpFQ1RfRVJST1IiLCJldmVudFR5cGUiLCJUcmFuc2l0aW9uRXZlbnRUeXBlIiwicHVzaCIsIm1ha2VFdmVudCIsIl9nZXRFdmVudHMiLCJwaGFzZSIsInRyYW5zaXRpb25Ib29rVHlwZXMiLCJpc0RlZmluZWQiLCJmaWx0ZXIiLCJ0eXBlIiwic2xpY2UiLCJzb3J0IiwibCIsInIiLCJjbXBCeVBoYXNlIiwiaG9va1Njb3BlIiwic2NvcGUiLCJfZ2V0UGF0aFR5cGVzIiwiZ2V0SG9va3MiLCJob29rTmFtZSIsImZucyIsImFkZENvcmVSZXNvbHZlcyIsInJlZ2lzdGVyQWRkQ29yZVJlc29sdmFibGVzIiwiaWdub3JlZCIsInJlZ2lzdGVySWdub3JlZFRyYW5zaXRpb25Ib29rIiwiaW52YWxpZCIsInJlZ2lzdGVySW52YWxpZFRyYW5zaXRpb25Ib29rIiwicmVkaXJlY3RUbyIsInJlZ2lzdGVyUmVkaXJlY3RUb0hvb2siLCJyZWdpc3Rlck9uRXhpdEhvb2siLCJyZWdpc3Rlck9uUmV0YWluSG9vayIsInJlZ2lzdGVyT25FbnRlckhvb2siLCJlYWdlclJlc29sdmUiLCJyZWdpc3RlckVhZ2VyUmVzb2x2ZVBhdGgiLCJsYXp5UmVzb2x2ZSIsInJlZ2lzdGVyTGF6eVJlc29sdmVTdGF0ZSIsImxvYWRWaWV3cyIsInJlZ2lzdGVyTG9hZEVudGVyaW5nVmlld3MiLCJhY3RpdmF0ZVZpZXdzIiwicmVnaXN0ZXJBY3RpdmF0ZVZpZXdzIiwidXBkYXRlR2xvYmFscyIsInJlZ2lzdGVyVXBkYXRlR2xvYmFsU3RhdGUiLCJ1cGRhdGVVcmwiLCJyZWdpc3RlclVwZGF0ZVVybCIsImxhenlMb2FkIiwicmVnaXN0ZXJMYXp5TG9hZEhvb2siXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTs7OztBQUlBO0FBQ0EsSUFBSUMsY0FBYyxtQkFBQUMsQ0FBUSxDQUFSLENBQWxCO0FBQ0EsSUFBSUMsZUFBZSxtQkFBQUQsQ0FBUSxFQUFSLENBQW5CO0FBQ0EsSUFBSUUsaUJBQWlCLG1CQUFBRixDQUFRLEVBQVIsQ0FBckI7QUFDQSxJQUFJRyxvQkFBb0IsbUJBQUFILENBQVEsRUFBUixDQUF4QjtBQUNBLElBQUlJLGVBQWUsbUJBQUFKLENBQVEsRUFBUixDQUFuQjtBQUNBLElBQUlLLHNCQUFzQixtQkFBQUwsQ0FBUSxFQUFSLENBQTFCO0FBQ0EsSUFBSU0sWUFBWSxtQkFBQU4sQ0FBUSxFQUFSLENBQWhCO0FBQ0EsSUFBSU8sVUFBVSxtQkFBQVAsQ0FBUSxFQUFSLENBQWQ7QUFDQSxJQUFJUSxrQkFBa0IsbUJBQUFSLENBQVEsRUFBUixDQUF0QjtBQUNBLElBQUlTLFFBQVEsbUJBQUFULENBQVEsRUFBUixDQUFaO0FBQ0EsSUFBSVUsYUFBYSxtQkFBQVYsQ0FBUSxFQUFSLENBQWpCO0FBQ0EsSUFBSVcsd0JBQXdCLG1CQUFBWCxDQUFRLEVBQVIsQ0FBNUI7QUFDQSxJQUFJWSxtQkFBbUIsbUJBQUFaLENBQVEsRUFBUixDQUF2QjtBQUNBLElBQUlhLGVBQWUsbUJBQUFiLENBQVEsQ0FBUixDQUFuQjtBQUNBLElBQUljLFdBQVcsbUJBQUFkLENBQVEsQ0FBUixDQUFmO0FBQ0EsSUFBSWUsUUFBUSxtQkFBQWYsQ0FBUSxDQUFSLENBQVo7QUFDQSxJQUFJZ0Isc0JBQXNCLG1CQUFBaEIsQ0FBUSxFQUFSLENBQTFCO0FBQ0EsSUFBSWlCLHNCQUFzQixtQkFBQWpCLENBQVEsRUFBUixDQUExQjtBQUNBOzs7Ozs7O0FBT0FILFFBQVFxQixnQkFBUixHQUEyQjtBQUN2QkMsY0FBVSxJQURhO0FBRXZCQyxjQUFVLElBRmE7QUFHdkJDLGFBQVMsS0FIYztBQUl2QkMsWUFBUSxJQUplO0FBS3ZCQyxZQUFRLEtBTGU7QUFNdkJDLFlBQVEsRUFOZTtBQU92QkMsYUFBUyxtQkFBWTtBQUFFLGVBQU8sSUFBUDtBQUFjLEtBUGQ7QUFRdkJDLFlBQVE7QUFSZSxDQUEzQjtBQVVBOzs7Ozs7Ozs7QUFTQSxJQUFJQyxvQkFBcUIsWUFBWTtBQUNqQztBQUNBLGFBQVNBLGlCQUFULENBQTJCQyxPQUEzQixFQUFvQztBQUNoQztBQUNBLGFBQUtDLGdCQUFMLEdBQXdCLENBQXhCO0FBQ0E7QUFDQSxhQUFLQyxXQUFMLEdBQW1CLEVBQW5CO0FBQ0E7QUFDQSxhQUFLQyxnQkFBTCxHQUF3QixFQUF4QjtBQUNBO0FBQ0EsYUFBS0MsY0FBTCxHQUFzQixFQUF0QjtBQUNBLGFBQUtKLE9BQUwsR0FBZUEsT0FBZjtBQUNBLGFBQUtLLEtBQUwsR0FBYUwsUUFBUU0sV0FBckI7QUFDQSxhQUFLQyxrQkFBTCxHQUEwQixFQUExQjtBQUNBLGFBQUtDLFVBQUwsR0FBa0J0QixTQUFTdUIsb0JBQVQsQ0FBOEJ0QixNQUFNdUIsR0FBTixDQUFVLElBQVYsQ0FBOUIsRUFBK0MsRUFBL0MsRUFBbUR2QixNQUFNdUIsR0FBTixDQUFVLElBQVYsQ0FBbkQsRUFBb0UsQ0FDbEYsaUJBRGtGLEVBRWxGLGNBRmtGLEVBR2xGLGVBSGtGLEVBSWxGLFlBSmtGLEVBS2xGLFVBTGtGLENBQXBFLENBQWxCO0FBT0EsYUFBS0MsZ0JBQUw7QUFDQSxhQUFLQyxpQkFBTDtBQUNBLGFBQUtDLDRCQUFMO0FBQ0g7QUFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1QkFkLHNCQUFrQmUsU0FBbEIsQ0FBNEJDLFFBQTVCLEdBQXVDLFVBQVVDLFFBQVYsRUFBb0JDLFFBQXBCLEVBQThCQyxPQUE5QixFQUF1QztBQUFFO0FBQVMsS0FBekY7QUFDQTtBQUNBbkIsc0JBQWtCZSxTQUFsQixDQUE0QkssUUFBNUIsR0FBdUMsVUFBVUgsUUFBVixFQUFvQkMsUUFBcEIsRUFBOEJDLE9BQTlCLEVBQXVDO0FBQUU7QUFBUyxLQUF6RjtBQUNBO0FBQ0FuQixzQkFBa0JlLFNBQWxCLENBQTRCTSxPQUE1QixHQUFzQyxVQUFVSixRQUFWLEVBQW9CQyxRQUFwQixFQUE4QkMsT0FBOUIsRUFBdUM7QUFBRTtBQUFTLEtBQXhGO0FBQ0E7QUFDQW5CLHNCQUFrQmUsU0FBbEIsQ0FBNEJPLE1BQTVCLEdBQXFDLFVBQVVMLFFBQVYsRUFBb0JDLFFBQXBCLEVBQThCQyxPQUE5QixFQUF1QztBQUFFO0FBQVMsS0FBdkY7QUFDQTtBQUNBbkIsc0JBQWtCZSxTQUFsQixDQUE0QlEsUUFBNUIsR0FBdUMsVUFBVU4sUUFBVixFQUFvQkMsUUFBcEIsRUFBOEJDLE9BQTlCLEVBQXVDO0FBQUU7QUFBUyxLQUF6RjtBQUNBO0FBQ0FuQixzQkFBa0JlLFNBQWxCLENBQTRCUyxPQUE1QixHQUFzQyxVQUFVUCxRQUFWLEVBQW9CQyxRQUFwQixFQUE4QkMsT0FBOUIsRUFBdUM7QUFBRTtBQUFTLEtBQXhGO0FBQ0E7QUFDQW5CLHNCQUFrQmUsU0FBbEIsQ0FBNEJVLFFBQTVCLEdBQXVDLFVBQVVSLFFBQVYsRUFBb0JDLFFBQXBCLEVBQThCQyxPQUE5QixFQUF1QztBQUFFO0FBQVMsS0FBekY7QUFDQTtBQUNBbkIsc0JBQWtCZSxTQUFsQixDQUE0QlcsU0FBNUIsR0FBd0MsVUFBVVQsUUFBVixFQUFvQkMsUUFBcEIsRUFBOEJDLE9BQTlCLEVBQXVDO0FBQUU7QUFBUyxLQUExRjtBQUNBO0FBQ0FuQixzQkFBa0JlLFNBQWxCLENBQTRCWSxPQUE1QixHQUFzQyxVQUFVVixRQUFWLEVBQW9CQyxRQUFwQixFQUE4QkMsT0FBOUIsRUFBdUM7QUFBRTtBQUFTLEtBQXhGO0FBQ0E7Ozs7QUFJQW5CLHNCQUFrQmUsU0FBbEIsQ0FBNEJhLE9BQTVCLEdBQXNDLFVBQVVDLE1BQVYsRUFBa0I7QUFDcEQxQyxpQkFBUzJDLE1BQVQsQ0FBZ0IsS0FBSzFCLGdCQUFyQixFQUF1QzJCLE9BQXZDLENBQStDLFVBQVVDLFVBQVYsRUFBc0I7QUFBRSxtQkFBT0EsV0FBV0QsT0FBWCxDQUFtQixVQUFVRSxJQUFWLEVBQWdCO0FBQzdHQSxxQkFBS0MsYUFBTCxHQUFxQixJQUFyQjtBQUNBL0MseUJBQVNnRCxVQUFULENBQW9CSCxVQUFwQixFQUFnQ0MsSUFBaEM7QUFDSCxhQUg2RSxDQUFQO0FBR2xFLFNBSEw7QUFJSCxLQUxEO0FBTUE7Ozs7Ozs7Ozs7QUFVQWpDLHNCQUFrQmUsU0FBbEIsQ0FBNEJxQixNQUE1QixHQUFxQyxVQUFVQyxRQUFWLEVBQW9CQyxXQUFwQixFQUFpQztBQUNsRSxlQUFPLElBQUloRSxhQUFhaUUsVUFBakIsQ0FBNEJGLFFBQTVCLEVBQXNDQyxXQUF0QyxFQUFtRCxLQUFLckMsT0FBeEQsQ0FBUDtBQUNILEtBRkQ7QUFHQTtBQUNBRCxzQkFBa0JlLFNBQWxCLENBQTRCRixpQkFBNUIsR0FBZ0QsWUFBWTtBQUN4RCxZQUFJMkIsUUFBUXBFLFlBQVlxRSxtQkFBeEI7QUFDQSxZQUFJQyxLQUFLekQsaUJBQWlCMEQsY0FBMUI7QUFDQSxZQUFJQyxRQUFRLEtBQUt2QyxjQUFqQjtBQUNBLFlBQUl3QyxjQUFjLEtBQWxCO0FBQUEsWUFBeUJDLGVBQWUsSUFBeEM7QUFDQSxZQUFJQyxlQUFlLEtBQW5CO0FBQUEsWUFBMEJDLGNBQWMsSUFBeEM7QUFDQSxhQUFLQyxZQUFMLENBQWtCLFVBQWxCLEVBQThCVCxNQUFNVSxNQUFwQyxFQUE0QyxDQUE1QyxFQUErQ04sTUFBTU8sRUFBckQsRUFBeUROLFdBQXpELEVBQXNFSCxHQUFHVSxtQkFBekUsRUFBOEZWLEdBQUdXLFdBQWpHLEVBQThHTCxXQUE5RztBQUNBLGFBQUtDLFlBQUwsQ0FBa0IsVUFBbEIsRUFBOEJULE1BQU1jLE1BQXBDLEVBQTRDLENBQTVDLEVBQStDVixNQUFNTyxFQUFyRDtBQUNBLGFBQUtGLFlBQUwsQ0FBa0IsU0FBbEIsRUFBNkJULE1BQU1lLEdBQW5DLEVBQXdDLENBQXhDLEVBQTJDWCxNQUFNTyxFQUFqRDtBQUNBLGFBQUtGLFlBQUwsQ0FBa0IsUUFBbEIsRUFBNEJULE1BQU1lLEdBQWxDLEVBQXVDLEdBQXZDLEVBQTRDWCxNQUFNWSxPQUFsRCxFQUEyRFYsWUFBM0Q7QUFDQSxhQUFLRyxZQUFMLENBQWtCLFVBQWxCLEVBQThCVCxNQUFNZSxHQUFwQyxFQUF5QyxHQUF6QyxFQUE4Q1gsTUFBTWEsUUFBcEQ7QUFDQSxhQUFLUixZQUFMLENBQWtCLFNBQWxCLEVBQTZCVCxNQUFNZSxHQUFuQyxFQUF3QyxHQUF4QyxFQUE2Q1gsTUFBTWMsUUFBbkQ7QUFDQSxhQUFLVCxZQUFMLENBQWtCLFVBQWxCLEVBQThCVCxNQUFNZSxHQUFwQyxFQUF5QyxHQUF6QyxFQUE4Q1gsTUFBTU8sRUFBcEQ7QUFDQSxhQUFLRixZQUFMLENBQWtCLFdBQWxCLEVBQStCVCxNQUFNbUIsT0FBckMsRUFBOEMsQ0FBOUMsRUFBaURmLE1BQU1PLEVBQXZELEVBQTJETixXQUEzRCxFQUF3RUgsR0FBR1UsbUJBQTNFLEVBQWdHVixHQUFHa0IsU0FBbkcsRUFBOEdaLFdBQTlHO0FBQ0EsYUFBS0MsWUFBTCxDQUFrQixTQUFsQixFQUE2QlQsTUFBTXFCLEtBQW5DLEVBQTBDLENBQTFDLEVBQTZDakIsTUFBTU8sRUFBbkQsRUFBdUROLFdBQXZELEVBQW9FSCxHQUFHVSxtQkFBdkUsRUFBNEZWLEdBQUdrQixTQUEvRixFQUEwR1osV0FBMUc7QUFDSCxLQWZEO0FBZ0JBO0FBQ0FoRCxzQkFBa0JlLFNBQWxCLENBQTRCSCxnQkFBNUIsR0FBK0MsWUFBWTtBQUN2RCxZQUFJa0QsUUFBUTFGLFlBQVkyRixtQkFBWixDQUFnQ0QsS0FBNUM7QUFBQSxZQUFtREUsYUFBYTVGLFlBQVkyRixtQkFBWixDQUFnQ0MsVUFBaEc7QUFDQSxhQUFLQyxlQUFMLENBQXFCLElBQXJCLEVBQTJCRCxVQUEzQjtBQUNBLGFBQUtDLGVBQUwsQ0FBcUIsTUFBckIsRUFBNkJELFVBQTdCO0FBQ0EsYUFBS0MsZUFBTCxDQUFxQixTQUFyQixFQUFnQ0gsS0FBaEM7QUFDQSxhQUFLRyxlQUFMLENBQXFCLFVBQXJCLEVBQWlDSCxLQUFqQztBQUNBLGFBQUtHLGVBQUwsQ0FBcUIsVUFBckIsRUFBaUNILEtBQWpDO0FBQ0gsS0FQRDtBQVFBO0FBQ0E5RCxzQkFBa0JlLFNBQWxCLENBQTRCa0MsWUFBNUIsR0FBMkMsVUFBVWlCLElBQVYsRUFBZ0JDLFNBQWhCLEVBQTJCQyxTQUEzQixFQUFzQ0MsaUJBQXRDLEVBQXlEQyxXQUF6RCxFQUFzRUMsZ0JBQXRFLEVBQXdGQyxlQUF4RixFQUF5R0MsV0FBekcsRUFBc0g7QUFDN0osWUFBSUgsZ0JBQWdCLEtBQUssQ0FBekIsRUFBNEI7QUFBRUEsMEJBQWMsS0FBZDtBQUFzQjtBQUNwRCxZQUFJQyxxQkFBcUIsS0FBSyxDQUE5QixFQUFpQztBQUFFQSwrQkFBbUJ0RixpQkFBaUIwRCxjQUFqQixDQUFnQytCLGFBQW5EO0FBQW1FO0FBQ3RHLFlBQUlGLG9CQUFvQixLQUFLLENBQTdCLEVBQWdDO0FBQUVBLDhCQUFrQnZGLGlCQUFpQjBELGNBQWpCLENBQWdDZ0MsWUFBbEQ7QUFBaUU7QUFDbkcsWUFBSUYsZ0JBQWdCLEtBQUssQ0FBekIsRUFBNEI7QUFBRUEsMEJBQWMsS0FBZDtBQUFzQjtBQUNwRCxZQUFJRyxZQUFZLElBQUk1RixzQkFBc0I2RixtQkFBMUIsQ0FBOENYLElBQTlDLEVBQW9EQyxTQUFwRCxFQUErREMsU0FBL0QsRUFBMEVDLGlCQUExRSxFQUE2RkMsV0FBN0YsRUFBMEdDLGdCQUExRyxFQUE0SEMsZUFBNUgsRUFBNklDLFdBQTdJLENBQWhCO0FBQ0EsYUFBS3RFLFdBQUwsQ0FBaUIyRSxJQUFqQixDQUFzQkYsU0FBdEI7QUFDQXJHLHVCQUFld0csU0FBZixDQUF5QixJQUF6QixFQUErQixJQUEvQixFQUFxQ0gsU0FBckM7QUFDSCxLQVJEO0FBU0E7QUFDQTtBQUNBNUUsc0JBQWtCZSxTQUFsQixDQUE0QmlFLFVBQTVCLEdBQXlDLFVBQVVDLEtBQVYsRUFBaUI7QUFDdEQsWUFBSUMsc0JBQXNCaEcsYUFBYWlHLFNBQWIsQ0FBdUJGLEtBQXZCLElBQ3RCLEtBQUs5RSxXQUFMLENBQWlCaUYsTUFBakIsQ0FBd0IsVUFBVUMsSUFBVixFQUFnQjtBQUFFLG1CQUFPQSxLQUFLbEIsU0FBTCxLQUFtQmMsS0FBMUI7QUFBa0MsU0FBNUUsQ0FEc0IsR0FFdEIsS0FBSzlFLFdBQUwsQ0FBaUJtRixLQUFqQixFQUZKO0FBR0EsZUFBT0osb0JBQW9CSyxJQUFwQixDQUF5QixVQUFVQyxDQUFWLEVBQWFDLENBQWIsRUFBZ0I7QUFDNUMsZ0JBQUlDLGFBQWFGLEVBQUVyQixTQUFGLEdBQWNzQixFQUFFdEIsU0FBakM7QUFDQSxtQkFBT3VCLGVBQWUsQ0FBZixHQUFtQkYsRUFBRXBCLFNBQUYsR0FBY3FCLEVBQUVyQixTQUFuQyxHQUErQ3NCLFVBQXREO0FBQ0gsU0FITSxDQUFQO0FBSUgsS0FSRDtBQVNBOzs7Ozs7Ozs7Ozs7O0FBYUExRixzQkFBa0JlLFNBQWxCLENBQTRCa0QsZUFBNUIsR0FBOEMsVUFBVUMsSUFBVixFQUFnQnlCLFNBQWhCLEVBQTJCO0FBQ3JFLGFBQUt0RixjQUFMLENBQW9CNkQsSUFBcEIsSUFBNEIsRUFBRUEsTUFBTUEsSUFBUixFQUFjMEIsT0FBT0QsU0FBckIsRUFBNUI7QUFDSCxLQUZEO0FBR0E7QUFDQTNGLHNCQUFrQmUsU0FBbEIsQ0FBNEI4RSxhQUE1QixHQUE0QyxZQUFZO0FBQ3BELGVBQU8sS0FBS3hGLGNBQVo7QUFDSCxLQUZEO0FBR0E7QUFDQUwsc0JBQWtCZSxTQUFsQixDQUE0QitFLFFBQTVCLEdBQXVDLFVBQVVDLFFBQVYsRUFBb0I7QUFDdkQsZUFBTyxLQUFLM0YsZ0JBQUwsQ0FBc0IyRixRQUF0QixDQUFQO0FBQ0gsS0FGRDtBQUdBO0FBQ0EvRixzQkFBa0JlLFNBQWxCLENBQTRCRCw0QkFBNUIsR0FBMkQsWUFBWTtBQUNuRSxZQUFJa0YsTUFBTSxLQUFLeEYsa0JBQWY7QUFDQXdGLFlBQUlDLGVBQUosR0FBc0J6SCxrQkFBa0IwSCwwQkFBbEIsQ0FBNkMsSUFBN0MsQ0FBdEI7QUFDQUYsWUFBSUcsT0FBSixHQUFjOUcsb0JBQW9CK0csNkJBQXBCLENBQWtELElBQWxELENBQWQ7QUFDQUosWUFBSUssT0FBSixHQUFjL0csb0JBQW9CZ0gsNkJBQXBCLENBQWtELElBQWxELENBQWQ7QUFDQTtBQUNBTixZQUFJTyxVQUFKLEdBQWlCOUgsYUFBYStILHNCQUFiLENBQW9DLElBQXBDLENBQWpCO0FBQ0E7QUFDQVIsWUFBSTFFLE1BQUosR0FBYTVDLG9CQUFvQitILGtCQUFwQixDQUF1QyxJQUF2QyxDQUFiO0FBQ0FULFlBQUl6RSxRQUFKLEdBQWU3QyxvQkFBb0JnSSxvQkFBcEIsQ0FBeUMsSUFBekMsQ0FBZjtBQUNBVixZQUFJeEUsT0FBSixHQUFjOUMsb0JBQW9CaUksbUJBQXBCLENBQXdDLElBQXhDLENBQWQ7QUFDQTtBQUNBWCxZQUFJWSxZQUFKLEdBQW1CakksVUFBVWtJLHdCQUFWLENBQW1DLElBQW5DLENBQW5CO0FBQ0FiLFlBQUljLFdBQUosR0FBa0JuSSxVQUFVb0ksd0JBQVYsQ0FBbUMsSUFBbkMsQ0FBbEI7QUFDQTtBQUNBZixZQUFJZ0IsU0FBSixHQUFnQnBJLFFBQVFxSSx5QkFBUixDQUFrQyxJQUFsQyxDQUFoQjtBQUNBakIsWUFBSWtCLGFBQUosR0FBb0J0SSxRQUFRdUkscUJBQVIsQ0FBOEIsSUFBOUIsQ0FBcEI7QUFDQTtBQUNBbkIsWUFBSW9CLGFBQUosR0FBb0J2SSxnQkFBZ0J3SSx5QkFBaEIsQ0FBMEMsSUFBMUMsQ0FBcEI7QUFDQTtBQUNBckIsWUFBSXNCLFNBQUosR0FBZ0J4SSxNQUFNeUksaUJBQU4sQ0FBd0IsSUFBeEIsQ0FBaEI7QUFDQTtBQUNBdkIsWUFBSXdCLFFBQUosR0FBZXpJLFdBQVcwSSxvQkFBWCxDQUFnQyxJQUFoQyxDQUFmO0FBQ0gsS0F2QkQ7QUF3QkEsV0FBT3pILGlCQUFQO0FBQ0gsQ0F6THdCLEVBQXpCO0FBMExBOUIsUUFBUThCLGlCQUFSLEdBQTRCQSxpQkFBNUI7QUFDQSIsImZpbGUiOiIyNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBAY29yZWFwaVxuICogQG1vZHVsZSB0cmFuc2l0aW9uXG4gKi9cbi8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIGludGVyZmFjZV8xID0gcmVxdWlyZShcIi4vaW50ZXJmYWNlXCIpO1xudmFyIHRyYW5zaXRpb25fMSA9IHJlcXVpcmUoXCIuL3RyYW5zaXRpb25cIik7XG52YXIgaG9va1JlZ2lzdHJ5XzEgPSByZXF1aXJlKFwiLi9ob29rUmVnaXN0cnlcIik7XG52YXIgY29yZVJlc29sdmFibGVzXzEgPSByZXF1aXJlKFwiLi4vaG9va3MvY29yZVJlc29sdmFibGVzXCIpO1xudmFyIHJlZGlyZWN0VG9fMSA9IHJlcXVpcmUoXCIuLi9ob29rcy9yZWRpcmVjdFRvXCIpO1xudmFyIG9uRW50ZXJFeGl0UmV0YWluXzEgPSByZXF1aXJlKFwiLi4vaG9va3Mvb25FbnRlckV4aXRSZXRhaW5cIik7XG52YXIgcmVzb2x2ZV8xID0gcmVxdWlyZShcIi4uL2hvb2tzL3Jlc29sdmVcIik7XG52YXIgdmlld3NfMSA9IHJlcXVpcmUoXCIuLi9ob29rcy92aWV3c1wiKTtcbnZhciB1cGRhdGVHbG9iYWxzXzEgPSByZXF1aXJlKFwiLi4vaG9va3MvdXBkYXRlR2xvYmFsc1wiKTtcbnZhciB1cmxfMSA9IHJlcXVpcmUoXCIuLi9ob29rcy91cmxcIik7XG52YXIgbGF6eUxvYWRfMSA9IHJlcXVpcmUoXCIuLi9ob29rcy9sYXp5TG9hZFwiKTtcbnZhciB0cmFuc2l0aW9uRXZlbnRUeXBlXzEgPSByZXF1aXJlKFwiLi90cmFuc2l0aW9uRXZlbnRUeXBlXCIpO1xudmFyIHRyYW5zaXRpb25Ib29rXzEgPSByZXF1aXJlKFwiLi90cmFuc2l0aW9uSG9va1wiKTtcbnZhciBwcmVkaWNhdGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vaG9mXCIpO1xudmFyIGlnbm9yZWRUcmFuc2l0aW9uXzEgPSByZXF1aXJlKFwiLi4vaG9va3MvaWdub3JlZFRyYW5zaXRpb25cIik7XG52YXIgaW52YWxpZFRyYW5zaXRpb25fMSA9IHJlcXVpcmUoXCIuLi9ob29rcy9pbnZhbGlkVHJhbnNpdGlvblwiKTtcbi8qKlxuICogVGhlIGRlZmF1bHQgW1tUcmFuc2l0aW9uXV0gb3B0aW9ucy5cbiAqXG4gKiBJbmNsdWRlIHRoaXMgb2JqZWN0IHdoZW4gYXBwbHlpbmcgY3VzdG9tIGRlZmF1bHRzOlxuICogbGV0IHJlbG9hZE9wdHMgPSB7IHJlbG9hZDogdHJ1ZSwgbm90aWZ5OiB0cnVlIH1cbiAqIGxldCBvcHRpb25zID0gZGVmYXVsdHModGhlaXJPcHRzLCBjdXN0b21EZWZhdWx0cywgZGVmYXVsdE9wdGlvbnMpO1xuICovXG5leHBvcnRzLmRlZmF1bHRUcmFuc09wdHMgPSB7XG4gICAgbG9jYXRpb246IHRydWUsXG4gICAgcmVsYXRpdmU6IG51bGwsXG4gICAgaW5oZXJpdDogZmFsc2UsXG4gICAgbm90aWZ5OiB0cnVlLFxuICAgIHJlbG9hZDogZmFsc2UsXG4gICAgY3VzdG9tOiB7fSxcbiAgICBjdXJyZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgIHNvdXJjZTogXCJ1bmtub3duXCJcbn07XG4vKipcbiAqIFRoaXMgY2xhc3MgcHJvdmlkZXMgc2VydmljZXMgcmVsYXRlZCB0byBUcmFuc2l0aW9ucy5cbiAqXG4gKiAtIE1vc3QgaW1wb3J0YW50bHksIGl0IGFsbG93cyBnbG9iYWwgVHJhbnNpdGlvbiBIb29rcyB0byBiZSByZWdpc3RlcmVkLlxuICogLSBJdCBhbGxvd3MgdGhlIGRlZmF1bHQgdHJhbnNpdGlvbiBlcnJvciBoYW5kbGVyIHRvIGJlIHNldC5cbiAqIC0gSXQgYWxzbyBoYXMgYSBmYWN0b3J5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgW1tUcmFuc2l0aW9uXV0gb2JqZWN0cywgKHVzZWQgaW50ZXJuYWxseSBieSB0aGUgW1tTdGF0ZVNlcnZpY2VdXSkuXG4gKlxuICogQXQgYm9vdHN0cmFwLCBbW1VJUm91dGVyXV0gY3JlYXRlcyBhIHNpbmdsZSBpbnN0YW5jZSAoc2luZ2xldG9uKSBvZiB0aGlzIGNsYXNzLlxuICovXG52YXIgVHJhbnNpdGlvblNlcnZpY2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgZnVuY3Rpb24gVHJhbnNpdGlvblNlcnZpY2UoX3JvdXRlcikge1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uQ291bnQgPSAwO1xuICAgICAgICAvKiogQGhpZGRlbiBUaGUgdHJhbnNpdGlvbiBob29rIHR5cGVzLCBzdWNoIGFzIGBvbkVudGVyYCwgYG9uU3RhcnRgLCBldGMgKi9cbiAgICAgICAgdGhpcy5fZXZlbnRUeXBlcyA9IFtdO1xuICAgICAgICAvKiogQGhpZGRlbiBUaGUgcmVnaXN0ZXJlZCB0cmFuc2l0aW9uIGhvb2tzICovXG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyZWRIb29rcyA9IHt9O1xuICAgICAgICAvKiogQGhpZGRlbiBUaGUgIHBhdGhzIG9uIGEgY3JpdGVyaWEgb2JqZWN0ICovXG4gICAgICAgIHRoaXMuX2NyaXRlcmlhUGF0aHMgPSB7fTtcbiAgICAgICAgdGhpcy5fcm91dGVyID0gX3JvdXRlcjtcbiAgICAgICAgdGhpcy4kdmlldyA9IF9yb3V0ZXIudmlld1NlcnZpY2U7XG4gICAgICAgIHRoaXMuX2RlcmVnaXN0ZXJIb29rRm5zID0ge307XG4gICAgICAgIHRoaXMuX3BsdWdpbmFwaSA9IGNvbW1vbl8xLmNyZWF0ZVByb3h5RnVuY3Rpb25zKGhvZl8xLnZhbCh0aGlzKSwge30sIGhvZl8xLnZhbCh0aGlzKSwgW1xuICAgICAgICAgICAgJ19kZWZpbmVQYXRoVHlwZScsXG4gICAgICAgICAgICAnX2RlZmluZUV2ZW50JyxcbiAgICAgICAgICAgICdfZ2V0UGF0aFR5cGVzJyxcbiAgICAgICAgICAgICdfZ2V0RXZlbnRzJyxcbiAgICAgICAgICAgICdnZXRIb29rcycsXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLl9kZWZpbmVDb3JlUGF0aHMoKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lQ29yZUV2ZW50cygpO1xuICAgICAgICB0aGlzLl9yZWdpc3RlckNvcmVUcmFuc2l0aW9uSG9va3MoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgW1tUcmFuc2l0aW9uSG9va0ZuXV0sIGNhbGxlZCAqd2hpbGUgYSB0cmFuc2l0aW9uIGlzIGJlaW5nIGNvbnN0cnVjdGVkKi5cbiAgICAgKlxuICAgICAqIFJlZ2lzdGVycyBhIHRyYW5zaXRpb24gbGlmZWN5Y2xlIGhvb2ssIHdoaWNoIGlzIGludm9rZWQgZHVyaW5nIHRyYW5zaXRpb24gY29uc3RydWN0aW9uLlxuICAgICAqXG4gICAgICogVGhpcyBsb3cgbGV2ZWwgaG9vayBzaG91bGQgb25seSBiZSB1c2VkIGJ5IHBsdWdpbnMuXG4gICAgICogVGhpcyBjYW4gYmUgYSB1c2VmdWwgdGltZSBmb3IgcGx1Z2lucyB0byBhZGQgcmVzb2x2ZXMgb3IgbXV0YXRlIHRoZSB0cmFuc2l0aW9uIGFzIG5lZWRlZC5cbiAgICAgKiBUaGUgU3RpY2t5IFN0YXRlcyBwbHVnaW4gdXNlcyB0aGlzIGhvb2sgdG8gbW9kaWZ5IHRoZSB0cmVlY2hhbmdlcy5cbiAgICAgKlxuICAgICAqICMjIyBMaWZlY3ljbGVcbiAgICAgKlxuICAgICAqIGBvbkNyZWF0ZWAgaG9va3MgYXJlIGludm9rZWQgKndoaWxlIGEgdHJhbnNpdGlvbiBpcyBiZWluZyBjb25zdHJ1Y3RlZCouXG4gICAgICpcbiAgICAgKiAjIyMgUmV0dXJuIHZhbHVlXG4gICAgICpcbiAgICAgKiBUaGUgaG9vaydzIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKiBAcGFyYW0gY3JpdGVyaWEgZGVmaW5lcyB3aGljaCBUcmFuc2l0aW9ucyB0aGUgSG9vayBzaG91bGQgYmUgaW52b2tlZCBmb3IuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBob29rIGZ1bmN0aW9uIHdoaWNoIHdpbGwgYmUgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyB0aGUgcmVnaXN0cmF0aW9uIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGRlcmVnaXN0ZXJzIHRoZSBob29rLlxuICAgICAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5vbkNyZWF0ZSA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5vbkJlZm9yZSA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5vblN0YXJ0ID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLm9uRXhpdCA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5vblJldGFpbiA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5vbkVudGVyID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLm9uRmluaXNoID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLm9uU3VjY2VzcyA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqXG4gICAgICogZGlzcG9zZVxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKHJvdXRlcikge1xuICAgICAgICBjb21tb25fMS52YWx1ZXModGhpcy5fcmVnaXN0ZXJlZEhvb2tzKS5mb3JFYWNoKGZ1bmN0aW9uIChob29rc0FycmF5KSB7IHJldHVybiBob29rc0FycmF5LmZvckVhY2goZnVuY3Rpb24gKGhvb2spIHtcbiAgICAgICAgICAgIGhvb2suX2RlcmVnaXN0ZXJlZCA9IHRydWU7XG4gICAgICAgICAgICBjb21tb25fMS5yZW1vdmVGcm9tKGhvb2tzQXJyYXksIGhvb2spO1xuICAgICAgICB9KTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFtbVHJhbnNpdGlvbl1dIG9iamVjdFxuICAgICAqXG4gICAgICogVGhpcyBpcyBhIGZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBUcmFuc2l0aW9uIG9iamVjdHMuXG4gICAgICogSXQgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBbW1N0YXRlU2VydmljZV1dIGFuZCBzaG91bGQgZ2VuZXJhbGx5IG5vdCBiZSBjYWxsZWQgYnkgYXBwbGljYXRpb24gY29kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmcm9tUGF0aCB0aGUgcGF0aCB0byB0aGUgY3VycmVudCBzdGF0ZSAodGhlIGZyb20gc3RhdGUpXG4gICAgICogQHBhcmFtIHRhcmdldFN0YXRlIHRoZSB0YXJnZXQgc3RhdGUgKGRlc3RpbmF0aW9uKVxuICAgICAqIEByZXR1cm5zIGEgVHJhbnNpdGlvblxuICAgICAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoZnJvbVBhdGgsIHRhcmdldFN0YXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgdHJhbnNpdGlvbl8xLlRyYW5zaXRpb24oZnJvbVBhdGgsIHRhcmdldFN0YXRlLCB0aGlzLl9yb3V0ZXIpO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUuX2RlZmluZUNvcmVFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBQaGFzZSA9IGludGVyZmFjZV8xLlRyYW5zaXRpb25Ib29rUGhhc2U7XG4gICAgICAgIHZhciBUSCA9IHRyYW5zaXRpb25Ib29rXzEuVHJhbnNpdGlvbkhvb2s7XG4gICAgICAgIHZhciBwYXRocyA9IHRoaXMuX2NyaXRlcmlhUGF0aHM7XG4gICAgICAgIHZhciBOT1JNQUxfU09SVCA9IGZhbHNlLCBSRVZFUlNFX1NPUlQgPSB0cnVlO1xuICAgICAgICB2YXIgQVNZTkNIUk9OT1VTID0gZmFsc2UsIFNZTkNIUk9OT1VTID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZGVmaW5lRXZlbnQoXCJvbkNyZWF0ZVwiLCBQaGFzZS5DUkVBVEUsIDAsIHBhdGhzLnRvLCBOT1JNQUxfU09SVCwgVEguTE9HX1JFSkVDVEVEX1JFU1VMVCwgVEguVEhST1dfRVJST1IsIFNZTkNIUk9OT1VTKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lRXZlbnQoXCJvbkJlZm9yZVwiLCBQaGFzZS5CRUZPUkUsIDAsIHBhdGhzLnRvKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lRXZlbnQoXCJvblN0YXJ0XCIsIFBoYXNlLlJVTiwgMCwgcGF0aHMudG8pO1xuICAgICAgICB0aGlzLl9kZWZpbmVFdmVudChcIm9uRXhpdFwiLCBQaGFzZS5SVU4sIDEwMCwgcGF0aHMuZXhpdGluZywgUkVWRVJTRV9TT1JUKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lRXZlbnQoXCJvblJldGFpblwiLCBQaGFzZS5SVU4sIDIwMCwgcGF0aHMucmV0YWluZWQpO1xuICAgICAgICB0aGlzLl9kZWZpbmVFdmVudChcIm9uRW50ZXJcIiwgUGhhc2UuUlVOLCAzMDAsIHBhdGhzLmVudGVyaW5nKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lRXZlbnQoXCJvbkZpbmlzaFwiLCBQaGFzZS5SVU4sIDQwMCwgcGF0aHMudG8pO1xuICAgICAgICB0aGlzLl9kZWZpbmVFdmVudChcIm9uU3VjY2Vzc1wiLCBQaGFzZS5TVUNDRVNTLCAwLCBwYXRocy50bywgTk9STUFMX1NPUlQsIFRILkxPR19SRUpFQ1RFRF9SRVNVTFQsIFRILkxPR19FUlJPUiwgU1lOQ0hST05PVVMpO1xuICAgICAgICB0aGlzLl9kZWZpbmVFdmVudChcIm9uRXJyb3JcIiwgUGhhc2UuRVJST1IsIDAsIHBhdGhzLnRvLCBOT1JNQUxfU09SVCwgVEguTE9HX1JFSkVDVEVEX1JFU1VMVCwgVEguTE9HX0VSUk9SLCBTWU5DSFJPTk9VUyk7XG4gICAgfTtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5fZGVmaW5lQ29yZVBhdGhzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgU1RBVEUgPSBpbnRlcmZhY2VfMS5UcmFuc2l0aW9uSG9va1Njb3BlLlNUQVRFLCBUUkFOU0lUSU9OID0gaW50ZXJmYWNlXzEuVHJhbnNpdGlvbkhvb2tTY29wZS5UUkFOU0lUSU9OO1xuICAgICAgICB0aGlzLl9kZWZpbmVQYXRoVHlwZShcInRvXCIsIFRSQU5TSVRJT04pO1xuICAgICAgICB0aGlzLl9kZWZpbmVQYXRoVHlwZShcImZyb21cIiwgVFJBTlNJVElPTik7XG4gICAgICAgIHRoaXMuX2RlZmluZVBhdGhUeXBlKFwiZXhpdGluZ1wiLCBTVEFURSk7XG4gICAgICAgIHRoaXMuX2RlZmluZVBhdGhUeXBlKFwicmV0YWluZWRcIiwgU1RBVEUpO1xuICAgICAgICB0aGlzLl9kZWZpbmVQYXRoVHlwZShcImVudGVyaW5nXCIsIFNUQVRFKTtcbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLl9kZWZpbmVFdmVudCA9IGZ1bmN0aW9uIChuYW1lLCBob29rUGhhc2UsIGhvb2tPcmRlciwgY3JpdGVyaWFNYXRjaFBhdGgsIHJldmVyc2VTb3J0LCBnZXRSZXN1bHRIYW5kbGVyLCBnZXRFcnJvckhhbmRsZXIsIHN5bmNocm9ub3VzKSB7XG4gICAgICAgIGlmIChyZXZlcnNlU29ydCA9PT0gdm9pZCAwKSB7IHJldmVyc2VTb3J0ID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKGdldFJlc3VsdEhhbmRsZXIgPT09IHZvaWQgMCkgeyBnZXRSZXN1bHRIYW5kbGVyID0gdHJhbnNpdGlvbkhvb2tfMS5UcmFuc2l0aW9uSG9vay5IQU5ETEVfUkVTVUxUOyB9XG4gICAgICAgIGlmIChnZXRFcnJvckhhbmRsZXIgPT09IHZvaWQgMCkgeyBnZXRFcnJvckhhbmRsZXIgPSB0cmFuc2l0aW9uSG9va18xLlRyYW5zaXRpb25Ib29rLlJFSkVDVF9FUlJPUjsgfVxuICAgICAgICBpZiAoc3luY2hyb25vdXMgPT09IHZvaWQgMCkgeyBzeW5jaHJvbm91cyA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBuZXcgdHJhbnNpdGlvbkV2ZW50VHlwZV8xLlRyYW5zaXRpb25FdmVudFR5cGUobmFtZSwgaG9va1BoYXNlLCBob29rT3JkZXIsIGNyaXRlcmlhTWF0Y2hQYXRoLCByZXZlcnNlU29ydCwgZ2V0UmVzdWx0SGFuZGxlciwgZ2V0RXJyb3JIYW5kbGVyLCBzeW5jaHJvbm91cyk7XG4gICAgICAgIHRoaXMuX2V2ZW50VHlwZXMucHVzaChldmVudFR5cGUpO1xuICAgICAgICBob29rUmVnaXN0cnlfMS5tYWtlRXZlbnQodGhpcywgdGhpcywgZXZlbnRUeXBlKTtcbiAgICB9O1xuICAgIDtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5fZ2V0RXZlbnRzID0gZnVuY3Rpb24gKHBoYXNlKSB7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uSG9va1R5cGVzID0gcHJlZGljYXRlc18xLmlzRGVmaW5lZChwaGFzZSkgP1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIHR5cGUuaG9va1BoYXNlID09PSBwaGFzZTsgfSkgOlxuICAgICAgICAgICAgdGhpcy5fZXZlbnRUeXBlcy5zbGljZSgpO1xuICAgICAgICByZXR1cm4gdHJhbnNpdGlvbkhvb2tUeXBlcy5zb3J0KGZ1bmN0aW9uIChsLCByKSB7XG4gICAgICAgICAgICB2YXIgY21wQnlQaGFzZSA9IGwuaG9va1BoYXNlIC0gci5ob29rUGhhc2U7XG4gICAgICAgICAgICByZXR1cm4gY21wQnlQaGFzZSA9PT0gMCA/IGwuaG9va09yZGVyIC0gci5ob29rT3JkZXIgOiBjbXBCeVBoYXNlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBQYXRoIHRvIGJlIHVzZWQgYXMgYSBjcml0ZXJpb24gYWdhaW5zdCBhIFRyZWVDaGFuZ2VzIHBhdGhcbiAgICAgKlxuICAgICAqIEZvciBleGFtcGxlOiB0aGUgYGV4aXRpbmdgIHBhdGggaW4gW1tIb29rTWF0Y2hDcml0ZXJpYV1dIGlzIGEgU1RBVEUgc2NvcGVkIHBhdGguXG4gICAgICogSXQgd2FzIGRlZmluZWQgYnkgY2FsbGluZyBgZGVmaW5lVHJlZUNoYW5nZXNDcml0ZXJpb24oJ2V4aXRpbmcnLCBUcmFuc2l0aW9uSG9va1Njb3BlLlNUQVRFKWBcbiAgICAgKiBFYWNoIHN0YXRlIGluIHRoZSBleGl0aW5nIHBhdGggaXMgY2hlY2tlZCBhZ2FpbnN0IHRoZSBjcml0ZXJpYSBhbmQgcmV0dXJuZWQgYXMgcGFydCBvZiB0aGUgbWF0Y2guXG4gICAgICpcbiAgICAgKiBBbm90aGVyIGV4YW1wbGU6IHRoZSBgdG9gIHBhdGggaW4gW1tIb29rTWF0Y2hDcml0ZXJpYV1dIGlzIGEgVFJBTlNJVElPTiBzY29wZWQgcGF0aC5cbiAgICAgKiBJdCB3YXMgZGVmaW5lZCBieSBjYWxsaW5nIGBkZWZpbmVUcmVlQ2hhbmdlc0NyaXRlcmlvbigndG8nLCBUcmFuc2l0aW9uSG9va1Njb3BlLlRSQU5TSVRJT04pYFxuICAgICAqIE9ubHkgdGhlIHRhaWwgb2YgdGhlIGB0b2AgcGF0aCBpcyBjaGVja2VkIGFnYWluc3QgdGhlIGNyaXRlcmlhIGFuZCByZXR1cm5lZCBhcyBwYXJ0IG9mIHRoZSBtYXRjaC5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUuX2RlZmluZVBhdGhUeXBlID0gZnVuY3Rpb24gKG5hbWUsIGhvb2tTY29wZSkge1xuICAgICAgICB0aGlzLl9jcml0ZXJpYVBhdGhzW25hbWVdID0geyBuYW1lOiBuYW1lLCBzY29wZTogaG9va1Njb3BlIH07XG4gICAgfTtcbiAgICAvKiogKiBAaGlkZGVuICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLl9nZXRQYXRoVHlwZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcml0ZXJpYVBhdGhzO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUuZ2V0SG9va3MgPSBmdW5jdGlvbiAoaG9va05hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZ2lzdGVyZWRIb29rc1tob29rTmFtZV07XG4gICAgfTtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5fcmVnaXN0ZXJDb3JlVHJhbnNpdGlvbkhvb2tzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZm5zID0gdGhpcy5fZGVyZWdpc3Rlckhvb2tGbnM7XG4gICAgICAgIGZucy5hZGRDb3JlUmVzb2x2ZXMgPSBjb3JlUmVzb2x2YWJsZXNfMS5yZWdpc3RlckFkZENvcmVSZXNvbHZhYmxlcyh0aGlzKTtcbiAgICAgICAgZm5zLmlnbm9yZWQgPSBpZ25vcmVkVHJhbnNpdGlvbl8xLnJlZ2lzdGVySWdub3JlZFRyYW5zaXRpb25Ib29rKHRoaXMpO1xuICAgICAgICBmbnMuaW52YWxpZCA9IGludmFsaWRUcmFuc2l0aW9uXzEucmVnaXN0ZXJJbnZhbGlkVHJhbnNpdGlvbkhvb2sodGhpcyk7XG4gICAgICAgIC8vIFdpcmUgdXAgcmVkaXJlY3RUbyBob29rXG4gICAgICAgIGZucy5yZWRpcmVjdFRvID0gcmVkaXJlY3RUb18xLnJlZ2lzdGVyUmVkaXJlY3RUb0hvb2sodGhpcyk7XG4gICAgICAgIC8vIFdpcmUgdXAgb25FeGl0L1JldGFpbi9FbnRlciBzdGF0ZSBob29rc1xuICAgICAgICBmbnMub25FeGl0ID0gb25FbnRlckV4aXRSZXRhaW5fMS5yZWdpc3Rlck9uRXhpdEhvb2sodGhpcyk7XG4gICAgICAgIGZucy5vblJldGFpbiA9IG9uRW50ZXJFeGl0UmV0YWluXzEucmVnaXN0ZXJPblJldGFpbkhvb2sodGhpcyk7XG4gICAgICAgIGZucy5vbkVudGVyID0gb25FbnRlckV4aXRSZXRhaW5fMS5yZWdpc3Rlck9uRW50ZXJIb29rKHRoaXMpO1xuICAgICAgICAvLyBXaXJlIHVwIFJlc29sdmUgaG9va3NcbiAgICAgICAgZm5zLmVhZ2VyUmVzb2x2ZSA9IHJlc29sdmVfMS5yZWdpc3RlckVhZ2VyUmVzb2x2ZVBhdGgodGhpcyk7XG4gICAgICAgIGZucy5sYXp5UmVzb2x2ZSA9IHJlc29sdmVfMS5yZWdpc3RlckxhenlSZXNvbHZlU3RhdGUodGhpcyk7XG4gICAgICAgIC8vIFdpcmUgdXAgdGhlIFZpZXcgbWFuYWdlbWVudCBob29rc1xuICAgICAgICBmbnMubG9hZFZpZXdzID0gdmlld3NfMS5yZWdpc3RlckxvYWRFbnRlcmluZ1ZpZXdzKHRoaXMpO1xuICAgICAgICBmbnMuYWN0aXZhdGVWaWV3cyA9IHZpZXdzXzEucmVnaXN0ZXJBY3RpdmF0ZVZpZXdzKHRoaXMpO1xuICAgICAgICAvLyBVcGRhdGVzIGdsb2JhbCBzdGF0ZSBhZnRlciBhIHRyYW5zaXRpb25cbiAgICAgICAgZm5zLnVwZGF0ZUdsb2JhbHMgPSB1cGRhdGVHbG9iYWxzXzEucmVnaXN0ZXJVcGRhdGVHbG9iYWxTdGF0ZSh0aGlzKTtcbiAgICAgICAgLy8gQWZ0ZXIgZ2xvYmFscy5jdXJyZW50IGlzIHVwZGF0ZWQgYXQgcHJpb3JpdHk6IDEwMDAwXG4gICAgICAgIGZucy51cGRhdGVVcmwgPSB1cmxfMS5yZWdpc3RlclVwZGF0ZVVybCh0aGlzKTtcbiAgICAgICAgLy8gTGF6eSBsb2FkIHN0YXRlIHRyZWVzXG4gICAgICAgIGZucy5sYXp5TG9hZCA9IGxhenlMb2FkXzEucmVnaXN0ZXJMYXp5TG9hZEhvb2sodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gVHJhbnNpdGlvblNlcnZpY2U7XG59KCkpO1xuZXhwb3J0cy5UcmFuc2l0aW9uU2VydmljZSA9IFRyYW5zaXRpb25TZXJ2aWNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNpdGlvblNlcnZpY2UuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi90cmFuc2l0aW9uL3RyYW5zaXRpb25TZXJ2aWNlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///27\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * # Angular 1 types\n *\n * UI-Router core provides various Typescript types which you can use for code completion and validating parameter values, etc.\n * The customizations to the core types for Angular UI-Router are documented here.\n *\n * The optional [[$resolve]] service is also documented here.\n *\n * @module ng1\n * @preferred\n */\n/** for typedoc */\nvar angular_1 = __webpack_require__(10);\nvar core_1 = __webpack_require__(4);\nvar views_1 = __webpack_require__(29);\nvar templateFactory_1 = __webpack_require__(80);\nvar stateProvider_1 = __webpack_require__(56);\nvar onEnterExitRetain_1 = __webpack_require__(81);\nvar locationServices_1 = __webpack_require__(82);\nvar urlRouterProvider_1 = __webpack_require__(57);\nangular_1.ng.module(\"ui.router.angular1\", []);\nvar mod_init = angular_1.ng.module('ui.router.init', []);\nvar mod_util = angular_1.ng.module('ui.router.util', ['ng', 'ui.router.init']);\nvar mod_rtr = angular_1.ng.module('ui.router.router', ['ui.router.util']);\nvar mod_state = angular_1.ng.module('ui.router.state', ['ui.router.router', 'ui.router.util', 'ui.router.angular1']);\nvar mod_main = angular_1.ng.module('ui.router', ['ui.router.init', 'ui.router.state', 'ui.router.angular1']);\nvar mod_cmpt = angular_1.ng.module('ui.router.compat', ['ui.router']); // tslint:disable-line\nvar router = null;\n$uiRouter.$inject = ['$locationProvider'];\n/** This angular 1 provider instantiates a Router and exposes its services via the angular injector */\nfunction $uiRouter($locationProvider) {\n    // Create a new instance of the Router when the $uiRouterProvider is initialized\n    router = this.router = new core_1.UIRouter();\n    router.stateProvider = new stateProvider_1.StateProvider(router.stateRegistry, router.stateService);\n    // Apply ng1 specific StateBuilder code for `views`, `resolve`, and `onExit/Retain/Enter` properties\n    router.stateRegistry.decorator(\"views\", views_1.ng1ViewsBuilder);\n    router.stateRegistry.decorator(\"onExit\", onEnterExitRetain_1.getStateHookBuilder(\"onExit\"));\n    router.stateRegistry.decorator(\"onRetain\", onEnterExitRetain_1.getStateHookBuilder(\"onRetain\"));\n    router.stateRegistry.decorator(\"onEnter\", onEnterExitRetain_1.getStateHookBuilder(\"onEnter\"));\n    router.viewService._pluginapi._viewConfigFactory('ng1', views_1.getNg1ViewConfigFactory());\n    var ng1LocationService = router.locationService = router.locationConfig = new locationServices_1.Ng1LocationServices($locationProvider);\n    locationServices_1.Ng1LocationServices.monkeyPatchPathParameterType(router);\n    // backwards compat: also expose router instance as $uiRouterProvider.router\n    router['router'] = router;\n    router['$get'] = $get;\n    $get.$inject = ['$location', '$browser', '$sniffer', '$rootScope', '$http', '$templateCache'];\n    function $get($location, $browser, $sniffer, $rootScope, $http, $templateCache) {\n        ng1LocationService._runtimeServices($rootScope, $location, $sniffer, $browser);\n        delete router['router'];\n        delete router['$get'];\n        return router;\n    }\n    return router;\n}\nvar getProviderFor = function getProviderFor(serviceName) {\n    return ['$uiRouterProvider', function ($urp) {\n        var service = $urp.router[serviceName];\n        service[\"$get\"] = function () {\n            return service;\n        };\n        return service;\n    }];\n};\n// This effectively calls $get() on `$uiRouterProvider` to trigger init (when ng enters runtime)\nrunBlock.$inject = ['$injector', '$q', '$uiRouter'];\nfunction runBlock($injector, $q, $uiRouter) {\n    core_1.services.$injector = $injector;\n    core_1.services.$q = $q;\n    // The $injector is now available.\n    // Find any resolvables that had dependency annotation deferred\n    $uiRouter.stateRegistry.get().map(function (x) {\n        return x.$$state().resolvables;\n    }).reduce(core_1.unnestR, []).filter(function (x) {\n        return x.deps === \"deferred\";\n    }).forEach(function (resolvable) {\n        return resolvable.deps = $injector.annotate(resolvable.resolveFn);\n    });\n}\n// $urlRouter service and $urlRouterProvider\nvar getUrlRouterProvider = function getUrlRouterProvider(uiRouter) {\n    return uiRouter.urlRouterProvider = new urlRouterProvider_1.UrlRouterProvider(uiRouter);\n};\n// $state service and $stateProvider\n// $urlRouter service and $urlRouterProvider\nvar getStateProvider = function getStateProvider() {\n    return core_1.extend(router.stateProvider, { $get: function $get() {\n            return router.stateService;\n        } });\n};\nwatchDigests.$inject = ['$rootScope'];\nfunction watchDigests($rootScope) {\n    $rootScope.$watch(function () {\n        core_1.trace.approximateDigests++;\n    });\n}\nexports.watchDigests = watchDigests;\nmod_init.provider(\"$uiRouter\", $uiRouter);\nmod_rtr.provider('$urlRouter', ['$uiRouterProvider', getUrlRouterProvider]);\nmod_util.provider('$urlService', getProviderFor('urlService'));\nmod_util.provider('$urlMatcherFactory', ['$uiRouterProvider', function () {\n    return router.urlMatcherFactory;\n}]);\nmod_util.provider('$templateFactory', function () {\n    return new templateFactory_1.TemplateFactory();\n});\nmod_state.provider('$stateRegistry', getProviderFor('stateRegistry'));\nmod_state.provider('$uiRouterGlobals', getProviderFor('globals'));\nmod_state.provider('$transitions', getProviderFor('transitionService'));\nmod_state.provider('$state', ['$uiRouterProvider', getStateProvider]);\nmod_state.factory('$stateParams', ['$uiRouter', function ($uiRouter) {\n    return $uiRouter.globals.params;\n}]);\nmod_main.factory('$view', function () {\n    return router.viewService;\n});\nmod_main.service(\"$trace\", function () {\n    return core_1.trace;\n});\nmod_main.run(watchDigests);\nmod_util.run(['$urlMatcherFactory', function ($urlMatcherFactory) {}]);\nmod_state.run(['$state', function ($state) {}]);\nmod_rtr.run(['$urlRouter', function ($urlRouter) {}]);\nmod_init.run(runBlock);\n/** @hidden TODO: find a place to move this */\nexports.getLocals = function (ctx) {\n    var tokens = ctx.getTokens().filter(core_1.isString);\n    var tuples = tokens.map(function (key) {\n        var resolvable = ctx.getResolvable(key);\n        var waitPolicy = ctx.getPolicy(resolvable).async;\n        return [key, waitPolicy === 'NOWAIT' ? resolvable.promise : resolvable.data];\n    });\n    return tuples.reduce(core_1.applyPairs, {});\n};\n//# sourceMappingURL=services.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL3NlcnZpY2VzLmpzPzQyODMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJhbmd1bGFyXzEiLCJyZXF1aXJlIiwiY29yZV8xIiwidmlld3NfMSIsInRlbXBsYXRlRmFjdG9yeV8xIiwic3RhdGVQcm92aWRlcl8xIiwib25FbnRlckV4aXRSZXRhaW5fMSIsImxvY2F0aW9uU2VydmljZXNfMSIsInVybFJvdXRlclByb3ZpZGVyXzEiLCJuZyIsIm1vZHVsZSIsIm1vZF9pbml0IiwibW9kX3V0aWwiLCJtb2RfcnRyIiwibW9kX3N0YXRlIiwibW9kX21haW4iLCJtb2RfY21wdCIsInJvdXRlciIsIiR1aVJvdXRlciIsIiRpbmplY3QiLCIkbG9jYXRpb25Qcm92aWRlciIsIlVJUm91dGVyIiwic3RhdGVQcm92aWRlciIsIlN0YXRlUHJvdmlkZXIiLCJzdGF0ZVJlZ2lzdHJ5Iiwic3RhdGVTZXJ2aWNlIiwiZGVjb3JhdG9yIiwibmcxVmlld3NCdWlsZGVyIiwiZ2V0U3RhdGVIb29rQnVpbGRlciIsInZpZXdTZXJ2aWNlIiwiX3BsdWdpbmFwaSIsIl92aWV3Q29uZmlnRmFjdG9yeSIsImdldE5nMVZpZXdDb25maWdGYWN0b3J5IiwibmcxTG9jYXRpb25TZXJ2aWNlIiwibG9jYXRpb25TZXJ2aWNlIiwibG9jYXRpb25Db25maWciLCJOZzFMb2NhdGlvblNlcnZpY2VzIiwibW9ua2V5UGF0Y2hQYXRoUGFyYW1ldGVyVHlwZSIsIiRnZXQiLCIkbG9jYXRpb24iLCIkYnJvd3NlciIsIiRzbmlmZmVyIiwiJHJvb3RTY29wZSIsIiRodHRwIiwiJHRlbXBsYXRlQ2FjaGUiLCJfcnVudGltZVNlcnZpY2VzIiwiZ2V0UHJvdmlkZXJGb3IiLCJzZXJ2aWNlTmFtZSIsIiR1cnAiLCJzZXJ2aWNlIiwicnVuQmxvY2siLCIkaW5qZWN0b3IiLCIkcSIsInNlcnZpY2VzIiwiZ2V0IiwibWFwIiwieCIsIiQkc3RhdGUiLCJyZXNvbHZhYmxlcyIsInJlZHVjZSIsInVubmVzdFIiLCJmaWx0ZXIiLCJkZXBzIiwiZm9yRWFjaCIsInJlc29sdmFibGUiLCJhbm5vdGF0ZSIsInJlc29sdmVGbiIsImdldFVybFJvdXRlclByb3ZpZGVyIiwidWlSb3V0ZXIiLCJ1cmxSb3V0ZXJQcm92aWRlciIsIlVybFJvdXRlclByb3ZpZGVyIiwiZ2V0U3RhdGVQcm92aWRlciIsImV4dGVuZCIsIndhdGNoRGlnZXN0cyIsIiR3YXRjaCIsInRyYWNlIiwiYXBwcm94aW1hdGVEaWdlc3RzIiwicHJvdmlkZXIiLCJ1cmxNYXRjaGVyRmFjdG9yeSIsIlRlbXBsYXRlRmFjdG9yeSIsImZhY3RvcnkiLCJnbG9iYWxzIiwicGFyYW1zIiwicnVuIiwiJHVybE1hdGNoZXJGYWN0b3J5IiwiJHN0YXRlIiwiJHVybFJvdXRlciIsImdldExvY2FscyIsImN0eCIsInRva2VucyIsImdldFRva2VucyIsImlzU3RyaW5nIiwidHVwbGVzIiwia2V5IiwiZ2V0UmVzb2x2YWJsZSIsIndhaXRQb2xpY3kiLCJnZXRQb2xpY3kiLCJhc3luYyIsInByb21pc2UiLCJkYXRhIiwiYXBwbHlQYWlycyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBOzs7Ozs7Ozs7OztBQVdBO0FBQ0EsSUFBSUMsWUFBWSxtQkFBQUMsQ0FBUSxFQUFSLENBQWhCO0FBQ0EsSUFBSUMsU0FBUyxtQkFBQUQsQ0FBUSxDQUFSLENBQWI7QUFDQSxJQUFJRSxVQUFVLG1CQUFBRixDQUFRLEVBQVIsQ0FBZDtBQUNBLElBQUlHLG9CQUFvQixtQkFBQUgsQ0FBUSxFQUFSLENBQXhCO0FBQ0EsSUFBSUksa0JBQWtCLG1CQUFBSixDQUFRLEVBQVIsQ0FBdEI7QUFDQSxJQUFJSyxzQkFBc0IsbUJBQUFMLENBQVEsRUFB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Q0EsUUFBSUMsU0FBU0gsT0FBT2xDLEdBQVAsQ0FBVyxVQUFVc0MsR0FBVixFQUFlO0FBQ25DLFlBQUk3QixhQUFhd0IsSUFBSU0sYUFBSixDQUFrQkQsR0FBbEIsQ0FBakI7QUFDQSxZQUFJRSxhQUFhUCxJQUFJUSxTQUFKLENBQWNoQyxVQUFkLEVBQTBCaUMsS0FBM0M7QUFDQSxlQUFPLENBQUNKLEdBQUQsRUFBTUUsZUFBZSxRQUFmLEdBQTBCL0IsV0FBV2tDLE9BQXJDLEdBQStDbEMsV0FBV21DLElBQWhFLENBQVA7QUFDSCxLQUpZLENBQWI7QUFLQSxXQUFPUCxPQUFPakMsTUFBUCxDQUFjekQsT0FBT2tHLFVBQXJCLEVBQWlDLEVBQWpDLENBQVA7QUFDSCxDQVJEO0FBU0EiLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogIyBBbmd1bGFyIDEgdHlwZXNcbiAqXG4gKiBVSS1Sb3V0ZXIgY29yZSBwcm92aWRlcyB2YXJpb3VzIFR5cGVzY3JpcHQgdHlwZXMgd2hpY2ggeW91IGNhbiB1c2UgZm9yIGNvZGUgY29tcGxldGlvbiBhbmQgdmFsaWRhdGluZyBwYXJhbWV0ZXIgdmFsdWVzLCBldGMuXG4gKiBUaGUgY3VzdG9taXphdGlvbnMgdG8gdGhlIGNvcmUgdHlwZXMgZm9yIEFuZ3VsYXIgVUktUm91dGVyIGFyZSBkb2N1bWVudGVkIGhlcmUuXG4gKlxuICogVGhlIG9wdGlvbmFsIFtbJHJlc29sdmVdXSBzZXJ2aWNlIGlzIGFsc28gZG9jdW1lbnRlZCBoZXJlLlxuICpcbiAqIEBtb2R1bGUgbmcxXG4gKiBAcHJlZmVycmVkXG4gKi9cbi8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIGFuZ3VsYXJfMSA9IHJlcXVpcmUoXCIuL2FuZ3VsYXJcIik7XG52YXIgY29yZV8xID0gcmVxdWlyZShcIkB1aXJvdXRlci9jb3JlXCIpO1xudmFyIHZpZXdzXzEgPSByZXF1aXJlKFwiLi9zdGF0ZWJ1aWxkZXJzL3ZpZXdzXCIpO1xudmFyIHRlbXBsYXRlRmFjdG9yeV8xID0gcmVxdWlyZShcIi4vdGVtcGxhdGVGYWN0b3J5XCIpO1xudmFyIHN0YXRlUHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuL3N0YXRlUHJvdmlkZXJcIik7XG52YXIgb25FbnRlckV4aXRSZXRhaW5fMSA9IHJlcXVpcmUoXCIuL3N0YXRlYnVpbGRlcnMvb25FbnRlckV4aXRSZXRhaW5cIik7XG52YXIgbG9jYXRpb25TZXJ2aWNlc18xID0gcmVxdWlyZShcIi4vbG9jYXRpb25TZXJ2aWNlc1wiKTtcbnZhciB1cmxSb3V0ZXJQcm92aWRlcl8xID0gcmVxdWlyZShcIi4vdXJsUm91dGVyUHJvdmlkZXJcIik7XG5hbmd1bGFyXzEubmcubW9kdWxlKFwidWkucm91dGVyLmFuZ3VsYXIxXCIsIFtdKTtcbnZhciBtb2RfaW5pdCA9IGFuZ3VsYXJfMS5uZy5tb2R1bGUoJ3VpLnJvdXRlci5pbml0JywgW10pO1xudmFyIG1vZF91dGlsID0gYW5ndWxhcl8xLm5nLm1vZHVsZSgndWkucm91dGVyLnV0aWwnLCBbJ25nJywgJ3VpLnJvdXRlci5pbml0J10pO1xudmFyIG1vZF9ydHIgPSBhbmd1bGFyXzEubmcubW9kdWxlKCd1aS5yb3V0ZXIucm91dGVyJywgWyd1aS5yb3V0ZXIudXRpbCddKTtcbnZhciBtb2Rfc3RhdGUgPSBhbmd1bGFyXzEubmcubW9kdWxlKCd1aS5yb3V0ZXIuc3RhdGUnLCBbJ3VpLnJvdXRlci5yb3V0ZXInLCAndWkucm91dGVyLnV0aWwnLCAndWkucm91dGVyLmFuZ3VsYXIxJ10pO1xudmFyIG1vZF9tYWluID0gYW5ndWxhcl8xLm5nLm1vZHVsZSgndWkucm91dGVyJywgWyd1aS5yb3V0ZXIuaW5pdCcsICd1aS5yb3V0ZXIuc3RhdGUnLCAndWkucm91dGVyLmFuZ3VsYXIxJ10pO1xudmFyIG1vZF9jbXB0ID0gYW5ndWxhcl8xLm5nLm1vZHVsZSgndWkucm91dGVyLmNvbXBhdCcsIFsndWkucm91dGVyJ10pOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lXG52YXIgcm91dGVyID0gbnVsbDtcbiR1aVJvdXRlci4kaW5qZWN0ID0gWyckbG9jYXRpb25Qcm92aWRlciddO1xuLyoqIFRoaXMgYW5ndWxhciAxIHByb3ZpZGVyIGluc3RhbnRpYXRlcyBhIFJvdXRlciBhbmQgZXhwb3NlcyBpdHMgc2VydmljZXMgdmlhIHRoZSBhbmd1bGFyIGluamVjdG9yICovXG5mdW5jdGlvbiAkdWlSb3V0ZXIoJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAvLyBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIFJvdXRlciB3aGVuIHRoZSAkdWlSb3V0ZXJQcm92aWRlciBpcyBpbml0aWFsaXplZFxuICAgIHJvdXRlciA9IHRoaXMucm91dGVyID0gbmV3IGNvcmVfMS5VSVJvdXRlcigpO1xuICAgIHJvdXRlci5zdGF0ZVByb3ZpZGVyID0gbmV3IHN0YXRlUHJvdmlkZXJfMS5TdGF0ZVByb3ZpZGVyKHJvdXRlci5zdGF0ZVJlZ2lzdHJ5LCByb3V0ZXIuc3RhdGVTZXJ2aWNlKTtcbiAgICAvLyBBcHBseSBuZzEgc3BlY2lmaWMgU3RhdGVCdWlsZGVyIGNvZGUgZm9yIGB2aWV3c2AsIGByZXNvbHZlYCwgYW5kIGBvbkV4aXQvUmV0YWluL0VudGVyYCBwcm9wZXJ0aWVzXG4gICAgcm91dGVyLnN0YXRlUmVnaXN0cnkuZGVjb3JhdG9yKFwidmlld3NcIiwgdmlld3NfMS5uZzFWaWV3c0J1aWxkZXIpO1xuICAgIHJvdXRlci5zdGF0ZVJlZ2lzdHJ5LmRlY29yYXRvcihcIm9uRXhpdFwiLCBvbkVudGVyRXhpdFJldGFpbl8xLmdldFN0YXRlSG9va0J1aWxkZXIoXCJvbkV4aXRcIikpO1xuICAgIHJvdXRlci5zdGF0ZVJlZ2lzdHJ5LmRlY29yYXRvcihcIm9uUmV0YWluXCIsIG9uRW50ZXJFeGl0UmV0YWluXzEuZ2V0U3RhdGVIb29rQnVpbGRlcihcIm9uUmV0YWluXCIpKTtcbiAgICByb3V0ZXIuc3RhdGVSZWdpc3RyeS5kZWNvcmF0b3IoXCJvbkVudGVyXCIsIG9uRW50ZXJFeGl0UmV0YWluXzEuZ2V0U3RhdGVIb29rQnVpbGRlcihcIm9uRW50ZXJcIikpO1xuICAgIHJvdXRlci52aWV3U2VydmljZS5fcGx1Z2luYXBpLl92aWV3Q29uZmlnRmFjdG9yeSgnbmcxJywgdmlld3NfMS5nZXROZzFWaWV3Q29uZmlnRmFjdG9yeSgpKTtcbiAgICB2YXIgbmcxTG9jYXRpb25TZXJ2aWNlID0gcm91dGVyLmxvY2F0aW9uU2VydmljZSA9IHJvdXRlci5sb2NhdGlvbkNvbmZpZyA9IG5ldyBsb2NhdGlvblNlcnZpY2VzXzEuTmcxTG9jYXRpb25TZXJ2aWNlcygkbG9jYXRpb25Qcm92aWRlcik7XG4gICAgbG9jYXRpb25TZXJ2aWNlc18xLk5nMUxvY2F0aW9uU2VydmljZXMubW9ua2V5UGF0Y2hQYXRoUGFyYW1ldGVyVHlwZShyb3V0ZXIpO1xuICAgIC8vIGJhY2t3YXJkcyBjb21wYXQ6IGFsc28gZXhwb3NlIHJvdXRlciBpbnN0YW5jZSBhcyAkdWlSb3V0ZXJQcm92aWRlci5yb3V0ZXJcbiAgICByb3V0ZXJbJ3JvdXRlciddID0gcm91dGVyO1xuICAgIHJvdXRlclsnJGdldCddID0gJGdldDtcbiAgICAkZ2V0LiRpbmplY3QgPSBbJyRsb2NhdGlvbicsICckYnJvd3NlcicsICckc25pZmZlcicsICckcm9vdFNjb3BlJywgJyRodHRwJywgJyR0ZW1wbGF0ZUNhY2hlJ107XG4gICAgZnVuY3Rpb24gJGdldCgkbG9jYXRpb24sICRicm93c2VyLCAkc25pZmZlciwgJHJvb3RTY29wZSwgJGh0dHAsICR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICAgIG5nMUxvY2F0aW9uU2VydmljZS5fcnVudGltZVNlcnZpY2VzKCRyb290U2NvcGUsICRsb2NhdGlvbiwgJHNuaWZmZXIsICRicm93c2VyKTtcbiAgICAgICAgZGVsZXRlIHJvdXRlclsncm91dGVyJ107XG4gICAgICAgIGRlbGV0ZSByb3V0ZXJbJyRnZXQnXTtcbiAgICAgICAgcmV0dXJuIHJvdXRlcjtcbiAgICB9XG4gICAgcmV0dXJuIHJvdXRlcjtcbn1cbnZhciBnZXRQcm92aWRlckZvciA9IGZ1bmN0aW9uIChzZXJ2aWNlTmFtZSkgeyByZXR1cm4gWyckdWlSb3V0ZXJQcm92aWRlcicsIGZ1bmN0aW9uICgkdXJwKSB7XG4gICAgICAgIHZhciBzZXJ2aWNlID0gJHVycC5yb3V0ZXJbc2VydmljZU5hbWVdO1xuICAgICAgICBzZXJ2aWNlW1wiJGdldFwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlcnZpY2U7IH07XG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgIH1dOyB9O1xuLy8gVGhpcyBlZmZlY3RpdmVseSBjYWxscyAkZ2V0KCkgb24gYCR1aVJvdXRlclByb3ZpZGVyYCB0byB0cmlnZ2VyIGluaXQgKHdoZW4gbmcgZW50ZXJzIHJ1bnRpbWUpXG5ydW5CbG9jay4kaW5qZWN0ID0gWyckaW5qZWN0b3InLCAnJHEnLCAnJHVpUm91dGVyJ107XG5mdW5jdGlvbiBydW5CbG9jaygkaW5qZWN0b3IsICRxLCAkdWlSb3V0ZXIpIHtcbiAgICBjb3JlXzEuc2VydmljZXMuJGluamVjdG9yID0gJGluamVjdG9yO1xuICAgIGNvcmVfMS5zZXJ2aWNlcy4kcSA9ICRxO1xuICAgIC8vIFRoZSAkaW5qZWN0b3IgaXMgbm93IGF2YWlsYWJsZS5cbiAgICAvLyBGaW5kIGFueSByZXNvbHZhYmxlcyB0aGF0IGhhZCBkZXBlbmRlbmN5IGFubm90YXRpb24gZGVmZXJyZWRcbiAgICAkdWlSb3V0ZXIuc3RhdGVSZWdpc3RyeS5nZXQoKVxuICAgICAgICAubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LiQkc3RhdGUoKS5yZXNvbHZhYmxlczsgfSlcbiAgICAgICAgLnJlZHVjZShjb3JlXzEudW5uZXN0UiwgW10pXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguZGVwcyA9PT0gXCJkZWZlcnJlZFwiOyB9KVxuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAocmVzb2x2YWJsZSkgeyByZXR1cm4gcmVzb2x2YWJsZS5kZXBzID0gJGluamVjdG9yLmFubm90YXRlKHJlc29sdmFibGUucmVzb2x2ZUZuKTsgfSk7XG59XG4vLyAkdXJsUm91dGVyIHNlcnZpY2UgYW5kICR1cmxSb3V0ZXJQcm92aWRlclxudmFyIGdldFVybFJvdXRlclByb3ZpZGVyID0gZnVuY3Rpb24gKHVpUm91dGVyKSB7XG4gICAgcmV0dXJuIHVpUm91dGVyLnVybFJvdXRlclByb3ZpZGVyID0gbmV3IHVybFJvdXRlclByb3ZpZGVyXzEuVXJsUm91dGVyUHJvdmlkZXIodWlSb3V0ZXIpO1xufTtcbi8vICRzdGF0ZSBzZXJ2aWNlIGFuZCAkc3RhdGVQcm92aWRlclxuLy8gJHVybFJvdXRlciBzZXJ2aWNlIGFuZCAkdXJsUm91dGVyUHJvdmlkZXJcbnZhciBnZXRTdGF0ZVByb3ZpZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjb3JlXzEuZXh0ZW5kKHJvdXRlci5zdGF0ZVByb3ZpZGVyLCB7ICRnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJvdXRlci5zdGF0ZVNlcnZpY2U7IH0gfSk7XG59O1xud2F0Y2hEaWdlc3RzLiRpbmplY3QgPSBbJyRyb290U2NvcGUnXTtcbmZ1bmN0aW9uIHdhdGNoRGlnZXN0cygkcm9vdFNjb3BlKSB7XG4gICAgJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyBjb3JlXzEudHJhY2UuYXBwcm94aW1hdGVEaWdlc3RzKys7IH0pO1xufVxuZXhwb3J0cy53YXRjaERpZ2VzdHMgPSB3YXRjaERpZ2VzdHM7XG5tb2RfaW5pdC5wcm92aWRlcihcIiR1aVJvdXRlclwiLCAkdWlSb3V0ZXIpO1xubW9kX3J0ci5wcm92aWRlcignJHVybFJvdXRlcicsIFsnJHVpUm91dGVyUHJvdmlkZXInLCBnZXRVcmxSb3V0ZXJQcm92aWRlcl0pO1xubW9kX3V0aWwucHJvdmlkZXIoJyR1cmxTZXJ2aWNlJywgZ2V0UHJvdmlkZXJGb3IoJ3VybFNlcnZpY2UnKSk7XG5tb2RfdXRpbC5wcm92aWRlcignJHVybE1hdGNoZXJGYWN0b3J5JywgWyckdWlSb3V0ZXJQcm92aWRlcicsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJvdXRlci51cmxNYXRjaGVyRmFjdG9yeTsgfV0pO1xubW9kX3V0aWwucHJvdmlkZXIoJyR0ZW1wbGF0ZUZhY3RvcnknLCBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgdGVtcGxhdGVGYWN0b3J5XzEuVGVtcGxhdGVGYWN0b3J5KCk7IH0pO1xubW9kX3N0YXRlLnByb3ZpZGVyKCckc3RhdGVSZWdpc3RyeScsIGdldFByb3ZpZGVyRm9yKCdzdGF0ZVJlZ2lzdHJ5JykpO1xubW9kX3N0YXRlLnByb3ZpZGVyKCckdWlSb3V0ZXJHbG9iYWxzJywgZ2V0UHJvdmlkZXJGb3IoJ2dsb2JhbHMnKSk7XG5tb2Rfc3RhdGUucHJvdmlkZXIoJyR0cmFuc2l0aW9ucycsIGdldFByb3ZpZGVyRm9yKCd0cmFuc2l0aW9uU2VydmljZScpKTtcbm1vZF9zdGF0ZS5wcm92aWRlcignJHN0YXRlJywgWyckdWlSb3V0ZXJQcm92aWRlcicsIGdldFN0YXRlUHJvdmlkZXJdKTtcbm1vZF9zdGF0ZS5mYWN0b3J5KCckc3RhdGVQYXJhbXMnLCBbJyR1aVJvdXRlcicsIGZ1bmN0aW9uICgkdWlSb3V0ZXIpIHsgcmV0dXJuICR1aVJvdXRlci5nbG9iYWxzLnBhcmFtczsgfV0pO1xubW9kX21haW4uZmFjdG9yeSgnJHZpZXcnLCBmdW5jdGlvbiAoKSB7IHJldHVybiByb3V0ZXIudmlld1NlcnZpY2U7IH0pO1xubW9kX21haW4uc2VydmljZShcIiR0cmFjZVwiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjb3JlXzEudHJhY2U7IH0pO1xubW9kX21haW4ucnVuKHdhdGNoRGlnZXN0cyk7XG5tb2RfdXRpbC5ydW4oWyckdXJsTWF0Y2hlckZhY3RvcnknLCBmdW5jdGlvbiAoJHVybE1hdGNoZXJGYWN0b3J5KSB7IH1dKTtcbm1vZF9zdGF0ZS5ydW4oWyckc3RhdGUnLCBmdW5jdGlvbiAoJHN0YXRlKSB7IH1dKTtcbm1vZF9ydHIucnVuKFsnJHVybFJvdXRlcicsIGZ1bmN0aW9uICgkdXJsUm91dGVyKSB7IH1dKTtcbm1vZF9pbml0LnJ1bihydW5CbG9jayk7XG4vKiogQGhpZGRlbiBUT0RPOiBmaW5kIGEgcGxhY2UgdG8gbW92ZSB0aGlzICovXG5leHBvcnRzLmdldExvY2FscyA9IGZ1bmN0aW9uIChjdHgpIHtcbiAgICB2YXIgdG9rZW5zID0gY3R4LmdldFRva2VucygpLmZpbHRlcihjb3JlXzEuaXNTdHJpbmcpO1xuICAgIHZhciB0dXBsZXMgPSB0b2tlbnMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHJlc29sdmFibGUgPSBjdHguZ2V0UmVzb2x2YWJsZShrZXkpO1xuICAgICAgICB2YXIgd2FpdFBvbGljeSA9IGN0eC5nZXRQb2xpY3kocmVzb2x2YWJsZSkuYXN5bmM7XG4gICAgICAgIHJldHVybiBba2V5LCB3YWl0UG9saWN5ID09PSAnTk9XQUlUJyA/IHJlc29sdmFibGUucHJvbWlzZSA6IHJlc29sdmFibGUuZGF0YV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHR1cGxlcy5yZWR1Y2UoY29yZV8xLmFwcGx5UGFpcnMsIHt9KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJ2aWNlcy5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL3NlcnZpY2VzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///28\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\nvar core_1 = __webpack_require__(4);\nfunction getNg1ViewConfigFactory() {\n    var templateFactory = null;\n    return function (path, view) {\n        templateFactory = templateFactory || core_1.services.$injector.get("$templateFactory");\n        return [new Ng1ViewConfig(path, view, templateFactory)];\n    };\n}\nexports.getNg1ViewConfigFactory = getNg1ViewConfigFactory;\nvar hasAnyKey = function hasAnyKey(keys, obj) {\n    return keys.reduce(function (acc, key) {\n        return acc || core_1.isDefined(obj[key]);\n    }, false);\n};\n/**\n * This is a [[StateBuilder.builder]] function for angular1 `views`.\n *\n * When the [[StateBuilder]] builds a [[StateObject]] object from a raw [[StateDeclaration]], this builder\n * handles the `views` property with logic specific to @uirouter/angularjs (ng1).\n *\n * If no `views: {}` property exists on the [[StateDeclaration]], then it creates the `views` object\n * and applies the state-level configuration to a view named `$default`.\n */\nfunction ng1ViewsBuilder(state) {\n    // Do not process root state\n    if (!state.parent) return {};\n    var tplKeys = [\'templateProvider\', \'templateUrl\', \'template\', \'notify\', \'async\'],\n        ctrlKeys = [\'controller\', \'controllerProvider\', \'controllerAs\', \'resolveAs\'],\n        compKeys = [\'component\', \'bindings\', \'componentProvider\'],\n        nonCompKeys = tplKeys.concat(ctrlKeys),\n        allViewKeys = compKeys.concat(nonCompKeys);\n    // Do not allow a state to have both state-level props and also a `views: {}` property.\n    // A state without a `views: {}` property can declare properties for the `$default` view as properties of the state.\n    // However, the `$default` approach should not be mixed with a separate `views: ` block.\n    if (core_1.isDefined(state.views) && hasAnyKey(allViewKeys, state)) {\n        throw new Error("State \'" + state.name + "\' has a \'views\' object. " + "It cannot also have \\"view properties\\" at the state level.  " + "Move the following properties into a view (in the \'views\' object): " + (" " + allViewKeys.filter(function (key) {\n            return core_1.isDefined(state[key]);\n        }).join(", ")));\n    }\n    var views = {},\n        viewsObject = state.views || { "$default": core_1.pick(state, allViewKeys) };\n    core_1.forEach(viewsObject, function (config, name) {\n        // Account for views: { "": { template... } }\n        name = name || "$default";\n        // Account for views: { header: "headerComponent" }\n        if (core_1.isString(config)) config = { component: config };\n        // Make a shallow copy of the config object\n        config = core_1.extend({}, config);\n        // Do not allow a view to mix props for component-style view with props for template/controller-style view\n        if (hasAnyKey(compKeys, config) && hasAnyKey(nonCompKeys, config)) {\n            throw new Error("Cannot combine: " + compKeys.join("|") + " with: " + nonCompKeys.join("|") + " in stateview: \'" + name + "@" + state.name + "\'");\n        }\n        config.resolveAs = config.resolveAs || \'$resolve\';\n        config.$type = "ng1";\n        config.$context = state;\n        config.$name = name;\n        var normalized = core_1.ViewService.normalizeUIViewTarget(config.$context, config.$name);\n        config.$uiViewName = normalized.uiViewName;\n        config.$uiViewContextAnchor = normalized.uiViewContextAnchor;\n        views[name] = config;\n    });\n    return views;\n}\nexports.ng1ViewsBuilder = ng1ViewsBuilder;\nvar id = 0;\nvar Ng1ViewConfig = function () {\n    function Ng1ViewConfig(path, viewDecl, factory) {\n        var _this = this;\n        this.path = path;\n        this.viewDecl = viewDecl;\n        this.factory = factory;\n        this.$id = id++;\n        this.loaded = false;\n        this.getTemplate = function (uiView, context) {\n            return _this.component ? _this.factory.makeComponentTemplate(uiView, context, _this.component, _this.viewDecl.bindings) : _this.template;\n        };\n    }\n    Ng1ViewConfig.prototype.load = function () {\n        var _this = this;\n        var $q = core_1.services.$q;\n        var context = new core_1.ResolveContext(this.path);\n        var params = this.path.reduce(function (acc, node) {\n            return core_1.extend(acc, node.paramValues);\n        }, {});\n        var promises = {\n            template: $q.when(this.factory.fromConfig(this.viewDecl, params, context)),\n            controller: $q.when(this.getController(context))\n        };\n        return $q.all(promises).then(function (results) {\n            core_1.trace.traceViewServiceEvent("Loaded", _this);\n            _this.controller = results.controller;\n            core_1.extend(_this, results.template); // Either { template: "tpl" } or { component: "cmpName" }\n            return _this;\n        });\n    };\n    /**\n     * Gets the controller for a view configuration.\n     *\n     * @returns {Function|Promise.<Function>} Returns a controller, or a promise that resolves to a controller.\n     */\n    Ng1ViewConfig.prototype.getController = function (context) {\n        var provider = this.viewDecl.controllerProvider;\n        if (!core_1.isInjectable(provider)) return this.viewDecl.controller;\n        var deps = core_1.services.$injector.annotate(provider);\n        var providerFn = core_1.isArray(provider) ? core_1.tail(provider) : provider;\n        var resolvable = new core_1.Resolvable("", providerFn, deps);\n        return resolvable.get(context);\n    };\n    return Ng1ViewConfig;\n}();\nexports.Ng1ViewConfig = Ng1ViewConfig;\n//# sourceMappingURL=views.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL3N0YXRlYnVpbGRlcnMvdmlld3MuanM/OWM1MSJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNvcmVfMSIsInJlcXVpcmUiLCJnZXROZzFWaWV3Q29uZmlnRmFjdG9yeSIsInRlbXBsYXRlRmFjdG9yeSIsInBhdGgiLCJ2aWV3Iiwic2VydmljZXMiLCIkaW5qZWN0b3IiLCJnZXQiLCJOZzFWaWV3Q29uZmlnIiwiaGFzQW55S2V5Iiwia2V5cyIsIm9iaiIsInJlZHVjZSIsImFjYyIsImtleSIsImlzRGVmaW5lZCIsIm5nMVZpZXdzQnVpbGRlciIsInN0YXRlIiwicGFyZW50IiwidHBsS2V5cyIsImN0cmxLZXlzIiwiY29tcEtleXMiLCJub25Db21wS2V5cyIsImNvbmNhdCIsImFsbFZpZXdLZXlzIiwidmlld3MiLCJFcnJvciIsIm5hbWUiLCJmaWx0ZXIiLCJqb2luIiwidmlld3NPYmplY3QiLCJwaWNrIiwiZm9yRWFjaCIsImNvbmZpZyIsImlzU3RyaW5nIiwiY29tcG9uZW50IiwiZXh0ZW5kIiwicmVzb2x2ZUFzIiwiJHR5cGUiLCIkY29udGV4dCIsIiRuYW1lIiwibm9ybWFsaXplZCIsIlZpZXdTZXJ2aWNlIiwibm9ybWFsaXplVUlWaWV3VGFyZ2V0IiwiJHVpVmlld05hbWUiLCJ1aVZpZXdOYW1lIiwiJHVpVmlld0NvbnRleHRBbmNob3IiLCJ1aVZpZXdDb250ZXh0QW5jaG9yIiwiaWQiLCJ2aWV3RGVjbCIsImZhY3RvcnkiLCJfdGhpcyIsIiRpZCIsImxvYWRlZCIsImdldFRlbXBsYXRlIiwidWlWaWV3IiwiY29udGV4dCIsIm1ha2VDb21wb25lbnRUZW1wbGF0ZSIsImJpbmRpbmdzIiwidGVtcGxhdGUiLCJwcm90b3R5cGUiLCJsb2FkIiwiJHEiLCJSZXNvbHZlQ29udGV4dCIsInBhcmFtcyIsIm5vZGUiLCJwYXJhbVZhbHVlcyIsInByb21pc2VzIiwid2hlbiIsImZyb21Db25maWciLCJjb250cm9sbGVyIiwiZ2V0Q29udHJvbGxlciIsImFsbCIsInRoZW4iLCJyZXN1bHRzIiwidHJhY2UiLCJ0cmFjZVZpZXdTZXJ2aWNlRXZlbnQiLCJwcm92aWRlciIsImNvbnRyb2xsZXJQcm92aWRlciIsImlzSW5qZWN0YWJsZSIsImRlcHMiLCJhbm5vdGF0ZSIsInByb3ZpZGVyRm4iLCJpc0FycmF5IiwidGFpbCIsInJlc29sdmFibGUiLCJSZXNvbHZhYmxlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0EsSUFBSUMsU0FBUyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7QUFDQSxTQUFTQyx1QkFBVCxHQUFtQztBQUMvQixRQUFJQyxrQkFBa0IsSUFBdEI7QUFDQSxXQUFPLFVBQVVDLElBQVYsRUFBZ0JDLElBQWhCLEVBQXNCO0FBQ3pCRiwwQkFBa0JBLG1CQUFtQkgsT0FBT00sUUFBUCxDQUFnQkMsU0FBaEIsQ0FBMEJDLEdBQTFCLENBQThCLGtCQUE5QixDQUFyQztBQUNBLGVBQU8sQ0FBQyxJQUFJQyxhQUFKLENBQWtCTCxJQUFsQixFQUF3QkMsSUFBeEIsRUFBOEJGLGVBQTlCLENBQUQsQ0FBUDtBQUNILEtBSEQ7QUFJSDtBQUNETCxRQUFRSSx1QkFBUixHQUFrQ0EsdUJBQWxDO0FBQ0EsSUFBSVEsWUFBWSxTQUFaQSxTQUFZLENBQVVDLElBQVYsRUFBZ0JDLEdBQWhCLEVBQXFCO0FBQ2pDLFdBQU9ELEtBQUtFLE1BQUwsQ0FBWSxVQUFVQyxHQUFWLEVBQWVDLEdBQWYsRUFBb0I7QUFBRSxlQUFPRCxPQUFPZCxPQUFPZ0IsU0FBUCxDQUFpQkosSUFBSUcsR0FBSixDQUFqQixDQUFkO0FBQTJDLEtBQTdFLEVBQStFLEtBQS9FLENBQVA7QUFDSCxDQUZEO0FBR0E7Ozs7Ozs7OztBQVNBLFNBQVNFLGVB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InVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiQHVpcm91dGVyL2NvcmVcIik7XG5mdW5jdGlvbiBnZXROZzFWaWV3Q29uZmlnRmFjdG9yeSgpIHtcbiAgICB2YXIgdGVtcGxhdGVGYWN0b3J5ID0gbnVsbDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHBhdGgsIHZpZXcpIHtcbiAgICAgICAgdGVtcGxhdGVGYWN0b3J5ID0gdGVtcGxhdGVGYWN0b3J5IHx8IGNvcmVfMS5zZXJ2aWNlcy4kaW5qZWN0b3IuZ2V0KFwiJHRlbXBsYXRlRmFjdG9yeVwiKTtcbiAgICAgICAgcmV0dXJuIFtuZXcgTmcxVmlld0NvbmZpZyhwYXRoLCB2aWV3LCB0ZW1wbGF0ZUZhY3RvcnkpXTtcbiAgICB9O1xufVxuZXhwb3J0cy5nZXROZzFWaWV3Q29uZmlnRmFjdG9yeSA9IGdldE5nMVZpZXdDb25maWdGYWN0b3J5O1xudmFyIGhhc0FueUtleSA9IGZ1bmN0aW9uIChrZXlzLCBvYmopIHtcbiAgICByZXR1cm4ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7IHJldHVybiBhY2MgfHwgY29yZV8xLmlzRGVmaW5lZChvYmpba2V5XSk7IH0sIGZhbHNlKTtcbn07XG4vKipcbiAqIFRoaXMgaXMgYSBbW1N0YXRlQnVpbGRlci5idWlsZGVyXV0gZnVuY3Rpb24gZm9yIGFuZ3VsYXIxIGB2aWV3c2AuXG4gKlxuICogV2hlbiB0aGUgW1tTdGF0ZUJ1aWxkZXJdXSBidWlsZHMgYSBbW1N0YXRlT2JqZWN0XV0gb2JqZWN0IGZyb20gYSByYXcgW1tTdGF0ZURlY2xhcmF0aW9uXV0sIHRoaXMgYnVpbGRlclxuICogaGFuZGxlcyB0aGUgYHZpZXdzYCBwcm9wZXJ0eSB3aXRoIGxvZ2ljIHNwZWNpZmljIHRvIEB1aXJvdXRlci9hbmd1bGFyanMgKG5nMSkuXG4gKlxuICogSWYgbm8gYHZpZXdzOiB7fWAgcHJvcGVydHkgZXhpc3RzIG9uIHRoZSBbW1N0YXRlRGVjbGFyYXRpb25dXSwgdGhlbiBpdCBjcmVhdGVzIHRoZSBgdmlld3NgIG9iamVjdFxuICogYW5kIGFwcGxpZXMgdGhlIHN0YXRlLWxldmVsIGNvbmZpZ3VyYXRpb24gdG8gYSB2aWV3IG5hbWVkIGAkZGVmYXVsdGAuXG4gKi9cbmZ1bmN0aW9uIG5nMVZpZXdzQnVpbGRlcihzdGF0ZSkge1xuICAgIC8vIERvIG5vdCBwcm9jZXNzIHJvb3Qgc3RhdGVcbiAgICBpZiAoIXN0YXRlLnBhcmVudClcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIHZhciB0cGxLZXlzID0gWyd0ZW1wbGF0ZVByb3ZpZGVyJywgJ3RlbXBsYXRlVXJsJywgJ3RlbXBsYXRlJywgJ25vdGlmeScsICdhc3luYyddLCBjdHJsS2V5cyA9IFsnY29udHJvbGxlcicsICdjb250cm9sbGVyUHJvdmlkZXInLCAnY29udHJvbGxlckFzJywgJ3Jlc29sdmVBcyddLCBjb21wS2V5cyA9IFsnY29tcG9uZW50JywgJ2JpbmRpbmdzJywgJ2NvbXBvbmVudFByb3ZpZGVyJ10sIG5vbkNvbXBLZXlzID0gdHBsS2V5cy5jb25jYXQoY3RybEtleXMpLCBhbGxWaWV3S2V5cyA9IGNvbXBLZXlzLmNvbmNhdChub25Db21wS2V5cyk7XG4gICAgLy8gRG8gbm90IGFsbG93IGEgc3RhdGUgdG8gaGF2ZSBib3RoIHN0YXRlLWxldmVsIHByb3BzIGFuZCBhbHNvIGEgYHZpZXdzOiB7fWAgcHJvcGVydHkuXG4gICAgLy8gQSBzdGF0ZSB3aXRob3V0IGEgYHZpZXdzOiB7fWAgcHJvcGVydHkgY2FuIGRlY2xhcmUgcHJvcGVydGllcyBmb3IgdGhlIGAkZGVmYXVsdGAgdmlldyBhcyBwcm9wZXJ0aWVzIG9mIHRoZSBzdGF0ZS5cbiAgICAvLyBIb3dldmVyLCB0aGUgYCRkZWZhdWx0YCBhcHByb2FjaCBzaG91bGQgbm90IGJlIG1peGVkIHdpdGggYSBzZXBhcmF0ZSBgdmlld3M6IGAgYmxvY2suXG4gICAgaWYgKGNvcmVfMS5pc0RlZmluZWQoc3RhdGUudmlld3MpICYmIGhhc0FueUtleShhbGxWaWV3S2V5cywgc3RhdGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0YXRlICdcIiArIHN0YXRlLm5hbWUgKyBcIicgaGFzIGEgJ3ZpZXdzJyBvYmplY3QuIFwiICtcbiAgICAgICAgICAgIFwiSXQgY2Fubm90IGFsc28gaGF2ZSBcXFwidmlldyBwcm9wZXJ0aWVzXFxcIiBhdCB0aGUgc3RhdGUgbGV2ZWwuICBcIiArXG4gICAgICAgICAgICBcIk1vdmUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGludG8gYSB2aWV3IChpbiB0aGUgJ3ZpZXdzJyBvYmplY3QpOiBcIiArXG4gICAgICAgICAgICAoXCIgXCIgKyBhbGxWaWV3S2V5cy5maWx0ZXIoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gY29yZV8xLmlzRGVmaW5lZChzdGF0ZVtrZXldKTsgfSkuam9pbihcIiwgXCIpKSk7XG4gICAgfVxuICAgIHZhciB2aWV3cyA9IHt9LCB2aWV3c09iamVjdCA9IHN0YXRlLnZpZXdzIHx8IHsgXCIkZGVmYXVsdFwiOiBjb3JlXzEucGljayhzdGF0ZSwgYWxsVmlld0tleXMpIH07XG4gICAgY29yZV8xLmZvckVhY2godmlld3NPYmplY3QsIGZ1bmN0aW9uIChjb25maWcsIG5hbWUpIHtcbiAgICAgICAgLy8gQWNjb3VudCBmb3Igdmlld3M6IHsgXCJcIjogeyB0ZW1wbGF0ZS4uLiB9IH1cbiAgICAgICAgbmFtZSA9IG5hbWUgfHwgXCIkZGVmYXVsdFwiO1xuICAgICAgICAvLyBBY2NvdW50IGZvciB2aWV3czogeyBoZWFkZXI6IFwiaGVhZGVyQ29tcG9uZW50XCIgfVxuICAgICAgICBpZiAoY29yZV8xLmlzU3RyaW5nKGNvbmZpZykpXG4gICAgICAgICAgICBjb25maWcgPSB7IGNvbXBvbmVudDogY29uZmlnIH07XG4gICAgICAgIC8vIE1ha2UgYSBzaGFsbG93IGNvcHkgb2YgdGhlIGNvbmZpZyBvYmplY3RcbiAgICAgICAgY29uZmlnID0gY29yZV8xLmV4dGVuZCh7fSwgY29uZmlnKTtcbiAgICAgICAgLy8gRG8gbm90IGFsbG93IGEgdmlldyB0byBtaXggcHJvcHMgZm9yIGNvbXBvbmVudC1zdHlsZSB2aWV3IHdpdGggcHJvcHMgZm9yIHRlbXBsYXRlL2NvbnRyb2xsZXItc3R5bGUgdmlld1xuICAgICAgICBpZiAoaGFzQW55S2V5KGNvbXBLZXlzLCBjb25maWcpICYmIGhhc0FueUtleShub25Db21wS2V5cywgY29uZmlnKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbWJpbmU6IFwiICsgY29tcEtleXMuam9pbihcInxcIikgKyBcIiB3aXRoOiBcIiArIG5vbkNvbXBLZXlzLmpvaW4oXCJ8XCIpICsgXCIgaW4gc3RhdGV2aWV3OiAnXCIgKyBuYW1lICsgXCJAXCIgKyBzdGF0ZS5uYW1lICsgXCInXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbmZpZy5yZXNvbHZlQXMgPSBjb25maWcucmVzb2x2ZUFzIHx8ICckcmVzb2x2ZSc7XG4gICAgICAgIGNvbmZpZy4kdHlwZSA9IFwibmcxXCI7XG4gICAgICAgIGNvbmZpZy4kY29udGV4dCA9IHN0YXRlO1xuICAgICAgICBjb25maWcuJG5hbWUgPSBuYW1lO1xuICAgICAgICB2YXIgbm9ybWFsaXplZCA9IGNvcmVfMS5WaWV3U2VydmljZS5ub3JtYWxpemVVSVZpZXdUYXJnZXQoY29uZmlnLiRjb250ZXh0LCBjb25maWcuJG5hbWUpO1xuICAgICAgICBjb25maWcuJHVpVmlld05hbWUgPSBub3JtYWxpemVkLnVpVmlld05hbWU7XG4gICAgICAgIGNvbmZpZy4kdWlWaWV3Q29udGV4dEFuY2hvciA9IG5vcm1hbGl6ZWQudWlWaWV3Q29udGV4dEFuY2hvcjtcbiAgICAgICAgdmlld3NbbmFtZV0gPSBjb25maWc7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZpZXdzO1xufVxuZXhwb3J0cy5uZzFWaWV3c0J1aWxkZXIgPSBuZzFWaWV3c0J1aWxkZXI7XG52YXIgaWQgPSAwO1xudmFyIE5nMVZpZXdDb25maWcgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5nMVZpZXdDb25maWcocGF0aCwgdmlld0RlY2wsIGZhY3RvcnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy52aWV3RGVjbCA9IHZpZXdEZWNsO1xuICAgICAgICB0aGlzLmZhY3RvcnkgPSBmYWN0b3J5O1xuICAgICAgICB0aGlzLiRpZCA9IGlkKys7XG4gICAgICAgIHRoaXMubG9hZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbiAodWlWaWV3LCBjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuY29tcG9uZW50ID8gX3RoaXMuZmFjdG9yeS5tYWtlQ29tcG9uZW50VGVtcGxhdGUodWlWaWV3LCBjb250ZXh0LCBfdGhpcy5jb21wb25lbnQsIF90aGlzLnZpZXdEZWNsLmJpbmRpbmdzKSA6IF90aGlzLnRlbXBsYXRlO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBOZzFWaWV3Q29uZmlnLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgJHEgPSBjb3JlXzEuc2VydmljZXMuJHE7XG4gICAgICAgIHZhciBjb250ZXh0ID0gbmV3IGNvcmVfMS5SZXNvbHZlQ29udGV4dCh0aGlzLnBhdGgpO1xuICAgICAgICB2YXIgcGFyYW1zID0gdGhpcy5wYXRoLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBub2RlKSB7IHJldHVybiBjb3JlXzEuZXh0ZW5kKGFjYywgbm9kZS5wYXJhbVZhbHVlcyk7IH0sIHt9KTtcbiAgICAgICAgdmFyIHByb21pc2VzID0ge1xuICAgICAgICAgICAgdGVtcGxhdGU6ICRxLndoZW4odGhpcy5mYWN0b3J5LmZyb21Db25maWcodGhpcy52aWV3RGVjbCwgcGFyYW1zLCBjb250ZXh0KSksXG4gICAgICAgICAgICBjb250cm9sbGVyOiAkcS53aGVuKHRoaXMuZ2V0Q29udHJvbGxlcihjb250ZXh0KSlcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuICRxLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgY29yZV8xLnRyYWNlLnRyYWNlVmlld1NlcnZpY2VFdmVudChcIkxvYWRlZFwiLCBfdGhpcyk7XG4gICAgICAgICAgICBfdGhpcy5jb250cm9sbGVyID0gcmVzdWx0cy5jb250cm9sbGVyO1xuICAgICAgICAgICAgY29yZV8xLmV4dGVuZChfdGhpcywgcmVzdWx0cy50ZW1wbGF0ZSk7IC8vIEVpdGhlciB7IHRlbXBsYXRlOiBcInRwbFwiIH0gb3IgeyBjb21wb25lbnQ6IFwiY21wTmFtZVwiIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjb250cm9sbGVyIGZvciBhIHZpZXcgY29uZmlndXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbnxQcm9taXNlLjxGdW5jdGlvbj59IFJldHVybnMgYSBjb250cm9sbGVyLCBvciBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIGNvbnRyb2xsZXIuXG4gICAgICovXG4gICAgTmcxVmlld0NvbmZpZy5wcm90b3R5cGUuZ2V0Q29udHJvbGxlciA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHZhciBwcm92aWRlciA9IHRoaXMudmlld0RlY2wuY29udHJvbGxlclByb3ZpZGVyO1xuICAgICAgICBpZiAoIWNvcmVfMS5pc0luamVjdGFibGUocHJvdmlkZXIpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld0RlY2wuY29udHJvbGxlcjtcbiAgICAgICAgdmFyIGRlcHMgPSBjb3JlXzEuc2VydmljZXMuJGluamVjdG9yLmFubm90YXRlKHByb3ZpZGVyKTtcbiAgICAgICAgdmFyIHByb3ZpZGVyRm4gPSBjb3JlXzEuaXNBcnJheShwcm92aWRlcikgPyBjb3JlXzEudGFpbChwcm92aWRlcikgOiBwcm92aWRlcjtcbiAgICAgICAgdmFyIHJlc29sdmFibGUgPSBuZXcgY29yZV8xLlJlc29sdmFibGUoXCJcIiwgcHJvdmlkZXJGbiwgZGVwcyk7XG4gICAgICAgIHJldHVybiByZXNvbHZhYmxlLmdldChjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBOZzFWaWV3Q29uZmlnO1xufSgpKTtcbmV4cG9ydHMuTmcxVmlld0NvbmZpZyA9IE5nMVZpZXdDb25maWc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3cy5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL3N0YXRlYnVpbGRlcnMvdmlld3MuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///29\n')},function(module,exports,__webpack_require__){"use strict";eval("\n/**\n * @coreapi\n * @module transition\n */ /** for typedoc */\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar common_1 = __webpack_require__(0);\nvar predicates_1 = __webpack_require__(1);\nvar interface_1 = __webpack_require__(8);\nvar transitionHook_1 = __webpack_require__(12);\n/**\n * This class returns applicable TransitionHooks for a specific Transition instance.\n *\n * Hooks ([[RegisteredHook]]) may be registered globally, e.g., $transitions.onEnter(...), or locally, e.g.\n * myTransition.onEnter(...).  The HookBuilder finds matching RegisteredHooks (where the match criteria is\n * determined by the type of hook)\n *\n * The HookBuilder also converts RegisteredHooks objects to TransitionHook objects, which are used to run a Transition.\n *\n * The HookBuilder constructor is given the $transitions service and a Transition instance.  Thus, a HookBuilder\n * instance may only be used for one specific Transition object. (side note: the _treeChanges accessor is private\n * in the Transition class, so we must also provide the Transition's _treeChanges)\n *\n */\nvar HookBuilder = function () {\n    function HookBuilder(transition) {\n        this.transition = transition;\n    }\n    HookBuilder.prototype.buildHooksForPhase = function (phase) {\n        var _this = this;\n        var $transitions = this.transition.router.transitionService;\n        return $transitions._pluginapi._getEvents(phase).map(function (type) {\n            return _this.buildHooks(type);\n        }).reduce(common_1.unnestR, []).filter(common_1.identity);\n    };\n    /**\n     * Returns an array of newly built TransitionHook objects.\n     *\n     * - Finds all RegisteredHooks registered for the given `hookType` which matched the transition's [[TreeChanges]].\n     * - Finds [[PathNode]] (or `PathNode[]`) to use as the TransitionHook context(s)\n     * - For each of the [[PathNode]]s, creates a TransitionHook\n     *\n     * @param hookType the type of the hook registration function, e.g., 'onEnter', 'onFinish'.\n     */\n    HookBuilder.prototype.buildHooks = function (hookType) {\n        var transition = this.transition;\n        var treeChanges = transition.treeChanges();\n        // Find all the matching registered hooks for a given hook type\n        var matchingHooks = this.getMatchingHooks(hookType, treeChanges);\n        if (!matchingHooks) return [];\n        var baseHookOptions = {\n            transition: transition,\n            current: transition.options().current\n        };\n        var makeTransitionHooks = function makeTransitionHooks(hook) {\n            // Fetch the Nodes that caused this hook to match.\n            var matches = hook.matches(treeChanges);\n            // Select the PathNode[] that will be used as TransitionHook context objects\n            var matchingNodes = matches[hookType.criteriaMatchPath.name];\n            // Return an array of HookTuples\n            return matchingNodes.map(function (node) {\n                var _options = common_1.extend({\n                    bind: hook.bind,\n                    traceData: { hookType: hookType.name, context: node }\n                }, baseHookOptions);\n                var state = hookType.criteriaMatchPath.scope === interface_1.TransitionHookScope.STATE ? node.state.self : null;\n                var transitionHook = new transitionHook_1.TransitionHook(transition, state, hook, _options);\n                return { hook: hook, node: node, transitionHook: transitionHook };\n            });\n        };\n        return matchingHooks.map(makeTransitionHooks).reduce(common_1.unnestR, []).sort(tupleSort(hookType.reverseSort)).map(function (tuple) {\n            return tuple.transitionHook;\n        });\n    };\n    /**\n     * Finds all RegisteredHooks from:\n     * - The Transition object instance hook registry\n     * - The TransitionService ($transitions) global hook registry\n     *\n     * which matched:\n     * - the eventType\n     * - the matchCriteria (to, from, exiting, retained, entering)\n     *\n     * @returns an array of matched [[RegisteredHook]]s\n     */\n    HookBuilder.prototype.getMatchingHooks = function (hookType, treeChanges) {\n        var isCreate = hookType.hookPhase === interface_1.TransitionHookPhase.CREATE;\n        // Instance and Global hook registries\n        var $transitions = this.transition.router.transitionService;\n        var registries = isCreate ? [$transitions] : [this.transition, $transitions];\n        return registries.map(function (reg) {\n            return reg.getHooks(hookType.name);\n        }) // Get named hooks from registries\n        .filter(common_1.assertPredicate(predicates_1.isArray, \"broken event named: \" + hookType.name)) // Sanity check\n        .reduce(common_1.unnestR, []) // Un-nest RegisteredHook[][] to RegisteredHook[] array\n        .filter(function (hook) {\n            return hook.matches(treeChanges);\n        }); // Only those satisfying matchCriteria\n    };\n    return HookBuilder;\n}();\nexports.HookBuilder = HookBuilder;\n/**\n * A factory for a sort function for HookTuples.\n *\n * The sort function first compares the PathNode depth (how deep in the state tree a node is), then compares\n * the EventHook priority.\n *\n * @param reverseDepthSort a boolean, when true, reverses the sort order for the node depth\n * @returns a tuple sort function\n */\nfunction tupleSort(reverseDepthSort) {\n    if (reverseDepthSort === void 0) {\n        reverseDepthSort = false;\n    }\n    return function nodeDepthThenPriority(l, r) {\n        var factor = reverseDepthSort ? -1 : 1;\n        var depthDelta = (l.node.state.path.length - r.node.state.path.length) * factor;\n        return depthDelta !== 0 ? depthDelta : r.hook.priority - l.hook.priority;\n    };\n}\n//# sourceMappingURL=hookBuilder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3RyYW5zaXRpb24vaG9va0J1aWxkZXIuanM/Yzg1ZSJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNvbW1vbl8xIiwicmVxdWlyZSIsInByZWRpY2F0ZXNfMSIsImludGVyZmFjZV8xIiwidHJhbnNpdGlvbkhvb2tfMSIsIkhvb2tCdWlsZGVyIiwidHJhbnNpdGlvbiIsInByb3RvdHlwZSIsImJ1aWxkSG9va3NGb3JQaGFzZSIsInBoYXNlIiwiX3RoaXMiLCIkdHJhbnNpdGlvbnMiLCJyb3V0ZXIiLCJ0cmFuc2l0aW9uU2VydmljZSIsIl9wbHVnaW5hcGkiLCJfZ2V0RXZlbnRzIiwibWFwIiwidHlwZSIsImJ1aWxkSG9va3MiLCJyZWR1Y2UiLCJ1bm5lc3RSIiwiZmlsdGVyIiwiaWRlbnRpdHkiLCJob29rVHlwZSIsInRyZWVDaGFuZ2VzIiwibWF0Y2hpbmdIb29rcyIsImdldE1hdGNoaW5nSG9va3MiLCJiYXNlSG9va09wdGlvbnMiLCJjdXJyZW50Iiwib3B0aW9ucyIsIm1ha2VUcmFuc2l0aW9uSG9va3MiLCJob29rIiwibWF0Y2hlcyIsIm1hdGNoaW5nTm9kZXMiLCJjcml0ZXJpYU1hdGNoUGF0aCIsIm5hbWUiLCJub2RlIiwiX29wdGlvbnMiLCJleHRlbmQiLCJiaW5kIiwidHJhY2VEYXRhIiwiY29udGV4dCIsInN0YXRlIiwic2NvcGUiLCJUcmFuc2l0aW9uSG9va1Njb3BlIiwiU1RBVEUiLCJzZWxmIiwidHJhbnNpdGlvbkhvb2siLCJUcmFuc2l0aW9uSG9vayIsInNvcnQiLCJ0dXBsZVNvcnQiLCJyZXZlcnNlU29ydCIsInR1cGxlIiwiaXNDcmVhdGUiLCJob29rUGhhc2UiLCJUcmFuc2l0aW9uSG9va1BoYXNlIiwiQ1JFQVRFIiwicmVnaXN0cmllcyIsInJlZyIsImdldEhvb2tzIiwiYXNzZXJ0UHJlZGljYXRlIiwiaXNBcnJheSIsInJldmVyc2VEZXB0aFNvcnQiLCJub2RlRGVwdGhUaGVuUHJpb3JpdHkiLCJsIiwiciIsImZhY3RvciIsImRlcHRoRGVsdGEiLCJwYXRoIiwibGVuZ3RoIiwicHJpb3JpdHkiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7OztJQUdJOztBQUNKQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQSxJQUFJQyxXQUFXLG1CQUFBQyxDQUFRLENBQVIsQ0FBZjtBQUNBLElBQUlDLGVBQWUsbUJBQUFELENBQVEsQ0FBUixDQUFuQjtBQUNBLElBQUlFLGNBQWMsbUJBQUFGLENBQVEsQ0FBUixDQUFsQjtBQUNBLElBQUlHLG1CQUFtQixtQkFBQUgsQ0FBUSxFQUFSLENBQXZCO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FBY0EsSUFBSUksY0FBZSxZQUFZO0FBQzNCLGFBQVNBLFdBQVQsQ0FBcUJDLFVBQXJCLEVBQWlDO0FBQzdCLGFBQUtBLFVBQUwsR0FBa0JBLFVBQWxCO0FBQ0g7QUFDREQsZ0JBQVlFLFNBQVosQ0FBc0JDLGtCQUF0QixHQUEyQyxVQUFVQyxLQUFWLEVBQWlCO0FBQ3hELFlBQUlDLFFBQVEsSUFBWjtBQUNBLFlBQUlDLGVBQWUsS0FBS0wsVUFBTCxDQUFnQk0sTUFBaEIsQ0FBdUJDLGlCQUExQztBQUNBLGVBQU9GLGFBQWFHLFVBQWIsQ0FBd0JDLFVBQXhCLENBQW1DTixLQUFuQyxFQUNGTyxHQURFLENBQ0UsVUFBVUMsSUFBVixFQUFnQjtBQUFFLG1CQUFPUCxNQUFNUSxVQUFOLENBQWlCRCxJQUFqQixDQUFQO0FBQWdDLFNBRHBELEVBRUZFLE1BRkUsQ0FFS25CLFNBQVNvQixPQUZkLEVBRXVCLEVBRnZCLEVBR0ZDLE1BSEUsQ0FHS3JCLFNBQVNzQixRQUhkLENBQVA7QUFJSCxLQVBEO0FBUUE7Ozs7Ozs7OztBQVNBakIsZ0JBQVlFLFNBQVosQ0FBc0JXLFVBQXRCLEdBQW1DLFVBQVVLLFFBQVYsRUFBb0I7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LENBUUY7QUFDdkUsS0FURDtBQVVBLFdBQU9uQixXQUFQO0FBQ0gsQ0EzRWtCLEVBQW5CO0FBNEVBUCxRQUFRTyxXQUFSLEdBQXNCQSxXQUF0QjtBQUNBOzs7Ozs7Ozs7QUFTQSxTQUFTNkMsU0FBVCxDQUFtQlksZ0JBQW5CLEVBQXFDO0FBQ2pDLFFBQUlBLHFCQUFxQixLQUFLLENBQTlCLEVBQWlDO0FBQUVBLDJCQUFtQixLQUFuQjtBQUEyQjtBQUM5RCxXQUFPLFNBQVNDLHFCQUFULENBQStCQyxDQUEvQixFQUFrQ0MsQ0FBbEMsRUFBcUM7QUFDeEMsWUFBSUMsU0FBU0osbUJBQW1CLENBQUMsQ0FBcEIsR0FBd0IsQ0FBckM7QUFDQSxZQUFJSyxhQUFhLENBQUNILEVBQUU1QixJQUFGLENBQU9NLEtBQVAsQ0FBYTBCLElBQWIsQ0FBa0JDLE1BQWxCLEdBQTJCSixFQUFFN0IsSUFBRixDQUFPTSxLQUFQLENBQWEwQixJQUFiLENBQWtCQyxNQUE5QyxJQUF3REgsTUFBekU7QUFDQSxlQUFPQyxlQUFlLENBQWYsR0FBbUJBLFVBQW5CLEdBQWdDRixFQUFFbEMsSUFBRixDQUFPdUMsUUFBUCxHQUFrQk4sRUFBRWpDLElBQUYsQ0FBT3VDLFFBQWhFO0FBQ0gsS0FKRDtBQUtIO0FBQ0QiLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgdHJhbnNpdGlvblxuICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIGludGVyZmFjZV8xID0gcmVxdWlyZShcIi4vaW50ZXJmYWNlXCIpO1xudmFyIHRyYW5zaXRpb25Ib29rXzEgPSByZXF1aXJlKFwiLi90cmFuc2l0aW9uSG9va1wiKTtcbi8qKlxuICogVGhpcyBjbGFzcyByZXR1cm5zIGFwcGxpY2FibGUgVHJhbnNpdGlvbkhvb2tzIGZvciBhIHNwZWNpZmljIFRyYW5zaXRpb24gaW5zdGFuY2UuXG4gKlxuICogSG9va3MgKFtbUmVnaXN0ZXJlZEhvb2tdXSkgbWF5IGJlIHJlZ2lzdGVyZWQgZ2xvYmFsbHksIGUuZy4sICR0cmFuc2l0aW9ucy5vbkVudGVyKC4uLiksIG9yIGxvY2FsbHksIGUuZy5cbiAqIG15VHJhbnNpdGlvbi5vbkVudGVyKC4uLikuICBUaGUgSG9va0J1aWxkZXIgZmluZHMgbWF0Y2hpbmcgUmVnaXN0ZXJlZEhvb2tzICh3aGVyZSB0aGUgbWF0Y2ggY3JpdGVyaWEgaXNcbiAqIGRldGVybWluZWQgYnkgdGhlIHR5cGUgb2YgaG9vaylcbiAqXG4gKiBUaGUgSG9va0J1aWxkZXIgYWxzbyBjb252ZXJ0cyBSZWdpc3RlcmVkSG9va3Mgb2JqZWN0cyB0byBUcmFuc2l0aW9uSG9vayBvYmplY3RzLCB3aGljaCBhcmUgdXNlZCB0byBydW4gYSBUcmFuc2l0aW9uLlxuICpcbiAqIFRoZSBIb29rQnVpbGRlciBjb25zdHJ1Y3RvciBpcyBnaXZlbiB0aGUgJHRyYW5zaXRpb25zIHNlcnZpY2UgYW5kIGEgVHJhbnNpdGlvbiBpbnN0YW5jZS4gIFRodXMsIGEgSG9va0J1aWxkZXJcbiAqIGluc3RhbmNlIG1heSBvbmx5IGJlIHVzZWQgZm9yIG9uZSBzcGVjaWZpYyBUcmFuc2l0aW9uIG9iamVjdC4gKHNpZGUgbm90ZTogdGhlIF90cmVlQ2hhbmdlcyBhY2Nlc3NvciBpcyBwcml2YXRlXG4gKiBpbiB0aGUgVHJhbnNpdGlvbiBjbGFzcywgc28gd2UgbXVzdCBhbHNvIHByb3ZpZGUgdGhlIFRyYW5zaXRpb24ncyBfdHJlZUNoYW5nZXMpXG4gKlxuICovXG52YXIgSG9va0J1aWxkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEhvb2tCdWlsZGVyKHRyYW5zaXRpb24pIHtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uID0gdHJhbnNpdGlvbjtcbiAgICB9XG4gICAgSG9va0J1aWxkZXIucHJvdG90eXBlLmJ1aWxkSG9va3NGb3JQaGFzZSA9IGZ1bmN0aW9uIChwaGFzZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgJHRyYW5zaXRpb25zID0gdGhpcy50cmFuc2l0aW9uLnJvdXRlci50cmFuc2l0aW9uU2VydmljZTtcbiAgICAgICAgcmV0dXJuICR0cmFuc2l0aW9ucy5fcGx1Z2luYXBpLl9nZXRFdmVudHMocGhhc2UpXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiBfdGhpcy5idWlsZEhvb2tzKHR5cGUpOyB9KVxuICAgICAgICAgICAgLnJlZHVjZShjb21tb25fMS51bm5lc3RSLCBbXSlcbiAgICAgICAgICAgIC5maWx0ZXIoY29tbW9uXzEuaWRlbnRpdHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBuZXdseSBidWlsdCBUcmFuc2l0aW9uSG9vayBvYmplY3RzLlxuICAgICAqXG4gICAgICogLSBGaW5kcyBhbGwgUmVnaXN0ZXJlZEhvb2tzIHJlZ2lzdGVyZWQgZm9yIHRoZSBnaXZlbiBgaG9va1R5cGVgIHdoaWNoIG1hdGNoZWQgdGhlIHRyYW5zaXRpb24ncyBbW1RyZWVDaGFuZ2VzXV0uXG4gICAgICogLSBGaW5kcyBbW1BhdGhOb2RlXV0gKG9yIGBQYXRoTm9kZVtdYCkgdG8gdXNlIGFzIHRoZSBUcmFuc2l0aW9uSG9vayBjb250ZXh0KHMpXG4gICAgICogLSBGb3IgZWFjaCBvZiB0aGUgW1tQYXRoTm9kZV1dcywgY3JlYXRlcyBhIFRyYW5zaXRpb25Ib29rXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaG9va1R5cGUgdGhlIHR5cGUgb2YgdGhlIGhvb2sgcmVnaXN0cmF0aW9uIGZ1bmN0aW9uLCBlLmcuLCAnb25FbnRlcicsICdvbkZpbmlzaCcuXG4gICAgICovXG4gICAgSG9va0J1aWxkZXIucHJvdG90eXBlLmJ1aWxkSG9va3MgPSBmdW5jdGlvbiAoaG9va1R5cGUpIHtcbiAgICAgICAgdmFyIHRyYW5zaXRpb24gPSB0aGlzLnRyYW5zaXRpb247XG4gICAgICAgIHZhciB0cmVlQ2hhbmdlcyA9IHRyYW5zaXRpb24udHJlZUNoYW5nZXMoKTtcbiAgICAgICAgLy8gRmluZCBhbGwgdGhlIG1hdGNoaW5nIHJlZ2lzdGVyZWQgaG9va3MgZm9yIGEgZ2l2ZW4gaG9vayB0eXBlXG4gICAgICAgIHZhciBtYXRjaGluZ0hvb2tzID0gdGhpcy5nZXRNYXRjaGluZ0hvb2tzKGhvb2tUeXBlLCB0cmVlQ2hhbmdlcyk7XG4gICAgICAgIGlmICghbWF0Y2hpbmdIb29rcylcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgdmFyIGJhc2VIb29rT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb24sXG4gICAgICAgICAgICBjdXJyZW50OiB0cmFuc2l0aW9uLm9wdGlvbnMoKS5jdXJyZW50XG4gICAgICAgIH07XG4gICAgICAgIHZhciBtYWtlVHJhbnNpdGlvbkhvb2tzID0gZnVuY3Rpb24gKGhvb2spIHtcbiAgICAgICAgICAgIC8vIEZldGNoIHRoZSBOb2RlcyB0aGF0IGNhdXNlZCB0aGlzIGhvb2sgdG8gbWF0Y2guXG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGhvb2subWF0Y2hlcyh0cmVlQ2hhbmdlcyk7XG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIFBhdGhOb2RlW10gdGhhdCB3aWxsIGJlIHVzZWQgYXMgVHJhbnNpdGlvbkhvb2sgY29udGV4dCBvYmplY3RzXG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmdOb2RlcyA9IG1hdGNoZXNbaG9va1R5cGUuY3JpdGVyaWFNYXRjaFBhdGgubmFtZV07XG4gICAgICAgICAgICAvLyBSZXR1cm4gYW4gYXJyYXkgb2YgSG9va1R1cGxlc1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoaW5nTm9kZXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9vcHRpb25zID0gY29tbW9uXzEuZXh0ZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgYmluZDogaG9vay5iaW5kLFxuICAgICAgICAgICAgICAgICAgICB0cmFjZURhdGE6IHsgaG9va1R5cGU6IGhvb2tUeXBlLm5hbWUsIGNvbnRleHQ6IG5vZGUgfVxuICAgICAgICAgICAgICAgIH0sIGJhc2VIb29rT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gaG9va1R5cGUuY3JpdGVyaWFNYXRjaFBhdGguc2NvcGUgPT09IGludGVyZmFjZV8xLlRyYW5zaXRpb25Ib29rU2NvcGUuU1RBVEUgPyBub2RlLnN0YXRlLnNlbGYgOiBudWxsO1xuICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uSG9vayA9IG5ldyB0cmFuc2l0aW9uSG9va18xLlRyYW5zaXRpb25Ib29rKHRyYW5zaXRpb24sIHN0YXRlLCBob29rLCBfb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgaG9vazogaG9vaywgbm9kZTogbm9kZSwgdHJhbnNpdGlvbkhvb2s6IHRyYW5zaXRpb25Ib29rIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG1hdGNoaW5nSG9va3MubWFwKG1ha2VUcmFuc2l0aW9uSG9va3MpXG4gICAgICAgICAgICAucmVkdWNlKGNvbW1vbl8xLnVubmVzdFIsIFtdKVxuICAgICAgICAgICAgLnNvcnQodHVwbGVTb3J0KGhvb2tUeXBlLnJldmVyc2VTb3J0KSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHR1cGxlKSB7IHJldHVybiB0dXBsZS50cmFuc2l0aW9uSG9vazsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaW5kcyBhbGwgUmVnaXN0ZXJlZEhvb2tzIGZyb206XG4gICAgICogLSBUaGUgVHJhbnNpdGlvbiBvYmplY3QgaW5zdGFuY2UgaG9vayByZWdpc3RyeVxuICAgICAqIC0gVGhlIFRyYW5zaXRpb25TZXJ2aWNlICgkdHJhbnNpdGlvbnMpIGdsb2JhbCBob29rIHJlZ2lzdHJ5XG4gICAgICpcbiAgICAgKiB3aGljaCBtYXRjaGVkOlxuICAgICAqIC0gdGhlIGV2ZW50VHlwZVxuICAgICAqIC0gdGhlIG1hdGNoQ3JpdGVyaWEgKHRvLCBmcm9tLCBleGl0aW5nLCByZXRhaW5lZCwgZW50ZXJpbmcpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhbiBhcnJheSBvZiBtYXRjaGVkIFtbUmVnaXN0ZXJlZEhvb2tdXXNcbiAgICAgKi9cbiAgICBIb29rQnVpbGRlci5wcm90b3R5cGUuZ2V0TWF0Y2hpbmdIb29rcyA9IGZ1bmN0aW9uIChob29rVHlwZSwgdHJlZUNoYW5nZXMpIHtcbiAgICAgICAgdmFyIGlzQ3JlYXRlID0gaG9va1R5cGUuaG9va1BoYXNlID09PSBpbnRlcmZhY2VfMS5UcmFuc2l0aW9uSG9va1BoYXNlLkNSRUFURTtcbiAgICAgICAgLy8gSW5zdGFuY2UgYW5kIEdsb2JhbCBob29rIHJlZ2lzdHJpZXNcbiAgICAgICAgdmFyICR0cmFuc2l0aW9ucyA9IHRoaXMudHJhbnNpdGlvbi5yb3V0ZXIudHJhbnNpdGlvblNlcnZpY2U7XG4gICAgICAgIHZhciByZWdpc3RyaWVzID0gaXNDcmVhdGUgPyBbJHRyYW5zaXRpb25zXSA6IFt0aGlzLnRyYW5zaXRpb24sICR0cmFuc2l0aW9uc107XG4gICAgICAgIHJldHVybiByZWdpc3RyaWVzLm1hcChmdW5jdGlvbiAocmVnKSB7IHJldHVybiByZWcuZ2V0SG9va3MoaG9va1R5cGUubmFtZSk7IH0pIC8vIEdldCBuYW1lZCBob29rcyBmcm9tIHJlZ2lzdHJpZXNcbiAgICAgICAgICAgIC5maWx0ZXIoY29tbW9uXzEuYXNzZXJ0UHJlZGljYXRlKHByZWRpY2F0ZXNfMS5pc0FycmF5LCBcImJyb2tlbiBldmVudCBuYW1lZDogXCIgKyBob29rVHlwZS5uYW1lKSkgLy8gU2FuaXR5IGNoZWNrXG4gICAgICAgICAgICAucmVkdWNlKGNvbW1vbl8xLnVubmVzdFIsIFtdKSAvLyBVbi1uZXN0IFJlZ2lzdGVyZWRIb29rW11bXSB0byBSZWdpc3RlcmVkSG9va1tdIGFycmF5XG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChob29rKSB7IHJldHVybiBob29rLm1hdGNoZXModHJlZUNoYW5nZXMpOyB9KTsgLy8gT25seSB0aG9zZSBzYXRpc2Z5aW5nIG1hdGNoQ3JpdGVyaWFcbiAgICB9O1xuICAgIHJldHVybiBIb29rQnVpbGRlcjtcbn0oKSk7XG5leHBvcnRzLkhvb2tCdWlsZGVyID0gSG9va0J1aWxkZXI7XG4vKipcbiAqIEEgZmFjdG9yeSBmb3IgYSBzb3J0IGZ1bmN0aW9uIGZvciBIb29rVHVwbGVzLlxuICpcbiAqIFRoZSBzb3J0IGZ1bmN0aW9uIGZpcnN0IGNvbXBhcmVzIHRoZSBQYXRoTm9kZSBkZXB0aCAoaG93IGRlZXAgaW4gdGhlIHN0YXRlIHRyZWUgYSBub2RlIGlzKSwgdGhlbiBjb21wYXJlc1xuICogdGhlIEV2ZW50SG9vayBwcmlvcml0eS5cbiAqXG4gKiBAcGFyYW0gcmV2ZXJzZURlcHRoU29ydCBhIGJvb2xlYW4sIHdoZW4gdHJ1ZSwgcmV2ZXJzZXMgdGhlIHNvcnQgb3JkZXIgZm9yIHRoZSBub2RlIGRlcHRoXG4gKiBAcmV0dXJucyBhIHR1cGxlIHNvcnQgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gdHVwbGVTb3J0KHJldmVyc2VEZXB0aFNvcnQpIHtcbiAgICBpZiAocmV2ZXJzZURlcHRoU29ydCA9PT0gdm9pZCAwKSB7IHJldmVyc2VEZXB0aFNvcnQgPSBmYWxzZTsgfVxuICAgIHJldHVybiBmdW5jdGlvbiBub2RlRGVwdGhUaGVuUHJpb3JpdHkobCwgcikge1xuICAgICAgICB2YXIgZmFjdG9yID0gcmV2ZXJzZURlcHRoU29ydCA/IC0xIDogMTtcbiAgICAgICAgdmFyIGRlcHRoRGVsdGEgPSAobC5ub2RlLnN0YXRlLnBhdGgubGVuZ3RoIC0gci5ub2RlLnN0YXRlLnBhdGgubGVuZ3RoKSAqIGZhY3RvcjtcbiAgICAgICAgcmV0dXJuIGRlcHRoRGVsdGEgIT09IDAgPyBkZXB0aERlbHRhIDogci5ob29rLnByaW9yaXR5IC0gbC5ob29rLnByaW9yaXR5O1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ob29rQnVpbGRlci5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3RyYW5zaXRpb24vaG9va0J1aWxkZXIuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///30\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/** @internalapi */\nexports.resolvePolicies = {\n    when: {\n        LAZY: "LAZY",\n        EAGER: "EAGER"\n    },\n    async: {\n        WAIT: "WAIT",\n        NOWAIT: "NOWAIT",\n        RXWAIT: "RXWAIT"\n    }\n};\n//# sourceMappingURL=interface.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3Jlc29sdmUvaW50ZXJmYWNlLmpzP2I4ZWYiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJyZXNvbHZlUG9saWNpZXMiLCJ3aGVuIiwiTEFaWSIsIkVBR0VSIiwiYXN5bmMiLCJXQUlUIiwiTk9XQUlUIiwiUlhXQUlUIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0E7QUFDQUQsUUFBUUUsZUFBUixHQUEwQjtBQUN0QkMsVUFBTTtBQUNGQyxjQUFNLE1BREo7QUFFRkMsZUFBTztBQUZMLEtBRGdCO0FBS3RCQyxXQUFPO0FBQ0hDLGNBQU0sTUFESDtBQUVIQyxnQkFBUSxRQUZMO0FBR0hDLGdCQUFRO0FBSEw7QUFMZSxDQUExQjtBQVdBIiwiZmlsZSI6IjMxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQGludGVybmFsYXBpICovXG5leHBvcnRzLnJlc29sdmVQb2xpY2llcyA9IHtcbiAgICB3aGVuOiB7XG4gICAgICAgIExBWlk6IFwiTEFaWVwiLFxuICAgICAgICBFQUdFUjogXCJFQUdFUlwiXG4gICAgfSxcbiAgICBhc3luYzoge1xuICAgICAgICBXQUlUOiBcIldBSVRcIixcbiAgICAgICAgTk9XQUlUOiBcIk5PV0FJVFwiLFxuICAgICAgICBSWFdBSVQ6IFwiUlhXQUlUXCJcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJmYWNlLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvcmVzb2x2ZS9pbnRlcmZhY2UuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///31\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @coreapi\n * @module params\n */\n/** */\nvar common_1 = __webpack_require__(0);\nvar predicates_1 = __webpack_require__(1);\nvar hof_1 = __webpack_require__(2);\nvar coreservices_1 = __webpack_require__(3);\nvar paramType_1 = __webpack_require__(26);\n/**\n * A registry for parameter types.\n *\n * This registry manages the built-in (and custom) parameter types.\n *\n * The built-in parameter types are:\n *\n * - [[string]]\n * - [[path]]\n * - [[query]]\n * - [[hash]]\n * - [[int]]\n * - [[bool]]\n * - [[date]]\n * - [[json]]\n * - [[any]]\n */\nvar ParamTypes = function () {\n    /** @internalapi */\n    function ParamTypes() {\n        /** @hidden */\n        this.enqueue = true;\n        /** @hidden */\n        this.typeQueue = [];\n        /** @internalapi */\n        this.defaultTypes = common_1.pick(ParamTypes.prototype, ["hash", "string", "query", "path", "int", "bool", "date", "json", "any"]);\n        // Register default types. Store them in the prototype of this.types.\n        var makeType = function makeType(definition, name) {\n            return new paramType_1.ParamType(common_1.extend({ name: name }, definition));\n        };\n        this.types = common_1.inherit(common_1.map(this.defaultTypes, makeType), {});\n    }\n    /** @internalapi */\n    ParamTypes.prototype.dispose = function () {\n        this.types = {};\n    };\n    /**\n     * Registers a parameter type\n     *\n     * End users should call [[UrlMatcherFactory.type]], which delegates to this method.\n     */\n    ParamTypes.prototype.type = function (name, definition, definitionFn) {\n        if (!predicates_1.isDefined(definition)) return this.types[name];\n        if (this.types.hasOwnProperty(name)) throw new Error("A type named \'" + name + "\' has already been defined.");\n        this.types[name] = new paramType_1.ParamType(common_1.extend({ name: name }, definition));\n        if (definitionFn) {\n            this.typeQueue.push({ name: name, def: definitionFn });\n            if (!this.enqueue) this._flushTypeQueue();\n        }\n        return this;\n    };\n    /** @internalapi */\n    ParamTypes.prototype._flushTypeQueue = function () {\n        while (this.typeQueue.length) {\n            var type = this.typeQueue.shift();\n            if (type.pattern) throw new Error("You cannot override a type\'s .pattern at runtime.");\n            common_1.extend(this.types[type.name], coreservices_1.services.$injector.invoke(type.def));\n        }\n    };\n    return ParamTypes;\n}();\nexports.ParamTypes = ParamTypes;\n/** @hidden */\nfunction initDefaultTypes() {\n    var makeDefaultType = function makeDefaultType(def) {\n        var valToString = function valToString(val) {\n            return val != null ? val.toString() : val;\n        };\n        var defaultTypeBase = {\n            encode: valToString,\n            decode: valToString,\n            is: hof_1.is(String),\n            pattern: /.*/,\n            equals: function equals(a, b) {\n                return a == b;\n            }\n        };\n        return common_1.extend({}, defaultTypeBase, def);\n    };\n    // Default Parameter Type Definitions\n    common_1.extend(ParamTypes.prototype, {\n        string: makeDefaultType({}),\n        path: makeDefaultType({\n            pattern: /[^/]*/\n        }),\n        query: makeDefaultType({}),\n        hash: makeDefaultType({\n            inherit: false\n        }),\n        int: makeDefaultType({\n            decode: function decode(val) {\n                return parseInt(val, 10);\n            },\n            is: function is(val) {\n                return !predicates_1.isNullOrUndefined(val) && this.decode(val.toString()) === val;\n            },\n            pattern: /-?\\d+/\n        }),\n        bool: makeDefaultType({\n            encode: function encode(val) {\n                return val && 1 || 0;\n            },\n            decode: function decode(val) {\n                return parseInt(val, 10) !== 0;\n            },\n            is: hof_1.is(Boolean),\n            pattern: /0|1/\n        }),\n        date: makeDefaultType({\n            encode: function encode(val) {\n                return !this.is(val) ? undefined : [val.getFullYear(), (\'0\' + (val.getMonth() + 1)).slice(-2), (\'0\' + val.getDate()).slice(-2)].join("-");\n            },\n            decode: function decode(val) {\n                if (this.is(val)) return val;\n                var match = this.capture.exec(val);\n                return match ? new Date(match[1], match[2] - 1, match[3]) : undefined;\n            },\n            is: function is(val) {\n                return val instanceof Date && !isNaN(val.valueOf());\n            },\n            equals: function equals(l, r) {\n                return [\'getFullYear\', \'getMonth\', \'getDate\'].reduce(function (acc, fn) {\n                    return acc && l[fn]() === r[fn]();\n                }, true);\n            },\n            pattern: /[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,\n            capture: /([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/\n        }),\n        json: makeDefaultType({\n            encode: common_1.toJson,\n            decode: common_1.fromJson,\n            is: hof_1.is(Object),\n            equals: common_1.equals,\n            pattern: /[^/]*/\n        }),\n        // does not encode/decode\n        any: makeDefaultType({\n            encode: common_1.identity,\n            decode: common_1.identity,\n            is: function is() {\n                return true;\n            },\n            equals: common_1.equals\n        })\n    });\n}\ninitDefaultTypes();\n//# sourceMappingURL=paramTypes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3BhcmFtcy9wYXJhbVR5cGVzLmpzP2YzNzQiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjb21tb25fMSIsInJlcXVpcmUiLCJwcmVkaWNhdGVzXzEiLCJob2ZfMSIsImNvcmVzZXJ2aWNlc18xIiwicGFyYW1UeXBlXzEiLCJQYXJhbVR5cGVzIiwiZW5xdWV1ZSIsInR5cGVRdWV1ZSIsImRlZmF1bHRUeXBlcyIsInBpY2siLCJwcm90b3R5cGUiLCJtYWtlVHlwZSIsImRlZmluaXRpb24iLCJuYW1lIiwiUGFyYW1UeXBlIiwiZXh0ZW5kIiwidHlwZXMiLCJpbmhlcml0IiwibWFwIiwiZGlzcG9zZSIsInR5cGUiLCJkZWZpbml0aW9uRm4iLCJpc0RlZmluZWQiLCJoYXNPd25Qcm9wZXJ0eSIsIkVycm9yIiwicHVzaCIsImRlZiIsIl9mbHVzaFR5cGVRdWV1ZSIsImxlbmd0aCIsInNoaWZ0IiwicGF0dGVybiIsInNlcnZpY2VzIiwiJGluamVjdG9yIiwiaW52b2tlIiwiaW5pdERlZmF1bHRUeXBlcyIsIm1ha2VEZWZhdWx0VHlwZSIsInZhbFRvU3RyaW5nIiwidmFsIiwidG9TdHJpbmciLCJkZWZhdWx0VHlwZUJhc2UiLCJlbmNvZGUiLCJkZWNvZGUiLCJpcyIsIlN0cmluZyIsImVxdWFscyIsImEiLCJiIiwic3RyaW5nIiwicGF0aCIsInF1ZXJ5IiwiaGFzaCIsImludCIsInBhcnNlSW50IiwiaXNOdWxsT3JVbmRlZmluZWQiLCJib29sIiwiQm9vbGVhbiIsImRhdGUiLCJ1bmRlZmluZWQiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwic2xpY2UiLCJnZXREYXRlIiwiam9pbiIsIm1hdGNoIiwiY2FwdHVyZSIsImV4ZWMiLCJEYXRlIiwiaXNOYU4iLCJ2YWx1ZU9mIiwibCIsInIiLCJyZWR1Y2UiLCJhY2MiLCJmbiIsImpz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cEMsZ0JBQUksY0FBWTtBQUFFLHVCQUFPLElBQVA7QUFBYyxhQUhmO0FBSWpCRSxvQkFBUTdDLFNBQVM2QztBQUpBLFNBQWhCO0FBcEQ2QixLQUF0QztBQTJESDtBQUNEVjtBQUNBIiwiZmlsZSI6IjMyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEBjb3JlYXBpXG4gKiBAbW9kdWxlIHBhcmFtc1xuICovXG4vKiogKi9cbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29tbW9uXCIpO1xudmFyIHByZWRpY2F0ZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vcHJlZGljYXRlc1wiKTtcbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vaG9mXCIpO1xudmFyIGNvcmVzZXJ2aWNlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb3Jlc2VydmljZXNcIik7XG52YXIgcGFyYW1UeXBlXzEgPSByZXF1aXJlKFwiLi9wYXJhbVR5cGVcIik7XG4vKipcbiAqIEEgcmVnaXN0cnkgZm9yIHBhcmFtZXRlciB0eXBlcy5cbiAqXG4gKiBUaGlzIHJlZ2lzdHJ5IG1hbmFnZXMgdGhlIGJ1aWx0LWluIChhbmQgY3VzdG9tKSBwYXJhbWV0ZXIgdHlwZXMuXG4gKlxuICogVGhlIGJ1aWx0LWluIHBhcmFtZXRlciB0eXBlcyBhcmU6XG4gKlxuICogLSBbW3N0cmluZ11dXG4gKiAtIFtbcGF0aF1dXG4gKiAtIFtbcXVlcnldXVxuICogLSBbW2hhc2hdXVxuICogLSBbW2ludF1dXG4gKiAtIFtbYm9vbF1dXG4gKiAtIFtbZGF0ZV1dXG4gKiAtIFtbanNvbl1dXG4gKiAtIFtbYW55XV1cbiAqL1xudmFyIFBhcmFtVHlwZXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBmdW5jdGlvbiBQYXJhbVR5cGVzKCkge1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLmVucXVldWUgPSB0cnVlO1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLnR5cGVRdWV1ZSA9IFtdO1xuICAgICAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFR5cGVzID0gY29tbW9uXzEucGljayhQYXJhbVR5cGVzLnByb3RvdHlwZSwgW1wiaGFzaFwiLCBcInN0cmluZ1wiLCBcInF1ZXJ5XCIsIFwicGF0aFwiLCBcImludFwiLCBcImJvb2xcIiwgXCJkYXRlXCIsIFwianNvblwiLCBcImFueVwiXSk7XG4gICAgICAgIC8vIFJlZ2lzdGVyIGRlZmF1bHQgdHlwZXMuIFN0b3JlIHRoZW0gaW4gdGhlIHByb3RvdHlwZSBvZiB0aGlzLnR5cGVzLlxuICAgICAgICB2YXIgbWFrZVR5cGUgPSBmdW5jdGlvbiAoZGVmaW5pdGlvbiwgbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBwYXJhbVR5cGVfMS5QYXJhbVR5cGUoY29tbW9uXzEuZXh0ZW5kKHsgbmFtZTogbmFtZSB9LCBkZWZpbml0aW9uKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudHlwZXMgPSBjb21tb25fMS5pbmhlcml0KGNvbW1vbl8xLm1hcCh0aGlzLmRlZmF1bHRUeXBlcywgbWFrZVR5cGUpLCB7fSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBQYXJhbVR5cGVzLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnR5cGVzID0ge307XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBwYXJhbWV0ZXIgdHlwZVxuICAgICAqXG4gICAgICogRW5kIHVzZXJzIHNob3VsZCBjYWxsIFtbVXJsTWF0Y2hlckZhY3RvcnkudHlwZV1dLCB3aGljaCBkZWxlZ2F0ZXMgdG8gdGhpcyBtZXRob2QuXG4gICAgICovXG4gICAgUGFyYW1UeXBlcy5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uIChuYW1lLCBkZWZpbml0aW9uLCBkZWZpbml0aW9uRm4pIHtcbiAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKGRlZmluaXRpb24pKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZXNbbmFtZV07XG4gICAgICAgIGlmICh0aGlzLnR5cGVzLmhhc093blByb3BlcnR5KG5hbWUpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSB0eXBlIG5hbWVkICdcIiArIG5hbWUgKyBcIicgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkLlwiKTtcbiAgICAgICAgdGhpcy50eXBlc1tuYW1lXSA9IG5ldyBwYXJhbVR5cGVfMS5QYXJhbVR5cGUoY29tbW9uXzEuZXh0ZW5kKHsgbmFtZTogbmFtZSB9LCBkZWZpbml0aW9uKSk7XG4gICAgICAgIGlmIChkZWZpbml0aW9uRm4pIHtcbiAgICAgICAgICAgIHRoaXMudHlwZVF1ZXVlLnB1c2goeyBuYW1lOiBuYW1lLCBkZWY6IGRlZmluaXRpb25GbiB9KTtcbiAgICAgICAgICAgIGlmICghdGhpcy5lbnF1ZXVlKVxuICAgICAgICAgICAgICAgIHRoaXMuX2ZsdXNoVHlwZVF1ZXVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgUGFyYW1UeXBlcy5wcm90b3R5cGUuX2ZsdXNoVHlwZVF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAodGhpcy50eXBlUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHRoaXMudHlwZVF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAodHlwZS5wYXR0ZXJuKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3Qgb3ZlcnJpZGUgYSB0eXBlJ3MgLnBhdHRlcm4gYXQgcnVudGltZS5cIik7XG4gICAgICAgICAgICBjb21tb25fMS5leHRlbmQodGhpcy50eXBlc1t0eXBlLm5hbWVdLCBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kaW5qZWN0b3IuaW52b2tlKHR5cGUuZGVmKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQYXJhbVR5cGVzO1xufSgpKTtcbmV4cG9ydHMuUGFyYW1UeXBlcyA9IFBhcmFtVHlwZXM7XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gaW5pdERlZmF1bHRUeXBlcygpIHtcbiAgICB2YXIgbWFrZURlZmF1bHRUeXBlID0gZnVuY3Rpb24gKGRlZikge1xuICAgICAgICB2YXIgdmFsVG9TdHJpbmcgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsICE9IG51bGwgPyB2YWwudG9TdHJpbmcoKSA6IHZhbDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlZmF1bHRUeXBlQmFzZSA9IHtcbiAgICAgICAgICAgIGVuY29kZTogdmFsVG9TdHJpbmcsXG4gICAgICAgICAgICBkZWNvZGU6IHZhbFRvU3RyaW5nLFxuICAgICAgICAgICAgaXM6IGhvZl8xLmlzKFN0cmluZyksXG4gICAgICAgICAgICBwYXR0ZXJuOiAvLiovLFxuICAgICAgICAgICAgZXF1YWxzOiBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSA9PSBiOyB9LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY29tbW9uXzEuZXh0ZW5kKHt9LCBkZWZhdWx0VHlwZUJhc2UsIGRlZik7XG4gICAgfTtcbiAgICAvLyBEZWZhdWx0IFBhcmFtZXRlciBUeXBlIERlZmluaXRpb25zXG4gICAgY29tbW9uXzEuZXh0ZW5kKFBhcmFtVHlwZXMucHJvdG90eXBlLCB7XG4gICAgICAgIHN0cmluZzogbWFrZURlZmF1bHRUeXBlKHt9KSxcbiAgICAgICAgcGF0aDogbWFrZURlZmF1bHRUeXBlKHtcbiAgICAgICAgICAgIHBhdHRlcm46IC9bXi9dKi8sXG4gICAgICAgIH0pLFxuICAgICAgICBxdWVyeTogbWFrZURlZmF1bHRUeXBlKHt9KSxcbiAgICAgICAgaGFzaDogbWFrZURlZmF1bHRUeXBlKHtcbiAgICAgICAgICAgIGluaGVyaXQ6IGZhbHNlLFxuICAgICAgICB9KSxcbiAgICAgICAgaW50OiBtYWtlRGVmYXVsdFR5cGUoe1xuICAgICAgICAgICAgZGVjb2RlOiBmdW5jdGlvbiAodmFsKSB7IHJldHVybiBwYXJzZUludCh2YWwsIDEwKTsgfSxcbiAgICAgICAgICAgIGlzOiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFwcmVkaWNhdGVzXzEuaXNOdWxsT3JVbmRlZmluZWQodmFsKSAmJiB0aGlzLmRlY29kZSh2YWwudG9TdHJpbmcoKSkgPT09IHZhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXR0ZXJuOiAvLT9cXGQrLyxcbiAgICAgICAgfSksXG4gICAgICAgIGJvb2w6IG1ha2VEZWZhdWx0VHlwZSh7XG4gICAgICAgICAgICBlbmNvZGU6IGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIHZhbCAmJiAxIHx8IDA7IH0sXG4gICAgICAgICAgICBkZWNvZGU6IGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIHBhcnNlSW50KHZhbCwgMTApICE9PSAwOyB9LFxuICAgICAgICAgICAgaXM6IGhvZl8xLmlzKEJvb2xlYW4pLFxuICAgICAgICAgICAgcGF0dGVybjogLzB8MS9cbiAgICAgICAgfSksXG4gICAgICAgIGRhdGU6IG1ha2VEZWZhdWx0VHlwZSh7XG4gICAgICAgICAgICBlbmNvZGU6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIXRoaXMuaXModmFsKSA/IHVuZGVmaW5lZCA6IFtcbiAgICAgICAgICAgICAgICAgICAgdmFsLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICAgICAgICAgICgnMCcgKyAodmFsLmdldE1vbnRoKCkgKyAxKSkuc2xpY2UoLTIpLFxuICAgICAgICAgICAgICAgICAgICAoJzAnICsgdmFsLmdldERhdGUoKSkuc2xpY2UoLTIpXG4gICAgICAgICAgICAgICAgXS5qb2luKFwiLVwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWNvZGU6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pcyh2YWwpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IHRoaXMuY2FwdHVyZS5leGVjKHZhbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoID8gbmV3IERhdGUobWF0Y2hbMV0sIG1hdGNoWzJdIC0gMSwgbWF0Y2hbM10pIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzOiBmdW5jdGlvbiAodmFsKSB7IHJldHVybiB2YWwgaW5zdGFuY2VvZiBEYXRlICYmICFpc05hTih2YWwudmFsdWVPZigpKTsgfSxcbiAgICAgICAgICAgIGVxdWFsczogZnVuY3Rpb24gKGwsIHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWydnZXRGdWxsWWVhcicsICdnZXRNb250aCcsICdnZXREYXRlJ11cbiAgICAgICAgICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBmbikgeyByZXR1cm4gYWNjICYmIGxbZm5dKCkgPT09IHJbZm5dKCk7IH0sIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdHRlcm46IC9bMC05XXs0fS0oPzowWzEtOV18MVswLTJdKS0oPzowWzEtOV18WzEtMl1bMC05XXwzWzAtMV0pLyxcbiAgICAgICAgICAgIGNhcHR1cmU6IC8oWzAtOV17NH0pLSgwWzEtOV18MVswLTJdKS0oMFsxLTldfFsxLTJdWzAtOV18M1swLTFdKS9cbiAgICAgICAgfSksXG4gICAgICAgIGpzb246IG1ha2VEZWZhdWx0VHlwZSh7XG4gICAgICAgICAgICBlbmNvZGU6IGNvbW1vbl8xLnRvSnNvbixcbiAgICAgICAgICAgIGRlY29kZTogY29tbW9uXzEuZnJvbUpzb24sXG4gICAgICAgICAgICBpczogaG9mXzEuaXMoT2JqZWN0KSxcbiAgICAgICAgICAgIGVxdWFsczogY29tbW9uXzEuZXF1YWxzLFxuICAgICAgICAgICAgcGF0dGVybjogL1teL10qL1xuICAgICAgICB9KSxcbiAgICAgICAgLy8gZG9lcyBub3QgZW5jb2RlL2RlY29kZVxuICAgICAgICBhbnk6IG1ha2VEZWZhdWx0VHlwZSh7XG4gICAgICAgICAgICBlbmNvZGU6IGNvbW1vbl8xLmlkZW50aXR5LFxuICAgICAgICAgICAgZGVjb2RlOiBjb21tb25fMS5pZGVudGl0eSxcbiAgICAgICAgICAgIGlzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9LFxuICAgICAgICAgICAgZXF1YWxzOiBjb21tb25fMS5lcXVhbHMsXG4gICAgICAgIH0pLFxuICAgIH0pO1xufVxuaW5pdERlZmF1bHRUeXBlcygpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyYW1UeXBlcy5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3BhcmFtcy9wYXJhbVR5cGVzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///32\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @coreapi\n * @module params\n */\n/** */\nvar common_1 = __webpack_require__(0);\n/** @internalapi */\nvar StateParams = function () {\n    function StateParams(params) {\n        if (params === void 0) {\n            params = {};\n        }\n        common_1.extend(this, params);\n    }\n    /**\n     * Merges a set of parameters with all parameters inherited between the common parents of the\n     * current state and a given destination state.\n     *\n     * @param {Object} newParams The set of parameters which will be composited with inherited params.\n     * @param {Object} $current Internal definition of object representing the current state.\n     * @param {Object} $to Internal definition of object representing state to transition to.\n     */\n    StateParams.prototype.$inherit = function (newParams, $current, $to) {\n        var parents = common_1.ancestors($current, $to),\n            parentParams,\n            inherited = {},\n            inheritList = [];\n        for (var i in parents) {\n            if (!parents[i] || !parents[i].params) continue;\n            parentParams = Object.keys(parents[i].params);\n            if (!parentParams.length) continue;\n            for (var j in parentParams) {\n                if (inheritList.indexOf(parentParams[j]) >= 0) continue;\n                inheritList.push(parentParams[j]);\n                inherited[parentParams[j]] = this[parentParams[j]];\n            }\n        }\n        return common_1.extend({}, inherited, newParams);\n    };\n    ;\n    return StateParams;\n}();\nexports.StateParams = StateParams;\n//# sourceMappingURL=stateParams.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3BhcmFtcy9zdGF0ZVBhcmFtcy5qcz81ZGIxIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY29tbW9uXzEiLCJyZXF1aXJlIiwiU3RhdGVQYXJhbXMiLCJwYXJhbXMiLCJleHRlbmQiLCJwcm90b3R5cGUiLCIkaW5oZXJpdCIsIm5ld1BhcmFtcyIsIiRjdXJyZW50IiwiJHRvIiwicGFyZW50cyIsImFuY2VzdG9ycyIsInBhcmVudFBhcmFtcyIsImluaGVyaXRlZCIsImluaGVyaXRMaXN0IiwiaSIsImtleXMiLCJsZW5ndGgiLCJqIiwiaW5kZXhPZiIsInB1c2giXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTs7OztBQUlBO0FBQ0EsSUFBSUMsV0FBVyxtQkFBQUMsQ0FBUSxDQUFSLENBQWY7QUFDQTtBQUNBLElBQUlDLGNBQWUsWUFBWTtBQUMzQixhQUFTQSxXQUFULENBQXFCQyxNQUFyQixFQUE2QjtBQUN6QixZQUFJQSxXQUFXLEtBQUssQ0FBcEIsRUFBdUI7QUFBRUEscUJBQVMsRUFBVDtBQUFjO0FBQ3ZDSCxpQkFBU0ksTUFBVCxDQUFnQixJQUFoQixFQUFzQkQsTUFBdEI7QUFDSDtBQUNEOzs7Ozs7OztBQVFBRCxnQkFBWUcsU0FBWixDQUFzQkMsUUFBdEIsR0FBaUMsVUFBVUMsU0FBVixFQUFxQkMsUUFBckIsRUFBK0JDLEdBQS9CLEVBQW9DO0FBQ2pFLFlBQUlDLFVBQVVWLFNBQVNXLFNBQVQsQ0FBbUJILFFBQW5CLEVBQTZCQyxHQUE3QixDQUFkO0FBQUEsWUFBaURHLFlBQWpEO0FBQUEsWUFBK0RDLFlBQVksRUFBM0U7QUFBQSxZQUErRUMsY0FBYyxFQUE3RjtBQUNBLGFBQUssSUFBSUMsQ0FBVCxJQUFjTCxPQUFkLEVBQXVCO0FBQ25CLGdCQUFJLENBQUNBLFFBQVFLLENBQVIsQ0FBRCxJQUFlLENBQUNMLFFBQVFLLENBQVIsRUFBV1osTUFBL0IsRUFDSTtBQUNKUywyQkFBZWhCLE9BQU9vQixJQUFQLENBQVlOLFFBQVFLLENBQVIsRUFBV1osTUFBdkIsQ0FBZjtBQUNBLGdCQUFJLENBQUNTLGFBQWFLLE1BQWxCLEVBQ0k7QUFDSixpQkFBSyxJQUFJQyxDQUFULElBQWNOLFlBQWQsRUFBNEI7QUFDeEIsb0JBQUlFLFlBQVlLLE9BQVosQ0FBb0JQLGFBQWFNLENBQWIsQ0FBcEIsS0FBd0MsQ0FBNUMsRUFDSTtBQUNKSiw0QkFBWU0sSUFBWixDQUFpQlIsYUFBYU0sQ0FBYixDQUFqQjtBQUNBTCwwQkFBVUQsYUFBYU0sQ0FBYixDQUFWLElBQTZCLEtBQUtOLGFBQWFNLENBQWIsQ0FBTCxDQUE3QjtBQUNIO0FBQ0o7QUFDRCxlQUFPbEIsU0FBU0ksTUFBVCxDQUFnQixFQUFoQixFQUFvQlMsU0FBcEIsRUFBK0JOLFNBQS9CLENBQVA7QUFDSCxLQWhCRDtBQWlCQTtBQUNBLFdBQU9MLFdBQVA7QUFDSCxDQWhDa0IsRUFBbkI7QUFpQ0FKLFFBQVFJLFdBQVIsR0FBc0JBLFdBQXRCO0FBQ0EiLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgcGFyYW1zXG4gKi9cbi8qKiAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG4vKiogQGludGVybmFsYXBpICovXG52YXIgU3RhdGVQYXJhbXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRlUGFyYW1zKHBhcmFtcykge1xuICAgICAgICBpZiAocGFyYW1zID09PSB2b2lkIDApIHsgcGFyYW1zID0ge307IH1cbiAgICAgICAgY29tbW9uXzEuZXh0ZW5kKHRoaXMsIHBhcmFtcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1lcmdlcyBhIHNldCBvZiBwYXJhbWV0ZXJzIHdpdGggYWxsIHBhcmFtZXRlcnMgaW5oZXJpdGVkIGJldHdlZW4gdGhlIGNvbW1vbiBwYXJlbnRzIG9mIHRoZVxuICAgICAqIGN1cnJlbnQgc3RhdGUgYW5kIGEgZ2l2ZW4gZGVzdGluYXRpb24gc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbmV3UGFyYW1zIFRoZSBzZXQgb2YgcGFyYW1ldGVycyB3aGljaCB3aWxsIGJlIGNvbXBvc2l0ZWQgd2l0aCBpbmhlcml0ZWQgcGFyYW1zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAkY3VycmVudCBJbnRlcm5hbCBkZWZpbml0aW9uIG9mIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgc3RhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9ICR0byBJbnRlcm5hbCBkZWZpbml0aW9uIG9mIG9iamVjdCByZXByZXNlbnRpbmcgc3RhdGUgdG8gdHJhbnNpdGlvbiB0by5cbiAgICAgKi9cbiAgICBTdGF0ZVBhcmFtcy5wcm90b3R5cGUuJGluaGVyaXQgPSBmdW5jdGlvbiAobmV3UGFyYW1zLCAkY3VycmVudCwgJHRvKSB7XG4gICAgICAgIHZhciBwYXJlbnRzID0gY29tbW9uXzEuYW5jZXN0b3JzKCRjdXJyZW50LCAkdG8pLCBwYXJlbnRQYXJhbXMsIGluaGVyaXRlZCA9IHt9LCBpbmhlcml0TGlzdCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpIGluIHBhcmVudHMpIHtcbiAgICAgICAgICAgIGlmICghcGFyZW50c1tpXSB8fCAhcGFyZW50c1tpXS5wYXJhbXMpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBwYXJlbnRQYXJhbXMgPSBPYmplY3Qua2V5cyhwYXJlbnRzW2ldLnBhcmFtcyk7XG4gICAgICAgICAgICBpZiAoIXBhcmVudFBhcmFtcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBmb3IgKHZhciBqIGluIHBhcmVudFBhcmFtcykge1xuICAgICAgICAgICAgICAgIGlmIChpbmhlcml0TGlzdC5pbmRleE9mKHBhcmVudFBhcmFtc1tqXSkgPj0gMClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaW5oZXJpdExpc3QucHVzaChwYXJlbnRQYXJhbXNbal0pO1xuICAgICAgICAgICAgICAgIGluaGVyaXRlZFtwYXJlbnRQYXJhbXNbal1dID0gdGhpc1twYXJlbnRQYXJhbXNbal1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21tb25fMS5leHRlbmQoe30sIGluaGVyaXRlZCwgbmV3UGFyYW1zKTtcbiAgICB9O1xuICAgIDtcbiAgICByZXR1cm4gU3RhdGVQYXJhbXM7XG59KCkpO1xuZXhwb3J0cy5TdGF0ZVBhcmFtcyA9IFN0YXRlUGFyYW1zO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdGVQYXJhbXMuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi9wYXJhbXMvc3RhdGVQYXJhbXMuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///33\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/** @module state */ /** for typedoc */\nvar common_1 = __webpack_require__(0);\nvar predicates_1 = __webpack_require__(1);\nvar strings_1 = __webpack_require__(5);\nvar hof_1 = __webpack_require__(2);\nvar resolvable_1 = __webpack_require__(13);\nvar coreservices_1 = __webpack_require__(3);\nvar parseUrl = function parseUrl(url) {\n    if (!predicates_1.isString(url)) return false;\n    var root = url.charAt(0) === \'^\';\n    return { val: root ? url.substring(1) : url, root: root };\n};\nfunction nameBuilder(state) {\n    return state.name;\n}\nfunction selfBuilder(state) {\n    state.self.$$state = function () {\n        return state;\n    };\n    return state.self;\n}\nfunction dataBuilder(state) {\n    if (state.parent && state.parent.data) {\n        state.data = state.self.data = common_1.inherit(state.parent.data, state.data);\n    }\n    return state.data;\n}\nvar getUrlBuilder = function getUrlBuilder($urlMatcherFactoryProvider, root) {\n    return function urlBuilder(state) {\n        var stateDec = state;\n        // For future states, i.e., states whose name ends with `.**`,\n        // match anything that starts with the url prefix\n        if (stateDec && stateDec.url && stateDec.name && stateDec.name.match(/\\.\\*\\*$/)) {\n            stateDec.url += "{remainder:any}"; // match any path (.*)\n        }\n        var parsed = parseUrl(stateDec.url),\n            parent = state.parent;\n        var url = !parsed ? stateDec.url : $urlMatcherFactoryProvider.compile(parsed.val, {\n            params: state.params || {},\n            paramMap: function paramMap(paramConfig, isSearch) {\n                if (stateDec.reloadOnSearch === false && isSearch) paramConfig = common_1.extend(paramConfig || {}, { dynamic: true });\n                return paramConfig;\n            }\n        });\n        if (!url) return null;\n        if (!$urlMatcherFactoryProvider.isMatcher(url)) throw new Error("Invalid url \'" + url + "\' in state \'" + state + "\'");\n        return parsed && parsed.root ? url : (parent && parent.navigable || root()).url.append(url);\n    };\n};\nvar getNavigableBuilder = function getNavigableBuilder(isRoot) {\n    return function navigableBuilder(state) {\n        return !isRoot(state) && state.url ? state : state.parent ? state.parent.navigable : null;\n    };\n};\nvar getParamsBuilder = function getParamsBuilder(paramFactory) {\n    return function paramsBuilder(state) {\n        var makeConfigParam = function makeConfigParam(config, id) {\n            return paramFactory.fromConfig(id, null, config);\n        };\n        var urlParams = state.url && state.url.parameters({ inherit: false }) || [];\n        var nonUrlParams = common_1.values(common_1.mapObj(common_1.omit(state.params || {}, urlParams.map(hof_1.prop(\'id\'))), makeConfigParam));\n        return urlParams.concat(nonUrlParams).map(function (p) {\n            return [p.id, p];\n        }).reduce(common_1.applyPairs, {});\n    };\n};\nfunction pathBuilder(state) {\n    return state.parent ? state.parent.path.concat(state) : [state];\n}\nfunction includesBuilder(state) {\n    var includes = state.parent ? common_1.extend({}, state.parent.includes) : {};\n    includes[state.name] = true;\n    return includes;\n}\n/**\n * This is a [[StateBuilder.builder]] function for the `resolve:` block on a [[StateDeclaration]].\n *\n * When the [[StateBuilder]] builds a [[StateObject]] object from a raw [[StateDeclaration]], this builder\n * validates the `resolve` property and converts it to a [[Resolvable]] array.\n *\n * resolve: input value can be:\n *\n * {\n *   // analyzed but not injected\n *   myFooResolve: function() { return "myFooData"; },\n *\n *   // function.toString() parsed, "DependencyName" dep as string (not min-safe)\n *   myBarResolve: function(DependencyName) { return DependencyName.fetchSomethingAsPromise() },\n *\n *   // Array split; "DependencyName" dep as string\n *   myBazResolve: [ "DependencyName", function(dep) { return dep.fetchSomethingAsPromise() },\n *\n *   // Array split; DependencyType dep as token (compared using ===)\n *   myQuxResolve: [ DependencyType, function(dep) { return dep.fetchSometingAsPromise() },\n *\n *   // val.$inject used as deps\n *   // where:\n *   //     corgeResolve.$inject = ["DependencyName"];\n *   //     function corgeResolve(dep) { dep.fetchSometingAsPromise() }\n *   // then "DependencyName" dep as string\n *   myCorgeResolve: corgeResolve,\n *\n *  // inject service by name\n *  // When a string is found, desugar creating a resolve that injects the named service\n *   myGraultResolve: "SomeService"\n * }\n *\n * or:\n *\n * [\n *   new Resolvable("myFooResolve", function() { return "myFooData" }),\n *   new Resolvable("myBarResolve", function(dep) { return dep.fetchSomethingAsPromise() }, [ "DependencyName" ]),\n *   { provide: "myBazResolve", useFactory: function(dep) { dep.fetchSomethingAsPromise() }, deps: [ "DependencyName" ] }\n * ]\n */\nfunction resolvablesBuilder(state) {\n    /** convert resolve: {} and resolvePolicy: {} objects to an array of tuples */\n    var objects2Tuples = function objects2Tuples(resolveObj, resolvePolicies) {\n        return Object.keys(resolveObj || {}).map(function (token) {\n            return { token: token, val: resolveObj[token], deps: undefined, policy: resolvePolicies[token] };\n        });\n    };\n    /** fetch DI annotations from a function or ng1-style array */\n    var annotate = function annotate(fn) {\n        var $injector = coreservices_1.services.$injector;\n        // ng1 doesn\'t have an $injector until runtime.\n        // If the $injector doesn\'t exist, use "deferred" literal as a\n        // marker indicating they should be annotated when runtime starts\n        return fn[\'$inject\'] || $injector && $injector.annotate(fn, $injector.strictDi) || "deferred";\n    };\n    /** true if the object has both `token` and `resolveFn`, and is probably a [[ResolveLiteral]] */\n    var isResolveLiteral = function isResolveLiteral(obj) {\n        return !!(obj.token && obj.resolveFn);\n    };\n    /** true if the object looks like a provide literal, or a ng2 Provider */\n    var isLikeNg2Provider = function isLikeNg2Provider(obj) {\n        return !!((obj.provide || obj.token) && (obj.useValue || obj.useFactory || obj.useExisting || obj.useClass));\n    };\n    /** true if the object looks like a tuple from obj2Tuples */\n    var isTupleFromObj = function isTupleFromObj(obj) {\n        return !!(obj && obj.val && (predicates_1.isString(obj.val) || predicates_1.isArray(obj.val) || predicates_1.isFunction(obj.val)));\n    };\n    /** extracts the token from a Provider or provide literal */\n    var token = function token(p) {\n        return p.provide || p.token;\n    };\n    /** Given a literal resolve or provider object, returns a Resolvable */\n    var literal2Resolvable = hof_1.pattern([[hof_1.prop(\'resolveFn\'), function (p) {\n        return new resolvable_1.Resolvable(token(p), p.resolveFn, p.deps, p.policy);\n    }], [hof_1.prop(\'useFactory\'), function (p) {\n        return new resolvable_1.Resolvable(token(p), p.useFactory, p.deps || p.dependencies, p.policy);\n    }], [hof_1.prop(\'useClass\'), function (p) {\n        return new resolvable_1.Resolvable(token(p), function () {\n            return new p.useClass();\n        }, [], p.policy);\n    }], [hof_1.prop(\'useValue\'), function (p) {\n        return new resolvable_1.Resolvable(token(p), function () {\n            return p.useValue;\n        }, [], p.policy, p.useValue);\n    }], [hof_1.prop(\'useExisting\'), function (p) {\n        return new resolvable_1.Resolvable(token(p), common_1.identity, [p.useExisting], p.policy);\n    }]]);\n    var tuple2Resolvable = hof_1.pattern([[hof_1.pipe(hof_1.prop("val"), predicates_1.isString), function (tuple) {\n        return new resolvable_1.Resolvable(tuple.token, common_1.identity, [tuple.val], tuple.policy);\n    }], [hof_1.pipe(hof_1.prop("val"), predicates_1.isArray), function (tuple) {\n        return new resolvable_1.Resolvable(tuple.token, common_1.tail(tuple.val), tuple.val.slice(0, -1), tuple.policy);\n    }], [hof_1.pipe(hof_1.prop("val"), predicates_1.isFunction), function (tuple) {\n        return new resolvable_1.Resolvable(tuple.token, tuple.val, annotate(tuple.val), tuple.policy);\n    }]]);\n    var item2Resolvable = hof_1.pattern([[hof_1.is(resolvable_1.Resolvable), function (r) {\n        return r;\n    }], [isResolveLiteral, literal2Resolvable], [isLikeNg2Provider, literal2Resolvable], [isTupleFromObj, tuple2Resolvable], [hof_1.val(true), function (obj) {\n        throw new Error("Invalid resolve value: " + strings_1.stringify(obj));\n    }]]);\n    // If resolveBlock is already an array, use it as-is.\n    // Otherwise, assume it\'s an object and convert to an Array of tuples\n    var decl = state.resolve;\n    var items = predicates_1.isArray(decl) ? decl : objects2Tuples(decl, state.resolvePolicy || {});\n    return items.map(item2Resolvable);\n}\nexports.resolvablesBuilder = resolvablesBuilder;\n/**\n * @internalapi A internal global service\n *\n * StateBuilder is a factory for the internal [[StateObject]] objects.\n *\n * When you register a state with the [[StateRegistry]], you register a plain old javascript object which\n * conforms to the [[StateDeclaration]] interface.  This factory takes that object and builds the corresponding\n * [[StateObject]] object, which has an API and is used internally.\n *\n * Custom properties or API may be added to the internal [[StateObject]] object by registering a decorator function\n * using the [[builder]] method.\n */\nvar StateBuilder = function () {\n    function StateBuilder(matcher, urlMatcherFactory) {\n        this.matcher = matcher;\n        var self = this;\n        var root = function root() {\n            return matcher.find("");\n        };\n        var isRoot = function isRoot(state) {\n            return state.name === "";\n        };\n        function parentBuilder(state) {\n            if (isRoot(state)) return null;\n            return matcher.find(self.parentName(state)) || root();\n        }\n        this.builders = {\n            name: [nameBuilder],\n            self: [selfBuilder],\n            parent: [parentBuilder],\n            data: [dataBuilder],\n            // Build a URLMatcher if necessary, either via a relative or absolute URL\n            url: [getUrlBuilder(urlMatcherFactory, root)],\n            // Keep track of the closest ancestor state that has a URL (i.e. is navigable)\n            navigable: [getNavigableBuilder(isRoot)],\n            params: [getParamsBuilder(urlMatcherFactory.paramFactory)],\n            // Each framework-specific ui-router implementation should define its own `views` builder\n            // e.g., src/ng1/statebuilders/views.ts\n            views: [],\n            // Keep a full path from the root down to this state as this is needed for state activation.\n            path: [pathBuilder],\n            // Speed up $state.includes() as it\'s used a lot\n            includes: [includesBuilder],\n            resolvables: [resolvablesBuilder]\n        };\n    }\n    /**\n     * Registers a [[BuilderFunction]] for a specific [[StateObject]] property (e.g., `parent`, `url`, or `path`).\n     * More than one BuilderFunction can be registered for a given property.\n     *\n     * The BuilderFunction(s) will be used to define the property on any subsequently built [[StateObject]] objects.\n     *\n     * @param name The name of the State property being registered for.\n     * @param fn The BuilderFunction which will be used to build the State property\n     * @returns a function which deregisters the BuilderFunction\n     */\n    StateBuilder.prototype.builder = function (name, fn) {\n        var builders = this.builders;\n        var array = builders[name] || [];\n        // Backwards compat: if only one builder exists, return it, else return whole arary.\n        if (predicates_1.isString(name) && !predicates_1.isDefined(fn)) return array.length > 1 ? array : array[0];\n        if (!predicates_1.isString(name) || !predicates_1.isFunction(fn)) return;\n        builders[name] = array;\n        builders[name].push(fn);\n        return function () {\n            return builders[name].splice(builders[name].indexOf(fn, 1)) && null;\n        };\n    };\n    /**\n     * Builds all of the properties on an essentially blank State object, returning a State object which has all its\n     * properties and API built.\n     *\n     * @param state an uninitialized State object\n     * @returns the built State object\n     */\n    StateBuilder.prototype.build = function (state) {\n        var _a = this,\n            matcher = _a.matcher,\n            builders = _a.builders;\n        var parent = this.parentName(state);\n        if (parent && !matcher.find(parent, undefined, false)) {\n            return null;\n        }\n        for (var key in builders) {\n            if (!builders.hasOwnProperty(key)) continue;\n            var chain = builders[key].reduce(function (parentFn, step) {\n                return function (_state) {\n                    return step(_state, parentFn);\n                };\n            }, common_1.noop);\n            state[key] = chain(state);\n        }\n        return state;\n    };\n    StateBuilder.prototype.parentName = function (state) {\n        var name = state.name || "";\n        var segments = name.split(\'.\');\n        if (segments.length > 1) {\n            if (state.parent) {\n                throw new Error("States that specify the \'parent:\' property should not have a \'.\' in their name (" + name + ")");\n            }\n            var lastSegment = segments.pop();\n            if (lastSegment === \'**\') segments.pop();\n            return segments.join(".");\n        }\n        if (!state.parent) return "";\n        return predicates_1.isString(state.parent) ? state.parent : state.parent.name;\n    };\n    StateBuilder.prototype.name = function (state) {\n        var name = state.name;\n        if (name.indexOf(\'.\') !== -1 || !state.parent) return name;\n        var parentName = predicates_1.isString(state.parent) ? state.parent : state.parent.name;\n        return parentName ? parentName + "." + name : name;\n    };\n    return StateBuilder;\n}();\nexports.StateBuilder = StateBuilder;\n//# sourceMappingURL=stateBuilder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3N0YXRlL3N0YXRlQnVpbGRlci5qcz80ZDFhIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY29tbW9uXzEiLCJyZXF1aXJlIiwicHJlZGljYXRlc18xIiwic3RyaW5nc18xIiwiaG9mXzEiLCJyZXNvbHZhYmxlXzEiLCJjb3Jlc2VydmljZXNfMSIsInBhcnNlVXJsIiwidXJsIiwiaXNTdHJpbmciLCJyb290IiwiY2hhckF0IiwidmFsIiwic3Vic3RyaW5nIiwibmFtZUJ1aWxkZXIiLCJzdGF0ZSIsIm5hbWUiLCJzZWxmQnVpbGRlciIsInNlbGYiLCIkJHN0YXRlIiwiZGF0YUJ1aWxkZXIiLCJwYXJlbnQiLCJkYXRhIiwiaW5oZXJpdCIsImdldFVybEJ1aWxkZXIiLCIkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlciIsInVybEJ1aWxkZXIiLCJzdGF0ZURlYyIsIm1hdGNoIiwicGFyc2VkIiwiY29tcGlsZSIsInBhcmFtcyIsInBhcmFtTWFwIiwicGFyYW1Db25maWciLCJpc1NlYXJjaCIsInJlbG9hZE9uU2VhcmNoIiwiZXh0ZW5kIiwiZHluYW1pYyIsImlzTWF0Y2hlciIsIkVycm9yIiwibmF2aWdhYmxlIiwiYXBwZW5kIiwiZ2V0TmF2aWdhYmxlQnVpbGRlciIsImlzUm9vdCIsIm5hdmlnYWJsZUJ1aWxkZXIiLCJnZXRQYXJhbXNCdWlsZGVyIiwicGFyYW1GYWN0b3J5IiwicGFyYW1zQnVpbGRlciIsIm1ha2VDb25maWdQYXJhbSIsImNvbmZpZyIsImlkIiwiZnJvbUNvbmZpZyIsInVybFBhcmFtcyIsInBhcmFtZXRlcnMiLCJub25VcmxQYXJhbXMiLCJ2YWx1ZXMiLCJtYXBPYmoiLCJvbWl0IiwibWFwIiwicHJvcCIsImNvbmNhdCIsInAiLCJyZWR1Y2UiLCJhcHBseVBhaXJzIiwicGF0aEJ1aWxkZXIiLCJwYXRoIiwiaW5jbHVkZXNCdWlsZGVyIiwiaW5jbHVkZXMiLCJyZXNvbHZhYmxlc0J1aWxkZXIiLCJvYmplY3RzMlR1cGxlcyIsInJlc29sdmVPYmoiLCJyZXNvbHZlUG9saWNpZXMiLCJrZXlzIiwidG9rZW4iLCJkZXBzIiwidW5kZWZpbmVkIiwicG9saWN5IiwiYW5ub3RhdGUiLCJmbiIsIiRpbmplY3RvciIsInNlcnZpY2VzIiwic3RyaWN0RGkiLCJpc1Jlc29sdmVMaXRlcmFsIiwib2JqIiwicmVzb2x2ZUZuIiwiaXNMaWtlTmcyUHJvdmlkZXIiLCJwcm92aWRlIiwidXNlVmFsdWUiLCJ1c2VGYWN0b3J5IiwidXNlRXhpc3RpbmciLCJ1c2VDbGFzcyIsImlzVHVwbGVGcm9tT2JqIiwiaXNBcnJheSIsImlzRnVuY3Rpb24iLCJsaXRlcmFsMlJlc29sdmFibGUiLCJwYXR0ZXJuIiwiUmVzb2x2YWJsZSIsImRlcGVuZGVuY2llcyIsImlkZW50aXR5IiwidHVwbGUyUmVzb2x2YWJsZSIsInBpcGUiLCJ0dXBsZSIsInRhaWwiLCJzbGljZSIsIml0ZW0yUmVzb2x2YWJsZSIsImlzIiwiciIsInN0cmluZ2lmeSIsImRlY2wiLCJyZXNvbHZlIiwiaXRlbXMiLCJyZXNvbHZlUG9saWN5IiwiU3RhdGVCdWlsZGVyIiwibWF0Y2hlciIsInVybE1hdGNoZXJGYWN0b3J5IiwiZmluZCIsInBhcmVudEJ1aWxkZXIiLCJwYXJlbnROYW1lIiwiYnVpbGRlcnMiLCJ2aWV3cyIsInJlc29sdmFibGVzIiwicHJvdG90eXBlIiwiYnVpbGRlciIsImFycmF5IiwiaXNEZWZpbmVkIiwibGVuZ3RoIiwicHVzaCIsInNwbGljZSIsImluZGV4T2YiLCJidWlsZCIsIl9hIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJjaGFpbiIsInBhcmVudEZuIiwic3RlcCIsIl9zdGF0ZSIsIm5vb3AiLCJzZWdtZW50cyIsInNwbGl0IiwibGFzdFNlZ21lbnQiLCJwb3AiLCJqb2luIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFz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QUNELFlBQUksQ0FBQy9ILE1BQU1NLE1BQVgsRUFDSSxPQUFPLEVBQVA7QUFDSixlQUFPbkIsYUFBYU8sUUFBYixDQUFzQk0sTUFBTU0sTUFBNUIsSUFBc0NOLE1BQU1NLE1BQTVDLEdBQXFETixNQUFNTSxNQUFOLENBQWFMLElBQXpFO0FBQ0gsS0FmRDtBQWdCQWdHLGlCQUFhUyxTQUFiLENBQXVCekcsSUFBdkIsR0FBOEIsVUFBVUQsS0FBVixFQUFpQjtBQUMzQyxZQUFJQyxPQUFPRCxNQUFNQyxJQUFqQjtBQUNBLFlBQUlBLEtBQUtnSCxPQUFMLENBQWEsR0FBYixNQUFzQixDQUFDLENBQXZCLElBQTRCLENBQUNqSCxNQUFNTSxNQUF2QyxFQUNJLE9BQU9MLElBQVA7QUFDSixZQUFJcUcsYUFBYW5ILGFBQWFPLFFBQWIsQ0FBc0JNLE1BQU1NLE1BQTVCLElBQXNDTixNQUFNTSxNQUE1QyxHQUFxRE4sTUFBTU0sTUFBTixDQUFhTCxJQUFuRjtBQUNBLGVBQU9xRyxhQUFhQSxhQUFhLEdBQWIsR0FBbUJyRyxJQUFoQyxHQUF1Q0EsSUFBOUM7QUFDSCxLQU5EO0FBT0EsV0FBT2dHLFlBQVA7QUFDSCxDQWxHbUIsRUFBcEI7QUFtR0FsSCxRQUFRa0gsWUFBUixHQUF1QkEsWUFBdkI7QUFDQSIsImZpbGUiOiIzNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBtb2R1bGUgc3RhdGUgKi8gLyoqIGZvciB0eXBlZG9jICovXG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBwcmVkaWNhdGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgc3RyaW5nc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9zdHJpbmdzXCIpO1xudmFyIGhvZl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ob2ZcIik7XG52YXIgcmVzb2x2YWJsZV8xID0gcmVxdWlyZShcIi4uL3Jlc29sdmUvcmVzb2x2YWJsZVwiKTtcbnZhciBjb3Jlc2VydmljZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCIpO1xudmFyIHBhcnNlVXJsID0gZnVuY3Rpb24gKHVybCkge1xuICAgIGlmICghcHJlZGljYXRlc18xLmlzU3RyaW5nKHVybCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2YXIgcm9vdCA9IHVybC5jaGFyQXQoMCkgPT09ICdeJztcbiAgICByZXR1cm4geyB2YWw6IHJvb3QgPyB1cmwuc3Vic3RyaW5nKDEpIDogdXJsLCByb290OiByb290IH07XG59O1xuZnVuY3Rpb24gbmFtZUJ1aWxkZXIoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUubmFtZTtcbn1cbmZ1bmN0aW9uIHNlbGZCdWlsZGVyKHN0YXRlKSB7XG4gICAgc3RhdGUuc2VsZi4kJHN0YXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RhdGU7IH07XG4gICAgcmV0dXJuIHN0YXRlLnNlbGY7XG59XG5mdW5jdGlvbiBkYXRhQnVpbGRlcihzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5wYXJlbnQgJiYgc3RhdGUucGFyZW50LmRhdGEpIHtcbiAgICAgICAgc3RhdGUuZGF0YSA9IHN0YXRlLnNlbGYuZGF0YSA9IGNvbW1vbl8xLmluaGVyaXQoc3RhdGUucGFyZW50LmRhdGEsIHN0YXRlLmRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGUuZGF0YTtcbn1cbnZhciBnZXRVcmxCdWlsZGVyID0gZnVuY3Rpb24gKCR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyLCByb290KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVybEJ1aWxkZXIoc3RhdGUpIHtcbiAgICAgICAgdmFyIHN0YXRlRGVjID0gc3RhdGU7XG4gICAgICAgIC8vIEZvciBmdXR1cmUgc3RhdGVzLCBpLmUuLCBzdGF0ZXMgd2hvc2UgbmFtZSBlbmRzIHdpdGggYC4qKmAsXG4gICAgICAgIC8vIG1hdGNoIGFueXRoaW5nIHRoYXQgc3RhcnRzIHdpdGggdGhlIHVybCBwcmVmaXhcbiAgICAgICAgaWYgKHN0YXRlRGVjICYmIHN0YXRlRGVjLnVybCAmJiBzdGF0ZURlYy5uYW1lICYmIHN0YXRlRGVjLm5hbWUubWF0Y2goL1xcLlxcKlxcKiQvKSkge1xuICAgICAgICAgICAgc3RhdGVEZWMudXJsICs9IFwie3JlbWFpbmRlcjphbnl9XCI7IC8vIG1hdGNoIGFueSBwYXRoICguKilcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2VVcmwoc3RhdGVEZWMudXJsKSwgcGFyZW50ID0gc3RhdGUucGFyZW50O1xuICAgICAgICB2YXIgdXJsID0gIXBhcnNlZCA/IHN0YXRlRGVjLnVybCA6ICR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyLmNvbXBpbGUocGFyc2VkLnZhbCwge1xuICAgICAgICAgICAgcGFyYW1zOiBzdGF0ZS5wYXJhbXMgfHwge30sXG4gICAgICAgICAgICBwYXJhbU1hcDogZnVuY3Rpb24gKHBhcmFtQ29uZmlnLCBpc1NlYXJjaCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZURlYy5yZWxvYWRPblNlYXJjaCA9PT0gZmFsc2UgJiYgaXNTZWFyY2gpXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtQ29uZmlnID0gY29tbW9uXzEuZXh0ZW5kKHBhcmFtQ29uZmlnIHx8IHt9LCB7IGR5bmFtaWM6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtQ29uZmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF1cmwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKCEkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlci5pc01hdGNoZXIodXJsKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdXJsICdcIiArIHVybCArIFwiJyBpbiBzdGF0ZSAnXCIgKyBzdGF0ZSArIFwiJ1wiKTtcbiAgICAgICAgcmV0dXJuIChwYXJzZWQgJiYgcGFyc2VkLnJvb3QpID8gdXJsIDogKChwYXJlbnQgJiYgcGFyZW50Lm5hdmlnYWJsZSkgfHwgcm9vdCgpKS51cmwuYXBwZW5kKHVybCk7XG4gICAgfTtcbn07XG52YXIgZ2V0TmF2aWdhYmxlQnVpbGRlciA9IGZ1bmN0aW9uIChpc1Jvb3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmF2aWdhYmxlQnVpbGRlcihzdGF0ZSkge1xuICAgICAgICByZXR1cm4gIWlzUm9vdChzdGF0ZSkgJiYgc3RhdGUudXJsID8gc3RhdGUgOiAoc3RhdGUucGFyZW50ID8gc3RhdGUucGFyZW50Lm5hdmlnYWJsZSA6IG51bGwpO1xuICAgIH07XG59O1xudmFyIGdldFBhcmFtc0J1aWxkZXIgPSBmdW5jdGlvbiAocGFyYW1GYWN0b3J5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBhcmFtc0J1aWxkZXIoc3RhdGUpIHtcbiAgICAgICAgdmFyIG1ha2VDb25maWdQYXJhbSA9IGZ1bmN0aW9uIChjb25maWcsIGlkKSB7IHJldHVybiBwYXJhbUZhY3RvcnkuZnJvbUNvbmZpZyhpZCwgbnVsbCwgY29uZmlnKTsgfTtcbiAgICAgICAgdmFyIHVybFBhcmFtcyA9IChzdGF0ZS51cmwgJiYgc3RhdGUudXJsLnBhcmFtZXRlcnMoeyBpbmhlcml0OiBmYWxzZSB9KSkgfHwgW107XG4gICAgICAgIHZhciBub25VcmxQYXJhbXMgPSBjb21tb25fMS52YWx1ZXMoY29tbW9uXzEubWFwT2JqKGNvbW1vbl8xLm9taXQoc3RhdGUucGFyYW1zIHx8IHt9LCB1cmxQYXJhbXMubWFwKGhvZl8xLnByb3AoJ2lkJykpKSwgbWFrZUNvbmZpZ1BhcmFtKSk7XG4gICAgICAgIHJldHVybiB1cmxQYXJhbXMuY29uY2F0KG5vblVybFBhcmFtcykubWFwKGZ1bmN0aW9uIChwKSB7IHJldHVybiBbcC5pZCwgcF07IH0pLnJlZHVjZShjb21tb25fMS5hcHBseVBhaXJzLCB7fSk7XG4gICAgfTtcbn07XG5mdW5jdGlvbiBwYXRoQnVpbGRlcihzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5wYXJlbnQgPyBzdGF0ZS5wYXJlbnQucGF0aC5jb25jYXQoc3RhdGUpIDogW3N0YXRlXTtcbn1cbmZ1bmN0aW9uIGluY2x1ZGVzQnVpbGRlcihzdGF0ZSkge1xuICAgIHZhciBpbmNsdWRlcyA9IHN0YXRlLnBhcmVudCA/IGNvbW1vbl8xLmV4dGVuZCh7fSwgc3RhdGUucGFyZW50LmluY2x1ZGVzKSA6IHt9O1xuICAgIGluY2x1ZGVzW3N0YXRlLm5hbWVdID0gdHJ1ZTtcbiAgICByZXR1cm4gaW5jbHVkZXM7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBbW1N0YXRlQnVpbGRlci5idWlsZGVyXV0gZnVuY3Rpb24gZm9yIHRoZSBgcmVzb2x2ZTpgIGJsb2NrIG9uIGEgW1tTdGF0ZURlY2xhcmF0aW9uXV0uXG4gKlxuICogV2hlbiB0aGUgW1tTdGF0ZUJ1aWxkZXJdXSBidWlsZHMgYSBbW1N0YXRlT2JqZWN0XV0gb2JqZWN0IGZyb20gYSByYXcgW1tTdGF0ZURlY2xhcmF0aW9uXV0sIHRoaXMgYnVpbGRlclxuICogdmFsaWRhdGVzIHRoZSBgcmVzb2x2ZWAgcHJvcGVydHkgYW5kIGNvbnZlcnRzIGl0IHRvIGEgW1tSZXNvbHZhYmxlXV0gYXJyYXkuXG4gKlxuICogcmVzb2x2ZTogaW5wdXQgdmFsdWUgY2FuIGJlOlxuICpcbiAqIHtcbiAqICAgLy8gYW5hbHl6ZWQgYnV0IG5vdCBpbmplY3RlZFxuICogICBteUZvb1Jlc29sdmU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJteUZvb0RhdGFcIjsgfSxcbiAqXG4gKiAgIC8vIGZ1bmN0aW9uLnRvU3RyaW5nKCkgcGFyc2VkLCBcIkRlcGVuZGVuY3lOYW1lXCIgZGVwIGFzIHN0cmluZyAobm90IG1pbi1zYWZlKVxuICogICBteUJhclJlc29sdmU6IGZ1bmN0aW9uKERlcGVuZGVuY3lOYW1lKSB7IHJldHVybiBEZXBlbmRlbmN5TmFtZS5mZXRjaFNvbWV0aGluZ0FzUHJvbWlzZSgpIH0sXG4gKlxuICogICAvLyBBcnJheSBzcGxpdDsgXCJEZXBlbmRlbmN5TmFtZVwiIGRlcCBhcyBzdHJpbmdcbiAqICAgbXlCYXpSZXNvbHZlOiBbIFwiRGVwZW5kZW5jeU5hbWVcIiwgZnVuY3Rpb24oZGVwKSB7IHJldHVybiBkZXAuZmV0Y2hTb21ldGhpbmdBc1Byb21pc2UoKSB9LFxuICpcbiAqICAgLy8gQXJyYXkgc3BsaXQ7IERlcGVuZGVuY3lUeXBlIGRlcCBhcyB0b2tlbiAoY29tcGFyZWQgdXNpbmcgPT09KVxuICogICBteVF1eFJlc29sdmU6IFsgRGVwZW5kZW5jeVR5cGUsIGZ1bmN0aW9uKGRlcCkgeyByZXR1cm4gZGVwLmZldGNoU29tZXRpbmdBc1Byb21pc2UoKSB9LFxuICpcbiAqICAgLy8gdmFsLiRpbmplY3QgdXNlZCBhcyBkZXBzXG4gKiAgIC8vIHdoZXJlOlxuICogICAvLyAgICAgY29yZ2VSZXNvbHZlLiRpbmplY3QgPSBbXCJEZXBlbmRlbmN5TmFtZVwiXTtcbiAqICAgLy8gICAgIGZ1bmN0aW9uIGNvcmdlUmVzb2x2ZShkZXApIHsgZGVwLmZldGNoU29tZXRpbmdBc1Byb21pc2UoKSB9XG4gKiAgIC8vIHRoZW4gXCJEZXBlbmRlbmN5TmFtZVwiIGRlcCBhcyBzdHJpbmdcbiAqICAgbXlDb3JnZVJlc29sdmU6IGNvcmdlUmVzb2x2ZSxcbiAqXG4gKiAgLy8gaW5qZWN0IHNlcnZpY2UgYnkgbmFtZVxuICogIC8vIFdoZW4gYSBzdHJpbmcgaXMgZm91bmQsIGRlc3VnYXIgY3JlYXRpbmcgYSByZXNvbHZlIHRoYXQgaW5qZWN0cyB0aGUgbmFtZWQgc2VydmljZVxuICogICBteUdyYXVsdFJlc29sdmU6IFwiU29tZVNlcnZpY2VcIlxuICogfVxuICpcbiAqIG9yOlxuICpcbiAqIFtcbiAqICAgbmV3IFJlc29sdmFibGUoXCJteUZvb1Jlc29sdmVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBcIm15Rm9vRGF0YVwiIH0pLFxuICogICBuZXcgUmVzb2x2YWJsZShcIm15QmFyUmVzb2x2ZVwiLCBmdW5jdGlvbihkZXApIHsgcmV0dXJuIGRlcC5mZXRjaFNvbWV0aGluZ0FzUHJvbWlzZSgpIH0sIFsgXCJEZXBlbmRlbmN5TmFtZVwiIF0pLFxuICogICB7IHByb3ZpZGU6IFwibXlCYXpSZXNvbHZlXCIsIHVzZUZhY3Rvcnk6IGZ1bmN0aW9uKGRlcCkgeyBkZXAuZmV0Y2hTb21ldGhpbmdBc1Byb21pc2UoKSB9LCBkZXBzOiBbIFwiRGVwZW5kZW5jeU5hbWVcIiBdIH1cbiAqIF1cbiAqL1xuZnVuY3Rpb24gcmVzb2x2YWJsZXNCdWlsZGVyKHN0YXRlKSB7XG4gICAgLyoqIGNvbnZlcnQgcmVzb2x2ZToge30gYW5kIHJlc29sdmVQb2xpY3k6IHt9IG9iamVjdHMgdG8gYW4gYXJyYXkgb2YgdHVwbGVzICovXG4gICAgdmFyIG9iamVjdHMyVHVwbGVzID0gZnVuY3Rpb24gKHJlc29sdmVPYmosIHJlc29sdmVQb2xpY2llcykge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMocmVzb2x2ZU9iaiB8fCB7fSkubWFwKGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gKHsgdG9rZW46IHRva2VuLCB2YWw6IHJlc29sdmVPYmpbdG9rZW5dLCBkZXBzOiB1bmRlZmluZWQsIHBvbGljeTogcmVzb2x2ZVBvbGljaWVzW3Rva2VuXSB9KTsgfSk7XG4gICAgfTtcbiAgICAvKiogZmV0Y2ggREkgYW5ub3RhdGlvbnMgZnJvbSBhIGZ1bmN0aW9uIG9yIG5nMS1zdHlsZSBhcnJheSAqL1xuICAgIHZhciBhbm5vdGF0ZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgJGluamVjdG9yID0gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJGluamVjdG9yO1xuICAgICAgICAvLyBuZzEgZG9lc24ndCBoYXZlIGFuICRpbmplY3RvciB1bnRpbCBydW50aW1lLlxuICAgICAgICAvLyBJZiB0aGUgJGluamVjdG9yIGRvZXNuJ3QgZXhpc3QsIHVzZSBcImRlZmVycmVkXCIgbGl0ZXJhbCBhcyBhXG4gICAgICAgIC8vIG1hcmtlciBpbmRpY2F0aW5nIHRoZXkgc2hvdWxkIGJlIGFubm90YXRlZCB3aGVuIHJ1bnRpbWUgc3RhcnRzXG4gICAgICAgIHJldHVybiBmblsnJGluamVjdCddIHx8ICgkaW5qZWN0b3IgJiYgJGluamVjdG9yLmFubm90YXRlKGZuLCAkaW5qZWN0b3Iuc3RyaWN0RGkpKSB8fCBcImRlZmVycmVkXCI7XG4gICAgfTtcbiAgICAvKiogdHJ1ZSBpZiB0aGUgb2JqZWN0IGhhcyBib3RoIGB0b2tlbmAgYW5kIGByZXNvbHZlRm5gLCBhbmQgaXMgcHJvYmFibHkgYSBbW1Jlc29sdmVMaXRlcmFsXV0gKi9cbiAgICB2YXIgaXNSZXNvbHZlTGl0ZXJhbCA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuICEhKG9iai50b2tlbiAmJiBvYmoucmVzb2x2ZUZuKTsgfTtcbiAgICAvKiogdHJ1ZSBpZiB0aGUgb2JqZWN0IGxvb2tzIGxpa2UgYSBwcm92aWRlIGxpdGVyYWwsIG9yIGEgbmcyIFByb3ZpZGVyICovXG4gICAgdmFyIGlzTGlrZU5nMlByb3ZpZGVyID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gISEoKG9iai5wcm92aWRlIHx8IG9iai50b2tlbikgJiYgKG9iai51c2VWYWx1ZSB8fCBvYmoudXNlRmFjdG9yeSB8fCBvYmoudXNlRXhpc3RpbmcgfHwgb2JqLnVzZUNsYXNzKSk7IH07XG4gICAgLyoqIHRydWUgaWYgdGhlIG9iamVjdCBsb29rcyBsaWtlIGEgdHVwbGUgZnJvbSBvYmoyVHVwbGVzICovXG4gICAgdmFyIGlzVHVwbGVGcm9tT2JqID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gISEob2JqICYmIG9iai52YWwgJiYgKHByZWRpY2F0ZXNfMS5pc1N0cmluZyhvYmoudmFsKSB8fCBwcmVkaWNhdGVzXzEuaXNBcnJheShvYmoudmFsKSB8fCBwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihvYmoudmFsKSkpOyB9O1xuICAgIC8qKiBleHRyYWN0cyB0aGUgdG9rZW4gZnJvbSBhIFByb3ZpZGVyIG9yIHByb3ZpZGUgbGl0ZXJhbCAqL1xuICAgIHZhciB0b2tlbiA9IGZ1bmN0aW9uIChwKSB7IHJldHVybiBwLnByb3ZpZGUgfHwgcC50b2tlbjsgfTtcbiAgICAvKiogR2l2ZW4gYSBsaXRlcmFsIHJlc29sdmUgb3IgcHJvdmlkZXIgb2JqZWN0LCByZXR1cm5zIGEgUmVzb2x2YWJsZSAqL1xuICAgIHZhciBsaXRlcmFsMlJlc29sdmFibGUgPSBob2ZfMS5wYXR0ZXJuKFtcbiAgICAgICAgW2hvZl8xLnByb3AoJ3Jlc29sdmVGbicpLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gbmV3IHJlc29sdmFibGVfMS5SZXNvbHZhYmxlKHRva2VuKHApLCBwLnJlc29sdmVGbiwgcC5kZXBzLCBwLnBvbGljeSk7IH1dLFxuICAgICAgICBbaG9mXzEucHJvcCgndXNlRmFjdG9yeScpLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gbmV3IHJlc29sdmFibGVfMS5SZXNvbHZhYmxlKHRva2VuKHApLCBwLnVzZUZhY3RvcnksIChwLmRlcHMgfHwgcC5kZXBlbmRlbmNpZXMpLCBwLnBvbGljeSk7IH1dLFxuICAgICAgICBbaG9mXzEucHJvcCgndXNlQ2xhc3MnKSwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIG5ldyByZXNvbHZhYmxlXzEuUmVzb2x2YWJsZSh0b2tlbihwKSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IHAudXNlQ2xhc3MoKTsgfSwgW10sIHAucG9saWN5KTsgfV0sXG4gICAgICAgIFtob2ZfMS5wcm9wKCd1c2VWYWx1ZScpLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gbmV3IHJlc29sdmFibGVfMS5SZXNvbHZhYmxlKHRva2VuKHApLCBmdW5jdGlvbiAoKSB7IHJldHVybiBwLnVzZVZhbHVlOyB9LCBbXSwgcC5wb2xpY3ksIHAudXNlVmFsdWUpOyB9XSxcbiAgICAgICAgW2hvZl8xLnByb3AoJ3VzZUV4aXN0aW5nJyksIGZ1bmN0aW9uIChwKSB7IHJldHVybiBuZXcgcmVzb2x2YWJsZV8xLlJlc29sdmFibGUodG9rZW4ocCksIGNvbW1vbl8xLmlkZW50aXR5LCBbcC51c2VFeGlzdGluZ10sIHAucG9saWN5KTsgfV0sXG4gICAgXSk7XG4gICAgdmFyIHR1cGxlMlJlc29sdmFibGUgPSBob2ZfMS5wYXR0ZXJuKFtcbiAgICAgICAgW2hvZl8xLnBpcGUoaG9mXzEucHJvcChcInZhbFwiKSwgcHJlZGljYXRlc18xLmlzU3RyaW5nKSwgZnVuY3Rpb24gKHR1cGxlKSB7IHJldHVybiBuZXcgcmVzb2x2YWJsZV8xLlJlc29sdmFibGUodHVwbGUudG9rZW4sIGNvbW1vbl8xLmlkZW50aXR5LCBbdHVwbGUudmFsXSwgdHVwbGUucG9saWN5KTsgfV0sXG4gICAgICAgIFtob2ZfMS5waXBlKGhvZl8xLnByb3AoXCJ2YWxcIiksIHByZWRpY2F0ZXNfMS5pc0FycmF5KSwgZnVuY3Rpb24gKHR1cGxlKSB7IHJldHVybiBuZXcgcmVzb2x2YWJsZV8xLlJlc29sdmFibGUodHVwbGUudG9rZW4sIGNvbW1vbl8xLnRhaWwodHVwbGUudmFsKSwgdHVwbGUudmFsLnNsaWNlKDAsIC0xKSwgdHVwbGUucG9saWN5KTsgfV0sXG4gICAgICAgIFtob2ZfMS5waXBlKGhvZl8xLnByb3AoXCJ2YWxcIiksIHByZWRpY2F0ZXNfMS5pc0Z1bmN0aW9uKSwgZnVuY3Rpb24gKHR1cGxlKSB7IHJldHVybiBuZXcgcmVzb2x2YWJsZV8xLlJlc29sdmFibGUodHVwbGUudG9rZW4sIHR1cGxlLnZhbCwgYW5ub3RhdGUodHVwbGUudmFsKSwgdHVwbGUucG9saWN5KTsgfV0sXG4gICAgXSk7XG4gICAgdmFyIGl0ZW0yUmVzb2x2YWJsZSA9IGhvZl8xLnBhdHRlcm4oW1xuICAgICAgICBbaG9mXzEuaXMocmVzb2x2YWJsZV8xLlJlc29sdmFibGUpLCBmdW5jdGlvbiAocikgeyByZXR1cm4gcjsgfV0sXG4gICAgICAgIFtpc1Jlc29sdmVMaXRlcmFsLCBsaXRlcmFsMlJlc29sdmFibGVdLFxuICAgICAgICBbaXNMaWtlTmcyUHJvdmlkZXIsIGxpdGVyYWwyUmVzb2x2YWJsZV0sXG4gICAgICAgIFtpc1R1cGxlRnJvbU9iaiwgdHVwbGUyUmVzb2x2YWJsZV0sXG4gICAgICAgIFtob2ZfMS52YWwodHJ1ZSksIGZ1bmN0aW9uIChvYmopIHsgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCByZXNvbHZlIHZhbHVlOiBcIiArIHN0cmluZ3NfMS5zdHJpbmdpZnkob2JqKSk7IH1dXG4gICAgXSk7XG4gICAgLy8gSWYgcmVzb2x2ZUJsb2NrIGlzIGFscmVhZHkgYW4gYXJyYXksIHVzZSBpdCBhcy1pcy5cbiAgICAvLyBPdGhlcndpc2UsIGFzc3VtZSBpdCdzIGFuIG9iamVjdCBhbmQgY29udmVydCB0byBhbiBBcnJheSBvZiB0dXBsZXNcbiAgICB2YXIgZGVjbCA9IHN0YXRlLnJlc29sdmU7XG4gICAgdmFyIGl0ZW1zID0gcHJlZGljYXRlc18xLmlzQXJyYXkoZGVjbCkgPyBkZWNsIDogb2JqZWN0czJUdXBsZXMoZGVjbCwgc3RhdGUucmVzb2x2ZVBvbGljeSB8fCB7fSk7XG4gICAgcmV0dXJuIGl0ZW1zLm1hcChpdGVtMlJlc29sdmFibGUpO1xufVxuZXhwb3J0cy5yZXNvbHZhYmxlc0J1aWxkZXIgPSByZXNvbHZhYmxlc0J1aWxkZXI7XG4vKipcbiAqIEBpbnRlcm5hbGFwaSBBIGludGVybmFsIGdsb2JhbCBzZXJ2aWNlXG4gKlxuICogU3RhdGVCdWlsZGVyIGlzIGEgZmFjdG9yeSBmb3IgdGhlIGludGVybmFsIFtbU3RhdGVPYmplY3RdXSBvYmplY3RzLlxuICpcbiAqIFdoZW4geW91IHJlZ2lzdGVyIGEgc3RhdGUgd2l0aCB0aGUgW1tTdGF0ZVJlZ2lzdHJ5XV0sIHlvdSByZWdpc3RlciBhIHBsYWluIG9sZCBqYXZhc2NyaXB0IG9iamVjdCB3aGljaFxuICogY29uZm9ybXMgdG8gdGhlIFtbU3RhdGVEZWNsYXJhdGlvbl1dIGludGVyZmFjZS4gIFRoaXMgZmFjdG9yeSB0YWtlcyB0aGF0IG9iamVjdCBhbmQgYnVpbGRzIHRoZSBjb3JyZXNwb25kaW5nXG4gKiBbW1N0YXRlT2JqZWN0XV0gb2JqZWN0LCB3aGljaCBoYXMgYW4gQVBJIGFuZCBpcyB1c2VkIGludGVybmFsbHkuXG4gKlxuICogQ3VzdG9tIHByb3BlcnRpZXMgb3IgQVBJIG1heSBiZSBhZGRlZCB0byB0aGUgaW50ZXJuYWwgW1tTdGF0ZU9iamVjdF1dIG9iamVjdCBieSByZWdpc3RlcmluZyBhIGRlY29yYXRvciBmdW5jdGlvblxuICogdXNpbmcgdGhlIFtbYnVpbGRlcl1dIG1ldGhvZC5cbiAqL1xudmFyIFN0YXRlQnVpbGRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGVCdWlsZGVyKG1hdGNoZXIsIHVybE1hdGNoZXJGYWN0b3J5KSB7XG4gICAgICAgIHRoaXMubWF0Y2hlciA9IG1hdGNoZXI7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHJvb3QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBtYXRjaGVyLmZpbmQoXCJcIik7IH07XG4gICAgICAgIHZhciBpc1Jvb3QgPSBmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuIHN0YXRlLm5hbWUgPT09IFwiXCI7IH07XG4gICAgICAgIGZ1bmN0aW9uIHBhcmVudEJ1aWxkZXIoc3RhdGUpIHtcbiAgICAgICAgICAgIGlmIChpc1Jvb3Qoc3RhdGUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXIuZmluZChzZWxmLnBhcmVudE5hbWUoc3RhdGUpKSB8fCByb290KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWlsZGVycyA9IHtcbiAgICAgICAgICAgIG5hbWU6IFtuYW1lQnVpbGRlcl0sXG4gICAgICAgICAgICBzZWxmOiBbc2VsZkJ1aWxkZXJdLFxuICAgICAgICAgICAgcGFyZW50OiBbcGFyZW50QnVpbGRlcl0sXG4gICAgICAgICAgICBkYXRhOiBbZGF0YUJ1aWxkZXJdLFxuICAgICAgICAgICAgLy8gQnVpbGQgYSBVUkxNYXRjaGVyIGlmIG5lY2Vzc2FyeSwgZWl0aGVyIHZpYSBhIHJlbGF0aXZlIG9yIGFic29sdXRlIFVSTFxuICAgICAgICAgICAgdXJsOiBbZ2V0VXJsQnVpbGRlcih1cmxNYXRjaGVyRmFjdG9yeSwgcm9vdCldLFxuICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiB0aGUgY2xvc2VzdCBhbmNlc3RvciBzdGF0ZSB0aGF0IGhhcyBhIFVSTCAoaS5lLiBpcyBuYXZpZ2FibGUpXG4gICAgICAgICAgICBuYXZpZ2FibGU6IFtnZXROYXZpZ2FibGVCdWlsZGVyKGlzUm9vdCldLFxuICAgICAgICAgICAgcGFyYW1zOiBbZ2V0UGFyYW1zQnVpbGRlcih1cmxNYXRjaGVyRmFjdG9yeS5wYXJhbUZhY3RvcnkpXSxcbiAgICAgICAgICAgIC8vIEVhY2ggZnJhbWV3b3JrLXNwZWNpZmljIHVpLXJvdXRlciBpbXBsZW1lbnRhdGlvbiBzaG91bGQgZGVmaW5lIGl0cyBvd24gYHZpZXdzYCBidWlsZGVyXG4gICAgICAgICAgICAvLyBlLmcuLCBzcmMvbmcxL3N0YXRlYnVpbGRlcnMvdmlld3MudHNcbiAgICAgICAgICAgIHZpZXdzOiBbXSxcbiAgICAgICAgICAgIC8vIEtlZXAgYSBmdWxsIHBhdGggZnJvbSB0aGUgcm9vdCBkb3duIHRvIHRoaXMgc3RhdGUgYXMgdGhpcyBpcyBuZWVkZWQgZm9yIHN0YXRlIGFjdGl2YXRpb24uXG4gICAgICAgICAgICBwYXRoOiBbcGF0aEJ1aWxkZXJdLFxuICAgICAgICAgICAgLy8gU3BlZWQgdXAgJHN0YXRlLmluY2x1ZGVzKCkgYXMgaXQncyB1c2VkIGEgbG90XG4gICAgICAgICAgICBpbmNsdWRlczogW2luY2x1ZGVzQnVpbGRlcl0sXG4gICAgICAgICAgICByZXNvbHZhYmxlczogW3Jlc29sdmFibGVzQnVpbGRlcl1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgW1tCdWlsZGVyRnVuY3Rpb25dXSBmb3IgYSBzcGVjaWZpYyBbW1N0YXRlT2JqZWN0XV0gcHJvcGVydHkgKGUuZy4sIGBwYXJlbnRgLCBgdXJsYCwgb3IgYHBhdGhgKS5cbiAgICAgKiBNb3JlIHRoYW4gb25lIEJ1aWxkZXJGdW5jdGlvbiBjYW4gYmUgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIFRoZSBCdWlsZGVyRnVuY3Rpb24ocykgd2lsbCBiZSB1c2VkIHRvIGRlZmluZSB0aGUgcHJvcGVydHkgb24gYW55IHN1YnNlcXVlbnRseSBidWlsdCBbW1N0YXRlT2JqZWN0XV0gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBTdGF0ZSBwcm9wZXJ0eSBiZWluZyByZWdpc3RlcmVkIGZvci5cbiAgICAgKiBAcGFyYW0gZm4gVGhlIEJ1aWxkZXJGdW5jdGlvbiB3aGljaCB3aWxsIGJlIHVzZWQgdG8gYnVpbGQgdGhlIFN0YXRlIHByb3BlcnR5XG4gICAgICogQHJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBkZXJlZ2lzdGVycyB0aGUgQnVpbGRlckZ1bmN0aW9uXG4gICAgICovXG4gICAgU3RhdGVCdWlsZGVyLnByb3RvdHlwZS5idWlsZGVyID0gZnVuY3Rpb24gKG5hbWUsIGZuKSB7XG4gICAgICAgIHZhciBidWlsZGVycyA9IHRoaXMuYnVpbGRlcnM7XG4gICAgICAgIHZhciBhcnJheSA9IGJ1aWxkZXJzW25hbWVdIHx8IFtdO1xuICAgICAgICAvLyBCYWNrd2FyZHMgY29tcGF0OiBpZiBvbmx5IG9uZSBidWlsZGVyIGV4aXN0cywgcmV0dXJuIGl0LCBlbHNlIHJldHVybiB3aG9sZSBhcmFyeS5cbiAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc1N0cmluZyhuYW1lKSAmJiAhcHJlZGljYXRlc18xLmlzRGVmaW5lZChmbikpXG4gICAgICAgICAgICByZXR1cm4gYXJyYXkubGVuZ3RoID4gMSA/IGFycmF5IDogYXJyYXlbMF07XG4gICAgICAgIGlmICghcHJlZGljYXRlc18xLmlzU3RyaW5nKG5hbWUpIHx8ICFwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihmbikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGJ1aWxkZXJzW25hbWVdID0gYXJyYXk7XG4gICAgICAgIGJ1aWxkZXJzW25hbWVdLnB1c2goZm4pO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gYnVpbGRlcnNbbmFtZV0uc3BsaWNlKGJ1aWxkZXJzW25hbWVdLmluZGV4T2YoZm4sIDEpKSAmJiBudWxsOyB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQnVpbGRzIGFsbCBvZiB0aGUgcHJvcGVydGllcyBvbiBhbiBlc3NlbnRpYWxseSBibGFuayBTdGF0ZSBvYmplY3QsIHJldHVybmluZyBhIFN0YXRlIG9iamVjdCB3aGljaCBoYXMgYWxsIGl0c1xuICAgICAqIHByb3BlcnRpZXMgYW5kIEFQSSBidWlsdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGF0ZSBhbiB1bmluaXRpYWxpemVkIFN0YXRlIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHRoZSBidWlsdCBTdGF0ZSBvYmplY3RcbiAgICAgKi9cbiAgICBTdGF0ZUJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIG1hdGNoZXIgPSBfYS5tYXRjaGVyLCBidWlsZGVycyA9IF9hLmJ1aWxkZXJzO1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROYW1lKHN0YXRlKTtcbiAgICAgICAgaWYgKHBhcmVudCAmJiAhbWF0Y2hlci5maW5kKHBhcmVudCwgdW5kZWZpbmVkLCBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBidWlsZGVycykge1xuICAgICAgICAgICAgaWYgKCFidWlsZGVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgdmFyIGNoYWluID0gYnVpbGRlcnNba2V5XS5yZWR1Y2UoZnVuY3Rpb24gKHBhcmVudEZuLCBzdGVwKSB7IHJldHVybiBmdW5jdGlvbiAoX3N0YXRlKSB7IHJldHVybiBzdGVwKF9zdGF0ZSwgcGFyZW50Rm4pOyB9OyB9LCBjb21tb25fMS5ub29wKTtcbiAgICAgICAgICAgIHN0YXRlW2tleV0gPSBjaGFpbihzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG4gICAgU3RhdGVCdWlsZGVyLnByb3RvdHlwZS5wYXJlbnROYW1lID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBuYW1lID0gc3RhdGUubmFtZSB8fCBcIlwiO1xuICAgICAgICB2YXIgc2VnbWVudHMgPSBuYW1lLnNwbGl0KCcuJyk7XG4gICAgICAgIGlmIChzZWdtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3RhdGVzIHRoYXQgc3BlY2lmeSB0aGUgJ3BhcmVudDonIHByb3BlcnR5IHNob3VsZCBub3QgaGF2ZSBhICcuJyBpbiB0aGVpciBuYW1lIChcIiArIG5hbWUgKyBcIilcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGFzdFNlZ21lbnQgPSBzZWdtZW50cy5wb3AoKTtcbiAgICAgICAgICAgIGlmIChsYXN0U2VnbWVudCA9PT0gJyoqJylcbiAgICAgICAgICAgICAgICBzZWdtZW50cy5wb3AoKTtcbiAgICAgICAgICAgIHJldHVybiBzZWdtZW50cy5qb2luKFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0YXRlLnBhcmVudClcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICByZXR1cm4gcHJlZGljYXRlc18xLmlzU3RyaW5nKHN0YXRlLnBhcmVudCkgPyBzdGF0ZS5wYXJlbnQgOiBzdGF0ZS5wYXJlbnQubmFtZTtcbiAgICB9O1xuICAgIFN0YXRlQnVpbGRlci5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgbmFtZSA9IHN0YXRlLm5hbWU7XG4gICAgICAgIGlmIChuYW1lLmluZGV4T2YoJy4nKSAhPT0gLTEgfHwgIXN0YXRlLnBhcmVudClcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgICB2YXIgcGFyZW50TmFtZSA9IHByZWRpY2F0ZXNfMS5pc1N0cmluZyhzdGF0ZS5wYXJlbnQpID8gc3RhdGUucGFyZW50IDogc3RhdGUucGFyZW50Lm5hbWU7XG4gICAgICAgIHJldHVybiBwYXJlbnROYW1lID8gcGFyZW50TmFtZSArIFwiLlwiICsgbmFtZSA6IG5hbWU7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGVCdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuU3RhdGVCdWlsZGVyID0gU3RhdGVCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdGVCdWlsZGVyLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvc3RhdGUvc3RhdGVCdWlsZGVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///34\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/** @module state */ /** for typedoc */\nvar predicates_1 = __webpack_require__(1);\nvar common_1 = __webpack_require__(0);\nvar StateMatcher = function () {\n    function StateMatcher(_states) {\n        this._states = _states;\n    }\n    StateMatcher.prototype.isRelative = function (stateName) {\n        stateName = stateName || "";\n        return stateName.indexOf(".") === 0 || stateName.indexOf("^") === 0;\n    };\n    StateMatcher.prototype.find = function (stateOrName, base, matchGlob) {\n        if (matchGlob === void 0) {\n            matchGlob = true;\n        }\n        if (!stateOrName && stateOrName !== "") return undefined;\n        var isStr = predicates_1.isString(stateOrName);\n        var name = isStr ? stateOrName : stateOrName.name;\n        if (this.isRelative(name)) name = this.resolvePath(name, base);\n        var state = this._states[name];\n        if (state && (isStr || !isStr && (state === stateOrName || state.self === stateOrName))) {\n            return state;\n        } else if (isStr && matchGlob) {\n            var _states = common_1.values(this._states);\n            var matches = _states.filter(function (state) {\n                return state.__stateObjectCache.nameGlob && state.__stateObjectCache.nameGlob.matches(name);\n            });\n            if (matches.length > 1) {\n                console.log("stateMatcher.find: Found multiple matches for " + name + " using glob: ", matches.map(function (match) {\n                    return match.name;\n                }));\n            }\n            return matches[0];\n        }\n        return undefined;\n    };\n    StateMatcher.prototype.resolvePath = function (name, base) {\n        if (!base) throw new Error("No reference point given for path \'" + name + "\'");\n        var baseState = this.find(base);\n        var splitName = name.split("."),\n            i = 0,\n            pathLength = splitName.length,\n            current = baseState;\n        for (; i < pathLength; i++) {\n            if (splitName[i] === "" && i === 0) {\n                current = baseState;\n                continue;\n            }\n            if (splitName[i] === "^") {\n                if (!current.parent) throw new Error("Path \'" + name + "\' not valid for state \'" + baseState.name + "\'");\n                current = current.parent;\n                continue;\n            }\n            break;\n        }\n        var relName = splitName.slice(i).join(".");\n        return current.name + (current.name && relName ? "." : "") + relName;\n    };\n    return StateMatcher;\n}();\nexports.StateMatcher = StateMatcher;\n//# sourceMappingURL=stateMatcher.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3N0YXRlL3N0YXRlTWF0Y2hlci5qcz85MDBjIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwicHJlZGljYXRlc18xIiwicmVxdWlyZSIsImNvbW1vbl8xIiwiU3RhdGVNYXRjaGVyIiwiX3N0YXRlcyIsInByb3RvdHlwZSIsImlzUmVsYXRpdmUiLCJzdGF0ZU5hbWUiLCJpbmRleE9mIiwiZmluZCIsInN0YXRlT3JOYW1lIiwiYmFzZSIsIm1hdGNoR2xvYiIsInVuZGVmaW5lZCIsImlzU3RyIiwiaXNTdHJpbmciLCJuYW1lIiwicmVzb2x2ZVBhdGgiLCJzdGF0ZSIsInNlbGYiLCJ2YWx1ZXMiLCJtYXRjaGVzIiwiZmlsdGVyIiwiX19zdGF0ZU9iamVjdENhY2hlIiwibmFtZUdsb2IiLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwibWFwIiwibWF0Y2giLCJFcnJvciIsImJhc2VTdGF0ZSIsInNwbGl0TmFtZSIsInNwbGl0IiwiaSIsInBhdGhMZW5ndGgiLCJjdXJyZW50IiwicGFyZW50IiwicmVsTmFtZSIsInNsaWNlIiwiam9pbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBLG9CLENBQXFCO0FBQ3JCLElBQUlDLGVBQWUsbUJBQUFDLENBQVEsQ0FBUixDQUFuQjtBQUNBLElBQUlDLFdBQVcsbUJBQUFELENBQVEsQ0FBUixDQUFmO0FBQ0EsSUFBSUUsZUFBZ0IsWUFBWTtBQUM1QixhQUFTQSxZQUFULENBQXNCQyxPQUF0QixFQUErQjtBQUMzQixhQUFLQSxPQUFMLEdBQWVBLE9BQWY7QUFDSDtBQUNERCxpQkFBYUUsU0FBYixDQUF1QkMsVUFBdkIsR0FBb0MsVUFBVUMsU0FBVixFQUFxQjtBQUNyREEs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SDtBQUNELFlBQUlDLFVBQVVOLFVBQVVPLEtBQVYsQ0FBZ0JMLENBQWhCLEVBQW1CTSxJQUFuQixDQUF3QixHQUF4QixDQUFkO0FBQ0EsZUFBT0osUUFBUXBCLElBQVIsSUFBZ0JvQixRQUFRcEIsSUFBUixJQUFnQnNCLE9BQWhCLEdBQTBCLEdBQTFCLEdBQWdDLEVBQWhELElBQXNEQSxPQUE3RDtBQUNILEtBcEJEO0FBcUJBLFdBQU9uQyxZQUFQO0FBQ0gsQ0F2RG1CLEVBQXBCO0FBd0RBTCxRQUFRSyxZQUFSLEdBQXVCQSxZQUF2QjtBQUNBIiwiZmlsZSI6IjM1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQG1vZHVsZSBzdGF0ZSAqLyAvKiogZm9yIHR5cGVkb2MgKi9cbnZhciBwcmVkaWNhdGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBTdGF0ZU1hdGNoZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRlTWF0Y2hlcihfc3RhdGVzKSB7XG4gICAgICAgIHRoaXMuX3N0YXRlcyA9IF9zdGF0ZXM7XG4gICAgfVxuICAgIFN0YXRlTWF0Y2hlci5wcm90b3R5cGUuaXNSZWxhdGl2ZSA9IGZ1bmN0aW9uIChzdGF0ZU5hbWUpIHtcbiAgICAgICAgc3RhdGVOYW1lID0gc3RhdGVOYW1lIHx8IFwiXCI7XG4gICAgICAgIHJldHVybiBzdGF0ZU5hbWUuaW5kZXhPZihcIi5cIikgPT09IDAgfHwgc3RhdGVOYW1lLmluZGV4T2YoXCJeXCIpID09PSAwO1xuICAgIH07XG4gICAgU3RhdGVNYXRjaGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHN0YXRlT3JOYW1lLCBiYXNlLCBtYXRjaEdsb2IpIHtcbiAgICAgICAgaWYgKG1hdGNoR2xvYiA9PT0gdm9pZCAwKSB7IG1hdGNoR2xvYiA9IHRydWU7IH1cbiAgICAgICAgaWYgKCFzdGF0ZU9yTmFtZSAmJiBzdGF0ZU9yTmFtZSAhPT0gXCJcIilcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBpc1N0ciA9IHByZWRpY2F0ZXNfMS5pc1N0cmluZyhzdGF0ZU9yTmFtZSk7XG4gICAgICAgIHZhciBuYW1lID0gaXNTdHIgPyBzdGF0ZU9yTmFtZSA6IHN0YXRlT3JOYW1lLm5hbWU7XG4gICAgICAgIGlmICh0aGlzLmlzUmVsYXRpdmUobmFtZSkpXG4gICAgICAgICAgICBuYW1lID0gdGhpcy5yZXNvbHZlUGF0aChuYW1lLCBiYXNlKTtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5fc3RhdGVzW25hbWVdO1xuICAgICAgICBpZiAoc3RhdGUgJiYgKGlzU3RyIHx8ICghaXNTdHIgJiYgKHN0YXRlID09PSBzdGF0ZU9yTmFtZSB8fCBzdGF0ZS5zZWxmID09PSBzdGF0ZU9yTmFtZSkpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3RyICYmIG1hdGNoR2xvYikge1xuICAgICAgICAgICAgdmFyIF9zdGF0ZXMgPSBjb21tb25fMS52YWx1ZXModGhpcy5fc3RhdGVzKTtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gX3N0YXRlcy5maWx0ZXIoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLl9fc3RhdGVPYmplY3RDYWNoZS5uYW1lR2xvYiAmJlxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fX3N0YXRlT2JqZWN0Q2FjaGUubmFtZUdsb2IubWF0Y2hlcyhuYW1lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RhdGVNYXRjaGVyLmZpbmQ6IEZvdW5kIG11bHRpcGxlIG1hdGNoZXMgZm9yIFwiICsgbmFtZSArIFwiIHVzaW5nIGdsb2I6IFwiLCBtYXRjaGVzLm1hcChmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLm5hbWU7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVzWzBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBTdGF0ZU1hdGNoZXIucHJvdG90eXBlLnJlc29sdmVQYXRoID0gZnVuY3Rpb24gKG5hbWUsIGJhc2UpIHtcbiAgICAgICAgaWYgKCFiYXNlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVmZXJlbmNlIHBvaW50IGdpdmVuIGZvciBwYXRoICdcIiArIG5hbWUgKyBcIidcIik7XG4gICAgICAgIHZhciBiYXNlU3RhdGUgPSB0aGlzLmZpbmQoYmFzZSk7XG4gICAgICAgIHZhciBzcGxpdE5hbWUgPSBuYW1lLnNwbGl0KFwiLlwiKSwgaSA9IDAsIHBhdGhMZW5ndGggPSBzcGxpdE5hbWUubGVuZ3RoLCBjdXJyZW50ID0gYmFzZVN0YXRlO1xuICAgICAgICBmb3IgKDsgaSA8IHBhdGhMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHNwbGl0TmFtZVtpXSA9PT0gXCJcIiAmJiBpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGJhc2VTdGF0ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzcGxpdE5hbWVbaV0gPT09IFwiXlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50LnBhcmVudClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGF0aCAnXCIgKyBuYW1lICsgXCInIG5vdCB2YWxpZCBmb3Igc3RhdGUgJ1wiICsgYmFzZVN0YXRlLm5hbWUgKyBcIidcIik7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbE5hbWUgPSBzcGxpdE5hbWUuc2xpY2UoaSkuam9pbihcIi5cIik7XG4gICAgICAgIHJldHVybiBjdXJyZW50Lm5hbWUgKyAoY3VycmVudC5uYW1lICYmIHJlbE5hbWUgPyBcIi5cIiA6IFwiXCIpICsgcmVsTmFtZTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0ZU1hdGNoZXI7XG59KCkpO1xuZXhwb3J0cy5TdGF0ZU1hdGNoZXIgPSBTdGF0ZU1hdGNoZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGF0ZU1hdGNoZXIuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi9zdGF0ZS9zdGF0ZU1hdGNoZXIuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///35\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/** @module state */ /** for typedoc */\nvar common_1 = __webpack_require__(0);\nvar predicates_1 = __webpack_require__(1);\nvar stateObject_1 = __webpack_require__(22);\nvar hof_1 = __webpack_require__(2);\n/** @internalapi */\nvar StateQueueManager = function () {\n    function StateQueueManager($registry, $urlRouter, states, builder, listeners) {\n        this.$registry = $registry;\n        this.$urlRouter = $urlRouter;\n        this.states = states;\n        this.builder = builder;\n        this.listeners = listeners;\n        this.queue = [];\n        this.matcher = $registry.matcher;\n    }\n    /** @internalapi */\n    StateQueueManager.prototype.dispose = function () {\n        this.queue = [];\n    };\n    StateQueueManager.prototype.register = function (stateDecl) {\n        var queue = this.queue;\n        var state = stateObject_1.StateObject.create(stateDecl);\n        var name = state.name;\n        if (!predicates_1.isString(name)) throw new Error("State must have a valid name");\n        if (this.states.hasOwnProperty(name) || common_1.inArray(queue.map(hof_1.prop(\'name\')), name)) throw new Error("State \'" + name + "\' is already defined");\n        queue.push(state);\n        this.flush();\n        return state;\n    };\n    StateQueueManager.prototype.flush = function () {\n        var _this = this;\n        var _a = this,\n            queue = _a.queue,\n            states = _a.states,\n            builder = _a.builder;\n        var registered = [],\n            // states that got registered\n        orphans = [],\n            // states that don\'t yet have a parent registered\n        previousQueueLength = {}; // keep track of how long the queue when an orphan was first encountered\n        var getState = function getState(name) {\n            return _this.states.hasOwnProperty(name) && _this.states[name];\n        };\n        while (queue.length > 0) {\n            var state = queue.shift();\n            var name_1 = state.name;\n            var result = builder.build(state);\n            var orphanIdx = orphans.indexOf(state);\n            if (result) {\n                var existingState = getState(name_1);\n                if (existingState && existingState.name === name_1) {\n                    throw new Error("State \'" + name_1 + "\' is already defined");\n                }\n                var existingFutureState = getState(name_1 + ".**");\n                if (existingFutureState) {\n                    // Remove future state of the same name\n                    this.$registry.deregister(existingFutureState);\n                }\n                states[name_1] = state;\n                this.attachRoute(state);\n                if (orphanIdx >= 0) orphans.splice(orphanIdx, 1);\n                registered.push(state);\n                continue;\n            }\n            var prev = previousQueueLength[name_1];\n            previousQueueLength[name_1] = queue.length;\n            if (orphanIdx >= 0 && prev === queue.length) {\n                // Wait until two consecutive iterations where no additional states were dequeued successfully.\n                // throw new Error(`Cannot register orphaned state \'${name}\'`);\n                queue.push(state);\n                return states;\n            } else if (orphanIdx < 0) {\n                orphans.push(state);\n            }\n            queue.push(state);\n        }\n        if (registered.length) {\n            this.listeners.forEach(function (listener) {\n                return listener("registered", registered.map(function (s) {\n                    return s.self;\n                }));\n            });\n        }\n        return states;\n    };\n    StateQueueManager.prototype.attachRoute = function (state) {\n        if (state.abstract || !state.url) return;\n        this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(state));\n    };\n    return StateQueueManager;\n}();\nexports.StateQueueManager = StateQueueManager;\n//# sourceMappingURL=stateQueueManager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3N0YXRlL3N0YXRlUXVldWVNYW5hZ2VyLmpzPzY4N2QiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjb21tb25fMSIsInJlcXVpcmUiLCJwcmVkaWNhdGVzXzEiLCJzdGF0ZU9iamVjdF8xIiwiaG9mXzEiLCJTdGF0ZVF1ZXVlTWFuYWdlciIsIiRyZWdpc3RyeSIsIiR1cmxSb3V0ZXIiLCJzdGF0ZXMiLCJidWlsZGVyIiwibGlzdGVuZXJzIiwicXVldWUiLCJtYXRjaGVyIiwicHJvdG90eXBlIiwiZGlzcG9zZSIsInJlZ2lzdGVyIiwic3RhdGVEZWNsIiwic3RhdGUiLCJTdGF0ZU9iamVjdCIsImNyZWF0ZSIsIm5hbWUiLCJpc1N0cmluZyIsIkVycm9yIiwiaGFzT3duUHJvcGVydHkiLCJpbkFycmF5IiwibWFwIiwicHJvcCIsInB1c2giLCJmbHVzaCIsIl90aGlzIiwiX2EiLCJyZWdpc3RlcmVkIiwib3JwaGFucyIsInByZXZpb3VzUXVldWVMZW5ndGgiLCJnZXRTdGF0ZSIsImxlbmd0aCIsInNoaWZ0IiwibmFtZV8xIiwicmVzdWx0IiwiYnVpbGQiLCJvcnBoYW5JZHgiLCJpbmRleE9mIiwiZXhpc3RpbmdTdGF0ZSIsImV4aXN0aW5nRnV0dXJlU3RhdGUiLCJkZXJlZ2lzdGVyIiwiYXR0YWNoUm91dGUiLCJzcGxpY2UiLCJwcmV2IiwiZm9yRWFjaCIsImxpc3RlbmVyIiwicyIsInNlbGYiLCJhYnN0cmFjdCIsInVybCIsInJ1bGUiLCJ1cmxSdWxlRmFjdG9yeSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBLG9CLENBQXFCO0FBQ3JCLElBQUlDLFdBQVcsbUJBQUFDLENBQVEsQ0FBUixDQUFmO0FB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LENBQTRCZ0MsV0FBNUIsR0FBMEMsVUFBVTVCLEtBQVYsRUFBaUI7QUFDdkQsWUFBSUEsTUFBTW1DLFFBQU4sSUFBa0IsQ0FBQ25DLE1BQU1vQyxHQUE3QixFQUNJO0FBQ0osYUFBSzlDLFVBQUwsQ0FBZ0IrQyxJQUFoQixDQUFxQixLQUFLL0MsVUFBTCxDQUFnQmdELGNBQWhCLENBQStCcEMsTUFBL0IsQ0FBc0NGLEtBQXRDLENBQXJCO0FBQ0gsS0FKRDtBQUtBLFdBQU9aLGlCQUFQO0FBQ0gsQ0FqRndCLEVBQXpCO0FBa0ZBUCxRQUFRTyxpQkFBUixHQUE0QkEsaUJBQTVCO0FBQ0EiLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAbW9kdWxlIHN0YXRlICovIC8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIHN0YXRlT2JqZWN0XzEgPSByZXF1aXJlKFwiLi9zdGF0ZU9iamVjdFwiKTtcbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vaG9mXCIpO1xuLyoqIEBpbnRlcm5hbGFwaSAqL1xudmFyIFN0YXRlUXVldWVNYW5hZ2VyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0ZVF1ZXVlTWFuYWdlcigkcmVnaXN0cnksICR1cmxSb3V0ZXIsIHN0YXRlcywgYnVpbGRlciwgbGlzdGVuZXJzKSB7XG4gICAgICAgIHRoaXMuJHJlZ2lzdHJ5ID0gJHJlZ2lzdHJ5O1xuICAgICAgICB0aGlzLiR1cmxSb3V0ZXIgPSAkdXJsUm91dGVyO1xuICAgICAgICB0aGlzLnN0YXRlcyA9IHN0YXRlcztcbiAgICAgICAgdGhpcy5idWlsZGVyID0gYnVpbGRlcjtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBsaXN0ZW5lcnM7XG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5tYXRjaGVyID0gJHJlZ2lzdHJ5Lm1hdGNoZXI7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBTdGF0ZVF1ZXVlTWFuYWdlci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIH07XG4gICAgU3RhdGVRdWV1ZU1hbmFnZXIucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHN0YXRlRGVjbCkge1xuICAgICAgICB2YXIgcXVldWUgPSB0aGlzLnF1ZXVlO1xuICAgICAgICB2YXIgc3RhdGUgPSBzdGF0ZU9iamVjdF8xLlN0YXRlT2JqZWN0LmNyZWF0ZShzdGF0ZURlY2wpO1xuICAgICAgICB2YXIgbmFtZSA9IHN0YXRlLm5hbWU7XG4gICAgICAgIGlmICghcHJlZGljYXRlc18xLmlzU3RyaW5nKG5hbWUpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgbXVzdCBoYXZlIGEgdmFsaWQgbmFtZVwiKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGVzLmhhc093blByb3BlcnR5KG5hbWUpIHx8IGNvbW1vbl8xLmluQXJyYXkocXVldWUubWFwKGhvZl8xLnByb3AoJ25hbWUnKSksIG5hbWUpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgJ1wiICsgbmFtZSArIFwiJyBpcyBhbHJlYWR5IGRlZmluZWRcIik7XG4gICAgICAgIHF1ZXVlLnB1c2goc3RhdGUpO1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuICAgIFN0YXRlUXVldWVNYW5hZ2VyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gdGhpcywgcXVldWUgPSBfYS5xdWV1ZSwgc3RhdGVzID0gX2Euc3RhdGVzLCBidWlsZGVyID0gX2EuYnVpbGRlcjtcbiAgICAgICAgdmFyIHJlZ2lzdGVyZWQgPSBbXSwgLy8gc3RhdGVzIHRoYXQgZ290IHJlZ2lzdGVyZWRcbiAgICAgICAgb3JwaGFucyA9IFtdLCAvLyBzdGF0ZXMgdGhhdCBkb24ndCB5ZXQgaGF2ZSBhIHBhcmVudCByZWdpc3RlcmVkXG4gICAgICAgIHByZXZpb3VzUXVldWVMZW5ndGggPSB7fTsgLy8ga2VlcCB0cmFjayBvZiBob3cgbG9uZyB0aGUgcXVldWUgd2hlbiBhbiBvcnBoYW4gd2FzIGZpcnN0IGVuY291bnRlcmVkXG4gICAgICAgIHZhciBnZXRTdGF0ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuc3RhdGVzLmhhc093blByb3BlcnR5KG5hbWUpICYmIF90aGlzLnN0YXRlc1tuYW1lXTtcbiAgICAgICAgfTtcbiAgICAgICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB2YXIgbmFtZV8xID0gc3RhdGUubmFtZTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBidWlsZGVyLmJ1aWxkKHN0YXRlKTtcbiAgICAgICAgICAgIHZhciBvcnBoYW5JZHggPSBvcnBoYW5zLmluZGV4T2Yoc3RhdGUpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHZhciBleGlzdGluZ1N0YXRlID0gZ2V0U3RhdGUobmFtZV8xKTtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdTdGF0ZSAmJiBleGlzdGluZ1N0YXRlLm5hbWUgPT09IG5hbWVfMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdGF0ZSAnXCIgKyBuYW1lXzEgKyBcIicgaXMgYWxyZWFkeSBkZWZpbmVkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZXhpc3RpbmdGdXR1cmVTdGF0ZSA9IGdldFN0YXRlKG5hbWVfMSArIFwiLioqXCIpO1xuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0Z1dHVyZVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBmdXR1cmUgc3RhdGUgb2YgdGhlIHNhbWUgbmFtZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWdpc3RyeS5kZXJlZ2lzdGVyKGV4aXN0aW5nRnV0dXJlU3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0ZXNbbmFtZV8xXSA9IHN0YXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoUm91dGUoc3RhdGUpO1xuICAgICAgICAgICAgICAgIGlmIChvcnBoYW5JZHggPj0gMClcbiAgICAgICAgICAgICAgICAgICAgb3JwaGFucy5zcGxpY2Uob3JwaGFuSWR4LCAxKTtcbiAgICAgICAgICAgICAgICByZWdpc3RlcmVkLnB1c2goc3RhdGUpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByZXYgPSBwcmV2aW91c1F1ZXVlTGVuZ3RoW25hbWVfMV07XG4gICAgICAgICAgICBwcmV2aW91c1F1ZXVlTGVuZ3RoW25hbWVfMV0gPSBxdWV1ZS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAob3JwaGFuSWR4ID49IDAgJiYgcHJldiA9PT0gcXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gV2FpdCB1bnRpbCB0d28gY29uc2VjdXRpdmUgaXRlcmF0aW9ucyB3aGVyZSBubyBhZGRpdGlvbmFsIHN0YXRlcyB3ZXJlIGRlcXVldWVkIHN1Y2Nlc3NmdWxseS5cbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZWdpc3RlciBvcnBoYW5lZCBzdGF0ZSAnJHtuYW1lfSdgKTtcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHN0YXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3JwaGFuSWR4IDwgMCkge1xuICAgICAgICAgICAgICAgIG9ycGhhbnMucHVzaChzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVnaXN0ZXJlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7IHJldHVybiBsaXN0ZW5lcihcInJlZ2lzdGVyZWRcIiwgcmVnaXN0ZXJlZC5tYXAoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc2VsZjsgfSkpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGVzO1xuICAgIH07XG4gICAgU3RhdGVRdWV1ZU1hbmFnZXIucHJvdG90eXBlLmF0dGFjaFJvdXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZS5hYnN0cmFjdCB8fCAhc3RhdGUudXJsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLiR1cmxSb3V0ZXIucnVsZSh0aGlzLiR1cmxSb3V0ZXIudXJsUnVsZUZhY3RvcnkuY3JlYXRlKHN0YXRlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGVRdWV1ZU1hbmFnZXI7XG59KCkpO1xuZXhwb3J0cy5TdGF0ZVF1ZXVlTWFuYWdlciA9IFN0YXRlUXVldWVNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdGVRdWV1ZU1hbmFnZXIuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi9zdGF0ZS9zdGF0ZVF1ZXVlTWFuYWdlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///36\n')},function(module,exports,__webpack_require__){"use strict";eval("\n/**\n * @coreapi\n * @module state\n */ /** for typedoc */\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar stateMatcher_1 = __webpack_require__(35);\nvar stateBuilder_1 = __webpack_require__(34);\nvar stateQueueManager_1 = __webpack_require__(36);\nvar common_1 = __webpack_require__(0);\nvar hof_1 = __webpack_require__(2);\nvar StateRegistry = function () {\n    /** @internalapi */\n    function StateRegistry(_router) {\n        this._router = _router;\n        this.states = {};\n        this.listeners = [];\n        this.matcher = new stateMatcher_1.StateMatcher(this.states);\n        this.builder = new stateBuilder_1.StateBuilder(this.matcher, _router.urlMatcherFactory);\n        this.stateQueue = new stateQueueManager_1.StateQueueManager(this, _router.urlRouter, this.states, this.builder, this.listeners);\n        this._registerRoot();\n    }\n    /** @internalapi */\n    StateRegistry.prototype._registerRoot = function () {\n        var rootStateDef = {\n            name: '',\n            url: '^',\n            views: null,\n            params: {\n                '#': { value: null, type: 'hash', dynamic: true }\n            },\n            abstract: true\n        };\n        var _root = this._root = this.stateQueue.register(rootStateDef);\n        _root.navigable = null;\n    };\n    /** @internalapi */\n    StateRegistry.prototype.dispose = function () {\n        var _this = this;\n        this.stateQueue.dispose();\n        this.listeners = [];\n        this.get().forEach(function (state) {\n            return _this.get(state) && _this.deregister(state);\n        });\n    };\n    /**\n     * Listen for a State Registry events\n     *\n     * Adds a callback that is invoked when states are registered or deregistered with the StateRegistry.\n     *\n     * #### Example:\n     * ```js\n     * let allStates = registry.get();\n     *\n     * // Later, invoke deregisterFn() to remove the listener\n     * let deregisterFn = registry.onStatesChanged((event, states) => {\n     *   switch(event) {\n     *     case: 'registered':\n     *       states.forEach(state => allStates.push(state));\n     *       break;\n     *     case: 'deregistered':\n     *       states.forEach(state => {\n     *         let idx = allStates.indexOf(state);\n     *         if (idx !== -1) allStates.splice(idx, 1);\n     *       });\n     *       break;\n     *   }\n     * });\n     * ```\n     *\n     * @param listener a callback function invoked when the registered states changes.\n     *        The function receives two parameters, `event` and `state`.\n     *        See [[StateRegistryListener]]\n     * @return a function that deregisters the listener\n     */\n    StateRegistry.prototype.onStatesChanged = function (listener) {\n        this.listeners.push(listener);\n        return function deregisterListener() {\n            common_1.removeFrom(this.listeners)(listener);\n        }.bind(this);\n    };\n    /**\n     * Gets the implicit root state\n     *\n     * Gets the root of the state tree.\n     * The root state is implicitly created by UI-Router.\n     * Note: this returns the internal [[StateObject]] representation, not a [[StateDeclaration]]\n     *\n     * @return the root [[StateObject]]\n     */\n    StateRegistry.prototype.root = function () {\n        return this._root;\n    };\n    /**\n     * Adds a state to the registry\n     *\n     * Registers a [[StateDeclaration]] or queues it for registration.\n     *\n     * Note: a state will be queued if the state's parent isn't yet registered.\n     *\n     * @param stateDefinition the definition of the state to register.\n     * @returns the internal [[StateObject]] object.\n     *          If the state was successfully registered, then the object is fully built (See: [[StateBuilder]]).\n     *          If the state was only queued, then the object is not fully built.\n     */\n    StateRegistry.prototype.register = function (stateDefinition) {\n        return this.stateQueue.register(stateDefinition);\n    };\n    /** @hidden */\n    StateRegistry.prototype._deregisterTree = function (state) {\n        var _this = this;\n        var all = this.get().map(function (s) {\n            return s.$$state();\n        });\n        var getChildren = function getChildren(states) {\n            var children = all.filter(function (s) {\n                return states.indexOf(s.parent) !== -1;\n            });\n            return children.length === 0 ? children : children.concat(getChildren(children));\n        };\n        var children = getChildren([state]);\n        var deregistered = [state].concat(children).reverse();\n        deregistered.forEach(function (state) {\n            var $ur = _this._router.urlRouter;\n            // Remove URL rule\n            $ur.rules().filter(hof_1.propEq(\"state\", state)).forEach($ur.removeRule.bind($ur));\n            // Remove state from registry\n            delete _this.states[state.name];\n        });\n        return deregistered;\n    };\n    /**\n     * Removes a state from the registry\n     *\n     * This removes a state from the registry.\n     * If the state has children, they are are also removed from the registry.\n     *\n     * @param stateOrName the state's name or object representation\n     * @returns {StateObject[]} a list of removed states\n     */\n    StateRegistry.prototype.deregister = function (stateOrName) {\n        var _state = this.get(stateOrName);\n        if (!_state) throw new Error(\"Can't deregister state; not found: \" + stateOrName);\n        var deregisteredStates = this._deregisterTree(_state.$$state());\n        this.listeners.forEach(function (listener) {\n            return listener(\"deregistered\", deregisteredStates.map(function (s) {\n                return s.self;\n            }));\n        });\n        return deregisteredStates;\n    };\n    StateRegistry.prototype.get = function (stateOrName, base) {\n        var _this = this;\n        if (arguments.length === 0) return Object.keys(this.states).map(function (name) {\n            return _this.states[name].self;\n        });\n        var found = this.matcher.find(stateOrName, base);\n        return found && found.self || null;\n    };\n    StateRegistry.prototype.decorator = function (name, func) {\n        return this.builder.builder(name, func);\n    };\n    return StateRegistry;\n}();\nexports.StateRegistry = StateRegistry;\n//# sourceMappingURL=stateRegistry.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3N0YXRlL3N0YXRlUmVnaXN0cnkuanM/ZTZmOCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInN0YXRlTWF0Y2hlcl8xIiwicmVxdWlyZSIsInN0YXRlQnVpbGRlcl8xIiwic3RhdGVRdWV1ZU1hbmFnZXJfMSIsImNvbW1vbl8xIiwiaG9mXzEiLCJTdGF0ZVJlZ2lzdHJ5IiwiX3JvdXRlciIsInN0YXRlcyIsImxpc3RlbmVycyIsIm1hdGNoZXIiLCJTdGF0ZU1hdGNoZXIiLCJidWlsZGVyIiwiU3RhdGVCdWlsZGVyIiwidXJsTWF0Y2hlckZhY3RvcnkiLCJzdGF0ZVF1ZXVlIiwiU3RhdGVRdWV1ZU1hbmFnZXIiLCJ1cmxSb3V0ZXIiLCJfcmVnaXN0ZXJSb290IiwicHJvdG90eXBlIiwicm9vdFN0YXRlRGVmIiwibmFtZSIsInVybCIsInZpZXdzIiwicGFyYW1zIiwidHlwZSIsImR5bmFtaWMiLCJhYnN0cmFjdCIsIl9yb290IiwicmVnaXN0ZXIiLCJuYXZpZ2FibGUiLCJkaXNwb3NlIiwiX3RoaXMiLCJnZXQiLCJmb3JFYWNoIiwic3RhdGUiLCJkZXJlZ2lzdGVyIiwib25TdGF0ZXNDaGFuZ2VkIiwibGlzdGVuZXIiLCJwdXNoIiwiZGVyZWdpc3Rlckxpc3RlbmVyIiwicmVtb3ZlRnJvbSIsImJpbmQiLCJyb290Iiwic3RhdGVEZWZpbml0aW9uIiwiX2RlcmVnaXN0ZXJUcmVlIiwiYWxsIiwibWFwIiwicyIsIiQkc3RhdGUiLCJnZXRDaGlsZHJlbiIsImNoaWxkcmVuIiwiZmlsdGVyIiwiaW5kZXhPZiIsInBhcmVudCIsImxlbmd0aCIsImNvbmNhdCIsImRlcmVnaXN0ZXJlZCIsInJldmVyc2UiLCIkdXIiLCJydWxlcyIsInByb3BFcSIsInJlbW92ZVJ1bGUiLCJzdGF0ZU9yTmFtZSIsIl9zdGF0ZSIsIkVycm9yIiwiZGVyZWdpc3RlcmVkU3RhdGVzIiwic2VsZiIsImJhc2UiLCJhcmd1bWVudHMiLCJrZXlzIiwiZm91bmQiLCJmaW5kIiwiZGVjb3JhdG9yIiwiZnVuYyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7O0lBR0k7O0FBQ0pBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBLElBQUlDLGlCQUFpQixtQkFBQUMsQ0FBUSxFQUFSLENBQXJCO0FBQ0EsSUFBSUMsaUJBQWlCLG1CQUFBRCxDQUFRLEVBQVIsQ0FBckI7QUFDQSxJQUFJRSxzQkFBc0IsbUJBQUFGLENBQVEsRUFBUixDQUExQjtBQUNBLElBQUlHLFdBQVcsbUJBQUFILENBQVEsQ0FBUixDQUFmO0FBQ0EsSUFBSUksUUFBUSxtQkFBQUosQ0FBUSxDQUFSLENBQVo7QUFDQSxJQUFJSyxnQkFBaUIsWUFBWTtBQUM3QjtBQUNBLGFBQVNBLGFBQVQsQ0FBdUJDLE9BQXZCLEVBQWdDO0FBQzVCLGFBQUtBLE9BQUwsR0FBZUEsT0FBZjtBQUNBLGFBQUtDLE1BQUwsR0FBYyxFQUFkO0FBQ0EsYUFBS0MsU0FBTCxHQUFpQixFQUFqQjtBQUNBLGFBQUtDLE9BQUwsR0FBZSxJQUFJVixlQUFlVyxZQUFuQixDQUFnQyxLQUFLSCxNQUFyQyxDQUFmO0FBQ0EsYUFBS0ksT0FBTCxHQUFlLElBQUlWLGVBQWVXLFlBQW5CLENBQWdDLEtBQUtILE9BQXJDLEVBQThDSCxRQUFRTyxpQkFBdEQsQ0FBZjtBQUNBLGFBQUtDLFVBQUwsR0FBa0IsSUFBSVosb0JBQW9CYSxpQkFBeEIsQ0FBMEMsSUFBMUMsRUFBZ0RULFFBQVFVLFNBQXhELEVBQW1FLEtBQUtULE1BQXhFLEVBQWdGLEtBQUtJLE9BQXJGLEVBQThGLEtBQUtILFNBQW5HLENBQWxCO0FBQ0EsYUFBS1MsYUFBTDtBQUNIO0FBQ0Q7QUFDQVosa0JBQWNhLFNBQWQsQ0FBd0JELGFBQXhCLEdBQXdDLFlBQVk7QUFDaEQsWUFBSUUsZUFBZTtBQUNmQyxrQkFBTSxFQURTO0FBRWZDLGlCQUFLLEdBRlU7QUFHZkMsbUJBQU8sSUFIUTtBQUlmQyxvQkFBUTtBQUNKLHFCQUFLLEVBQUV6QixPQUFPLElBQVQsRUFBZTBCLE1BQU0sTUFBckIsRUFBNkJDLFNBQVMsSUFBdEM7QUFERCxhQUpPO0FBT2ZDLHNCQUFVO0FBUEssU0FBbkI7QUFTQSxZQUFJQyxRQUFRLEtBQUtBLEtBQUwsR0FBYSxLQUFLYixVQUFMLENBQWdCYyxRQUFoQixDQUF5QlQsWUFBekIsQ0FBekI7QUFDQVEsY0FBTUUsU0FBTixHQUFrQixJQUFsQjtBQUNILEtBWkQ7QUFhQTtBQUNBeEIsa0JBQWNhLFNBQWQsQ0FBd0JZLE9BQXhCLEdBQWtDLFlBQVk7QUFDMUMsWUFBSUMsUUFBUSxJQUFaO0FBQ0EsYUFBS2pCLFVBQUwsQ0FBZ0JnQixPQUFoQjtBQUNBLGFBQUt0QixTQUFMLEdBQWlCLEVBQWpCO0FBQ0EsYUFBS3dCLEdBQUwsR0FBV0MsT0FBWCxDQUFtQixVQUFVQyxLQUFWLEVBQWlCO0FBQUUsbUJBQU9ILE1BQU1DLEdBQU4sQ0FBVUUsS0FBVixLQUFvQkgsTUFBTUksVUFBTixDQUFpQkQsS0FBakIsQ0FBM0I7QUFBcUQsU0FBM0Y7QUFDSCxLQUxEO0FBTUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQThCQTdCLGtCQUFjYSxTQUFkLENBQXdCa0IsZUFBeEIsR0FBMEMsVUFBVUMsUUFBVixFQUFvQjtBQUMxRCxhQUFLN0IsU0FBTCxDQUFlOEIsSUFBZixDQUFvQkQsUUFBcEI7QUFDQSxlQUFPLFNBQVNFLGtCQUFULEdBQThCO0FBQ2pDcEMscUJBQVNxQyxVQUFULENBQW9CLEtBQUtoQyxTQUF6QixFQUFvQzZCLFFBQXBDO0FBQ0gsU0FGTSxDQUVMSSxJQUZLLENBRUEsSUFGQSxDQUFQO0FBR0gsS0FMRDtBQU1BOzs7Ozs7Ozs7QUFTQXBDLGtCQUFjYSxTQUFkLENBQXdCd0IsSUFBeEIsR0FBK0IsWUFBWTtBQUN2QyxlQUFPLEtBQUtmLEtBQVo7QUFDSCxLQUZEO0FBR0E7Ozs7Ozs7Ozs7OztBQVlBdEIsa0JBQWNhLFNBQWQsQ0FBd0JVLFFBQXhCLEdBQW1DLFVBQVVlLGVBQVYsRUFBMkI7QUFDMUQsZUFBTyxLQUFLN0IsVUFBTCxDQUFnQmMsUUFBaEIsQ0FBeUJlLGVBQXpCLENBQVA7QUFDSCxLQUZEO0FBR0E7QUFDQXRDLGtCQUFjYSxTQUFkLENBQXdCMEIsZUFBeEIsR0FBMEMsVUFBVVYsS0FBVixFQUFpQjtBQUN2RCxZQUFJSCxRQUFRLElBQVo7QUFDQSxZQUFJYyxNQUFNLEtBQUtiLEdBQUwsR0FBV2MsR0FBWCxDQUFlLFVBQVVDLENBQVYsRUFBYTtBQUFFLG1CQUFPQSxFQUFFQyxPQUFGLEVBQVA7QUFBcUIsU0FBbkQsQ0FBVjtBQUNBLFlBQUlDLGNBQWMsU0FBZEEsV0FBYyxDQUFVMUMsTUFBVixFQUFrQjtBQUNoQyxnQkFBSTJDLFdBQVdMLElBQUlNLE1BQUosQ0FBVyxVQUFVSixDQUFWLEVBQWE7QUFBRSx1QkFBT3hDLE9BQU82QyxPQUFQLENBQWVMLEVBQUVNLE1BQWpCLE1BQTZCLENBQUMsQ0FBckM7QUFBeUMsYUFBbkUsQ0FBZjtBQUNBLG1CQUFPSCxTQUFTSSxNQUFULEtBQW9CLENBQXBCLEdBQXdCSixRQUF4QixHQUFtQ0EsU0FBU0ssTUFBVCxDQUFnQk4sWUFBWUMsUUFBWixDQUFoQixDQUExQztBQUNILFNBSEQ7QUFJQSxZQUFJQSxXQUFXRCxZQUFZLENBQUNmLEtBQUQsQ0FBWixDQUFmO0FBQ0EsWUFBSXNCLGVBQWUsQ0FBQ3RCLEtBQUQsRUFBUXFCLE1BQVIsQ0FBZUwsUUFBZixFQUF5Qk8sT0FBekIsRUFBbkI7QUFDQUQscUJBQWF2QixPQUFiLENBQXFCLFVBQVVDLEtBQVYsRUFBaUI7QUFDbEMsZ0JBQUl3QixNQUFNM0IsTUFBTXpCLE9BQU4sQ0FBY1UsU0FBeEI7QUFDQTtBQUNBMEMsZ0JBQUlDLEtBQUosR0FBWVIsTUFBWixDQUFtQi9DLE1BQU13RCxNQUFOLENBQWEsT0FBYixFQUFzQjFCLEtBQXRCLENBQW5CLEVBQWlERCxPQUFqRCxDQUF5RHlCLElBQUlHLFVBQUosQ0FBZXBCLElBQWYsQ0FBb0JpQixHQUFwQixDQUF6RDtBQUNBO0FBQ0EsbUJBQU8zQixNQUFNeEIsTUFBTixDQUFhMkIsTUFBTWQsSUFBbkIsQ0FBUDtBQUNILFNBTkQ7QUFPQSxlQUFPb0MsWUFBUDtBQUNILEtBakJEO0FBa0JBOzs7Ozs7Ozs7QUFTQW5ELGtCQUFjYSxTQUFkLENBQXdCaUIsVUFBeEIsR0FBcUMsVUFBVTJCLFdBQVYsRUFBdUI7QUFDeEQsWUFBSUMsU0FBUyxLQUFLL0IsR0FBTCxDQUFTOEIsV0FBVCxDQUFiO0FBQ0EsWUFBSSxDQUFDQyxNQUFMLEVBQ0ksTUFBTSxJQUFJQyxLQUFKLENBQVUsd0NBQXdDRixXQUFsRCxDQUFOO0FBQ0osWUFBSUcscUJBQXFCLEtBQUtyQixlQUFMLENBQXFCbUIsT0FBT2YsT0FBUCxFQUFyQixDQUF6QjtBQUNBLGFBQUt4QyxTQUFMLENBQWV5QixPQUFmLENBQXVCLFVBQVVJLFFBQVYsRUFBb0I7QUFBRSxtQkFBT0EsU0FBUyxjQUFULEVBQXlCNEIsbUJBQW1CbkIsR0FBbkIsQ0FBdUIsVUFBVUMsQ0FBVixFQUFhO0FBQUUsdUJBQU9BLEVBQUVtQixJQUFUO0FBQWdCLGFBQXRELENBQXpCLENBQVA7QUFBMkYsU0FBeEk7QUFDQSxlQUFPRCxrQkFBUDtBQUNILEtBUEQ7QUFRQTVELGtCQUFjYSxTQUFkLENBQXdCYyxHQUF4QixHQUE4QixVQUFVOEIsV0FBVixFQUF1QkssSUFBdkIsRUFBNkI7QUFDdkQsWUFBSXBDLFFBQVEsSUFBWjtBQUNBLFlBQUlxQyxVQUFVZCxNQUFWLEtBQXFCLENBQXpCLEVBQ0ksT0FBTzNELE9BQU8wRSxJQUFQLENBQVksS0FBSzlELE1BQWpCLEVBQXlCdUMsR0FBekIsQ0FBNkIsVUFBVTFCLElBQVYsRUFBZ0I7QUFBRSxtQkFBT1csTUFBTXhCLE1BQU4sQ0FBYWEsSUFBYixFQUFtQjhDLElBQTFCO0FBQWlDLFNBQWhGLENBQVA7QUFDSixZQUFJSSxRQUFRLEtBQUs3RCxPQUFMLENBQWE4RCxJQUFiLENBQWtCVCxXQUFsQixFQUErQkssSUFBL0IsQ0FBWjtBQUNBLGVBQU9HLFNBQVNBLE1BQU1KLElBQWYsSUFBdUIsSUFBOUI7QUFDSCxLQU5EO0FBT0E3RCxrQkFBY2EsU0FBZCxDQUF3QnNELFNBQXhCLEdBQW9DLFVBQVVwRCxJQUFWLEVBQWdCcUQsSUFBaEIsRUFBc0I7QUFDdEQsZUFBTyxLQUFLOUQsT0FBTCxDQUFhQSxPQUFiLENBQXFCUyxJQUFyQixFQUEyQnFELElBQTNCLENBQVA7QUFDSCxLQUZEO0FBR0EsV0FBT3BFLGFBQVA7QUFDSCxDQTlJb0IsRUFBckI7QUErSUFSLFFBQVFRLGFBQVIsR0FBd0JBLGFBQXhCO0FBQ0EiLCJmaWxlIjoiMzcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgc3RhdGVcbiAqLyAvKiogZm9yIHR5cGVkb2MgKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzdGF0ZU1hdGNoZXJfMSA9IHJlcXVpcmUoXCIuL3N0YXRlTWF0Y2hlclwiKTtcbnZhciBzdGF0ZUJ1aWxkZXJfMSA9IHJlcXVpcmUoXCIuL3N0YXRlQnVpbGRlclwiKTtcbnZhciBzdGF0ZVF1ZXVlTWFuYWdlcl8xID0gcmVxdWlyZShcIi4vc3RhdGVRdWV1ZU1hbmFnZXJcIik7XG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vaG9mXCIpO1xudmFyIFN0YXRlUmVnaXN0cnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBmdW5jdGlvbiBTdGF0ZVJlZ2lzdHJ5KF9yb3V0ZXIpIHtcbiAgICAgICAgdGhpcy5fcm91dGVyID0gX3JvdXRlcjtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5tYXRjaGVyID0gbmV3IHN0YXRlTWF0Y2hlcl8xLlN0YXRlTWF0Y2hlcih0aGlzLnN0YXRlcyk7XG4gICAgICAgIHRoaXMuYnVpbGRlciA9IG5ldyBzdGF0ZUJ1aWxkZXJfMS5TdGF0ZUJ1aWxkZXIodGhpcy5tYXRjaGVyLCBfcm91dGVyLnVybE1hdGNoZXJGYWN0b3J5KTtcbiAgICAgICAgdGhpcy5zdGF0ZVF1ZXVlID0gbmV3IHN0YXRlUXVldWVNYW5hZ2VyXzEuU3RhdGVRdWV1ZU1hbmFnZXIodGhpcywgX3JvdXRlci51cmxSb3V0ZXIsIHRoaXMuc3RhdGVzLCB0aGlzLmJ1aWxkZXIsIHRoaXMubGlzdGVuZXJzKTtcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJSb290KCk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBTdGF0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5fcmVnaXN0ZXJSb290ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcm9vdFN0YXRlRGVmID0ge1xuICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICB1cmw6ICdeJyxcbiAgICAgICAgICAgIHZpZXdzOiBudWxsLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgJyMnOiB7IHZhbHVlOiBudWxsLCB0eXBlOiAnaGFzaCcsIGR5bmFtaWM6IHRydWUgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIHZhciBfcm9vdCA9IHRoaXMuX3Jvb3QgPSB0aGlzLnN0YXRlUXVldWUucmVnaXN0ZXIocm9vdFN0YXRlRGVmKTtcbiAgICAgICAgX3Jvb3QubmF2aWdhYmxlID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBTdGF0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnN0YXRlUXVldWUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLmdldCgpLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiBfdGhpcy5nZXQoc3RhdGUpICYmIF90aGlzLmRlcmVnaXN0ZXIoc3RhdGUpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExpc3RlbiBmb3IgYSBTdGF0ZSBSZWdpc3RyeSBldmVudHNcbiAgICAgKlxuICAgICAqIEFkZHMgYSBjYWxsYmFjayB0aGF0IGlzIGludm9rZWQgd2hlbiBzdGF0ZXMgYXJlIHJlZ2lzdGVyZWQgb3IgZGVyZWdpc3RlcmVkIHdpdGggdGhlIFN0YXRlUmVnaXN0cnkuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiBsZXQgYWxsU3RhdGVzID0gcmVnaXN0cnkuZ2V0KCk7XG4gICAgICpcbiAgICAgKiAvLyBMYXRlciwgaW52b2tlIGRlcmVnaXN0ZXJGbigpIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXJcbiAgICAgKiBsZXQgZGVyZWdpc3RlckZuID0gcmVnaXN0cnkub25TdGF0ZXNDaGFuZ2VkKChldmVudCwgc3RhdGVzKSA9PiB7XG4gICAgICogICBzd2l0Y2goZXZlbnQpIHtcbiAgICAgKiAgICAgY2FzZTogJ3JlZ2lzdGVyZWQnOlxuICAgICAqICAgICAgIHN0YXRlcy5mb3JFYWNoKHN0YXRlID0+IGFsbFN0YXRlcy5wdXNoKHN0YXRlKSk7XG4gICAgICogICAgICAgYnJlYWs7XG4gICAgICogICAgIGNhc2U6ICdkZXJlZ2lzdGVyZWQnOlxuICAgICAqICAgICAgIHN0YXRlcy5mb3JFYWNoKHN0YXRlID0+IHtcbiAgICAgKiAgICAgICAgIGxldCBpZHggPSBhbGxTdGF0ZXMuaW5kZXhPZihzdGF0ZSk7XG4gICAgICogICAgICAgICBpZiAoaWR4ICE9PSAtMSkgYWxsU3RhdGVzLnNwbGljZShpZHgsIDEpO1xuICAgICAqICAgICAgIH0pO1xuICAgICAqICAgICAgIGJyZWFrO1xuICAgICAqICAgfVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIGEgY2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCB3aGVuIHRoZSByZWdpc3RlcmVkIHN0YXRlcyBjaGFuZ2VzLlxuICAgICAqICAgICAgICBUaGUgZnVuY3Rpb24gcmVjZWl2ZXMgdHdvIHBhcmFtZXRlcnMsIGBldmVudGAgYW5kIGBzdGF0ZWAuXG4gICAgICogICAgICAgIFNlZSBbW1N0YXRlUmVnaXN0cnlMaXN0ZW5lcl1dXG4gICAgICogQHJldHVybiBhIGZ1bmN0aW9uIHRoYXQgZGVyZWdpc3RlcnMgdGhlIGxpc3RlbmVyXG4gICAgICovXG4gICAgU3RhdGVSZWdpc3RyeS5wcm90b3R5cGUub25TdGF0ZXNDaGFuZ2VkID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVyZWdpc3Rlckxpc3RlbmVyKCkge1xuICAgICAgICAgICAgY29tbW9uXzEucmVtb3ZlRnJvbSh0aGlzLmxpc3RlbmVycykobGlzdGVuZXIpO1xuICAgICAgICB9LmJpbmQodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbXBsaWNpdCByb290IHN0YXRlXG4gICAgICpcbiAgICAgKiBHZXRzIHRoZSByb290IG9mIHRoZSBzdGF0ZSB0cmVlLlxuICAgICAqIFRoZSByb290IHN0YXRlIGlzIGltcGxpY2l0bHkgY3JlYXRlZCBieSBVSS1Sb3V0ZXIuXG4gICAgICogTm90ZTogdGhpcyByZXR1cm5zIHRoZSBpbnRlcm5hbCBbW1N0YXRlT2JqZWN0XV0gcmVwcmVzZW50YXRpb24sIG5vdCBhIFtbU3RhdGVEZWNsYXJhdGlvbl1dXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHRoZSByb290IFtbU3RhdGVPYmplY3RdXVxuICAgICAqL1xuICAgIFN0YXRlUmVnaXN0cnkucHJvdG90eXBlLnJvb3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb290O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHN0YXRlIHRvIHRoZSByZWdpc3RyeVxuICAgICAqXG4gICAgICogUmVnaXN0ZXJzIGEgW1tTdGF0ZURlY2xhcmF0aW9uXV0gb3IgcXVldWVzIGl0IGZvciByZWdpc3RyYXRpb24uXG4gICAgICpcbiAgICAgKiBOb3RlOiBhIHN0YXRlIHdpbGwgYmUgcXVldWVkIGlmIHRoZSBzdGF0ZSdzIHBhcmVudCBpc24ndCB5ZXQgcmVnaXN0ZXJlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGF0ZURlZmluaXRpb24gdGhlIGRlZmluaXRpb24gb2YgdGhlIHN0YXRlIHRvIHJlZ2lzdGVyLlxuICAgICAqIEByZXR1cm5zIHRoZSBpbnRlcm5hbCBbW1N0YXRlT2JqZWN0XV0gb2JqZWN0LlxuICAgICAqICAgICAgICAgIElmIHRoZSBzdGF0ZSB3YXMgc3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWQsIHRoZW4gdGhlIG9iamVjdCBpcyBmdWxseSBidWlsdCAoU2VlOiBbW1N0YXRlQnVpbGRlcl1dKS5cbiAgICAgKiAgICAgICAgICBJZiB0aGUgc3RhdGUgd2FzIG9ubHkgcXVldWVkLCB0aGVuIHRoZSBvYmplY3QgaXMgbm90IGZ1bGx5IGJ1aWx0LlxuICAgICAqL1xuICAgIFN0YXRlUmVnaXN0cnkucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHN0YXRlRGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZVF1ZXVlLnJlZ2lzdGVyKHN0YXRlRGVmaW5pdGlvbik7XG4gICAgfTtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFN0YXRlUmVnaXN0cnkucHJvdG90eXBlLl9kZXJlZ2lzdGVyVHJlZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYWxsID0gdGhpcy5nZXQoKS5tYXAoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuJCRzdGF0ZSgpOyB9KTtcbiAgICAgICAgdmFyIGdldENoaWxkcmVuID0gZnVuY3Rpb24gKHN0YXRlcykge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gYWxsLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gc3RhdGVzLmluZGV4T2Yocy5wYXJlbnQpICE9PSAtMTsgfSk7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGRyZW4ubGVuZ3RoID09PSAwID8gY2hpbGRyZW4gOiBjaGlsZHJlbi5jb25jYXQoZ2V0Q2hpbGRyZW4oY2hpbGRyZW4pKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gZ2V0Q2hpbGRyZW4oW3N0YXRlXSk7XG4gICAgICAgIHZhciBkZXJlZ2lzdGVyZWQgPSBbc3RhdGVdLmNvbmNhdChjaGlsZHJlbikucmV2ZXJzZSgpO1xuICAgICAgICBkZXJlZ2lzdGVyZWQuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgIHZhciAkdXIgPSBfdGhpcy5fcm91dGVyLnVybFJvdXRlcjtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBVUkwgcnVsZVxuICAgICAgICAgICAgJHVyLnJ1bGVzKCkuZmlsdGVyKGhvZl8xLnByb3BFcShcInN0YXRlXCIsIHN0YXRlKSkuZm9yRWFjaCgkdXIucmVtb3ZlUnVsZS5iaW5kKCR1cikpO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHN0YXRlIGZyb20gcmVnaXN0cnlcbiAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5zdGF0ZXNbc3RhdGUubmFtZV07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVyZWdpc3RlcmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHN0YXRlIGZyb20gdGhlIHJlZ2lzdHJ5XG4gICAgICpcbiAgICAgKiBUaGlzIHJlbW92ZXMgYSBzdGF0ZSBmcm9tIHRoZSByZWdpc3RyeS5cbiAgICAgKiBJZiB0aGUgc3RhdGUgaGFzIGNoaWxkcmVuLCB0aGV5IGFyZSBhcmUgYWxzbyByZW1vdmVkIGZyb20gdGhlIHJlZ2lzdHJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXRlT3JOYW1lIHRoZSBzdGF0ZSdzIG5hbWUgb3Igb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAgICogQHJldHVybnMge1N0YXRlT2JqZWN0W119IGEgbGlzdCBvZiByZW1vdmVkIHN0YXRlc1xuICAgICAqL1xuICAgIFN0YXRlUmVnaXN0cnkucHJvdG90eXBlLmRlcmVnaXN0ZXIgPSBmdW5jdGlvbiAoc3RhdGVPck5hbWUpIHtcbiAgICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuZ2V0KHN0YXRlT3JOYW1lKTtcbiAgICAgICAgaWYgKCFfc3RhdGUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBkZXJlZ2lzdGVyIHN0YXRlOyBub3QgZm91bmQ6IFwiICsgc3RhdGVPck5hbWUpO1xuICAgICAgICB2YXIgZGVyZWdpc3RlcmVkU3RhdGVzID0gdGhpcy5fZGVyZWdpc3RlclRyZWUoX3N0YXRlLiQkc3RhdGUoKSk7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7IHJldHVybiBsaXN0ZW5lcihcImRlcmVnaXN0ZXJlZFwiLCBkZXJlZ2lzdGVyZWRTdGF0ZXMubWFwKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnNlbGY7IH0pKTsgfSk7XG4gICAgICAgIHJldHVybiBkZXJlZ2lzdGVyZWRTdGF0ZXM7XG4gICAgfTtcbiAgICBTdGF0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoc3RhdGVPck5hbWUsIGJhc2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5zdGF0ZXMpLm1hcChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gX3RoaXMuc3RhdGVzW25hbWVdLnNlbGY7IH0pO1xuICAgICAgICB2YXIgZm91bmQgPSB0aGlzLm1hdGNoZXIuZmluZChzdGF0ZU9yTmFtZSwgYmFzZSk7XG4gICAgICAgIHJldHVybiBmb3VuZCAmJiBmb3VuZC5zZWxmIHx8IG51bGw7XG4gICAgfTtcbiAgICBTdGF0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5kZWNvcmF0b3IgPSBmdW5jdGlvbiAobmFtZSwgZnVuYykge1xuICAgICAgICByZXR1cm4gdGhpcy5idWlsZGVyLmJ1aWxkZXIobmFtZSwgZnVuYyk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGVSZWdpc3RyeTtcbn0oKSk7XG5leHBvcnRzLlN0YXRlUmVnaXN0cnkgPSBTdGF0ZVJlZ2lzdHJ5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdGVSZWdpc3RyeS5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3N0YXRlL3N0YXRlUmVnaXN0cnkuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///37\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @coreapi\n * @module state\n */\n/** */\nvar common_1 = __webpack_require__(0);\nvar predicates_1 = __webpack_require__(1);\nvar queue_1 = __webpack_require__(23);\nvar coreservices_1 = __webpack_require__(3);\nvar pathFactory_1 = __webpack_require__(18);\nvar pathNode_1 = __webpack_require__(25);\nvar transitionService_1 = __webpack_require__(27);\nvar rejectFactory_1 = __webpack_require__(11);\nvar targetState_1 = __webpack_require__(7);\nvar param_1 = __webpack_require__(9);\nvar glob_1 = __webpack_require__(16);\nvar resolveContext_1 = __webpack_require__(19);\nvar lazyLoad_1 = __webpack_require__(46);\nvar hof_1 = __webpack_require__(2);\n/**\n * Provides state related service functions\n *\n * This class provides services related to ui-router states.\n * An instance of this class is located on the global [[UIRouter]] object.\n */\nvar StateService = function () {\n    /** @internalapi */\n    function StateService(router) {\n        this.router = router;\n        /** @internalapi */\n        this.invalidCallbacks = [];\n        /** @hidden */\n        this._defaultErrorHandler = function $defaultErrorHandler($error$) {\n            if ($error$ instanceof Error && $error$.stack) {\n                console.error($error$);\n                console.error($error$.stack);\n            } else if ($error$ instanceof rejectFactory_1.Rejection) {\n                console.error($error$.toString());\n                if ($error$.detail && $error$.detail.stack) console.error($error$.detail.stack);\n            } else {\n                console.error($error$);\n            }\n        };\n        var getters = ['current', '$current', 'params', 'transition'];\n        var boundFns = Object.keys(StateService.prototype).filter(hof_1.not(common_1.inArray(getters)));\n        common_1.createProxyFunctions(hof_1.val(StateService.prototype), this, hof_1.val(this), boundFns);\n    }\n    Object.defineProperty(StateService.prototype, \"transition\", {\n        /**\n         * The [[Transition]] currently in progress (or null)\n         *\n         * This is a passthrough through to [[UIRouterGlobals.transition]]\n         */\n        get: function get() {\n            return this.router.globals.transition;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateService.prototype, \"params\", {\n        /**\n         * The latest successful state parameters\n         *\n         * This is a passthrough through to [[UIRouterGlobals.params]]\n         */\n        get: function get() {\n            return this.router.globals.params;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateService.prototype, \"current\", {\n        /**\n         * The current [[StateDeclaration]]\n         *\n         * This is a passthrough through to [[UIRouterGlobals.current]]\n         */\n        get: function get() {\n            return this.router.globals.current;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateService.prototype, \"$current\", {\n        /**\n         * The current [[StateObject]]\n         *\n         * This is a passthrough through to [[UIRouterGlobals.$current]]\n         */\n        get: function get() {\n            return this.router.globals.$current;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /** @internalapi */\n    StateService.prototype.dispose = function () {\n        this.defaultErrorHandler(common_1.noop);\n        this.invalidCallbacks = [];\n    };\n    /**\n     * Handler for when [[transitionTo]] is called with an invalid state.\n     *\n     * Invokes the [[onInvalid]] callbacks, in natural order.\n     * Each callback's return value is checked in sequence until one of them returns an instance of TargetState.\n     * The results of the callbacks are wrapped in $q.when(), so the callbacks may return promises.\n     *\n     * If a callback returns an TargetState, then it is used as arguments to $state.transitionTo() and the result returned.\n     *\n     * @internalapi\n     */\n    StateService.prototype._handleInvalidTargetState = function (fromPath, toState) {\n        var _this = this;\n        var fromState = pathFactory_1.PathUtils.makeTargetState(fromPath);\n        var globals = this.router.globals;\n        var latestThing = function latestThing() {\n            return globals.transitionHistory.peekTail();\n        };\n        var latest = latestThing();\n        var callbackQueue = new queue_1.Queue(this.invalidCallbacks.slice());\n        var injector = new resolveContext_1.ResolveContext(fromPath).injector();\n        var checkForRedirect = function checkForRedirect(result) {\n            if (!(result instanceof targetState_1.TargetState)) {\n                return;\n            }\n            var target = result;\n            // Recreate the TargetState, in case the state is now defined.\n            target = _this.target(target.identifier(), target.params(), target.options());\n            if (!target.valid()) {\n                return rejectFactory_1.Rejection.invalid(target.error()).toPromise();\n            }\n            if (latestThing() !== latest) {\n                return rejectFactory_1.Rejection.superseded().toPromise();\n            }\n            return _this.transitionTo(target.identifier(), target.params(), target.options());\n        };\n        function invokeNextCallback() {\n            var nextCallback = callbackQueue.dequeue();\n            if (nextCallback === undefined) return rejectFactory_1.Rejection.invalid(toState.error()).toPromise();\n            var callbackResult = coreservices_1.services.$q.when(nextCallback(toState, fromState, injector));\n            return callbackResult.then(checkForRedirect).then(function (result) {\n                return result || invokeNextCallback();\n            });\n        }\n        return invokeNextCallback();\n    };\n    /**\n     * Registers an Invalid State handler\n     *\n     * Registers a [[OnInvalidCallback]] function to be invoked when [[StateService.transitionTo]]\n     * has been called with an invalid state reference parameter\n     *\n     * Example:\n     * ```js\n     * stateService.onInvalid(function(to, from, injector) {\n     *   if (to.name() === 'foo') {\n     *     let lazyLoader = injector.get('LazyLoadService');\n     *     return lazyLoader.load('foo')\n     *         .then(() => stateService.target('foo'));\n     *   }\n     * });\n     * ```\n     *\n     * @param {function} callback invoked when the toState is invalid\n     *   This function receives the (invalid) toState, the fromState, and an injector.\n     *   The function may optionally return a [[TargetState]] or a Promise for a TargetState.\n     *   If one is returned, it is treated as a redirect.\n     *\n     * @returns a function which deregisters the callback\n     */\n    StateService.prototype.onInvalid = function (callback) {\n        this.invalidCallbacks.push(callback);\n        return function deregisterListener() {\n            common_1.removeFrom(this.invalidCallbacks)(callback);\n        }.bind(this);\n    };\n    /**\n     * Reloads the current state\n     *\n     * A method that force reloads the current state, or a partial state hierarchy.\n     * All resolves are re-resolved, and components reinstantiated.\n     *\n     * #### Example:\n     * ```js\n     * let app angular.module('app', ['ui.router']);\n     *\n     * app.controller('ctrl', function ($scope, $state) {\n     *   $scope.reload = function(){\n     *     $state.reload();\n     *   }\n     * });\n     * ```\n     *\n     * Note: `reload()` is just an alias for:\n     *\n     * ```js\n     * $state.transitionTo($state.current, $state.params, {\n     *   reload: true, inherit: false\n     * });\n     * ```\n     *\n     * @param reloadState A state name or a state object.\n     *    If present, this state and all its children will be reloaded, but ancestors will not reload.\n     *\n     * #### Example:\n     * ```js\n     * //assuming app application consists of 3 states: 'contacts', 'contacts.detail', 'contacts.detail.item'\n     * //and current state is 'contacts.detail.item'\n     * let app angular.module('app', ['ui.router']);\n     *\n     * app.controller('ctrl', function ($scope, $state) {\n     *   $scope.reload = function(){\n     *     //will reload 'contact.detail' and nested 'contact.detail.item' states\n     *     $state.reload('contact.detail');\n     *   }\n     * });\n     * ```\n     *\n     * @returns A promise representing the state of the new transition. See [[StateService.go]]\n     */\n    StateService.prototype.reload = function (reloadState) {\n        return this.transitionTo(this.current, this.params, {\n            reload: predicates_1.isDefined(reloadState) ? reloadState : true,\n            inherit: false,\n            notify: false\n        });\n    };\n    ;\n    /**\n     * Transition to a different state and/or parameters\n     *\n     * Convenience method for transitioning to a new state.\n     *\n     * `$state.go` calls `$state.transitionTo` internally but automatically sets options to\n     * `{ location: true, inherit: true, relative: router.globals.$current, notify: true }`.\n     * This allows you to use either an absolute or relative `to` argument (because of `relative: router.globals.$current`).\n     * It also allows you to specify * only the parameters you'd like to update, while letting unspecified parameters\n     * inherit from the current parameter values (because of `inherit: true`).\n     *\n     * #### Example:\n     * ```js\n     * let app = angular.module('app', ['ui.router']);\n     *\n     * app.controller('ctrl', function ($scope, $state) {\n     *   $scope.changeState = function () {\n     *     $state.go('contact.detail');\n     *   };\n     * });\n     * ```\n     *\n     * @param to Absolute state name, state object, or relative state path (relative to current state).\n     *\n     * Some examples:\n     *\n     * - `$state.go('contact.detail')` - will go to the `contact.detail` state\n     * - `$state.go('^')` - will go to the parent state\n     * - `$state.go('^.sibling')` - if current state is `home.child`, will go to the `home.sibling` state\n     * - `$state.go('.child.grandchild')` - if current state is home, will go to the `home.child.grandchild` state\n     *\n     * @param params A map of the parameters that will be sent to the state, will populate $stateParams.\n     *\n     *    Any parameters that are not specified will be inherited from current parameter values (because of `inherit: true`).\n     *    This allows, for example, going to a sibling state that shares parameters defined by a parent state.\n     *\n     * @param options Transition options\n     *\n     * @returns {promise} A promise representing the state of the new transition.\n     */\n    StateService.prototype.go = function (to, params, options) {\n        var defautGoOpts = { relative: this.$current, inherit: true };\n        var transOpts = common_1.defaults(options, defautGoOpts, transitionService_1.defaultTransOpts);\n        return this.transitionTo(to, params, transOpts);\n    };\n    ;\n    /**\n     * Creates a [[TargetState]]\n     *\n     * This is a factory method for creating a TargetState\n     *\n     * This may be returned from a Transition Hook to redirect a transition, for example.\n     */\n    StateService.prototype.target = function (identifier, params, options) {\n        if (options === void 0) {\n            options = {};\n        }\n        // If we're reloading, find the state object to reload from\n        if (predicates_1.isObject(options.reload) && !options.reload.name) throw new Error('Invalid reload state object');\n        var reg = this.router.stateRegistry;\n        options.reloadState = options.reload === true ? reg.root() : reg.matcher.find(options.reload, options.relative);\n        if (options.reload && !options.reloadState) throw new Error(\"No such reload state '\" + (predicates_1.isString(options.reload) ? options.reload : options.reload.name) + \"'\");\n        var stateDefinition = reg.matcher.find(identifier, options.relative);\n        return new targetState_1.TargetState(identifier, stateDefinition, params, options);\n    };\n    ;\n    StateService.prototype.getCurrentPath = function () {\n        var _this = this;\n        var globals = this.router.globals;\n        var latestSuccess = globals.successfulTransitions.peekTail();\n        var rootPath = function rootPath() {\n            return [new pathNode_1.PathNode(_this.router.stateRegistry.root())];\n        };\n        return latestSuccess ? latestSuccess.treeChanges().to : rootPath();\n    };\n    /**\n     * Low-level method for transitioning to a new state.\n     *\n     * The [[go]] method (which uses `transitionTo` internally) is recommended in most situations.\n     *\n     * #### Example:\n     * ```js\n     * let app = angular.module('app', ['ui.router']);\n     *\n     * app.controller('ctrl', function ($scope, $state) {\n     *   $scope.changeState = function () {\n     *     $state.transitionTo('contact.detail');\n     *   };\n     * });\n     * ```\n     *\n     * @param to State name or state object.\n     * @param toParams A map of the parameters that will be sent to the state,\n     *      will populate $stateParams.\n     * @param options Transition options\n     *\n     * @returns A promise representing the state of the new transition. See [[go]]\n     */\n    StateService.prototype.transitionTo = function (to, toParams, options) {\n        var _this = this;\n        if (toParams === void 0) {\n            toParams = {};\n        }\n        if (options === void 0) {\n            options = {};\n        }\n        var router = this.router;\n        var globals = router.globals;\n        options = common_1.defaults(options, transitionService_1.defaultTransOpts);\n        var getCurrent = function getCurrent() {\n            return globals.transition;\n        };\n        options = common_1.extend(options, { current: getCurrent });\n        var ref = this.target(to, toParams, options);\n        var currentPath = this.getCurrentPath();\n        if (!ref.exists()) return this._handleInvalidTargetState(currentPath, ref);\n        if (!ref.valid()) return common_1.silentRejection(ref.error());\n        /**\n         * Special handling for Ignored, Aborted, and Redirected transitions\n         *\n         * The semantics for the transition.run() promise and the StateService.transitionTo()\n         * promise differ. For instance, the run() promise may be rejected because it was\n         * IGNORED, but the transitionTo() promise is resolved because from the user perspective\n         * no error occurred.  Likewise, the transition.run() promise may be rejected because of\n         * a Redirect, but the transitionTo() promise is chained to the new Transition's promise.\n         */\n        var rejectedTransitionHandler = function rejectedTransitionHandler(transition) {\n            return function (error) {\n                if (error instanceof rejectFactory_1.Rejection) {\n                    var isLatest = router.globals.lastStartedTransitionId === transition.$id;\n                    if (error.type === rejectFactory_1.RejectType.IGNORED) {\n                        isLatest && router.urlRouter.update();\n                        // Consider ignored `Transition.run()` as a successful `transitionTo`\n                        return coreservices_1.services.$q.when(globals.current);\n                    }\n                    var detail = error.detail;\n                    if (error.type === rejectFactory_1.RejectType.SUPERSEDED && error.redirected && detail instanceof targetState_1.TargetState) {\n                        // If `Transition.run()` was redirected, allow the `transitionTo()` promise to resolve successfully\n                        // by returning the promise for the new (redirect) `Transition.run()`.\n                        var redirect = transition.redirect(detail);\n                        return redirect.run().catch(rejectedTransitionHandler(redirect));\n                    }\n                    if (error.type === rejectFactory_1.RejectType.ABORTED) {\n                        isLatest && router.urlRouter.update();\n                        return coreservices_1.services.$q.reject(error);\n                    }\n                }\n                var errorHandler = _this.defaultErrorHandler();\n                errorHandler(error);\n                return coreservices_1.services.$q.reject(error);\n            };\n        };\n        var transition = this.router.transitionService.create(currentPath, ref);\n        var transitionToPromise = transition.run().catch(rejectedTransitionHandler(transition));\n        common_1.silenceUncaughtInPromise(transitionToPromise); // issue #2676\n        // Return a promise for the transition, which also has the transition object on it.\n        return common_1.extend(transitionToPromise, { transition: transition });\n    };\n    ;\n    /**\n     * Checks if the current state *is* the provided state\n     *\n     * Similar to [[includes]] but only checks for the full state name.\n     * If params is supplied then it will be tested for strict equality against the current\n     * active params object, so all params must match with none missing and no extras.\n     *\n     * #### Example:\n     * ```js\n     * $state.$current.name = 'contacts.details.item';\n     *\n     * // absolute name\n     * $state.is('contact.details.item'); // returns true\n     * $state.is(contactDetailItemStateObject); // returns true\n     * ```\n     *\n     * // relative name (. and ^), typically from a template\n     * // E.g. from the 'contacts.details' template\n     * ```html\n     * <div ng-class=\"{highlighted: $state.is('.item')}\">Item</div>\n     * ```\n     *\n     * @param stateOrName The state name (absolute or relative) or state object you'd like to check.\n     * @param params A param object, e.g. `{sectionId: section.id}`, that you'd like\n     * to test against the current active state.\n     * @param options An options object. The options are:\n     *   - `relative`: If `stateOrName` is a relative state name and `options.relative` is set, .is will\n     *     test relative to `options.relative` state (or name).\n     *\n     * @returns Returns true if it is the state.\n     */\n    StateService.prototype.is = function (stateOrName, params, options) {\n        options = common_1.defaults(options, { relative: this.$current });\n        var state = this.router.stateRegistry.matcher.find(stateOrName, options.relative);\n        if (!predicates_1.isDefined(state)) return undefined;\n        if (this.$current !== state) return false;\n        if (!params) return true;\n        var schema = state.parameters({ inherit: true, matchingKeys: params });\n        return param_1.Param.equals(schema, param_1.Param.values(schema, params), this.params);\n    };\n    ;\n    /**\n     * Checks if the current state *includes* the provided state\n     *\n     * A method to determine if the current active state is equal to or is the child of the\n     * state stateName. If any params are passed then they will be tested for a match as well.\n     * Not all the parameters need to be passed, just the ones you'd like to test for equality.\n     *\n     * #### Example when `$state.$current.name === 'contacts.details.item'`\n     * ```js\n     * // Using partial names\n     * $state.includes(\"contacts\"); // returns true\n     * $state.includes(\"contacts.details\"); // returns true\n     * $state.includes(\"contacts.details.item\"); // returns true\n     * $state.includes(\"contacts.list\"); // returns false\n     * $state.includes(\"about\"); // returns false\n     * ```\n     *\n     * #### Glob Examples when `* $state.$current.name === 'contacts.details.item.url'`:\n     * ```js\n     * $state.includes(\"*.details.*.*\"); // returns true\n     * $state.includes(\"*.details.**\"); // returns true\n     * $state.includes(\"**.item.**\"); // returns true\n     * $state.includes(\"*.details.item.url\"); // returns true\n     * $state.includes(\"*.details.*.url\"); // returns true\n     * $state.includes(\"*.details.*\"); // returns false\n     * $state.includes(\"item.**\"); // returns false\n     * ```\n     *\n     * @param stateOrName A partial name, relative name, glob pattern,\n     *   or state object to be searched for within the current state name.\n     * @param params A param object, e.g. `{sectionId: section.id}`,\n     *   that you'd like to test against the current active state.\n     * @param options An options object. The options are:\n     *   - `relative`: If `stateOrName` is a relative state name and `options.relative` is set, .is will\n     *     test relative to `options.relative` state (or name).\n     *\n     * @returns {boolean} Returns true if it does include the state\n     */\n    StateService.prototype.includes = function (stateOrName, params, options) {\n        options = common_1.defaults(options, { relative: this.$current });\n        var glob = predicates_1.isString(stateOrName) && glob_1.Glob.fromString(stateOrName);\n        if (glob) {\n            if (!glob.matches(this.$current.name)) return false;\n            stateOrName = this.$current.name;\n        }\n        var state = this.router.stateRegistry.matcher.find(stateOrName, options.relative),\n            include = this.$current.includes;\n        if (!predicates_1.isDefined(state)) return undefined;\n        if (!predicates_1.isDefined(include[state.name])) return false;\n        if (!params) return true;\n        var schema = state.parameters({ inherit: true, matchingKeys: params });\n        return param_1.Param.equals(schema, param_1.Param.values(schema, params), this.params);\n    };\n    ;\n    /**\n     * Generates a URL for a state and parameters\n     *\n     * Returns the url for the given state populated with the given params.\n     *\n     * #### Example:\n     * ```js\n     * expect($state.href(\"about.person\", { person: \"bob\" })).toEqual(\"/about/bob\");\n     * ```\n     *\n     * @param stateOrName The state name or state object you'd like to generate a url from.\n     * @param params An object of parameter values to fill the state's required parameters.\n     * @param options Options object. The options are:\n     *\n     * @returns {string} compiled state url\n     */\n    StateService.prototype.href = function (stateOrName, params, options) {\n        var defaultHrefOpts = {\n            lossy: true,\n            inherit: true,\n            absolute: false,\n            relative: this.$current\n        };\n        options = common_1.defaults(options, defaultHrefOpts);\n        params = params || {};\n        var state = this.router.stateRegistry.matcher.find(stateOrName, options.relative);\n        if (!predicates_1.isDefined(state)) return null;\n        if (options.inherit) params = this.params.$inherit(params, this.$current, state);\n        var nav = state && options.lossy ? state.navigable : state;\n        if (!nav || nav.url === undefined || nav.url === null) {\n            return null;\n        }\n        return this.router.urlRouter.href(nav.url, params, {\n            absolute: options.absolute\n        });\n    };\n    ;\n    /**\n     * Sets or gets the default [[transitionTo]] error handler.\n     *\n     * The error handler is called when a [[Transition]] is rejected or when any error occurred during the Transition.\n     * This includes errors caused by resolves and transition hooks.\n     *\n     * Note:\n     * This handler does not receive certain Transition rejections.\n     * Redirected and Ignored Transitions are not considered to be errors by [[StateService.transitionTo]].\n     *\n     * The built-in default error handler logs the error to the console.\n     *\n     * You can provide your own custom handler.\n     *\n     * #### Example:\n     * ```js\n     * stateService.defaultErrorHandler(function() {\n     *   // Do not log transitionTo errors\n     * });\n     * ```\n     *\n     * @param handler a global error handler function\n     * @returns the current global error handler\n     */\n    StateService.prototype.defaultErrorHandler = function (handler) {\n        return this._defaultErrorHandler = handler || this._defaultErrorHandler;\n    };\n    StateService.prototype.get = function (stateOrName, base) {\n        var reg = this.router.stateRegistry;\n        if (arguments.length === 0) return reg.get();\n        return reg.get(stateOrName, base || this.$current);\n    };\n    /**\n     * Lazy loads a state\n     *\n     * Explicitly runs a state's [[StateDeclaration.lazyLoad]] function.\n     *\n     * @param stateOrName the state that should be lazy loaded\n     * @param transition the optional Transition context to use (if the lazyLoad function requires an injector, etc)\n     * Note: If no transition is provided, a noop transition is created using the from the current state to the current state.\n     * This noop transition is not actually run.\n     *\n     * @returns a promise to lazy load\n     */\n    StateService.prototype.lazyLoad = function (stateOrName, transition) {\n        var state = this.get(stateOrName);\n        if (!state || !state.lazyLoad) throw new Error(\"Can not lazy load \" + stateOrName);\n        var currentPath = this.getCurrentPath();\n        var target = pathFactory_1.PathUtils.makeTargetState(currentPath);\n        transition = transition || this.router.transitionService.create(currentPath, target);\n        return lazyLoad_1.lazyLoadState(transition, state);\n    };\n    return StateService;\n}();\nexports.StateService = StateService;\n//# sourceMappingURL=stateService.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3N0YXRlL3N0YXRlU2VydmljZS5qcz85MzEyIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY29tbW9uXzEiLCJyZXF1aXJlIiwicHJlZGljYXRlc18xIiwicXVldWVfMSIsImNvcmVzZXJ2aWNlc18xIiwicGF0aEZhY3RvcnlfMSIsInBhdGhOb2RlXzEiLCJ0cmFuc2l0aW9uU2VydmljZV8xIiwicmVqZWN0RmFjdG9yeV8xIiwidGFyZ2V0U3RhdGVfMSIsInBhcmFtXzEiLCJnbG9iXzEiLCJyZXNvbHZlQ29udGV4dF8xIiwibGF6eUxvYWRfMSIsImhvZl8xIiwiU3RhdGVTZXJ2aWNlIiwicm91dGVyIiwiaW52YWxpZENhbGxiYWNrcyIsIl9kZWZhdWx0RXJyb3JIYW5kbGVyIiwiJGRlZmF1bHRFcnJvckhhbmRsZXIiLCIkZXJyb3IkIiwiRXJyb3IiLCJzdGFjayIsImNvbnNvbGUiLCJlcnJvciIsIlJlamVjdGlvbiIsInRvU3RyaW5nIiwiZGV0YWlsIiwiZ2V0dGVycyIsImJvdW5kRm5zIiwia2V5cyIsInByb3RvdHlwZSIsImZpbHRlciIsIm5vdCIsImluQXJyYXkiLCJjcmVhdGVQcm94eUZ1bmN0aW9ucyIsInZhbCIsImdldCIsImdsb2JhbHMiLCJ0cmFuc2l0aW9uIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsInBhcmFtcyIsImN1cnJlbnQiLCIkY3VycmVudCIsImRpc3Bvc2UiLCJkZWZhdWx0RXJyb3JIYW5kbGVyIiwibm9vcCIsIl9oYW5kbGVJbnZhbGlkVGFyZ2V0U3RhdGUiLCJmcm9tUGF0aCIsInRvU3RhdGUiLCJfdGhpcyIsImZyb21TdGF0ZSIsIlBhdGhVdGlscyIsIm1ha2VUYXJnZXRTdGF0ZSIsImxhdGVzdFRoaW5nIiwidHJhbnNpdGlvbkhpc3RvcnkiLCJwZWVrVGFpbCIsImxhdGVzdCIsImNhbGxiYWNrUXVldWUiLCJRdWV1ZSIsInNsaWNlIiwiaW5qZWN0b3IiLCJSZXNvbHZlQ29udGV4dCIsImNoZWNrRm9yUmVkaXJlY3QiLCJyZXN1bHQiLCJUYXJnZXRTdGF0ZSIsInRhcmdldCIsImlkZW50aWZpZXIiLCJvcHRpb25zIiwidmFsaWQiLCJpbnZhbGlkIiwidG9Qcm9taXNlIiwic3VwZXJzZWRlZCIsInRyYW5zaXRpb25UbyIsImludm9rZU5leHRDYWxsYmFjayIsIm5leHRDYWxsYmFjayIsImRlcXVldWUiLCJ1bmRlZmluZWQiLCJjYWxsYmFja1Jlc3VsdCIsInNlcnZpY2VzIiwiJHEiLCJ3aGVuIiwidGhlbiIsIm9uSW52YWxpZCIsImNhbGxiYWNrIiwicHVzaCIsImRlcmVnaXN0ZXJMaXN0ZW5lciIsInJlbW92ZUZyb20iLCJiaW5kIiwicmVsb2FkIiwicmVsb2FkU3RhdGUiLCJpc0RlZmluZWQiLCJpbmhlcml0Iiwibm90aWZ5IiwiZ28iLCJ0byIsImRlZmF1dEdvT3B0cyIsInJlbGF0aXZlIiwidHJhbnNPcHRzIiwiZGVmYXVsdHMiLCJkZWZhdWx0VHJhbnNPcHRzIiwiaXNPYmplY3QiLCJuYW1lIiwicmVnIiwic3RhdGVSZWdpc3RyeSIsInJvb3QiLCJtYXRjaGVyIiwiZmluZCIsImlzU3RyaW5nIiwic3RhdGVEZWZpbml0aW9uIiwiZ2V0Q3VycmVudFBhdGgiLCJsYXRlc3RTdWNjZXNzIiwic3VjY2Vzc2Z1bFRyYW5zaXRpb25zIiwicm9vdFBhdGgiLCJQYXRoTm9kZSIsInRyZWVDaGFuZ2VzIiwidG9QYXJhbXMiLCJnZXRDdXJyZW50IiwiZXh0ZW5kIiwicmVmIiwiY3VycmVudFBhdGgiLCJleGlzdHMiLCJzaWxlbnRSZWplY3Rpb24iLCJyZWplY3RlZFRyYW5zaXRpb25IYW5kbGVyIiwiaXNMYXRlc3QiLCJsYXN0U3RhcnRlZFRyYW5zaXRpb25JZCIsIiRpZCIsInR5cGUiLCJSZWplY3RUeXBlIiwiSUdOT1JFRCIsInVybFJvdXRlciIsInVwZGF0ZSIsIlNVUEVSU0VERUQiLCJyZWRpcmVjdGVkIiwicmVkaXJlY3QiLCJydW4iLCJjYXRjaCIsIkFCT1JURUQiLCJyZWplY3QiLCJlcnJvckhhbmRsZXIiLCJ0cmFuc2l0aW9uU2VydmljZSIsImNyZWF0ZSIsInRyYW5zaXRpb25Ub1Byb21pc2UiLCJzaWxlbmNlVW5jYXVnaHRJblByb21pc2UiLCJpcyIsInN0YXRlT3JOYW1lIiwic3RhdGUiLCJzY2hlbWEiLCJwYXJhbWV0ZXJzIiwibWF0Y2hpbmdLZXlzIiwiUGFyYW0iLCJlcXVhbHMiLCJ2YWx1ZXMiLCJpbmNsdWRlcyIsImdsb2IiLCJHbG9iIiwiZnJvbVN0cmluZyIsIm1hdGNoZXMiLCJpbmNsdWRlIiwiaHJlZiIsImRlZmF1bHRIcmVmT3B0cyIsImxvc3N5IiwiYWJzb2x1dGUiLCIkaW5oZXJpdCIsIm5hdiIsIm5hdmlnYWJsZSIsInVybCIsImhhbmRsZXIiLCJiYXNlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwibGF6eUxvYWQiLCJsYXp5TG9hZFN0YXRlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0E7Ozs7QUFJQTtBQUNBLElBQUlDLFdBQVcsbUJBQUFDLENBQVEsQ0FBUixDQUFmO0FBQ0EsSUFBSUMsZUFBZSxtQkFBQUQsQ0FBUSxDQUFSLENBQW5CO0FBQ0EsSUFBSUUsVUFBVSxtQkFBQUYsQ0FBUSxFQUFSLENBQWQ7QUFDQSxJQUFJRyxpQkFBaUIsbUJBQUFILENBQVEsQ0FBUixDQUFyQjtBQUNBLElBQUlJLGdCQUFnQixtQkFBQUosQ0FBUSxFQUFSLENBQXBCO0FBQ0EsSUFBSUssYUFBYSxtQkFBQUwsQ0FBUSxFQUFSLENBQWpCO0FBQ0EsSUFBSU0sc0JBQXNCLG1CQUFBTixDQUFRLEVBQVIsQ0FBMUI7QUFDQSxJQUFJTyxrQkFBa0IsbUJBQUFQLENBQVEsRUFBUixDQUF0QjtBQUNBLElBQUlRLGdCQUFnQixtQkFBQVIsQ0FBUSxDQUFSLENBQXBC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QUFhZ0IsU0FBYixDQUF1QjZJLFFBQXZCLEdBQWtDLFVBQVUxQixXQUFWLEVBQXVCM0csVUFBdkIsRUFBbUM7QUFDakUsWUFBSTRHLFFBQVEsS0FBSzlHLEdBQUwsQ0FBUzZHLFdBQVQsQ0FBWjtBQUNBLFlBQUksQ0FBQ0MsS0FBRCxJQUFVLENBQUNBLE1BQU15QixRQUFyQixFQUNJLE1BQU0sSUFBSXZKLEtBQUosQ0FBVSx1QkFBdUI2SCxXQUFqQyxDQUFOO0FBQ0osWUFBSXpCLGNBQWMsS0FBS1YsY0FBTCxFQUFsQjtBQUNBLFlBQUk1QyxTQUFTOUQsY0FBY2dELFNBQWQsQ0FBd0JDLGVBQXhCLENBQXdDbUUsV0FBeEMsQ0FBYjtBQUNBbEYscUJBQWFBLGNBQWMsS0FBS3ZCLE1BQUwsQ0FBWTZILGlCQUFaLENBQThCQyxNQUE5QixDQUFxQ3JCLFdBQXJDLEVBQWtEdEQsTUFBbEQsQ0FBM0I7QUFDQSxlQUFPdEQsV0FBV2dLLGFBQVgsQ0FBeUJ0SSxVQUF6QixFQUFxQzRHLEtBQXJDLENBQVA7QUFDSCxLQVJEO0FBU0EsV0FBT3BJLFlBQVA7QUFDSCxDQS9oQm1CLEVBQXBCO0FBZ2lCQWpCLFFBQVFpQixZQUFSLEdBQXVCQSxZQUF2QjtBQUNBIiwiZmlsZSI6IjM4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEBjb3JlYXBpXG4gKiBAbW9kdWxlIHN0YXRlXG4gKi9cbi8qKiAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIHF1ZXVlXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3F1ZXVlXCIpO1xudmFyIGNvcmVzZXJ2aWNlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb3Jlc2VydmljZXNcIik7XG52YXIgcGF0aEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9wYXRoL3BhdGhGYWN0b3J5XCIpO1xudmFyIHBhdGhOb2RlXzEgPSByZXF1aXJlKFwiLi4vcGF0aC9wYXRoTm9kZVwiKTtcbnZhciB0cmFuc2l0aW9uU2VydmljZV8xID0gcmVxdWlyZShcIi4uL3RyYW5zaXRpb24vdHJhbnNpdGlvblNlcnZpY2VcIik7XG52YXIgcmVqZWN0RmFjdG9yeV8xID0gcmVxdWlyZShcIi4uL3RyYW5zaXRpb24vcmVqZWN0RmFjdG9yeVwiKTtcbnZhciB0YXJnZXRTdGF0ZV8xID0gcmVxdWlyZShcIi4vdGFyZ2V0U3RhdGVcIik7XG52YXIgcGFyYW1fMSA9IHJlcXVpcmUoXCIuLi9wYXJhbXMvcGFyYW1cIik7XG52YXIgZ2xvYl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9nbG9iXCIpO1xudmFyIHJlc29sdmVDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vcmVzb2x2ZS9yZXNvbHZlQ29udGV4dFwiKTtcbnZhciBsYXp5TG9hZF8xID0gcmVxdWlyZShcIi4uL2hvb2tzL2xhenlMb2FkXCIpO1xudmFyIGhvZl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ob2ZcIik7XG4vKipcbiAqIFByb3ZpZGVzIHN0YXRlIHJlbGF0ZWQgc2VydmljZSBmdW5jdGlvbnNcbiAqXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIHNlcnZpY2VzIHJlbGF0ZWQgdG8gdWktcm91dGVyIHN0YXRlcy5cbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgbG9jYXRlZCBvbiB0aGUgZ2xvYmFsIFtbVUlSb3V0ZXJdXSBvYmplY3QuXG4gKi9cbnZhciBTdGF0ZVNlcnZpY2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBmdW5jdGlvbiBTdGF0ZVNlcnZpY2Uocm91dGVyKSB7XG4gICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuICAgICAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgICAgIHRoaXMuaW52YWxpZENhbGxiYWNrcyA9IFtdO1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLl9kZWZhdWx0RXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gJGRlZmF1bHRFcnJvckhhbmRsZXIoJGVycm9yJCkge1xuICAgICAgICAgICAgaWYgKCRlcnJvciQgaW5zdGFuY2VvZiBFcnJvciAmJiAkZXJyb3IkLnN0YWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigkZXJyb3IkKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCRlcnJvciQuc3RhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoJGVycm9yJCBpbnN0YW5jZW9mIHJlamVjdEZhY3RvcnlfMS5SZWplY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCRlcnJvciQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgaWYgKCRlcnJvciQuZGV0YWlsICYmICRlcnJvciQuZGV0YWlsLnN0YWNrKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCRlcnJvciQuZGV0YWlsLnN0YWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJGVycm9yJCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBnZXR0ZXJzID0gWydjdXJyZW50JywgJyRjdXJyZW50JywgJ3BhcmFtcycsICd0cmFuc2l0aW9uJ107XG4gICAgICAgIHZhciBib3VuZEZucyA9IE9iamVjdC5rZXlzKFN0YXRlU2VydmljZS5wcm90b3R5cGUpLmZpbHRlcihob2ZfMS5ub3QoY29tbW9uXzEuaW5BcnJheShnZXR0ZXJzKSkpO1xuICAgICAgICBjb21tb25fMS5jcmVhdGVQcm94eUZ1bmN0aW9ucyhob2ZfMS52YWwoU3RhdGVTZXJ2aWNlLnByb3RvdHlwZSksIHRoaXMsIGhvZl8xLnZhbCh0aGlzKSwgYm91bmRGbnMpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVTZXJ2aWNlLnByb3RvdHlwZSwgXCJ0cmFuc2l0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBbW1RyYW5zaXRpb25dXSBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MgKG9yIG51bGwpXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgYSBwYXNzdGhyb3VnaCB0aHJvdWdoIHRvIFtbVUlSb3V0ZXJHbG9iYWxzLnRyYW5zaXRpb25dXVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnJvdXRlci5nbG9iYWxzLnRyYW5zaXRpb247IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZVNlcnZpY2UucHJvdG90eXBlLCBcInBhcmFtc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGF0ZXN0IHN1Y2Nlc3NmdWwgc3RhdGUgcGFyYW1ldGVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIGEgcGFzc3Rocm91Z2ggdGhyb3VnaCB0byBbW1VJUm91dGVyR2xvYmFscy5wYXJhbXNdXVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnJvdXRlci5nbG9iYWxzLnBhcmFtczsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlU2VydmljZS5wcm90b3R5cGUsIFwiY3VycmVudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBbW1N0YXRlRGVjbGFyYXRpb25dXVxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIGEgcGFzc3Rocm91Z2ggdGhyb3VnaCB0byBbW1VJUm91dGVyR2xvYmFscy5jdXJyZW50XV1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5yb3V0ZXIuZ2xvYmFscy5jdXJyZW50OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVTZXJ2aWNlLnByb3RvdHlwZSwgXCIkY3VycmVudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBbW1N0YXRlT2JqZWN0XV1cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpcyBhIHBhc3N0aHJvdWdoIHRocm91Z2ggdG8gW1tVSVJvdXRlckdsb2JhbHMuJGN1cnJlbnRdXVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnJvdXRlci5nbG9iYWxzLiRjdXJyZW50OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlZmF1bHRFcnJvckhhbmRsZXIoY29tbW9uXzEubm9vcCk7XG4gICAgICAgIHRoaXMuaW52YWxpZENhbGxiYWNrcyA9IFtdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlciBmb3Igd2hlbiBbW3RyYW5zaXRpb25Ub11dIGlzIGNhbGxlZCB3aXRoIGFuIGludmFsaWQgc3RhdGUuXG4gICAgICpcbiAgICAgKiBJbnZva2VzIHRoZSBbW29uSW52YWxpZF1dIGNhbGxiYWNrcywgaW4gbmF0dXJhbCBvcmRlci5cbiAgICAgKiBFYWNoIGNhbGxiYWNrJ3MgcmV0dXJuIHZhbHVlIGlzIGNoZWNrZWQgaW4gc2VxdWVuY2UgdW50aWwgb25lIG9mIHRoZW0gcmV0dXJucyBhbiBpbnN0YW5jZSBvZiBUYXJnZXRTdGF0ZS5cbiAgICAgKiBUaGUgcmVzdWx0cyBvZiB0aGUgY2FsbGJhY2tzIGFyZSB3cmFwcGVkIGluICRxLndoZW4oKSwgc28gdGhlIGNhbGxiYWNrcyBtYXkgcmV0dXJuIHByb21pc2VzLlxuICAgICAqXG4gICAgICogSWYgYSBjYWxsYmFjayByZXR1cm5zIGFuIFRhcmdldFN0YXRlLCB0aGVuIGl0IGlzIHVzZWQgYXMgYXJndW1lbnRzIHRvICRzdGF0ZS50cmFuc2l0aW9uVG8oKSBhbmQgdGhlIHJlc3VsdCByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqL1xuICAgIFN0YXRlU2VydmljZS5wcm90b3R5cGUuX2hhbmRsZUludmFsaWRUYXJnZXRTdGF0ZSA9IGZ1bmN0aW9uIChmcm9tUGF0aCwgdG9TdGF0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZnJvbVN0YXRlID0gcGF0aEZhY3RvcnlfMS5QYXRoVXRpbHMubWFrZVRhcmdldFN0YXRlKGZyb21QYXRoKTtcbiAgICAgICAgdmFyIGdsb2JhbHMgPSB0aGlzLnJvdXRlci5nbG9iYWxzO1xuICAgICAgICB2YXIgbGF0ZXN0VGhpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBnbG9iYWxzLnRyYW5zaXRpb25IaXN0b3J5LnBlZWtUYWlsKCk7IH07XG4gICAgICAgIHZhciBsYXRlc3QgPSBsYXRlc3RUaGluZygpO1xuICAgICAgICB2YXIgY2FsbGJhY2tRdWV1ZSA9IG5ldyBxdWV1ZV8xLlF1ZXVlKHRoaXMuaW52YWxpZENhbGxiYWNrcy5zbGljZSgpKTtcbiAgICAgICAgdmFyIGluamVjdG9yID0gbmV3IHJlc29sdmVDb250ZXh0XzEuUmVzb2x2ZUNvbnRleHQoZnJvbVBhdGgpLmluamVjdG9yKCk7XG4gICAgICAgIHZhciBjaGVja0ZvclJlZGlyZWN0ID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKCEocmVzdWx0IGluc3RhbmNlb2YgdGFyZ2V0U3RhdGVfMS5UYXJnZXRTdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gcmVzdWx0O1xuICAgICAgICAgICAgLy8gUmVjcmVhdGUgdGhlIFRhcmdldFN0YXRlLCBpbiBjYXNlIHRoZSBzdGF0ZSBpcyBub3cgZGVmaW5lZC5cbiAgICAgICAgICAgIHRhcmdldCA9IF90aGlzLnRhcmdldCh0YXJnZXQuaWRlbnRpZmllcigpLCB0YXJnZXQucGFyYW1zKCksIHRhcmdldC5vcHRpb25zKCkpO1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQudmFsaWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uLmludmFsaWQodGFyZ2V0LmVycm9yKCkpLnRvUHJvbWlzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhdGVzdFRoaW5nKCkgIT09IGxhdGVzdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uLnN1cGVyc2VkZWQoKS50b1Byb21pc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpcy50cmFuc2l0aW9uVG8odGFyZ2V0LmlkZW50aWZpZXIoKSwgdGFyZ2V0LnBhcmFtcygpLCB0YXJnZXQub3B0aW9ucygpKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gaW52b2tlTmV4dENhbGxiYWNrKCkge1xuICAgICAgICAgICAgdmFyIG5leHRDYWxsYmFjayA9IGNhbGxiYWNrUXVldWUuZGVxdWV1ZSgpO1xuICAgICAgICAgICAgaWYgKG5leHRDYWxsYmFjayA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uLmludmFsaWQodG9TdGF0ZS5lcnJvcigpKS50b1Byb21pc2UoKTtcbiAgICAgICAgICAgIHZhciBjYWxsYmFja1Jlc3VsdCA9IGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxLndoZW4obmV4dENhbGxiYWNrKHRvU3RhdGUsIGZyb21TdGF0ZSwgaW5qZWN0b3IpKTtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFja1Jlc3VsdC50aGVuKGNoZWNrRm9yUmVkaXJlY3QpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgeyByZXR1cm4gcmVzdWx0IHx8IGludm9rZU5leHRDYWxsYmFjaygpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW52b2tlTmV4dENhbGxiYWNrKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYW4gSW52YWxpZCBTdGF0ZSBoYW5kbGVyXG4gICAgICpcbiAgICAgKiBSZWdpc3RlcnMgYSBbW09uSW52YWxpZENhbGxiYWNrXV0gZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB3aGVuIFtbU3RhdGVTZXJ2aWNlLnRyYW5zaXRpb25Ub11dXG4gICAgICogaGFzIGJlZW4gY2FsbGVkIHdpdGggYW4gaW52YWxpZCBzdGF0ZSByZWZlcmVuY2UgcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogc3RhdGVTZXJ2aWNlLm9uSW52YWxpZChmdW5jdGlvbih0bywgZnJvbSwgaW5qZWN0b3IpIHtcbiAgICAgKiAgIGlmICh0by5uYW1lKCkgPT09ICdmb28nKSB7XG4gICAgICogICAgIGxldCBsYXp5TG9hZGVyID0gaW5qZWN0b3IuZ2V0KCdMYXp5TG9hZFNlcnZpY2UnKTtcbiAgICAgKiAgICAgcmV0dXJuIGxhenlMb2FkZXIubG9hZCgnZm9vJylcbiAgICAgKiAgICAgICAgIC50aGVuKCgpID0+IHN0YXRlU2VydmljZS50YXJnZXQoJ2ZvbycpKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIGludm9rZWQgd2hlbiB0aGUgdG9TdGF0ZSBpcyBpbnZhbGlkXG4gICAgICogICBUaGlzIGZ1bmN0aW9uIHJlY2VpdmVzIHRoZSAoaW52YWxpZCkgdG9TdGF0ZSwgdGhlIGZyb21TdGF0ZSwgYW5kIGFuIGluamVjdG9yLlxuICAgICAqICAgVGhlIGZ1bmN0aW9uIG1heSBvcHRpb25hbGx5IHJldHVybiBhIFtbVGFyZ2V0U3RhdGVdXSBvciBhIFByb21pc2UgZm9yIGEgVGFyZ2V0U3RhdGUuXG4gICAgICogICBJZiBvbmUgaXMgcmV0dXJuZWQsIGl0IGlzIHRyZWF0ZWQgYXMgYSByZWRpcmVjdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggZGVyZWdpc3RlcnMgdGhlIGNhbGxiYWNrXG4gICAgICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5vbkludmFsaWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5pbnZhbGlkQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVyZWdpc3Rlckxpc3RlbmVyKCkge1xuICAgICAgICAgICAgY29tbW9uXzEucmVtb3ZlRnJvbSh0aGlzLmludmFsaWRDYWxsYmFja3MpKGNhbGxiYWNrKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVsb2FkcyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAqXG4gICAgICogQSBtZXRob2QgdGhhdCBmb3JjZSByZWxvYWRzIHRoZSBjdXJyZW50IHN0YXRlLCBvciBhIHBhcnRpYWwgc3RhdGUgaGllcmFyY2h5LlxuICAgICAqIEFsbCByZXNvbHZlcyBhcmUgcmUtcmVzb2x2ZWQsIGFuZCBjb21wb25lbnRzIHJlaW5zdGFudGlhdGVkLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogbGV0IGFwcCBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXInXSk7XG4gICAgICpcbiAgICAgKiBhcHAuY29udHJvbGxlcignY3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSkge1xuICAgICAqICAgJHNjb3BlLnJlbG9hZCA9IGZ1bmN0aW9uKCl7XG4gICAgICogICAgICRzdGF0ZS5yZWxvYWQoKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIE5vdGU6IGByZWxvYWQoKWAgaXMganVzdCBhbiBhbGlhcyBmb3I6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICRzdGF0ZS50cmFuc2l0aW9uVG8oJHN0YXRlLmN1cnJlbnQsICRzdGF0ZS5wYXJhbXMsIHtcbiAgICAgKiAgIHJlbG9hZDogdHJ1ZSwgaW5oZXJpdDogZmFsc2VcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSByZWxvYWRTdGF0ZSBBIHN0YXRlIG5hbWUgb3IgYSBzdGF0ZSBvYmplY3QuXG4gICAgICogICAgSWYgcHJlc2VudCwgdGhpcyBzdGF0ZSBhbmQgYWxsIGl0cyBjaGlsZHJlbiB3aWxsIGJlIHJlbG9hZGVkLCBidXQgYW5jZXN0b3JzIHdpbGwgbm90IHJlbG9hZC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vYXNzdW1pbmcgYXBwIGFwcGxpY2F0aW9uIGNvbnNpc3RzIG9mIDMgc3RhdGVzOiAnY29udGFjdHMnLCAnY29udGFjdHMuZGV0YWlsJywgJ2NvbnRhY3RzLmRldGFpbC5pdGVtJ1xuICAgICAqIC8vYW5kIGN1cnJlbnQgc3RhdGUgaXMgJ2NvbnRhY3RzLmRldGFpbC5pdGVtJ1xuICAgICAqIGxldCBhcHAgYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyJ10pO1xuICAgICAqXG4gICAgICogYXBwLmNvbnRyb2xsZXIoJ2N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGUpIHtcbiAgICAgKiAgICRzY29wZS5yZWxvYWQgPSBmdW5jdGlvbigpe1xuICAgICAqICAgICAvL3dpbGwgcmVsb2FkICdjb250YWN0LmRldGFpbCcgYW5kIG5lc3RlZCAnY29udGFjdC5kZXRhaWwuaXRlbScgc3RhdGVzXG4gICAgICogICAgICRzdGF0ZS5yZWxvYWQoJ2NvbnRhY3QuZGV0YWlsJyk7XG4gICAgICogICB9XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgcmVwcmVzZW50aW5nIHRoZSBzdGF0ZSBvZiB0aGUgbmV3IHRyYW5zaXRpb24uIFNlZSBbW1N0YXRlU2VydmljZS5nb11dXG4gICAgICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5yZWxvYWQgPSBmdW5jdGlvbiAocmVsb2FkU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNpdGlvblRvKHRoaXMuY3VycmVudCwgdGhpcy5wYXJhbXMsIHtcbiAgICAgICAgICAgIHJlbG9hZDogcHJlZGljYXRlc18xLmlzRGVmaW5lZChyZWxvYWRTdGF0ZSkgPyByZWxvYWRTdGF0ZSA6IHRydWUsXG4gICAgICAgICAgICBpbmhlcml0OiBmYWxzZSxcbiAgICAgICAgICAgIG5vdGlmeTogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgO1xuICAgIC8qKlxuICAgICAqIFRyYW5zaXRpb24gdG8gYSBkaWZmZXJlbnQgc3RhdGUgYW5kL29yIHBhcmFtZXRlcnNcbiAgICAgKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3IgdHJhbnNpdGlvbmluZyB0byBhIG5ldyBzdGF0ZS5cbiAgICAgKlxuICAgICAqIGAkc3RhdGUuZ29gIGNhbGxzIGAkc3RhdGUudHJhbnNpdGlvblRvYCBpbnRlcm5hbGx5IGJ1dCBhdXRvbWF0aWNhbGx5IHNldHMgb3B0aW9ucyB0b1xuICAgICAqIGB7IGxvY2F0aW9uOiB0cnVlLCBpbmhlcml0OiB0cnVlLCByZWxhdGl2ZTogcm91dGVyLmdsb2JhbHMuJGN1cnJlbnQsIG5vdGlmeTogdHJ1ZSB9YC5cbiAgICAgKiBUaGlzIGFsbG93cyB5b3UgdG8gdXNlIGVpdGhlciBhbiBhYnNvbHV0ZSBvciByZWxhdGl2ZSBgdG9gIGFyZ3VtZW50IChiZWNhdXNlIG9mIGByZWxhdGl2ZTogcm91dGVyLmdsb2JhbHMuJGN1cnJlbnRgKS5cbiAgICAgKiBJdCBhbHNvIGFsbG93cyB5b3UgdG8gc3BlY2lmeSAqIG9ubHkgdGhlIHBhcmFtZXRlcnMgeW91J2QgbGlrZSB0byB1cGRhdGUsIHdoaWxlIGxldHRpbmcgdW5zcGVjaWZpZWQgcGFyYW1ldGVyc1xuICAgICAqIGluaGVyaXQgZnJvbSB0aGUgY3VycmVudCBwYXJhbWV0ZXIgdmFsdWVzIChiZWNhdXNlIG9mIGBpbmhlcml0OiB0cnVlYCkuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiBsZXQgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyJ10pO1xuICAgICAqXG4gICAgICogYXBwLmNvbnRyb2xsZXIoJ2N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGUpIHtcbiAgICAgKiAgICRzY29wZS5jaGFuZ2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgKiAgICAgJHN0YXRlLmdvKCdjb250YWN0LmRldGFpbCcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0byBBYnNvbHV0ZSBzdGF0ZSBuYW1lLCBzdGF0ZSBvYmplY3QsIG9yIHJlbGF0aXZlIHN0YXRlIHBhdGggKHJlbGF0aXZlIHRvIGN1cnJlbnQgc3RhdGUpLlxuICAgICAqXG4gICAgICogU29tZSBleGFtcGxlczpcbiAgICAgKlxuICAgICAqIC0gYCRzdGF0ZS5nbygnY29udGFjdC5kZXRhaWwnKWAgLSB3aWxsIGdvIHRvIHRoZSBgY29udGFjdC5kZXRhaWxgIHN0YXRlXG4gICAgICogLSBgJHN0YXRlLmdvKCdeJylgIC0gd2lsbCBnbyB0byB0aGUgcGFyZW50IHN0YXRlXG4gICAgICogLSBgJHN0YXRlLmdvKCdeLnNpYmxpbmcnKWAgLSBpZiBjdXJyZW50IHN0YXRlIGlzIGBob21lLmNoaWxkYCwgd2lsbCBnbyB0byB0aGUgYGhvbWUuc2libGluZ2Agc3RhdGVcbiAgICAgKiAtIGAkc3RhdGUuZ28oJy5jaGlsZC5ncmFuZGNoaWxkJylgIC0gaWYgY3VycmVudCBzdGF0ZSBpcyBob21lLCB3aWxsIGdvIHRvIHRoZSBgaG9tZS5jaGlsZC5ncmFuZGNoaWxkYCBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHBhcmFtcyBBIG1hcCBvZiB0aGUgcGFyYW1ldGVycyB0aGF0IHdpbGwgYmUgc2VudCB0byB0aGUgc3RhdGUsIHdpbGwgcG9wdWxhdGUgJHN0YXRlUGFyYW1zLlxuICAgICAqXG4gICAgICogICAgQW55IHBhcmFtZXRlcnMgdGhhdCBhcmUgbm90IHNwZWNpZmllZCB3aWxsIGJlIGluaGVyaXRlZCBmcm9tIGN1cnJlbnQgcGFyYW1ldGVyIHZhbHVlcyAoYmVjYXVzZSBvZiBgaW5oZXJpdDogdHJ1ZWApLlxuICAgICAqICAgIFRoaXMgYWxsb3dzLCBmb3IgZXhhbXBsZSwgZ29pbmcgdG8gYSBzaWJsaW5nIHN0YXRlIHRoYXQgc2hhcmVzIHBhcmFtZXRlcnMgZGVmaW5lZCBieSBhIHBhcmVudCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIFRyYW5zaXRpb24gb3B0aW9uc1xuICAgICAqXG4gICAgICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSByZXByZXNlbnRpbmcgdGhlIHN0YXRlIG9mIHRoZSBuZXcgdHJhbnNpdGlvbi5cbiAgICAgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLmdvID0gZnVuY3Rpb24gKHRvLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlZmF1dEdvT3B0cyA9IHsgcmVsYXRpdmU6IHRoaXMuJGN1cnJlbnQsIGluaGVyaXQ6IHRydWUgfTtcbiAgICAgICAgdmFyIHRyYW5zT3B0cyA9IGNvbW1vbl8xLmRlZmF1bHRzKG9wdGlvbnMsIGRlZmF1dEdvT3B0cywgdHJhbnNpdGlvblNlcnZpY2VfMS5kZWZhdWx0VHJhbnNPcHRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNpdGlvblRvKHRvLCBwYXJhbXMsIHRyYW5zT3B0cyk7XG4gICAgfTtcbiAgICA7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFtbVGFyZ2V0U3RhdGVdXVxuICAgICAqXG4gICAgICogVGhpcyBpcyBhIGZhY3RvcnkgbWV0aG9kIGZvciBjcmVhdGluZyBhIFRhcmdldFN0YXRlXG4gICAgICpcbiAgICAgKiBUaGlzIG1heSBiZSByZXR1cm5lZCBmcm9tIGEgVHJhbnNpdGlvbiBIb29rIHRvIHJlZGlyZWN0IGEgdHJhbnNpdGlvbiwgZm9yIGV4YW1wbGUuXG4gICAgICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS50YXJnZXQgPSBmdW5jdGlvbiAoaWRlbnRpZmllciwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8vIElmIHdlJ3JlIHJlbG9hZGluZywgZmluZCB0aGUgc3RhdGUgb2JqZWN0IHRvIHJlbG9hZCBmcm9tXG4gICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNPYmplY3Qob3B0aW9ucy5yZWxvYWQpICYmICFvcHRpb25zLnJlbG9hZC5uYW1lKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlbG9hZCBzdGF0ZSBvYmplY3QnKTtcbiAgICAgICAgdmFyIHJlZyA9IHRoaXMucm91dGVyLnN0YXRlUmVnaXN0cnk7XG4gICAgICAgIG9wdGlvbnMucmVsb2FkU3RhdGUgPSBvcHRpb25zLnJlbG9hZCA9PT0gdHJ1ZSA/IHJlZy5yb290KCkgOiByZWcubWF0Y2hlci5maW5kKG9wdGlvbnMucmVsb2FkLCBvcHRpb25zLnJlbGF0aXZlKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucmVsb2FkICYmICFvcHRpb25zLnJlbG9hZFN0YXRlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gc3VjaCByZWxvYWQgc3RhdGUgJ1wiICsgKHByZWRpY2F0ZXNfMS5pc1N0cmluZyhvcHRpb25zLnJlbG9hZCkgPyBvcHRpb25zLnJlbG9hZCA6IG9wdGlvbnMucmVsb2FkLm5hbWUpICsgXCInXCIpO1xuICAgICAgICB2YXIgc3RhdGVEZWZpbml0aW9uID0gcmVnLm1hdGNoZXIuZmluZChpZGVudGlmaWVyLCBvcHRpb25zLnJlbGF0aXZlKTtcbiAgICAgICAgcmV0dXJuIG5ldyB0YXJnZXRTdGF0ZV8xLlRhcmdldFN0YXRlKGlkZW50aWZpZXIsIHN0YXRlRGVmaW5pdGlvbiwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIDtcbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLmdldEN1cnJlbnRQYXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZ2xvYmFscyA9IHRoaXMucm91dGVyLmdsb2JhbHM7XG4gICAgICAgIHZhciBsYXRlc3RTdWNjZXNzID0gZ2xvYmFscy5zdWNjZXNzZnVsVHJhbnNpdGlvbnMucGVla1RhaWwoKTtcbiAgICAgICAgdmFyIHJvb3RQYXRoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW25ldyBwYXRoTm9kZV8xLlBhdGhOb2RlKF90aGlzLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5LnJvb3QoKSldOyB9O1xuICAgICAgICByZXR1cm4gbGF0ZXN0U3VjY2VzcyA/IGxhdGVzdFN1Y2Nlc3MudHJlZUNoYW5nZXMoKS50byA6IHJvb3RQYXRoKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb3ctbGV2ZWwgbWV0aG9kIGZvciB0cmFuc2l0aW9uaW5nIHRvIGEgbmV3IHN0YXRlLlxuICAgICAqXG4gICAgICogVGhlIFtbZ29dXSBtZXRob2QgKHdoaWNoIHVzZXMgYHRyYW5zaXRpb25Ub2AgaW50ZXJuYWxseSkgaXMgcmVjb21tZW5kZWQgaW4gbW9zdCBzaXR1YXRpb25zLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogbGV0IGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlciddKTtcbiAgICAgKlxuICAgICAqIGFwcC5jb250cm9sbGVyKCdjdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlKSB7XG4gICAgICogICAkc2NvcGUuY2hhbmdlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICogICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJ2NvbnRhY3QuZGV0YWlsJyk7XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHRvIFN0YXRlIG5hbWUgb3Igc3RhdGUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB0b1BhcmFtcyBBIG1hcCBvZiB0aGUgcGFyYW1ldGVycyB0aGF0IHdpbGwgYmUgc2VudCB0byB0aGUgc3RhdGUsXG4gICAgICogICAgICB3aWxsIHBvcHVsYXRlICRzdGF0ZVBhcmFtcy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUcmFuc2l0aW9uIG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXByZXNlbnRpbmcgdGhlIHN0YXRlIG9mIHRoZSBuZXcgdHJhbnNpdGlvbi4gU2VlIFtbZ29dXVxuICAgICAqL1xuICAgIFN0YXRlU2VydmljZS5wcm90b3R5cGUudHJhbnNpdGlvblRvID0gZnVuY3Rpb24gKHRvLCB0b1BhcmFtcywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodG9QYXJhbXMgPT09IHZvaWQgMCkgeyB0b1BhcmFtcyA9IHt9OyB9XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciByb3V0ZXIgPSB0aGlzLnJvdXRlcjtcbiAgICAgICAgdmFyIGdsb2JhbHMgPSByb3V0ZXIuZ2xvYmFscztcbiAgICAgICAgb3B0aW9ucyA9IGNvbW1vbl8xLmRlZmF1bHRzKG9wdGlvbnMsIHRyYW5zaXRpb25TZXJ2aWNlXzEuZGVmYXVsdFRyYW5zT3B0cyk7XG4gICAgICAgIHZhciBnZXRDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbHMudHJhbnNpdGlvbjtcbiAgICAgICAgfTtcbiAgICAgICAgb3B0aW9ucyA9IGNvbW1vbl8xLmV4dGVuZChvcHRpb25zLCB7IGN1cnJlbnQ6IGdldEN1cnJlbnQgfSk7XG4gICAgICAgIHZhciByZWYgPSB0aGlzLnRhcmdldCh0bywgdG9QYXJhbXMsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgY3VycmVudFBhdGggPSB0aGlzLmdldEN1cnJlbnRQYXRoKCk7XG4gICAgICAgIGlmICghcmVmLmV4aXN0cygpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZUludmFsaWRUYXJnZXRTdGF0ZShjdXJyZW50UGF0aCwgcmVmKTtcbiAgICAgICAgaWYgKCFyZWYudmFsaWQoKSlcbiAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5zaWxlbnRSZWplY3Rpb24ocmVmLmVycm9yKCkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lhbCBoYW5kbGluZyBmb3IgSWdub3JlZCwgQWJvcnRlZCwgYW5kIFJlZGlyZWN0ZWQgdHJhbnNpdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHNlbWFudGljcyBmb3IgdGhlIHRyYW5zaXRpb24ucnVuKCkgcHJvbWlzZSBhbmQgdGhlIFN0YXRlU2VydmljZS50cmFuc2l0aW9uVG8oKVxuICAgICAgICAgKiBwcm9taXNlIGRpZmZlci4gRm9yIGluc3RhbmNlLCB0aGUgcnVuKCkgcHJvbWlzZSBtYXkgYmUgcmVqZWN0ZWQgYmVjYXVzZSBpdCB3YXNcbiAgICAgICAgICogSUdOT1JFRCwgYnV0IHRoZSB0cmFuc2l0aW9uVG8oKSBwcm9taXNlIGlzIHJlc29sdmVkIGJlY2F1c2UgZnJvbSB0aGUgdXNlciBwZXJzcGVjdGl2ZVxuICAgICAgICAgKiBubyBlcnJvciBvY2N1cnJlZC4gIExpa2V3aXNlLCB0aGUgdHJhbnNpdGlvbi5ydW4oKSBwcm9taXNlIG1heSBiZSByZWplY3RlZCBiZWNhdXNlIG9mXG4gICAgICAgICAqIGEgUmVkaXJlY3QsIGJ1dCB0aGUgdHJhbnNpdGlvblRvKCkgcHJvbWlzZSBpcyBjaGFpbmVkIHRvIHRoZSBuZXcgVHJhbnNpdGlvbidzIHByb21pc2UuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgcmVqZWN0ZWRUcmFuc2l0aW9uSGFuZGxlciA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uKSB7IHJldHVybiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIHJlamVjdEZhY3RvcnlfMS5SZWplY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNMYXRlc3QgPSByb3V0ZXIuZ2xvYmFscy5sYXN0U3RhcnRlZFRyYW5zaXRpb25JZCA9PT0gdHJhbnNpdGlvbi4kaWQ7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnR5cGUgPT09IHJlamVjdEZhY3RvcnlfMS5SZWplY3RUeXBlLklHTk9SRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNMYXRlc3QgJiYgcm91dGVyLnVybFJvdXRlci51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29uc2lkZXIgaWdub3JlZCBgVHJhbnNpdGlvbi5ydW4oKWAgYXMgYSBzdWNjZXNzZnVsIGB0cmFuc2l0aW9uVG9gXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS53aGVuKGdsb2JhbHMuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkZXRhaWwgPSBlcnJvci5kZXRhaWw7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnR5cGUgPT09IHJlamVjdEZhY3RvcnlfMS5SZWplY3RUeXBlLlNVUEVSU0VERUQgJiYgZXJyb3IucmVkaXJlY3RlZCAmJiBkZXRhaWwgaW5zdGFuY2VvZiB0YXJnZXRTdGF0ZV8xLlRhcmdldFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGBUcmFuc2l0aW9uLnJ1bigpYCB3YXMgcmVkaXJlY3RlZCwgYWxsb3cgdGhlIGB0cmFuc2l0aW9uVG8oKWAgcHJvbWlzZSB0byByZXNvbHZlIHN1Y2Nlc3NmdWxseVxuICAgICAgICAgICAgICAgICAgICAvLyBieSByZXR1cm5pbmcgdGhlIHByb21pc2UgZm9yIHRoZSBuZXcgKHJlZGlyZWN0KSBgVHJhbnNpdGlvbi5ydW4oKWAuXG4gICAgICAgICAgICAgICAgICAgIHZhciByZWRpcmVjdCA9IHRyYW5zaXRpb24ucmVkaXJlY3QoZGV0YWlsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZGlyZWN0LnJ1bigpLmNhdGNoKHJlamVjdGVkVHJhbnNpdGlvbkhhbmRsZXIocmVkaXJlY3QpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnR5cGUgPT09IHJlamVjdEZhY3RvcnlfMS5SZWplY3RUeXBlLkFCT1JURUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNMYXRlc3QgJiYgcm91dGVyLnVybFJvdXRlci51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVycm9ySGFuZGxlciA9IF90aGlzLmRlZmF1bHRFcnJvckhhbmRsZXIoKTtcbiAgICAgICAgICAgIGVycm9ySGFuZGxlcihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEucmVqZWN0KGVycm9yKTtcbiAgICAgICAgfTsgfTtcbiAgICAgICAgdmFyIHRyYW5zaXRpb24gPSB0aGlzLnJvdXRlci50cmFuc2l0aW9uU2VydmljZS5jcmVhdGUoY3VycmVudFBhdGgsIHJlZik7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uVG9Qcm9taXNlID0gdHJhbnNpdGlvbi5ydW4oKS5jYXRjaChyZWplY3RlZFRyYW5zaXRpb25IYW5kbGVyKHRyYW5zaXRpb24pKTtcbiAgICAgICAgY29tbW9uXzEuc2lsZW5jZVVuY2F1Z2h0SW5Qcm9taXNlKHRyYW5zaXRpb25Ub1Byb21pc2UpOyAvLyBpc3N1ZSAjMjY3NlxuICAgICAgICAvLyBSZXR1cm4gYSBwcm9taXNlIGZvciB0aGUgdHJhbnNpdGlvbiwgd2hpY2ggYWxzbyBoYXMgdGhlIHRyYW5zaXRpb24gb2JqZWN0IG9uIGl0LlxuICAgICAgICByZXR1cm4gY29tbW9uXzEuZXh0ZW5kKHRyYW5zaXRpb25Ub1Byb21pc2UsIHsgdHJhbnNpdGlvbjogdHJhbnNpdGlvbiB9KTtcbiAgICB9O1xuICAgIDtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgc3RhdGUgKmlzKiB0aGUgcHJvdmlkZWQgc3RhdGVcbiAgICAgKlxuICAgICAqIFNpbWlsYXIgdG8gW1tpbmNsdWRlc11dIGJ1dCBvbmx5IGNoZWNrcyBmb3IgdGhlIGZ1bGwgc3RhdGUgbmFtZS5cbiAgICAgKiBJZiBwYXJhbXMgaXMgc3VwcGxpZWQgdGhlbiBpdCB3aWxsIGJlIHRlc3RlZCBmb3Igc3RyaWN0IGVxdWFsaXR5IGFnYWluc3QgdGhlIGN1cnJlbnRcbiAgICAgKiBhY3RpdmUgcGFyYW1zIG9iamVjdCwgc28gYWxsIHBhcmFtcyBtdXN0IG1hdGNoIHdpdGggbm9uZSBtaXNzaW5nIGFuZCBubyBleHRyYXMuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiAkc3RhdGUuJGN1cnJlbnQubmFtZSA9ICdjb250YWN0cy5kZXRhaWxzLml0ZW0nO1xuICAgICAqXG4gICAgICogLy8gYWJzb2x1dGUgbmFtZVxuICAgICAqICRzdGF0ZS5pcygnY29udGFjdC5kZXRhaWxzLml0ZW0nKTsgLy8gcmV0dXJucyB0cnVlXG4gICAgICogJHN0YXRlLmlzKGNvbnRhY3REZXRhaWxJdGVtU3RhdGVPYmplY3QpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIC8vIHJlbGF0aXZlIG5hbWUgKC4gYW5kIF4pLCB0eXBpY2FsbHkgZnJvbSBhIHRlbXBsYXRlXG4gICAgICogLy8gRS5nLiBmcm9tIHRoZSAnY29udGFjdHMuZGV0YWlscycgdGVtcGxhdGVcbiAgICAgKiBgYGBodG1sXG4gICAgICogPGRpdiBuZy1jbGFzcz1cIntoaWdobGlnaHRlZDogJHN0YXRlLmlzKCcuaXRlbScpfVwiPkl0ZW08L2Rpdj5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGF0ZU9yTmFtZSBUaGUgc3RhdGUgbmFtZSAoYWJzb2x1dGUgb3IgcmVsYXRpdmUpIG9yIHN0YXRlIG9iamVjdCB5b3UnZCBsaWtlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSBwYXJhbXMgQSBwYXJhbSBvYmplY3QsIGUuZy4gYHtzZWN0aW9uSWQ6IHNlY3Rpb24uaWR9YCwgdGhhdCB5b3UnZCBsaWtlXG4gICAgICogdG8gdGVzdCBhZ2FpbnN0IHRoZSBjdXJyZW50IGFjdGl2ZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBBbiBvcHRpb25zIG9iamVjdC4gVGhlIG9wdGlvbnMgYXJlOlxuICAgICAqICAgLSBgcmVsYXRpdmVgOiBJZiBgc3RhdGVPck5hbWVgIGlzIGEgcmVsYXRpdmUgc3RhdGUgbmFtZSBhbmQgYG9wdGlvbnMucmVsYXRpdmVgIGlzIHNldCwgLmlzIHdpbGxcbiAgICAgKiAgICAgdGVzdCByZWxhdGl2ZSB0byBgb3B0aW9ucy5yZWxhdGl2ZWAgc3RhdGUgKG9yIG5hbWUpLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmV0dXJucyB0cnVlIGlmIGl0IGlzIHRoZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLmlzID0gZnVuY3Rpb24gKHN0YXRlT3JOYW1lLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IGNvbW1vbl8xLmRlZmF1bHRzKG9wdGlvbnMsIHsgcmVsYXRpdmU6IHRoaXMuJGN1cnJlbnQgfSk7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMucm91dGVyLnN0YXRlUmVnaXN0cnkubWF0Y2hlci5maW5kKHN0YXRlT3JOYW1lLCBvcHRpb25zLnJlbGF0aXZlKTtcbiAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKHN0YXRlKSlcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLiRjdXJyZW50ICE9PSBzdGF0ZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFwYXJhbXMpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgdmFyIHNjaGVtYSA9IHN0YXRlLnBhcmFtZXRlcnMoeyBpbmhlcml0OiB0cnVlLCBtYXRjaGluZ0tleXM6IHBhcmFtcyB9KTtcbiAgICAgICAgcmV0dXJuIHBhcmFtXzEuUGFyYW0uZXF1YWxzKHNjaGVtYSwgcGFyYW1fMS5QYXJhbS52YWx1ZXMoc2NoZW1hLCBwYXJhbXMpLCB0aGlzLnBhcmFtcyk7XG4gICAgfTtcbiAgICA7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHN0YXRlICppbmNsdWRlcyogdGhlIHByb3ZpZGVkIHN0YXRlXG4gICAgICpcbiAgICAgKiBBIG1ldGhvZCB0byBkZXRlcm1pbmUgaWYgdGhlIGN1cnJlbnQgYWN0aXZlIHN0YXRlIGlzIGVxdWFsIHRvIG9yIGlzIHRoZSBjaGlsZCBvZiB0aGVcbiAgICAgKiBzdGF0ZSBzdGF0ZU5hbWUuIElmIGFueSBwYXJhbXMgYXJlIHBhc3NlZCB0aGVuIHRoZXkgd2lsbCBiZSB0ZXN0ZWQgZm9yIGEgbWF0Y2ggYXMgd2VsbC5cbiAgICAgKiBOb3QgYWxsIHRoZSBwYXJhbWV0ZXJzIG5lZWQgdG8gYmUgcGFzc2VkLCBqdXN0IHRoZSBvbmVzIHlvdSdkIGxpa2UgdG8gdGVzdCBmb3IgZXF1YWxpdHkuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGUgd2hlbiBgJHN0YXRlLiRjdXJyZW50Lm5hbWUgPT09ICdjb250YWN0cy5kZXRhaWxzLml0ZW0nYFxuICAgICAqIGBgYGpzXG4gICAgICogLy8gVXNpbmcgcGFydGlhbCBuYW1lc1xuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcImNvbnRhY3RzXCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCJjb250YWN0cy5kZXRhaWxzXCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCJjb250YWN0cy5kZXRhaWxzLml0ZW1cIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcImNvbnRhY3RzLmxpc3RcIik7IC8vIHJldHVybnMgZmFsc2VcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCJhYm91dFwiKTsgLy8gcmV0dXJucyBmYWxzZVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIyBHbG9iIEV4YW1wbGVzIHdoZW4gYCogJHN0YXRlLiRjdXJyZW50Lm5hbWUgPT09ICdjb250YWN0cy5kZXRhaWxzLml0ZW0udXJsJ2A6XG4gICAgICogYGBganNcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCIqLmRldGFpbHMuKi4qXCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCIqLmRldGFpbHMuKipcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcIioqLml0ZW0uKipcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcIiouZGV0YWlscy5pdGVtLnVybFwiKTsgLy8gcmV0dXJucyB0cnVlXG4gICAgICogJHN0YXRlLmluY2x1ZGVzKFwiKi5kZXRhaWxzLioudXJsXCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCIqLmRldGFpbHMuKlwiKTsgLy8gcmV0dXJucyBmYWxzZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcIml0ZW0uKipcIik7IC8vIHJldHVybnMgZmFsc2VcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGF0ZU9yTmFtZSBBIHBhcnRpYWwgbmFtZSwgcmVsYXRpdmUgbmFtZSwgZ2xvYiBwYXR0ZXJuLFxuICAgICAqICAgb3Igc3RhdGUgb2JqZWN0IHRvIGJlIHNlYXJjaGVkIGZvciB3aXRoaW4gdGhlIGN1cnJlbnQgc3RhdGUgbmFtZS5cbiAgICAgKiBAcGFyYW0gcGFyYW1zIEEgcGFyYW0gb2JqZWN0LCBlLmcuIGB7c2VjdGlvbklkOiBzZWN0aW9uLmlkfWAsXG4gICAgICogICB0aGF0IHlvdSdkIGxpa2UgdG8gdGVzdCBhZ2FpbnN0IHRoZSBjdXJyZW50IGFjdGl2ZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBBbiBvcHRpb25zIG9iamVjdC4gVGhlIG9wdGlvbnMgYXJlOlxuICAgICAqICAgLSBgcmVsYXRpdmVgOiBJZiBgc3RhdGVPck5hbWVgIGlzIGEgcmVsYXRpdmUgc3RhdGUgbmFtZSBhbmQgYG9wdGlvbnMucmVsYXRpdmVgIGlzIHNldCwgLmlzIHdpbGxcbiAgICAgKiAgICAgdGVzdCByZWxhdGl2ZSB0byBgb3B0aW9ucy5yZWxhdGl2ZWAgc3RhdGUgKG9yIG5hbWUpLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBpdCBkb2VzIGluY2x1ZGUgdGhlIHN0YXRlXG4gICAgICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIChzdGF0ZU9yTmFtZSwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBjb21tb25fMS5kZWZhdWx0cyhvcHRpb25zLCB7IHJlbGF0aXZlOiB0aGlzLiRjdXJyZW50IH0pO1xuICAgICAgICB2YXIgZ2xvYiA9IHByZWRpY2F0ZXNfMS5pc1N0cmluZyhzdGF0ZU9yTmFtZSkgJiYgZ2xvYl8xLkdsb2IuZnJvbVN0cmluZyhzdGF0ZU9yTmFtZSk7XG4gICAgICAgIGlmIChnbG9iKSB7XG4gICAgICAgICAgICBpZiAoIWdsb2IubWF0Y2hlcyh0aGlzLiRjdXJyZW50Lm5hbWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHN0YXRlT3JOYW1lID0gdGhpcy4kY3VycmVudC5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMucm91dGVyLnN0YXRlUmVnaXN0cnkubWF0Y2hlci5maW5kKHN0YXRlT3JOYW1lLCBvcHRpb25zLnJlbGF0aXZlKSwgaW5jbHVkZSA9IHRoaXMuJGN1cnJlbnQuaW5jbHVkZXM7XG4gICAgICAgIGlmICghcHJlZGljYXRlc18xLmlzRGVmaW5lZChzdGF0ZSkpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoIXByZWRpY2F0ZXNfMS5pc0RlZmluZWQoaW5jbHVkZVtzdGF0ZS5uYW1lXSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghcGFyYW1zKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHZhciBzY2hlbWEgPSBzdGF0ZS5wYXJhbWV0ZXJzKHsgaW5oZXJpdDogdHJ1ZSwgbWF0Y2hpbmdLZXlzOiBwYXJhbXMgfSk7XG4gICAgICAgIHJldHVybiBwYXJhbV8xLlBhcmFtLmVxdWFscyhzY2hlbWEsIHBhcmFtXzEuUGFyYW0udmFsdWVzKHNjaGVtYSwgcGFyYW1zKSwgdGhpcy5wYXJhbXMpO1xuICAgIH07XG4gICAgO1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIFVSTCBmb3IgYSBzdGF0ZSBhbmQgcGFyYW1ldGVyc1xuICAgICAqXG4gICAgICogUmV0dXJucyB0aGUgdXJsIGZvciB0aGUgZ2l2ZW4gc3RhdGUgcG9wdWxhdGVkIHdpdGggdGhlIGdpdmVuIHBhcmFtcy5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIGV4cGVjdCgkc3RhdGUuaHJlZihcImFib3V0LnBlcnNvblwiLCB7IHBlcnNvbjogXCJib2JcIiB9KSkudG9FcXVhbChcIi9hYm91dC9ib2JcIik7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhdGVPck5hbWUgVGhlIHN0YXRlIG5hbWUgb3Igc3RhdGUgb2JqZWN0IHlvdSdkIGxpa2UgdG8gZ2VuZXJhdGUgYSB1cmwgZnJvbS5cbiAgICAgKiBAcGFyYW0gcGFyYW1zIEFuIG9iamVjdCBvZiBwYXJhbWV0ZXIgdmFsdWVzIHRvIGZpbGwgdGhlIHN0YXRlJ3MgcmVxdWlyZWQgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC4gVGhlIG9wdGlvbnMgYXJlOlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gY29tcGlsZWQgc3RhdGUgdXJsXG4gICAgICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5ocmVmID0gZnVuY3Rpb24gKHN0YXRlT3JOYW1lLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRIcmVmT3B0cyA9IHtcbiAgICAgICAgICAgIGxvc3N5OiB0cnVlLFxuICAgICAgICAgICAgaW5oZXJpdDogdHJ1ZSxcbiAgICAgICAgICAgIGFic29sdXRlOiBmYWxzZSxcbiAgICAgICAgICAgIHJlbGF0aXZlOiB0aGlzLiRjdXJyZW50LFxuICAgICAgICB9O1xuICAgICAgICBvcHRpb25zID0gY29tbW9uXzEuZGVmYXVsdHMob3B0aW9ucywgZGVmYXVsdEhyZWZPcHRzKTtcbiAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5Lm1hdGNoZXIuZmluZChzdGF0ZU9yTmFtZSwgb3B0aW9ucy5yZWxhdGl2ZSk7XG4gICAgICAgIGlmICghcHJlZGljYXRlc18xLmlzRGVmaW5lZChzdGF0ZSkpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW5oZXJpdClcbiAgICAgICAgICAgIHBhcmFtcyA9IHRoaXMucGFyYW1zLiRpbmhlcml0KHBhcmFtcywgdGhpcy4kY3VycmVudCwgc3RhdGUpO1xuICAgICAgICB2YXIgbmF2ID0gKHN0YXRlICYmIG9wdGlvbnMubG9zc3kpID8gc3RhdGUubmF2aWdhYmxlIDogc3RhdGU7XG4gICAgICAgIGlmICghbmF2IHx8IG5hdi51cmwgPT09IHVuZGVmaW5lZCB8fCBuYXYudXJsID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXIudXJsUm91dGVyLmhyZWYobmF2LnVybCwgcGFyYW1zLCB7XG4gICAgICAgICAgICBhYnNvbHV0ZTogb3B0aW9ucy5hYnNvbHV0ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICA7XG4gICAgLyoqXG4gICAgICogU2V0cyBvciBnZXRzIHRoZSBkZWZhdWx0IFtbdHJhbnNpdGlvblRvXV0gZXJyb3IgaGFuZGxlci5cbiAgICAgKlxuICAgICAqIFRoZSBlcnJvciBoYW5kbGVyIGlzIGNhbGxlZCB3aGVuIGEgW1tUcmFuc2l0aW9uXV0gaXMgcmVqZWN0ZWQgb3Igd2hlbiBhbnkgZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHRoZSBUcmFuc2l0aW9uLlxuICAgICAqIFRoaXMgaW5jbHVkZXMgZXJyb3JzIGNhdXNlZCBieSByZXNvbHZlcyBhbmQgdHJhbnNpdGlvbiBob29rcy5cbiAgICAgKlxuICAgICAqIE5vdGU6XG4gICAgICogVGhpcyBoYW5kbGVyIGRvZXMgbm90IHJlY2VpdmUgY2VydGFpbiBUcmFuc2l0aW9uIHJlamVjdGlvbnMuXG4gICAgICogUmVkaXJlY3RlZCBhbmQgSWdub3JlZCBUcmFuc2l0aW9ucyBhcmUgbm90IGNvbnNpZGVyZWQgdG8gYmUgZXJyb3JzIGJ5IFtbU3RhdGVTZXJ2aWNlLnRyYW5zaXRpb25Ub11dLlxuICAgICAqXG4gICAgICogVGhlIGJ1aWx0LWluIGRlZmF1bHQgZXJyb3IgaGFuZGxlciBsb2dzIHRoZSBlcnJvciB0byB0aGUgY29uc29sZS5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gcHJvdmlkZSB5b3VyIG93biBjdXN0b20gaGFuZGxlci5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHN0YXRlU2VydmljZS5kZWZhdWx0RXJyb3JIYW5kbGVyKGZ1bmN0aW9uKCkge1xuICAgICAqICAgLy8gRG8gbm90IGxvZyB0cmFuc2l0aW9uVG8gZXJyb3JzXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFuZGxlciBhIGdsb2JhbCBlcnJvciBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgZ2xvYmFsIGVycm9yIGhhbmRsZXJcbiAgICAgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLmRlZmF1bHRFcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdEVycm9ySGFuZGxlciA9IGhhbmRsZXIgfHwgdGhpcy5fZGVmYXVsdEVycm9ySGFuZGxlcjtcbiAgICB9O1xuICAgIFN0YXRlU2VydmljZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHN0YXRlT3JOYW1lLCBiYXNlKSB7XG4gICAgICAgIHZhciByZWcgPSB0aGlzLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5O1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiByZWcuZ2V0KCk7XG4gICAgICAgIHJldHVybiByZWcuZ2V0KHN0YXRlT3JOYW1lLCBiYXNlIHx8IHRoaXMuJGN1cnJlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTGF6eSBsb2FkcyBhIHN0YXRlXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdGx5IHJ1bnMgYSBzdGF0ZSdzIFtbU3RhdGVEZWNsYXJhdGlvbi5sYXp5TG9hZF1dIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXRlT3JOYW1lIHRoZSBzdGF0ZSB0aGF0IHNob3VsZCBiZSBsYXp5IGxvYWRlZFxuICAgICAqIEBwYXJhbSB0cmFuc2l0aW9uIHRoZSBvcHRpb25hbCBUcmFuc2l0aW9uIGNvbnRleHQgdG8gdXNlIChpZiB0aGUgbGF6eUxvYWQgZnVuY3Rpb24gcmVxdWlyZXMgYW4gaW5qZWN0b3IsIGV0YylcbiAgICAgKiBOb3RlOiBJZiBubyB0cmFuc2l0aW9uIGlzIHByb3ZpZGVkLCBhIG5vb3AgdHJhbnNpdGlvbiBpcyBjcmVhdGVkIHVzaW5nIHRoZSBmcm9tIHRoZSBjdXJyZW50IHN0YXRlIHRvIHRoZSBjdXJyZW50IHN0YXRlLlxuICAgICAqIFRoaXMgbm9vcCB0cmFuc2l0aW9uIGlzIG5vdCBhY3R1YWxseSBydW4uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHByb21pc2UgdG8gbGF6eSBsb2FkXG4gICAgICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5sYXp5TG9hZCA9IGZ1bmN0aW9uIChzdGF0ZU9yTmFtZSwgdHJhbnNpdGlvbikge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLmdldChzdGF0ZU9yTmFtZSk7XG4gICAgICAgIGlmICghc3RhdGUgfHwgIXN0YXRlLmxhenlMb2FkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBsYXp5IGxvYWQgXCIgKyBzdGF0ZU9yTmFtZSk7XG4gICAgICAgIHZhciBjdXJyZW50UGF0aCA9IHRoaXMuZ2V0Q3VycmVudFBhdGgoKTtcbiAgICAgICAgdmFyIHRhcmdldCA9IHBhdGhGYWN0b3J5XzEuUGF0aFV0aWxzLm1ha2VUYXJnZXRTdGF0ZShjdXJyZW50UGF0aCk7XG4gICAgICAgIHRyYW5zaXRpb24gPSB0cmFuc2l0aW9uIHx8IHRoaXMucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLmNyZWF0ZShjdXJyZW50UGF0aCwgdGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIGxhenlMb2FkXzEubGF6eUxvYWRTdGF0ZSh0cmFuc2l0aW9uLCBzdGF0ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGVTZXJ2aWNlO1xufSgpKTtcbmV4cG9ydHMuU3RhdGVTZXJ2aWNlID0gU3RhdGVTZXJ2aWNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdGVTZXJ2aWNlLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvc3RhdGUvc3RhdGVTZXJ2aWNlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///38\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @coreapi\n * @module core\n */ /** */\nvar urlMatcherFactory_1 = __webpack_require__(40);\nvar urlRouter_1 = __webpack_require__(41);\nvar transitionService_1 = __webpack_require__(27);\nvar view_1 = __webpack_require__(43);\nvar stateRegistry_1 = __webpack_require__(37);\nvar stateService_1 = __webpack_require__(38);\nvar globals_1 = __webpack_require__(44);\nvar common_1 = __webpack_require__(0);\nvar predicates_1 = __webpack_require__(1);\nvar urlService_1 = __webpack_require__(45);\nvar trace_1 = __webpack_require__(6);\n/** @hidden */\nvar _routerInstance = 0;\n/**\n * The master class used to instantiate an instance of UI-Router.\n *\n * UI-Router (for each specific framework) will create an instance of this class during bootstrap.\n * This class instantiates and wires the UI-Router services together.\n *\n * After a new instance of the UIRouter class is created, it should be configured for your app.\n * For instance, app states should be registered with the [[UIRouter.stateRegistry]].\n *\n * ---\n *\n * Normally the framework code will bootstrap UI-Router.\n * If you are bootstrapping UIRouter manually, tell it to monitor the URL by calling\n * [[UrlService.listen]] then [[UrlService.sync]].\n */\nvar UIRouter = function () {\n    /**\n     * Creates a new `UIRouter` object\n     *\n     * @param locationService a [[LocationServices]] implementation\n     * @param locationConfig a [[LocationConfig]] implementation\n     * @internalapi\n     */\n    function UIRouter(locationService, locationConfig) {\n        if (locationService === void 0) {\n            locationService = urlService_1.UrlService.locationServiceStub;\n        }\n        if (locationConfig === void 0) {\n            locationConfig = urlService_1.UrlService.locationConfigStub;\n        }\n        this.locationService = locationService;\n        this.locationConfig = locationConfig;\n        /** @hidden */this.$id = _routerInstance++;\n        /** @hidden */this._disposed = false;\n        /** @hidden */this._disposables = [];\n        /** Provides trace information to the console */\n        this.trace = trace_1.trace;\n        /** Provides services related to ui-view synchronization */\n        this.viewService = new view_1.ViewService();\n        /** Provides services related to Transitions */\n        this.transitionService = new transitionService_1.TransitionService(this);\n        /** Global router state */\n        this.globals = new globals_1.UIRouterGlobals();\n        /**\n         * Deprecated for public use. Use [[urlService]] instead.\n         * @deprecated Use [[urlService]] instead\n         */\n        this.urlMatcherFactory = new urlMatcherFactory_1.UrlMatcherFactory();\n        /**\n         * Deprecated for public use. Use [[urlService]] instead.\n         * @deprecated Use [[urlService]] instead\n         */\n        this.urlRouter = new urlRouter_1.UrlRouter(this);\n        /** Provides a registry for states, and related registration services */\n        this.stateRegistry = new stateRegistry_1.StateRegistry(this);\n        /** Provides services related to states */\n        this.stateService = new stateService_1.StateService(this);\n        /** Provides services related to the URL */\n        this.urlService = new urlService_1.UrlService(this);\n        /** @hidden */\n        this._plugins = {};\n        this.viewService._pluginapi._rootViewContext(this.stateRegistry.root());\n        this.globals.$current = this.stateRegistry.root();\n        this.globals.current = this.globals.$current.self;\n        this.disposable(this.globals);\n        this.disposable(this.stateService);\n        this.disposable(this.stateRegistry);\n        this.disposable(this.transitionService);\n        this.disposable(this.urlRouter);\n        this.disposable(locationService);\n        this.disposable(locationConfig);\n    }\n    /** Registers an object to be notified when the router is disposed */\n    UIRouter.prototype.disposable = function (disposable) {\n        this._disposables.push(disposable);\n    };\n    /**\n     * Disposes this router instance\n     *\n     * When called, clears resources retained by the router by calling `dispose(this)` on all\n     * registered [[disposable]] objects.\n     *\n     * Or, if a `disposable` object is provided, calls `dispose(this)` on that object only.\n     *\n     * @param disposable (optional) the disposable to dispose\n     */\n    UIRouter.prototype.dispose = function (disposable) {\n        var _this = this;\n        if (disposable && predicates_1.isFunction(disposable.dispose)) {\n            disposable.dispose(this);\n            return undefined;\n        }\n        this._disposed = true;\n        this._disposables.slice().forEach(function (d) {\n            try {\n                typeof d.dispose === \'function\' && d.dispose(_this);\n                common_1.removeFrom(_this._disposables, d);\n            } catch (ignored) {}\n        });\n    };\n    /**\n     * Adds a plugin to UI-Router\n     *\n     * This method adds a UI-Router Plugin.\n     * A plugin can enhance or change UI-Router behavior using any public API.\n     *\n     * #### Example:\n     * ```js\n     * import { MyCoolPlugin } from "ui-router-cool-plugin";\n     *\n     * var plugin = router.addPlugin(MyCoolPlugin);\n     * ```\n     *\n     * ### Plugin authoring\n     *\n     * A plugin is simply a class (or constructor function) which accepts a [[UIRouter]] instance and (optionally) an options object.\n     *\n     * The plugin can implement its functionality using any of the public APIs of [[UIRouter]].\n     * For example, it may configure router options or add a Transition Hook.\n     *\n     * The plugin can then be published as a separate module.\n     *\n     * #### Example:\n     * ```js\n     * export class MyAuthPlugin implements UIRouterPlugin {\n     *   constructor(router: UIRouter, options: any) {\n     *     this.name = "MyAuthPlugin";\n     *     let $transitions = router.transitionService;\n     *     let $state = router.stateService;\n     *\n     *     let authCriteria = {\n     *       to: (state) => state.data && state.data.requiresAuth\n     *     };\n     *\n     *     function authHook(transition: Transition) {\n     *       let authService = transition.injector().get(\'AuthService\');\n     *       if (!authService.isAuthenticated()) {\n     *         return $state.target(\'login\');\n     *       }\n     *     }\n     *\n     *     $transitions.onStart(authCriteria, authHook);\n     *   }\n     * }\n     * ```\n     *\n     * @param plugin one of:\n     *        - a plugin class which implements [[UIRouterPlugin]]\n     *        - a constructor function for a [[UIRouterPlugin]] which accepts a [[UIRouter]] instance\n     *        - a factory function which accepts a [[UIRouter]] instance and returns a [[UIRouterPlugin]] instance\n     * @param options options to pass to the plugin class/factory\n     * @returns the registered plugin instance\n     */\n    UIRouter.prototype.plugin = function (plugin, options) {\n        if (options === void 0) {\n            options = {};\n        }\n        var pluginInstance = new plugin(this, options);\n        if (!pluginInstance.name) throw new Error("Required property `name` missing on plugin: " + pluginInstance);\n        this._disposables.push(pluginInstance);\n        return this._plugins[pluginInstance.name] = pluginInstance;\n    };\n    UIRouter.prototype.getPlugin = function (pluginName) {\n        return pluginName ? this._plugins[pluginName] : common_1.values(this._plugins);\n    };\n    return UIRouter;\n}();\nexports.UIRouter = UIRouter;\n//# sourceMappingURL=router.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3JvdXRlci5qcz9jZTdlIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwidXJsTWF0Y2hlckZhY3RvcnlfMSIsInJlcXVpcmUiLCJ1cmxSb3V0ZXJfMSIsInRyYW5zaXRpb25TZXJ2aWNlXzEiLCJ2aWV3XzEiLCJzdGF0ZVJlZ2lzdHJ5XzEiLCJzdGF0ZVNlcnZpY2VfMSIsImdsb2JhbHNfMSIsImNvbW1vbl8xIiwicHJlZGljYXRlc18xIiwidXJsU2VydmljZV8xIiwidHJhY2VfMSIsIl9yb3V0ZXJJbnN0YW5jZSIsIlVJUm91dGVyIiwibG9jYXRpb25TZXJ2aWNlIiwibG9jYXRpb25Db25maWciLCJVcmxTZXJ2aWNlIiwibG9jYXRpb25TZXJ2aWNlU3R1YiIsImxvY2F0aW9uQ29uZmlnU3R1YiIsIiRpZCIsIl9kaXNwb3NlZCIsIl9kaXNwb3NhYmxlcyIsInRyYWNlIiwidmlld1NlcnZpY2UiLCJWaWV3U2VydmljZSIsInRyYW5zaXRpb25TZXJ2aWNlIiwiVHJhbnNpdGlvblNlcnZpY2UiLCJnbG9iYWxzIiwiVUlSb3V0ZXJHbG9iYWxzIiwidXJsTWF0Y2hlckZhY3RvcnkiLCJVcmxNYXRjaGVyRmFjdG9yeSIsInVybFJvdXRlciIsIlVybFJvdXRlciIsInN0YXRlUmVnaXN0cnkiLCJTdGF0ZVJlZ2lzdHJ5Iiwic3RhdGVTZXJ2aWNlIiwiU3RhdGVTZXJ2aWNlIiwidXJsU2VydmljZSIsIl9wbHVnaW5zIiwiX3BsdWdpbmFwaSIsIl9yb290Vmlld0NvbnRleHQiLCJyb290IiwiJGN1cnJlbnQiLCJjdXJyZW50Iiwic2VsZiIsImRpc3Bvc2FibGUiLCJwcm90b3R5cGUiLCJwdXNoIiwiZGlzcG9zZSIsIl90aGlzIiwiaXNGdW5jdGlvbiIsInVuZGVmaW5lZCIsInNsaWNlIiwiZm9yRWFjaCIsImQiLCJyZW1vdmVGcm9tIiwiaWdub3JlZCIsInBsdWdpbiIsIm9wdGlvbnMiLCJwbHVnaW5JbnN0YW5jZSIsIm5hbWUiLCJFcnJvciIsImdldFBsdWdpbiIsInBsdWdpbk5hbWUiLCJ2YWx1ZXMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTs7O0lBR0k7QUFDSixJQUFJQyxzQkFBc0IsbUJBQUFDLENBQVEsRUFBUixDQUExQjtBQUNBLElBQUlDLGNBQWMsbUJBQUFELENBQVEsRUFBUixDQUFsQjtBQUNBLElBQUlFLHNCQUFzQixtQkFBQUYsQ0FBUSxFQUFSLENBQTFCO0FBQ0EsSUFBSUcsU0FBUyxtQkFBQUgsQ0FBUSxFQUFSLENBQWI7QUFDQSxJQUFJSSxrQkFBa0IsbUJBQUFKLENBQVEsRUFBUixDQUF0QjtBQUNBLElBQUlLLGlCQUFpQixtQkFBQUwsQ0FBUSxFQUFSLENBQXJCO0FBQ0EsSUFBSU0sWUFBWSxtQkFBQU4sQ0FBUSxFQUFSLENBQWhCO0FBQ0EsSUFBSU8sV0FBVyxtQkFBQVAsQ0FBUSxDQUFSLENBQWY7QUFDQSxJQUFJUSxlQUFlLG1CQUFBUixDQUFRLENBQVIsQ0FBbkI7QUFDQSxJQUFJUyxlQUFlLG1CQUFBVCxDQUFRLEVBQVIsQ0FBbkI7QUFDQSxJQUFJVSxVQUFVLG1CQUFBVixDQUFRLENBQVIsQ0FBZDtBQUNBO0FBQ0EsSUFBSVcsa0JBQWtCLENBQXRCO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQWVBLElBQUlDLFdBQVksWUFBWTtBQUN4Qjs7Ozs7OztBQU9BLGFBQVNBLFFBQVQsQ0FBa0JDLGVBQWxCLEVBQW1DQyxjQUFuQyxFQUFtRDtBQUMvQyxZQUFJRCxvQkFBb0IsS0FBSyxDQUE3QixFQUFnQztBQUFFQSw4QkFBa0JKLGFBQWFNLFVBQWIsQ0FBd0JDLG1CQUExQztBQUFnRTtBQUNsRyxZQUFJRixtQkFBbUIsS0FBSyxDQUE1QixFQUErQjtBQUFFQSw2QkFBaUJMLGFBQWFNLFVBQWIs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QUFPSCxLQWREO0FBZUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcURBM0MsYUFBU2lDLFNBQVQsQ0FBbUJXLE1BQW5CLEdBQTRCLFVBQVVBLE1BQVYsRUFBa0JDLE9BQWxCLEVBQTJCO0FBQ25ELFlBQUlBLFlBQVksS0FBSyxDQUFyQixFQUF3QjtBQUFFQSxzQkFBVSxFQUFWO0FBQWU7QUFDekMsWUFBSUMsaUJBQWlCLElBQUlGLE1BQUosQ0FBVyxJQUFYLEVBQWlCQyxPQUFqQixDQUFyQjtBQUNBLFlBQUksQ0FBQ0MsZUFBZUMsSUFBcEIsRUFDSSxNQUFNLElBQUlDLEtBQUosQ0FBVSxpREFBaURGLGNBQTNELENBQU47QUFDSixhQUFLdEMsWUFBTCxDQUFrQjBCLElBQWxCLENBQXVCWSxjQUF2QjtBQUNBLGVBQU8sS0FBS3JCLFFBQUwsQ0FBY3FCLGVBQWVDLElBQTdCLElBQXFDRCxjQUE1QztBQUNILEtBUEQ7QUFRQTlDLGFBQVNpQyxTQUFULENBQW1CZ0IsU0FBbkIsR0FBK0IsVUFBVUMsVUFBVixFQUFzQjtBQUNqRCxlQUFPQSxhQUFhLEtBQUt6QixRQUFMLENBQWN5QixVQUFkLENBQWIsR0FBeUN2RCxTQUFTd0QsTUFBVCxDQUFnQixLQUFLMUIsUUFBckIsQ0FBaEQ7QUFDSCxLQUZEO0FBR0EsV0FBT3pCLFFBQVA7QUFDSCxDQW5KZSxFQUFoQjtBQW9KQWYsUUFBUWUsUUFBUixHQUFtQkEsUUFBbkI7QUFDQSIsImZpbGUiOiIzOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBAY29yZWFwaVxuICogQG1vZHVsZSBjb3JlXG4gKi8gLyoqICovXG52YXIgdXJsTWF0Y2hlckZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuL3VybC91cmxNYXRjaGVyRmFjdG9yeVwiKTtcbnZhciB1cmxSb3V0ZXJfMSA9IHJlcXVpcmUoXCIuL3VybC91cmxSb3V0ZXJcIik7XG52YXIgdHJhbnNpdGlvblNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL3RyYW5zaXRpb24vdHJhbnNpdGlvblNlcnZpY2VcIik7XG52YXIgdmlld18xID0gcmVxdWlyZShcIi4vdmlldy92aWV3XCIpO1xudmFyIHN0YXRlUmVnaXN0cnlfMSA9IHJlcXVpcmUoXCIuL3N0YXRlL3N0YXRlUmVnaXN0cnlcIik7XG52YXIgc3RhdGVTZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9zdGF0ZS9zdGF0ZVNlcnZpY2VcIik7XG52YXIgZ2xvYmFsc18xID0gcmVxdWlyZShcIi4vZ2xvYmFsc1wiKTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuL2NvbW1vbi9jb21tb25cIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgdXJsU2VydmljZV8xID0gcmVxdWlyZShcIi4vdXJsL3VybFNlcnZpY2VcIik7XG52YXIgdHJhY2VfMSA9IHJlcXVpcmUoXCIuL2NvbW1vbi90cmFjZVwiKTtcbi8qKiBAaGlkZGVuICovXG52YXIgX3JvdXRlckluc3RhbmNlID0gMDtcbi8qKlxuICogVGhlIG1hc3RlciBjbGFzcyB1c2VkIHRvIGluc3RhbnRpYXRlIGFuIGluc3RhbmNlIG9mIFVJLVJvdXRlci5cbiAqXG4gKiBVSS1Sb3V0ZXIgKGZvciBlYWNoIHNwZWNpZmljIGZyYW1ld29yaykgd2lsbCBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBkdXJpbmcgYm9vdHN0cmFwLlxuICogVGhpcyBjbGFzcyBpbnN0YW50aWF0ZXMgYW5kIHdpcmVzIHRoZSBVSS1Sb3V0ZXIgc2VydmljZXMgdG9nZXRoZXIuXG4gKlxuICogQWZ0ZXIgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIFVJUm91dGVyIGNsYXNzIGlzIGNyZWF0ZWQsIGl0IHNob3VsZCBiZSBjb25maWd1cmVkIGZvciB5b3VyIGFwcC5cbiAqIEZvciBpbnN0YW5jZSwgYXBwIHN0YXRlcyBzaG91bGQgYmUgcmVnaXN0ZXJlZCB3aXRoIHRoZSBbW1VJUm91dGVyLnN0YXRlUmVnaXN0cnldXS5cbiAqXG4gKiAtLS1cbiAqXG4gKiBOb3JtYWxseSB0aGUgZnJhbWV3b3JrIGNvZGUgd2lsbCBib290c3RyYXAgVUktUm91dGVyLlxuICogSWYgeW91IGFyZSBib290c3RyYXBwaW5nIFVJUm91dGVyIG1hbnVhbGx5LCB0ZWxsIGl0IHRvIG1vbml0b3IgdGhlIFVSTCBieSBjYWxsaW5nXG4gKiBbW1VybFNlcnZpY2UubGlzdGVuXV0gdGhlbiBbW1VybFNlcnZpY2Uuc3luY11dLlxuICovXG52YXIgVUlSb3V0ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYFVJUm91dGVyYCBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsb2NhdGlvblNlcnZpY2UgYSBbW0xvY2F0aW9uU2VydmljZXNdXSBpbXBsZW1lbnRhdGlvblxuICAgICAqIEBwYXJhbSBsb2NhdGlvbkNvbmZpZyBhIFtbTG9jYXRpb25Db25maWddXSBpbXBsZW1lbnRhdGlvblxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVJUm91dGVyKGxvY2F0aW9uU2VydmljZSwgbG9jYXRpb25Db25maWcpIHtcbiAgICAgICAgaWYgKGxvY2F0aW9uU2VydmljZSA9PT0gdm9pZCAwKSB7IGxvY2F0aW9uU2VydmljZSA9IHVybFNlcnZpY2VfMS5VcmxTZXJ2aWNlLmxvY2F0aW9uU2VydmljZVN0dWI7IH1cbiAgICAgICAgaWYgKGxvY2F0aW9uQ29uZmlnID09PSB2b2lkIDApIHsgbG9jYXRpb25Db25maWcgPSB1cmxTZXJ2aWNlXzEuVXJsU2VydmljZS5sb2NhdGlvbkNvbmZpZ1N0dWI7IH1cbiAgICAgICAgdGhpcy5sb2NhdGlvblNlcnZpY2UgPSBsb2NhdGlvblNlcnZpY2U7XG4gICAgICAgIHRoaXMubG9jYXRpb25Db25maWcgPSBsb2NhdGlvbkNvbmZpZztcbiAgICAgICAgLyoqIEBoaWRkZW4gKi8gdGhpcy4kaWQgPSBfcm91dGVySW5zdGFuY2UrKztcbiAgICAgICAgLyoqIEBoaWRkZW4gKi8gdGhpcy5fZGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi8gdGhpcy5fZGlzcG9zYWJsZXMgPSBbXTtcbiAgICAgICAgLyoqIFByb3ZpZGVzIHRyYWNlIGluZm9ybWF0aW9uIHRvIHRoZSBjb25zb2xlICovXG4gICAgICAgIHRoaXMudHJhY2UgPSB0cmFjZV8xLnRyYWNlO1xuICAgICAgICAvKiogUHJvdmlkZXMgc2VydmljZXMgcmVsYXRlZCB0byB1aS12aWV3IHN5bmNocm9uaXphdGlvbiAqL1xuICAgICAgICB0aGlzLnZpZXdTZXJ2aWNlID0gbmV3IHZpZXdfMS5WaWV3U2VydmljZSgpO1xuICAgICAgICAvKiogUHJvdmlkZXMgc2VydmljZXMgcmVsYXRlZCB0byBUcmFuc2l0aW9ucyAqL1xuICAgICAgICB0aGlzLnRyYW5zaXRpb25TZXJ2aWNlID0gbmV3IHRyYW5zaXRpb25TZXJ2aWNlXzEuVHJhbnNpdGlvblNlcnZpY2UodGhpcyk7XG4gICAgICAgIC8qKiBHbG9iYWwgcm91dGVyIHN0YXRlICovXG4gICAgICAgIHRoaXMuZ2xvYmFscyA9IG5ldyBnbG9iYWxzXzEuVUlSb3V0ZXJHbG9iYWxzKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXByZWNhdGVkIGZvciBwdWJsaWMgdXNlLiBVc2UgW1t1cmxTZXJ2aWNlXV0gaW5zdGVhZC5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgVXNlIFtbdXJsU2VydmljZV1dIGluc3RlYWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXJsTWF0Y2hlckZhY3RvcnkgPSBuZXcgdXJsTWF0Y2hlckZhY3RvcnlfMS5VcmxNYXRjaGVyRmFjdG9yeSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVwcmVjYXRlZCBmb3IgcHVibGljIHVzZS4gVXNlIFtbdXJsU2VydmljZV1dIGluc3RlYWQuXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFVzZSBbW3VybFNlcnZpY2VdXSBpbnN0ZWFkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybFJvdXRlciA9IG5ldyB1cmxSb3V0ZXJfMS5VcmxSb3V0ZXIodGhpcyk7XG4gICAgICAgIC8qKiBQcm92aWRlcyBhIHJlZ2lzdHJ5IGZvciBzdGF0ZXMsIGFuZCByZWxhdGVkIHJlZ2lzdHJhdGlvbiBzZXJ2aWNlcyAqL1xuICAgICAgICB0aGlzLnN0YXRlUmVnaXN0cnkgPSBuZXcgc3RhdGVSZWdpc3RyeV8xLlN0YXRlUmVnaXN0cnkodGhpcyk7XG4gICAgICAgIC8qKiBQcm92aWRlcyBzZXJ2aWNlcyByZWxhdGVkIHRvIHN0YXRlcyAqL1xuICAgICAgICB0aGlzLnN0YXRlU2VydmljZSA9IG5ldyBzdGF0ZVNlcnZpY2VfMS5TdGF0ZVNlcnZpY2UodGhpcyk7XG4gICAgICAgIC8qKiBQcm92aWRlcyBzZXJ2aWNlcyByZWxhdGVkIHRvIHRoZSBVUkwgKi9cbiAgICAgICAgdGhpcy51cmxTZXJ2aWNlID0gbmV3IHVybFNlcnZpY2VfMS5VcmxTZXJ2aWNlKHRoaXMpO1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLl9wbHVnaW5zID0ge307XG4gICAgICAgIHRoaXMudmlld1NlcnZpY2UuX3BsdWdpbmFwaS5fcm9vdFZpZXdDb250ZXh0KHRoaXMuc3RhdGVSZWdpc3RyeS5yb290KCkpO1xuICAgICAgICB0aGlzLmdsb2JhbHMuJGN1cnJlbnQgPSB0aGlzLnN0YXRlUmVnaXN0cnkucm9vdCgpO1xuICAgICAgICB0aGlzLmdsb2JhbHMuY3VycmVudCA9IHRoaXMuZ2xvYmFscy4kY3VycmVudC5zZWxmO1xuICAgICAgICB0aGlzLmRpc3Bvc2FibGUodGhpcy5nbG9iYWxzKTtcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlKHRoaXMuc3RhdGVTZXJ2aWNlKTtcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlKHRoaXMuc3RhdGVSZWdpc3RyeSk7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZSh0aGlzLnRyYW5zaXRpb25TZXJ2aWNlKTtcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlKHRoaXMudXJsUm91dGVyKTtcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlKGxvY2F0aW9uU2VydmljZSk7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZShsb2NhdGlvbkNvbmZpZyk7XG4gICAgfVxuICAgIC8qKiBSZWdpc3RlcnMgYW4gb2JqZWN0IHRvIGJlIG5vdGlmaWVkIHdoZW4gdGhlIHJvdXRlciBpcyBkaXNwb3NlZCAqL1xuICAgIFVJUm91dGVyLnByb3RvdHlwZS5kaXNwb3NhYmxlID0gZnVuY3Rpb24gKGRpc3Bvc2FibGUpIHtcbiAgICAgICAgdGhpcy5fZGlzcG9zYWJsZXMucHVzaChkaXNwb3NhYmxlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIHRoaXMgcm91dGVyIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBXaGVuIGNhbGxlZCwgY2xlYXJzIHJlc291cmNlcyByZXRhaW5lZCBieSB0aGUgcm91dGVyIGJ5IGNhbGxpbmcgYGRpc3Bvc2UodGhpcylgIG9uIGFsbFxuICAgICAqIHJlZ2lzdGVyZWQgW1tkaXNwb3NhYmxlXV0gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIE9yLCBpZiBhIGBkaXNwb3NhYmxlYCBvYmplY3QgaXMgcHJvdmlkZWQsIGNhbGxzIGBkaXNwb3NlKHRoaXMpYCBvbiB0aGF0IG9iamVjdCBvbmx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRpc3Bvc2FibGUgKG9wdGlvbmFsKSB0aGUgZGlzcG9zYWJsZSB0byBkaXNwb3NlXG4gICAgICovXG4gICAgVUlSb3V0ZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoZGlzcG9zYWJsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZGlzcG9zYWJsZSAmJiBwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihkaXNwb3NhYmxlLmRpc3Bvc2UpKSB7XG4gICAgICAgICAgICBkaXNwb3NhYmxlLmRpc3Bvc2UodGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZGlzcG9zYWJsZXMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHR5cGVvZiBkLmRpc3Bvc2UgPT09ICdmdW5jdGlvbicgJiYgZC5kaXNwb3NlKF90aGlzKTtcbiAgICAgICAgICAgICAgICBjb21tb25fMS5yZW1vdmVGcm9tKF90aGlzLl9kaXNwb3NhYmxlcywgZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoaWdub3JlZCkgeyB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHBsdWdpbiB0byBVSS1Sb3V0ZXJcbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGFkZHMgYSBVSS1Sb3V0ZXIgUGx1Z2luLlxuICAgICAqIEEgcGx1Z2luIGNhbiBlbmhhbmNlIG9yIGNoYW5nZSBVSS1Sb3V0ZXIgYmVoYXZpb3IgdXNpbmcgYW55IHB1YmxpYyBBUEkuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiBpbXBvcnQgeyBNeUNvb2xQbHVnaW4gfSBmcm9tIFwidWktcm91dGVyLWNvb2wtcGx1Z2luXCI7XG4gICAgICpcbiAgICAgKiB2YXIgcGx1Z2luID0gcm91dGVyLmFkZFBsdWdpbihNeUNvb2xQbHVnaW4pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIFBsdWdpbiBhdXRob3JpbmdcbiAgICAgKlxuICAgICAqIEEgcGx1Z2luIGlzIHNpbXBseSBhIGNsYXNzIChvciBjb25zdHJ1Y3RvciBmdW5jdGlvbikgd2hpY2ggYWNjZXB0cyBhIFtbVUlSb3V0ZXJdXSBpbnN0YW5jZSBhbmQgKG9wdGlvbmFsbHkpIGFuIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqXG4gICAgICogVGhlIHBsdWdpbiBjYW4gaW1wbGVtZW50IGl0cyBmdW5jdGlvbmFsaXR5IHVzaW5nIGFueSBvZiB0aGUgcHVibGljIEFQSXMgb2YgW1tVSVJvdXRlcl1dLlxuICAgICAqIEZvciBleGFtcGxlLCBpdCBtYXkgY29uZmlndXJlIHJvdXRlciBvcHRpb25zIG9yIGFkZCBhIFRyYW5zaXRpb24gSG9vay5cbiAgICAgKlxuICAgICAqIFRoZSBwbHVnaW4gY2FuIHRoZW4gYmUgcHVibGlzaGVkIGFzIGEgc2VwYXJhdGUgbW9kdWxlLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogZXhwb3J0IGNsYXNzIE15QXV0aFBsdWdpbiBpbXBsZW1lbnRzIFVJUm91dGVyUGx1Z2luIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHJvdXRlcjogVUlSb3V0ZXIsIG9wdGlvbnM6IGFueSkge1xuICAgICAqICAgICB0aGlzLm5hbWUgPSBcIk15QXV0aFBsdWdpblwiO1xuICAgICAqICAgICBsZXQgJHRyYW5zaXRpb25zID0gcm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlO1xuICAgICAqICAgICBsZXQgJHN0YXRlID0gcm91dGVyLnN0YXRlU2VydmljZTtcbiAgICAgKlxuICAgICAqICAgICBsZXQgYXV0aENyaXRlcmlhID0ge1xuICAgICAqICAgICAgIHRvOiAoc3RhdGUpID0+IHN0YXRlLmRhdGEgJiYgc3RhdGUuZGF0YS5yZXF1aXJlc0F1dGhcbiAgICAgKiAgICAgfTtcbiAgICAgKlxuICAgICAqICAgICBmdW5jdGlvbiBhdXRoSG9vayh0cmFuc2l0aW9uOiBUcmFuc2l0aW9uKSB7XG4gICAgICogICAgICAgbGV0IGF1dGhTZXJ2aWNlID0gdHJhbnNpdGlvbi5pbmplY3RvcigpLmdldCgnQXV0aFNlcnZpY2UnKTtcbiAgICAgKiAgICAgICBpZiAoIWF1dGhTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCgpKSB7XG4gICAgICogICAgICAgICByZXR1cm4gJHN0YXRlLnRhcmdldCgnbG9naW4nKTtcbiAgICAgKiAgICAgICB9XG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqICAgICAkdHJhbnNpdGlvbnMub25TdGFydChhdXRoQ3JpdGVyaWEsIGF1dGhIb29rKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGx1Z2luIG9uZSBvZjpcbiAgICAgKiAgICAgICAgLSBhIHBsdWdpbiBjbGFzcyB3aGljaCBpbXBsZW1lbnRzIFtbVUlSb3V0ZXJQbHVnaW5dXVxuICAgICAqICAgICAgICAtIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gZm9yIGEgW1tVSVJvdXRlclBsdWdpbl1dIHdoaWNoIGFjY2VwdHMgYSBbW1VJUm91dGVyXV0gaW5zdGFuY2VcbiAgICAgKiAgICAgICAgLSBhIGZhY3RvcnkgZnVuY3Rpb24gd2hpY2ggYWNjZXB0cyBhIFtbVUlSb3V0ZXJdXSBpbnN0YW5jZSBhbmQgcmV0dXJucyBhIFtbVUlSb3V0ZXJQbHVnaW5dXSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSBvcHRpb25zIG9wdGlvbnMgdG8gcGFzcyB0byB0aGUgcGx1Z2luIGNsYXNzL2ZhY3RvcnlcbiAgICAgKiBAcmV0dXJucyB0aGUgcmVnaXN0ZXJlZCBwbHVnaW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBVSVJvdXRlci5wcm90b3R5cGUucGx1Z2luID0gZnVuY3Rpb24gKHBsdWdpbiwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgcGx1Z2luSW5zdGFuY2UgPSBuZXcgcGx1Z2luKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoIXBsdWdpbkluc3RhbmNlLm5hbWUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXF1aXJlZCBwcm9wZXJ0eSBgbmFtZWAgbWlzc2luZyBvbiBwbHVnaW46IFwiICsgcGx1Z2luSW5zdGFuY2UpO1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHBsdWdpbkluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsdWdpbnNbcGx1Z2luSW5zdGFuY2UubmFtZV0gPSBwbHVnaW5JbnN0YW5jZTtcbiAgICB9O1xuICAgIFVJUm91dGVyLnByb3RvdHlwZS5nZXRQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luTmFtZSkge1xuICAgICAgICByZXR1cm4gcGx1Z2luTmFtZSA/IHRoaXMuX3BsdWdpbnNbcGx1Z2luTmFtZV0gOiBjb21tb25fMS52YWx1ZXModGhpcy5fcGx1Z2lucyk7XG4gICAgfTtcbiAgICByZXR1cm4gVUlSb3V0ZXI7XG59KCkpO1xuZXhwb3J0cy5VSVJvdXRlciA9IFVJUm91dGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm91dGVyLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvcm91dGVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///39\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @internalapi\n * @module url\n */ /** for typedoc */\nvar common_1 = __webpack_require__(0);\nvar predicates_1 = __webpack_require__(1);\nvar urlMatcher_1 = __webpack_require__(20);\nvar param_1 = __webpack_require__(9);\nvar paramTypes_1 = __webpack_require__(32);\n/**\n * Factory for [[UrlMatcher]] instances.\n *\n * The factory is available to ng1 services as\n * `$urlMatcherFactor` or ng1 providers as `$urlMatcherFactoryProvider`.\n */\nvar UrlMatcherFactory = function () {\n    function UrlMatcherFactory() {\n        var _this = this;\n        /** @hidden */this.paramTypes = new paramTypes_1.ParamTypes();\n        /** @hidden */this._isCaseInsensitive = false;\n        /** @hidden */this._isStrictMode = true;\n        /** @hidden */this._defaultSquashPolicy = false;\n        /** @hidden */\n        this._getConfig = function (config) {\n            return common_1.extend({ strict: _this._isStrictMode, caseInsensitive: _this._isCaseInsensitive }, config);\n        };\n        /** @internalapi Creates a new [[Param]] for a given location (DefType) */\n        this.paramFactory = {\n            /** Creates a new [[Param]] from a CONFIG block */\n            fromConfig: function fromConfig(id, type, config) {\n                return new param_1.Param(id, type, config, param_1.DefType.CONFIG, _this);\n            },\n            /** Creates a new [[Param]] from a url PATH */\n            fromPath: function fromPath(id, type, config) {\n                return new param_1.Param(id, type, config, param_1.DefType.PATH, _this);\n            },\n            /** Creates a new [[Param]] from a url SEARCH */\n            fromSearch: function fromSearch(id, type, config) {\n                return new param_1.Param(id, type, config, param_1.DefType.SEARCH, _this);\n            }\n        };\n        common_1.extend(this, { UrlMatcher: urlMatcher_1.UrlMatcher, Param: param_1.Param });\n    }\n    /** @inheritdoc */\n    UrlMatcherFactory.prototype.caseInsensitive = function (value) {\n        return this._isCaseInsensitive = predicates_1.isDefined(value) ? value : this._isCaseInsensitive;\n    };\n    /** @inheritdoc */\n    UrlMatcherFactory.prototype.strictMode = function (value) {\n        return this._isStrictMode = predicates_1.isDefined(value) ? value : this._isStrictMode;\n    };\n    /** @inheritdoc */\n    UrlMatcherFactory.prototype.defaultSquashPolicy = function (value) {\n        if (predicates_1.isDefined(value) && value !== true && value !== false && !predicates_1.isString(value)) throw new Error("Invalid squash policy: " + value + ". Valid policies: false, true, arbitrary-string");\n        return this._defaultSquashPolicy = predicates_1.isDefined(value) ? value : this._defaultSquashPolicy;\n    };\n    /**\n     * Creates a [[UrlMatcher]] for the specified pattern.\n     *\n     * @param pattern  The URL pattern.\n     * @param config  The config object hash.\n     * @returns The UrlMatcher.\n     */\n    UrlMatcherFactory.prototype.compile = function (pattern, config) {\n        return new urlMatcher_1.UrlMatcher(pattern, this.paramTypes, this.paramFactory, this._getConfig(config));\n    };\n    /**\n     * Returns true if the specified object is a [[UrlMatcher]], or false otherwise.\n     *\n     * @param object  The object to perform the type check against.\n     * @returns `true` if the object matches the `UrlMatcher` interface, by\n     *          implementing all the same methods.\n     */\n    UrlMatcherFactory.prototype.isMatcher = function (object) {\n        // TODO: typeof?\n        if (!predicates_1.isObject(object)) return false;\n        var result = true;\n        common_1.forEach(urlMatcher_1.UrlMatcher.prototype, function (val, name) {\n            if (predicates_1.isFunction(val)) result = result && predicates_1.isDefined(object[name]) && predicates_1.isFunction(object[name]);\n        });\n        return result;\n    };\n    ;\n    /**\n     * Creates and registers a custom [[ParamType]] object\n     *\n     * A [[ParamType]] can be used to generate URLs with typed parameters.\n     *\n     * @param name  The type name.\n     * @param definition The type definition. See [[ParamTypeDefinition]] for information on the values accepted.\n     * @param definitionFn A function that is injected before the app runtime starts.\n     *        The result of this function should be a [[ParamTypeDefinition]].\n     *        The result is merged into the existing `definition`.\n     *        See [[ParamType]] for information on the values accepted.\n     *\n     * @returns - if a type was registered: the [[UrlMatcherFactory]]\n     *   - if only the `name` parameter was specified: the currently registered [[ParamType]] object, or undefined\n     *\n     * Note: Register custom types *before using them* in a state definition.\n     *\n     * See [[ParamTypeDefinition]] for examples\n     */\n    UrlMatcherFactory.prototype.type = function (name, definition, definitionFn) {\n        var type = this.paramTypes.type(name, definition, definitionFn);\n        return !predicates_1.isDefined(definition) ? type : this;\n    };\n    ;\n    /** @hidden */\n    UrlMatcherFactory.prototype.$get = function () {\n        this.paramTypes.enqueue = false;\n        this.paramTypes._flushTypeQueue();\n        return this;\n    };\n    ;\n    /** @internalapi */\n    UrlMatcherFactory.prototype.dispose = function () {\n        this.paramTypes.dispose();\n    };\n    return UrlMatcherFactory;\n}();\nexports.UrlMatcherFactory = UrlMatcherFactory;\n//# sourceMappingURL=urlMatcherFactory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3VybC91cmxNYXRjaGVyRmFjdG9yeS5qcz85NDBlIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY29tbW9uXzEiLCJyZXF1aXJlIiwicHJlZGljYXRlc18xIiwidXJsTWF0Y2hlcl8xIiwicGFyYW1fMSIsInBhcmFtVHlwZXNfMSIsIlVybE1hdGNoZXJGYWN0b3J5IiwiX3RoaXMiLCJwYXJhbVR5cGVzIiwiUGFyYW1UeXBlcyIsIl9pc0Nhc2VJbnNlbnNpdGl2ZSIsIl9pc1N0cmljdE1vZGUiLCJfZGVmYXVsdFNxdWFzaFBvbGljeSIsIl9nZXRDb25maWciLCJjb25maWciLCJleHRlbmQiLCJzdHJpY3QiLCJjYXNlSW5zZW5zaXRpdmUiLCJwYXJhbUZhY3RvcnkiLCJmcm9tQ29uZmlnIiwiaWQiLCJ0eXBlIiwiUGFyYW0iLCJEZWZUeXBlIiwiQ09ORklHIiwiZnJvbVBhdGgiLCJQQVRIIiwiZnJvbVNlYXJjaCIsIlNFQVJDSCIsIlVybE1hdGNoZXIiLCJwcm90b3R5cGUiLCJpc0RlZmluZWQiLCJzdHJpY3RNb2RlIiwiZGVmYXVsdFNxdWFzaFBvbGljeSIsImlzU3RyaW5nIiwiRXJyb3IiLCJjb21waWxlIiwicGF0dGVybiIsImlzTWF0Y2hlciIsIm9iamVjdCIsImlzT2JqZWN0IiwicmVzdWx0IiwiZm9yRWFjaCIsInZhbCIsIm5hbWUiLCJpc0Z1bmN0aW9uIiwiZGVmaW5pdGlvbiIsImRlZmluaXRpb25GbiIsIiRnZXQiLCJlbnF1ZXVlIiwiX2ZsdXNoVHlwZVF1ZXVlIiwiZGlzcG9zZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBOzs7SUFHSTtBQUNKLElBQUlDLFdBQVcsbUJBQUFDLENBQVEs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QUFLYixVQUFMLENBQWdCYSxJQUFoQixDQUFxQnVCLElBQXJCLEVBQTJCRSxVQUEzQixFQUF1Q0MsWUFBdkMsQ0FBWDtBQUNBLGVBQU8sQ0FBQzdDLGFBQWE2QixTQUFiLENBQXVCZSxVQUF2QixDQUFELEdBQXNDekIsSUFBdEMsR0FBNkMsSUFBcEQ7QUFDSCxLQUhEO0FBSUE7QUFDQTtBQUNBZixzQkFBa0J3QixTQUFsQixDQUE0QmtCLElBQTVCLEdBQW1DLFlBQVk7QUFDM0MsYUFBS3hDLFVBQUwsQ0FBZ0J5QyxPQUFoQixHQUEwQixLQUExQjtBQUNBLGFBQUt6QyxVQUFMLENBQWdCMEMsZUFBaEI7QUFDQSxlQUFPLElBQVA7QUFDSCxLQUpEO0FBS0E7QUFDQTtBQUNBNUMsc0JBQWtCd0IsU0FBbEIsQ0FBNEJxQixPQUE1QixHQUFzQyxZQUFZO0FBQzlDLGFBQUszQyxVQUFMLENBQWdCMkMsT0FBaEI7QUFDSCxLQUZEO0FBR0EsV0FBTzdDLGlCQUFQO0FBQ0gsQ0EzR3dCLEVBQXpCO0FBNEdBUixRQUFRUSxpQkFBUixHQUE0QkEsaUJBQTVCO0FBQ0EiLCJmaWxlIjoiNDAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQGludGVybmFsYXBpXG4gKiBAbW9kdWxlIHVybFxuICovIC8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIHVybE1hdGNoZXJfMSA9IHJlcXVpcmUoXCIuL3VybE1hdGNoZXJcIik7XG52YXIgcGFyYW1fMSA9IHJlcXVpcmUoXCIuLi9wYXJhbXMvcGFyYW1cIik7XG52YXIgcGFyYW1UeXBlc18xID0gcmVxdWlyZShcIi4uL3BhcmFtcy9wYXJhbVR5cGVzXCIpO1xuLyoqXG4gKiBGYWN0b3J5IGZvciBbW1VybE1hdGNoZXJdXSBpbnN0YW5jZXMuXG4gKlxuICogVGhlIGZhY3RvcnkgaXMgYXZhaWxhYmxlIHRvIG5nMSBzZXJ2aWNlcyBhc1xuICogYCR1cmxNYXRjaGVyRmFjdG9yYCBvciBuZzEgcHJvdmlkZXJzIGFzIGAkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlcmAuXG4gKi9cbnZhciBVcmxNYXRjaGVyRmFjdG9yeSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVXJsTWF0Y2hlckZhY3RvcnkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMucGFyYW1UeXBlcyA9IG5ldyBwYXJhbVR5cGVzXzEuUGFyYW1UeXBlcygpO1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLl9pc0Nhc2VJbnNlbnNpdGl2ZSA9IGZhbHNlO1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLl9pc1N0cmljdE1vZGUgPSB0cnVlO1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLl9kZWZhdWx0U3F1YXNoUG9saWN5ID0gZmFsc2U7XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX2dldENvbmZpZyA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5leHRlbmQoeyBzdHJpY3Q6IF90aGlzLl9pc1N0cmljdE1vZGUsIGNhc2VJbnNlbnNpdGl2ZTogX3RoaXMuX2lzQ2FzZUluc2Vuc2l0aXZlIH0sIGNvbmZpZyk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKiBAaW50ZXJuYWxhcGkgQ3JlYXRlcyBhIG5ldyBbW1BhcmFtXV0gZm9yIGEgZ2l2ZW4gbG9jYXRpb24gKERlZlR5cGUpICovXG4gICAgICAgIHRoaXMucGFyYW1GYWN0b3J5ID0ge1xuICAgICAgICAgICAgLyoqIENyZWF0ZXMgYSBuZXcgW1tQYXJhbV1dIGZyb20gYSBDT05GSUcgYmxvY2sgKi9cbiAgICAgICAgICAgIGZyb21Db25maWc6IGZ1bmN0aW9uIChpZCwgdHlwZSwgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBwYXJhbV8xLlBhcmFtKGlkLCB0eXBlLCBjb25maWcsIHBhcmFtXzEuRGVmVHlwZS5DT05GSUcsIF90aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvKiogQ3JlYXRlcyBhIG5ldyBbW1BhcmFtXV0gZnJvbSBhIHVybCBQQVRIICovXG4gICAgICAgICAgICBmcm9tUGF0aDogZnVuY3Rpb24gKGlkLCB0eXBlLCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHBhcmFtXzEuUGFyYW0oaWQsIHR5cGUsIGNvbmZpZywgcGFyYW1fMS5EZWZUeXBlLlBBVEgsIF90aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvKiogQ3JlYXRlcyBhIG5ldyBbW1BhcmFtXV0gZnJvbSBhIHVybCBTRUFSQ0ggKi9cbiAgICAgICAgICAgIGZyb21TZWFyY2g6IGZ1bmN0aW9uIChpZCwgdHlwZSwgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBwYXJhbV8xLlBhcmFtKGlkLCB0eXBlLCBjb25maWcsIHBhcmFtXzEuRGVmVHlwZS5TRUFSQ0gsIF90aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbW1vbl8xLmV4dGVuZCh0aGlzLCB7IFVybE1hdGNoZXI6IHVybE1hdGNoZXJfMS5VcmxNYXRjaGVyLCBQYXJhbTogcGFyYW1fMS5QYXJhbSB9KTtcbiAgICB9XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsTWF0Y2hlckZhY3RvcnkucHJvdG90eXBlLmNhc2VJbnNlbnNpdGl2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNDYXNlSW5zZW5zaXRpdmUgPSBwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogdGhpcy5faXNDYXNlSW5zZW5zaXRpdmU7XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBVcmxNYXRjaGVyRmFjdG9yeS5wcm90b3R5cGUuc3RyaWN0TW9kZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNTdHJpY3RNb2RlID0gcHJlZGljYXRlc18xLmlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IHRoaXMuX2lzU3RyaWN0TW9kZTtcbiAgICB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybE1hdGNoZXJGYWN0b3J5LnByb3RvdHlwZS5kZWZhdWx0U3F1YXNoUG9saWN5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKHZhbHVlKSAmJiB2YWx1ZSAhPT0gdHJ1ZSAmJiB2YWx1ZSAhPT0gZmFsc2UgJiYgIXByZWRpY2F0ZXNfMS5pc1N0cmluZyh2YWx1ZSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNxdWFzaCBwb2xpY3k6IFwiICsgdmFsdWUgKyBcIi4gVmFsaWQgcG9saWNpZXM6IGZhbHNlLCB0cnVlLCBhcmJpdHJhcnktc3RyaW5nXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFNxdWFzaFBvbGljeSA9IHByZWRpY2F0ZXNfMS5pc0RlZmluZWQodmFsdWUpID8gdmFsdWUgOiB0aGlzLl9kZWZhdWx0U3F1YXNoUG9saWN5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFtbVXJsTWF0Y2hlcl1dIGZvciB0aGUgc3BlY2lmaWVkIHBhdHRlcm4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0dGVybiAgVGhlIFVSTCBwYXR0ZXJuLlxuICAgICAqIEBwYXJhbSBjb25maWcgIFRoZSBjb25maWcgb2JqZWN0IGhhc2guXG4gICAgICogQHJldHVybnMgVGhlIFVybE1hdGNoZXIuXG4gICAgICovXG4gICAgVXJsTWF0Y2hlckZhY3RvcnkucHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbiAocGF0dGVybiwgY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBuZXcgdXJsTWF0Y2hlcl8xLlVybE1hdGNoZXIocGF0dGVybiwgdGhpcy5wYXJhbVR5cGVzLCB0aGlzLnBhcmFtRmFjdG9yeSwgdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgb2JqZWN0IGlzIGEgW1tVcmxNYXRjaGVyXV0sIG9yIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvYmplY3QgIFRoZSBvYmplY3QgdG8gcGVyZm9ybSB0aGUgdHlwZSBjaGVjayBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0IG1hdGNoZXMgdGhlIGBVcmxNYXRjaGVyYCBpbnRlcmZhY2UsIGJ5XG4gICAgICogICAgICAgICAgaW1wbGVtZW50aW5nIGFsbCB0aGUgc2FtZSBtZXRob2RzLlxuICAgICAqL1xuICAgIFVybE1hdGNoZXJGYWN0b3J5LnByb3RvdHlwZS5pc01hdGNoZXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIC8vIFRPRE86IHR5cGVvZj9cbiAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNPYmplY3Qob2JqZWN0KSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICAgIGNvbW1vbl8xLmZvckVhY2godXJsTWF0Y2hlcl8xLlVybE1hdGNoZXIucHJvdG90eXBlLCBmdW5jdGlvbiAodmFsLCBuYW1lKSB7XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzRnVuY3Rpb24odmFsKSlcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgJiYgKHByZWRpY2F0ZXNfMS5pc0RlZmluZWQob2JqZWN0W25hbWVdKSAmJiBwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihvYmplY3RbbmFtZV0pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICA7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbmQgcmVnaXN0ZXJzIGEgY3VzdG9tIFtbUGFyYW1UeXBlXV0gb2JqZWN0XG4gICAgICpcbiAgICAgKiBBIFtbUGFyYW1UeXBlXV0gY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgVVJMcyB3aXRoIHR5cGVkIHBhcmFtZXRlcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSAgVGhlIHR5cGUgbmFtZS5cbiAgICAgKiBAcGFyYW0gZGVmaW5pdGlvbiBUaGUgdHlwZSBkZWZpbml0aW9uLiBTZWUgW1tQYXJhbVR5cGVEZWZpbml0aW9uXV0gZm9yIGluZm9ybWF0aW9uIG9uIHRoZSB2YWx1ZXMgYWNjZXB0ZWQuXG4gICAgICogQHBhcmFtIGRlZmluaXRpb25GbiBBIGZ1bmN0aW9uIHRoYXQgaXMgaW5qZWN0ZWQgYmVmb3JlIHRoZSBhcHAgcnVudGltZSBzdGFydHMuXG4gICAgICogICAgICAgIFRoZSByZXN1bHQgb2YgdGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgYSBbW1BhcmFtVHlwZURlZmluaXRpb25dXS5cbiAgICAgKiAgICAgICAgVGhlIHJlc3VsdCBpcyBtZXJnZWQgaW50byB0aGUgZXhpc3RpbmcgYGRlZmluaXRpb25gLlxuICAgICAqICAgICAgICBTZWUgW1tQYXJhbVR5cGVdXSBmb3IgaW5mb3JtYXRpb24gb24gdGhlIHZhbHVlcyBhY2NlcHRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIC0gaWYgYSB0eXBlIHdhcyByZWdpc3RlcmVkOiB0aGUgW1tVcmxNYXRjaGVyRmFjdG9yeV1dXG4gICAgICogICAtIGlmIG9ubHkgdGhlIGBuYW1lYCBwYXJhbWV0ZXIgd2FzIHNwZWNpZmllZDogdGhlIGN1cnJlbnRseSByZWdpc3RlcmVkIFtbUGFyYW1UeXBlXV0gb2JqZWN0LCBvciB1bmRlZmluZWRcbiAgICAgKlxuICAgICAqIE5vdGU6IFJlZ2lzdGVyIGN1c3RvbSB0eXBlcyAqYmVmb3JlIHVzaW5nIHRoZW0qIGluIGEgc3RhdGUgZGVmaW5pdGlvbi5cbiAgICAgKlxuICAgICAqIFNlZSBbW1BhcmFtVHlwZURlZmluaXRpb25dXSBmb3IgZXhhbXBsZXNcbiAgICAgKi9cbiAgICBVcmxNYXRjaGVyRmFjdG9yeS5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uIChuYW1lLCBkZWZpbml0aW9uLCBkZWZpbml0aW9uRm4pIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0aGlzLnBhcmFtVHlwZXMudHlwZShuYW1lLCBkZWZpbml0aW9uLCBkZWZpbml0aW9uRm4pO1xuICAgICAgICByZXR1cm4gIXByZWRpY2F0ZXNfMS5pc0RlZmluZWQoZGVmaW5pdGlvbikgPyB0eXBlIDogdGhpcztcbiAgICB9O1xuICAgIDtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFVybE1hdGNoZXJGYWN0b3J5LnByb3RvdHlwZS4kZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmFtVHlwZXMuZW5xdWV1ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBhcmFtVHlwZXMuX2ZsdXNoVHlwZVF1ZXVlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgO1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBVcmxNYXRjaGVyRmFjdG9yeS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJhbVR5cGVzLmRpc3Bvc2UoKTtcbiAgICB9O1xuICAgIHJldHVybiBVcmxNYXRjaGVyRmFjdG9yeTtcbn0oKSk7XG5leHBvcnRzLlVybE1hdGNoZXJGYWN0b3J5ID0gVXJsTWF0Y2hlckZhY3Rvcnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmxNYXRjaGVyRmFjdG9yeS5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3VybC91cmxNYXRjaGVyRmFjdG9yeS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///40\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @internalapi\n * @module url\n */\n/** for typedoc */\nvar common_1 = __webpack_require__(0);\nvar predicates_1 = __webpack_require__(1);\nvar urlMatcher_1 = __webpack_require__(20);\nvar hof_1 = __webpack_require__(2);\nvar urlRule_1 = __webpack_require__(42);\nvar targetState_1 = __webpack_require__(7);\n/** @hidden */\nfunction appendBasePath(url, isHtml5, absolute, baseHref) {\n    if (baseHref === \'/\') return url;\n    if (isHtml5) return baseHref.slice(0, -1) + url;\n    if (absolute) return baseHref.slice(1) + url;\n    return url;\n}\n/** @hidden */\nvar getMatcher = hof_1.prop("urlMatcher");\n/**\n * Default rule priority sorting function.\n *\n * Sorts rules by:\n *\n * - Explicit priority (set rule priority using [[UrlRulesApi.when]])\n * - Rule type (STATE: 4, URLMATCHER: 4, REGEXP: 3, RAW: 2, OTHER: 1)\n * - `UrlMatcher` specificity ([[UrlMatcher.compare]]): works for STATE and URLMATCHER types to pick the most specific rule.\n * - Registration order (for rule types other than STATE and URLMATCHER)\n *\n * @coreapi\n */\nvar defaultRuleSortFn;\ndefaultRuleSortFn = common_1.composeSort(common_1.sortBy(hof_1.pipe(hof_1.prop("priority"), function (x) {\n    return -x;\n})), common_1.sortBy(hof_1.pipe(hof_1.prop("type"), function (type) {\n    return { "STATE": 4, "URLMATCHER": 4, "REGEXP": 3, "RAW": 2, "OTHER": 1 }[type];\n})), function (a, b) {\n    return getMatcher(a) && getMatcher(b) ? urlMatcher_1.UrlMatcher.compare(getMatcher(a), getMatcher(b)) : 0;\n}, common_1.sortBy(hof_1.prop("$id"), common_1.inArray(["REGEXP", "RAW", "OTHER"])));\n/**\n * Updates URL and responds to URL changes\n *\n * ### Deprecation warning:\n * This class is now considered to be an internal API\n * Use the [[UrlService]] instead.\n * For configuring URL rules, use the [[UrlRulesApi]] which can be found as [[UrlService.rules]].\n *\n * This class updates the URL when the state changes.\n * It also responds to changes in the URL.\n */\nvar UrlRouter = function () {\n    /** @hidden */\n    function UrlRouter(router) {\n        /** @hidden */this._sortFn = defaultRuleSortFn;\n        /** @hidden */this._rules = [];\n        /** @hidden */this.interceptDeferred = false;\n        /** @hidden */this._id = 0;\n        /** @hidden */this._sorted = false;\n        this._router = router;\n        this.urlRuleFactory = new urlRule_1.UrlRuleFactory(router);\n        common_1.createProxyFunctions(hof_1.val(UrlRouter.prototype), this, hof_1.val(this));\n    }\n    /** @internalapi */\n    UrlRouter.prototype.dispose = function () {\n        this.listen(false);\n        this._rules = [];\n        delete this._otherwiseFn;\n    };\n    /** @inheritdoc */\n    UrlRouter.prototype.sort = function (compareFn) {\n        this._rules.sort(this._sortFn = compareFn || this._sortFn);\n        this._sorted = true;\n    };\n    UrlRouter.prototype.ensureSorted = function () {\n        this._sorted || this.sort();\n    };\n    /**\n     * Given a URL, check all rules and return the best [[MatchResult]]\n     * @param url\n     * @returns {MatchResult}\n     */\n    UrlRouter.prototype.match = function (url) {\n        var _this = this;\n        this.ensureSorted();\n        url = common_1.extend({ path: \'\', search: {}, hash: \'\' }, url);\n        var rules = this.rules();\n        if (this._otherwiseFn) rules.push(this._otherwiseFn);\n        // Checks a single rule. Returns { rule: rule, match: match, weight: weight } if it matched, or undefined\n        var checkRule = function checkRule(rule) {\n            var match = rule.match(url, _this._router);\n            return match && { match: match, rule: rule, weight: rule.matchPriority(match) };\n        };\n        // The rules are pre-sorted.\n        // - Find the first matching rule.\n        // - Find any other matching rule that sorted *exactly the same*, according to `.sort()`.\n        // - Choose the rule with the highest match weight.\n        var best;\n        for (var i = 0; i < rules.length; i++) {\n            // Stop when there is a \'best\' rule and the next rule sorts differently than it.\n            if (best && this._sortFn(rules[i], best.rule) !== 0) break;\n            var current = checkRule(rules[i]);\n            // Pick the best MatchResult\n            best = !best || current && current.weight > best.weight ? current : best;\n        }\n        return best;\n    };\n    /** @inheritdoc */\n    UrlRouter.prototype.sync = function (evt) {\n        if (evt && evt.defaultPrevented) return;\n        var router = this._router,\n            $url = router.urlService,\n            $state = router.stateService;\n        var url = {\n            path: $url.path(), search: $url.search(), hash: $url.hash()\n        };\n        var best = this.match(url);\n        var applyResult = hof_1.pattern([[predicates_1.isString, function (newurl) {\n            return $url.url(newurl, true);\n        }], [targetState_1.TargetState.isDef, function (def) {\n            return $state.go(def.state, def.params, def.options);\n        }], [hof_1.is(targetState_1.TargetState), function (target) {\n            return $state.go(target.state(), target.params(), target.options());\n        }]]);\n        applyResult(best && best.rule.handler(best.match, url, router));\n    };\n    /** @inheritdoc */\n    UrlRouter.prototype.listen = function (enabled) {\n        var _this = this;\n        if (enabled === false) {\n            this._stopFn && this._stopFn();\n            delete this._stopFn;\n        } else {\n            return this._stopFn = this._stopFn || this._router.urlService.onChange(function (evt) {\n                return _this.sync(evt);\n            });\n        }\n    };\n    /**\n     * Internal API.\n     * @internalapi\n     */\n    UrlRouter.prototype.update = function (read) {\n        var $url = this._router.locationService;\n        if (read) {\n            this.location = $url.path();\n            return;\n        }\n        if ($url.path() === this.location) return;\n        $url.url(this.location, true);\n    };\n    /**\n     * Internal API.\n     *\n     * Pushes a new location to the browser history.\n     *\n     * @internalapi\n     * @param urlMatcher\n     * @param params\n     * @param options\n     */\n    UrlRouter.prototype.push = function (urlMatcher, params, options) {\n        var replace = options && !!options.replace;\n        this._router.urlService.url(urlMatcher.format(params || {}), replace);\n    };\n    /**\n     * Builds and returns a URL with interpolated parameters\n     *\n     * #### Example:\n     * ```js\n     * matcher = $umf.compile("/about/:person");\n     * params = { person: "bob" };\n     * $bob = $urlRouter.href(matcher, params);\n     * // $bob == "/about/bob";\n     * ```\n     *\n     * @param urlMatcher The [[UrlMatcher]] object which is used as the template of the URL to generate.\n     * @param params An object of parameter values to fill the matcher\'s required parameters.\n     * @param options Options object. The options are:\n     *\n     * - **`absolute`** - {boolean=false},  If true will generate an absolute url, e.g. "http://www.example.com/fullurl".\n     *\n     * @returns Returns the fully compiled URL, or `null` if `params` fail validation against `urlMatcher`\n     */\n    UrlRouter.prototype.href = function (urlMatcher, params, options) {\n        var url = urlMatcher.format(params);\n        if (url == null) return null;\n        options = options || { absolute: false };\n        var cfg = this._router.urlService.config;\n        var isHtml5 = cfg.html5Mode();\n        if (!isHtml5 && url !== null) {\n            url = "#" + cfg.hashPrefix() + url;\n        }\n        url = appendBasePath(url, isHtml5, options.absolute, cfg.baseHref());\n        if (!options.absolute || !url) {\n            return url;\n        }\n        var slash = !isHtml5 && url ? \'/\' : \'\',\n            port = cfg.port();\n        port = port === 80 || port === 443 ? \'\' : \':\' + port;\n        return [cfg.protocol(), \'://\', cfg.host(), port, slash, url].join(\'\');\n    };\n    /**\n     * Manually adds a URL Rule.\n     *\n     * Usually, a url rule is added using [[StateDeclaration.url]] or [[when]].\n     * This api can be used directly for more control (to register a [[BaseUrlRule]], for example).\n     * Rules can be created using [[UrlRouter.urlRuleFactory]], or create manually as simple objects.\n     *\n     * A rule should have a `match` function which returns truthy if the rule matched.\n     * It should also have a `handler` function which is invoked if the rule is the best match.\n     *\n     * @return a function that deregisters the rule\n     */\n    UrlRouter.prototype.rule = function (rule) {\n        var _this = this;\n        if (!urlRule_1.UrlRuleFactory.isUrlRule(rule)) throw new Error("invalid rule");\n        rule.$id = this._id++;\n        rule.priority = rule.priority || 0;\n        this._rules.push(rule);\n        this._sorted = false;\n        return function () {\n            return _this.removeRule(rule);\n        };\n    };\n    /** @inheritdoc */\n    UrlRouter.prototype.removeRule = function (rule) {\n        common_1.removeFrom(this._rules, rule);\n    };\n    /** @inheritdoc */\n    UrlRouter.prototype.rules = function () {\n        this.ensureSorted();\n        return this._rules.slice();\n    };\n    /** @inheritdoc */\n    UrlRouter.prototype.otherwise = function (handler) {\n        var handlerFn = getHandlerFn(handler);\n        this._otherwiseFn = this.urlRuleFactory.create(hof_1.val(true), handlerFn);\n        this._sorted = false;\n    };\n    ;\n    /** @inheritdoc */\n    UrlRouter.prototype.initial = function (handler) {\n        var handlerFn = getHandlerFn(handler);\n        var matchFn = function matchFn(urlParts, router) {\n            return router.globals.transitionHistory.size() === 0 && !!/^\\/?$/.exec(urlParts.path);\n        };\n        this.rule(this.urlRuleFactory.create(matchFn, handlerFn));\n    };\n    ;\n    /** @inheritdoc */\n    UrlRouter.prototype.when = function (matcher, handler, options) {\n        var rule = this.urlRuleFactory.create(matcher, handler);\n        if (predicates_1.isDefined(options && options.priority)) rule.priority = options.priority;\n        this.rule(rule);\n        return rule;\n    };\n    ;\n    /** @inheritdoc */\n    UrlRouter.prototype.deferIntercept = function (defer) {\n        if (defer === undefined) defer = true;\n        this.interceptDeferred = defer;\n    };\n    ;\n    return UrlRouter;\n}();\nexports.UrlRouter = UrlRouter;\nfunction getHandlerFn(handler) {\n    if (!predicates_1.isFunction(handler) && !predicates_1.isString(handler) && !hof_1.is(targetState_1.TargetState)(handler) && !targetState_1.TargetState.isDef(handler)) {\n        throw new Error("\'handler\' must be a string, function, TargetState, or have a state: \'newtarget\' property");\n    }\n    return predicates_1.isFunction(handler) ? handler : hof_1.val(handler);\n}\n//# sourceMappingURL=urlRouter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3VybC91cmxSb3V0ZXIuanM/YjA1NSJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNvbW1vbl8xIiwicmVxdWlyZSIsInByZWRpY2F0ZXNfMSIsInVybE1hdGNoZXJfMSIsImhvZl8xIiwidXJsUnVsZV8xIiwidGFyZ2V0U3RhdGVfMSIsImFwcGVuZEJhc2VQYXRoIiwidXJsIiwiaXNIdG1sNSIsImFic29sdXRlIiwiYmFzZUhyZWYiLCJzbGljZSIsImdldE1hdGNoZXIiLCJwcm9wIiwiZGVmYXVsdFJ1bGVTb3J0Rm4iLCJjb21wb3NlU29ydCIsInNvcnRCeSIsInBpcGUiLCJ4IiwidHlwZSIsImEiLCJiIiwiVXJsTWF0Y2hlciIsImNvbXBhcmUiLCJpbkFycmF5IiwiVXJsUm91dGVyIiwicm91dGVyIiwiX3NvcnRGbiIsIl9ydWxlcyIsImludGVyY2VwdERlZmVycmVkIiwiX2lkIiwiX3NvcnRlZCIsIl9yb3V0ZXIiLCJ1cmxSdWxlRmFjdG9yeSIsIlVybFJ1bGVGYWN0b3J5IiwiY3JlYXRlUHJveHlGdW5jdGlvbnMiLCJ2YWwiLCJwcm90b3R5cGUiLCJkaXNwb3NlIiwibGlzdGVuIiwiX290aGVyd2lzZUZuIiwic29ydCIsImNvbXBhcmVGbiIsImVuc3VyZVNvcnRlZCIsIm1hdGNoIiwiX3RoaXMiLCJleHRlbmQiLCJwYXRoIiwic2VhcmNoIiwiaGFzaCIsInJ1bGVzIiwicHVzaCIsImNoZWNrUnVsZSIsInJ1bGUiLCJ3ZWlnaHQiLCJtYXRjaFByaW9yaXR5IiwiYmVzdCIsImkiLCJsZW5ndGgiLCJjdXJyZW50Iiwic3luYyIsImV2dCIsImRlZmF1bHRQcmV2ZW50ZWQiLCIkdXJsIiwidXJsU2VydmljZSIsIiRzdGF0ZSIsInN0YXRlU2VydmljZSIsImFwcGx5UmVzdWx0IiwicGF0dGVybiIsImlzU3RyaW5nIiwibmV3dXJsIiwiVGFyZ2V0U3RhdGUiLCJpc0RlZiIsImRlZiIsImdvIiwic3RhdGUiLCJwYXJhbXMiLCJvcHRpb25zIiwiaXMiLCJ0YXJnZXQiLCJoYW5kbGVyIiwiZW5hYmxlZCIsIl9zdG9wRm4iLCJvbkNoYW5nZSIsInVwZGF0ZSIsInJlYWQiLCJsb2NhdGlvblNlcnZpY2UiLCJsb2NhdGlvbiIsInVybE1hdGNoZXIiLCJyZXBsYWNlIiwiZm9ybWF0IiwiaHJlZiIsImNmZyIsImNvbmZpZyIsImh0bWw1TW9kZSIsImhhc2hQcmVmaXgiLCJzbGFzaCIsInBvcnQiLCJwcm90b2NvbCIsImhvc3QiLCJqb2luIiwiaXNVcmxSdWxlIiwiRXJyb3IiLCIkaWQiLCJwcmlvcml0eSIsInJlbW92ZVJ1bGUiLCJyZW1vdmVGcm9tIiwib3RoZXJ3aXNlIiwiaGFuZGxlckZuIiwiZ2V0SGFuZGxlckZuIiwiY3JlYXRlIiwiaW5pdGlhbCIsIm1hdGNoRm4iLCJ1cmxQYXJ0cyIsImdsb2JhbHMiLCJ0cmFuc2l0aW9uSGlzdG9yeSIsInNpemUiLCJleGVjIiwid2hlbiIsIm1hdGNoZXIiLCJpc0RlZmluZWQiLCJkZWZlckludGVyY2VwdCIsImRlZmVyIiwidW5kZWZpbmVkIiwiaXNGdW5jdGlvbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBOzs7O0FBSUE7QUFDQSxJQUFJQyxXQUFXLG1CQUFBQyxDQUFRLENBQVIsQ0FBZjtBQUNBLElBQUlDLGVBQWUsbUJBQUFELENBQVEsQ0FBUixDQUFuQjtBQUNBLElBQUlFLGVBQWUsbUJBQUFGLENBQVEsRUFBUixDQUFuQjtBQUNBLElBQUlHLFFBQVEsbUJBQUFILENBQVEsQ0FBUixDQUFaO0FBQ0EsSUFBSUksWUFBWSxtQkFBQUosQ0FBUSxFQUFSLENBQWhCO0FBQ0EsSUFBSUssZ0JBQWdCLG1CQUFBTCxDQUFRLENBQVIsQ0FBcEI7QUFDQTtBQUNBLFNBQVNN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QUFvQm9GLGNBQXBCLEdBQXFDLFVBQVVDLEtBQVYsRUFBaUI7QUFDbEQsWUFBSUEsVUFBVUMsU0FBZCxFQUNJRCxRQUFRLElBQVI7QUFDSixhQUFLN0YsaUJBQUwsR0FBeUI2RixLQUF6QjtBQUNILEtBSkQ7QUFLQTtBQUNBLFdBQU9qRyxTQUFQO0FBQ0gsQ0F0TmdCLEVBQWpCO0FBdU5BNUIsUUFBUTRCLFNBQVIsR0FBb0JBLFNBQXBCO0FBQ0EsU0FBU29GLFlBQVQsQ0FBc0I3QixPQUF0QixFQUErQjtBQUMzQixRQUFJLENBQUMvRSxhQUFhMkgsVUFBYixDQUF3QjVDLE9BQXhCLENBQUQsSUFBcUMsQ0FBQy9FLGFBQWFvRSxRQUFiLENBQXNCVyxPQUF0QixDQUF0QyxJQUF3RSxDQUFDN0UsTUFBTTJFLEVBQU4sQ0FBU3pFLGNBQWNrRSxXQUF2QixFQUFvQ1MsT0FBcEMsQ0FBekUsSUFBeUgsQ0FBQzNFLGNBQWNrRSxXQUFkLENBQTBCQyxLQUExQixDQUFnQ1EsT0FBaEMsQ0FBOUgsRUFBd0s7QUFDcEssY0FBTSxJQUFJc0IsS0FBSixDQUFVLDBGQUFWLENBQU47QUFDSDtBQUNELFdBQU9yRyxhQUFhMkgsVUFBYixDQUF3QjVDLE9BQXhCLElBQW1DQSxPQUFuQyxHQUE2QzdFLE1BQU1pQyxHQUFOLENBQVU0QyxPQUFWLENBQXBEO0FBQ0g7QUFDRCIsImZpbGUiOiI0MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBAaW50ZXJuYWxhcGlcbiAqIEBtb2R1bGUgdXJsXG4gKi9cbi8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIHVybE1hdGNoZXJfMSA9IHJlcXVpcmUoXCIuL3VybE1hdGNoZXJcIik7XG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2hvZlwiKTtcbnZhciB1cmxSdWxlXzEgPSByZXF1aXJlKFwiLi91cmxSdWxlXCIpO1xudmFyIHRhcmdldFN0YXRlXzEgPSByZXF1aXJlKFwiLi4vc3RhdGUvdGFyZ2V0U3RhdGVcIik7XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gYXBwZW5kQmFzZVBhdGgodXJsLCBpc0h0bWw1LCBhYnNvbHV0ZSwgYmFzZUhyZWYpIHtcbiAgICBpZiAoYmFzZUhyZWYgPT09ICcvJylcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICBpZiAoaXNIdG1sNSlcbiAgICAgICAgcmV0dXJuIGJhc2VIcmVmLnNsaWNlKDAsIC0xKSArIHVybDtcbiAgICBpZiAoYWJzb2x1dGUpXG4gICAgICAgIHJldHVybiBiYXNlSHJlZi5zbGljZSgxKSArIHVybDtcbiAgICByZXR1cm4gdXJsO1xufVxuLyoqIEBoaWRkZW4gKi9cbnZhciBnZXRNYXRjaGVyID0gaG9mXzEucHJvcChcInVybE1hdGNoZXJcIik7XG4vKipcbiAqIERlZmF1bHQgcnVsZSBwcmlvcml0eSBzb3J0aW5nIGZ1bmN0aW9uLlxuICpcbiAqIFNvcnRzIHJ1bGVzIGJ5OlxuICpcbiAqIC0gRXhwbGljaXQgcHJpb3JpdHkgKHNldCBydWxlIHByaW9yaXR5IHVzaW5nIFtbVXJsUnVsZXNBcGkud2hlbl1dKVxuICogLSBSdWxlIHR5cGUgKFNUQVRFOiA0LCBVUkxNQVRDSEVSOiA0LCBSRUdFWFA6IDMsIFJBVzogMiwgT1RIRVI6IDEpXG4gKiAtIGBVcmxNYXRjaGVyYCBzcGVjaWZpY2l0eSAoW1tVcmxNYXRjaGVyLmNvbXBhcmVdXSk6IHdvcmtzIGZvciBTVEFURSBhbmQgVVJMTUFUQ0hFUiB0eXBlcyB0byBwaWNrIHRoZSBtb3N0IHNwZWNpZmljIHJ1bGUuXG4gKiAtIFJlZ2lzdHJhdGlvbiBvcmRlciAoZm9yIHJ1bGUgdHlwZXMgb3RoZXIgdGhhbiBTVEFURSBhbmQgVVJMTUFUQ0hFUilcbiAqXG4gKiBAY29yZWFwaVxuICovXG52YXIgZGVmYXVsdFJ1bGVTb3J0Rm47XG5kZWZhdWx0UnVsZVNvcnRGbiA9IGNvbW1vbl8xLmNvbXBvc2VTb3J0KGNvbW1vbl8xLnNvcnRCeShob2ZfMS5waXBlKGhvZl8xLnByb3AoXCJwcmlvcml0eVwiKSwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIC14OyB9KSksIGNvbW1vbl8xLnNvcnRCeShob2ZfMS5waXBlKGhvZl8xLnByb3AoXCJ0eXBlXCIpLCBmdW5jdGlvbiAodHlwZSkgeyByZXR1cm4gKHsgXCJTVEFURVwiOiA0LCBcIlVSTE1BVENIRVJcIjogNCwgXCJSRUdFWFBcIjogMywgXCJSQVdcIjogMiwgXCJPVEhFUlwiOiAxIH0pW3R5cGVdOyB9KSksIGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiAoZ2V0TWF0Y2hlcihhKSAmJiBnZXRNYXRjaGVyKGIpKSA/IHVybE1hdGNoZXJfMS5VcmxNYXRjaGVyLmNvbXBhcmUoZ2V0TWF0Y2hlcihhKSwgZ2V0TWF0Y2hlcihiKSkgOiAwOyB9LCBjb21tb25fMS5zb3J0QnkoaG9mXzEucHJvcChcIiRpZFwiKSwgY29tbW9uXzEuaW5BcnJheShbXCJSRUdFWFBcIiwgXCJSQVdcIiwgXCJPVEhFUlwiXSkpKTtcbi8qKlxuICogVXBkYXRlcyBVUkwgYW5kIHJlc3BvbmRzIHRvIFVSTCBjaGFuZ2VzXG4gKlxuICogIyMjIERlcHJlY2F0aW9uIHdhcm5pbmc6XG4gKiBUaGlzIGNsYXNzIGlzIG5vdyBjb25zaWRlcmVkIHRvIGJlIGFuIGludGVybmFsIEFQSVxuICogVXNlIHRoZSBbW1VybFNlcnZpY2VdXSBpbnN0ZWFkLlxuICogRm9yIGNvbmZpZ3VyaW5nIFVSTCBydWxlcywgdXNlIHRoZSBbW1VybFJ1bGVzQXBpXV0gd2hpY2ggY2FuIGJlIGZvdW5kIGFzIFtbVXJsU2VydmljZS5ydWxlc11dLlxuICpcbiAqIFRoaXMgY2xhc3MgdXBkYXRlcyB0aGUgVVJMIHdoZW4gdGhlIHN0YXRlIGNoYW5nZXMuXG4gKiBJdCBhbHNvIHJlc3BvbmRzIHRvIGNoYW5nZXMgaW4gdGhlIFVSTC5cbiAqL1xudmFyIFVybFJvdXRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBmdW5jdGlvbiBVcmxSb3V0ZXIocm91dGVyKSB7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuX3NvcnRGbiA9IGRlZmF1bHRSdWxlU29ydEZuO1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLl9ydWxlcyA9IFtdO1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLmludGVyY2VwdERlZmVycmVkID0gZmFsc2U7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuX2lkID0gMDtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi8gdGhpcy5fc29ydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy51cmxSdWxlRmFjdG9yeSA9IG5ldyB1cmxSdWxlXzEuVXJsUnVsZUZhY3Rvcnkocm91dGVyKTtcbiAgICAgICAgY29tbW9uXzEuY3JlYXRlUHJveHlGdW5jdGlvbnMoaG9mXzEudmFsKFVybFJvdXRlci5wcm90b3R5cGUpLCB0aGlzLCBob2ZfMS52YWwodGhpcykpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgVXJsUm91dGVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxpc3RlbihmYWxzZSk7XG4gICAgICAgIHRoaXMuX3J1bGVzID0gW107XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9vdGhlcndpc2VGbjtcbiAgICB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uIChjb21wYXJlRm4pIHtcbiAgICAgICAgdGhpcy5fcnVsZXMuc29ydCh0aGlzLl9zb3J0Rm4gPSBjb21wYXJlRm4gfHwgdGhpcy5fc29ydEZuKTtcbiAgICAgICAgdGhpcy5fc29ydGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUuZW5zdXJlU29ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9zb3J0ZWQgfHwgdGhpcy5zb3J0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIFVSTCwgY2hlY2sgYWxsIHJ1bGVzIGFuZCByZXR1cm4gdGhlIGJlc3QgW1tNYXRjaFJlc3VsdF1dXG4gICAgICogQHBhcmFtIHVybFxuICAgICAqIEByZXR1cm5zIHtNYXRjaFJlc3VsdH1cbiAgICAgKi9cbiAgICBVcmxSb3V0ZXIucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmVuc3VyZVNvcnRlZCgpO1xuICAgICAgICB1cmwgPSBjb21tb25fMS5leHRlbmQoeyBwYXRoOiAnJywgc2VhcmNoOiB7fSwgaGFzaDogJycgfSwgdXJsKTtcbiAgICAgICAgdmFyIHJ1bGVzID0gdGhpcy5ydWxlcygpO1xuICAgICAgICBpZiAodGhpcy5fb3RoZXJ3aXNlRm4pXG4gICAgICAgICAgICBydWxlcy5wdXNoKHRoaXMuX290aGVyd2lzZUZuKTtcbiAgICAgICAgLy8gQ2hlY2tzIGEgc2luZ2xlIHJ1bGUuIFJldHVybnMgeyBydWxlOiBydWxlLCBtYXRjaDogbWF0Y2gsIHdlaWdodDogd2VpZ2h0IH0gaWYgaXQgbWF0Y2hlZCwgb3IgdW5kZWZpbmVkXG4gICAgICAgIHZhciBjaGVja1J1bGUgPSBmdW5jdGlvbiAocnVsZSkge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gcnVsZS5tYXRjaCh1cmwsIF90aGlzLl9yb3V0ZXIpO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoICYmIHsgbWF0Y2g6IG1hdGNoLCBydWxlOiBydWxlLCB3ZWlnaHQ6IHJ1bGUubWF0Y2hQcmlvcml0eShtYXRjaCkgfTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVGhlIHJ1bGVzIGFyZSBwcmUtc29ydGVkLlxuICAgICAgICAvLyAtIEZpbmQgdGhlIGZpcnN0IG1hdGNoaW5nIHJ1bGUuXG4gICAgICAgIC8vIC0gRmluZCBhbnkgb3RoZXIgbWF0Y2hpbmcgcnVsZSB0aGF0IHNvcnRlZCAqZXhhY3RseSB0aGUgc2FtZSosIGFjY29yZGluZyB0byBgLnNvcnQoKWAuXG4gICAgICAgIC8vIC0gQ2hvb3NlIHRoZSBydWxlIHdpdGggdGhlIGhpZ2hlc3QgbWF0Y2ggd2VpZ2h0LlxuICAgICAgICB2YXIgYmVzdDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gU3RvcCB3aGVuIHRoZXJlIGlzIGEgJ2Jlc3QnIHJ1bGUgYW5kIHRoZSBuZXh0IHJ1bGUgc29ydHMgZGlmZmVyZW50bHkgdGhhbiBpdC5cbiAgICAgICAgICAgIGlmIChiZXN0ICYmIHRoaXMuX3NvcnRGbihydWxlc1tpXSwgYmVzdC5ydWxlKSAhPT0gMClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gY2hlY2tSdWxlKHJ1bGVzW2ldKTtcbiAgICAgICAgICAgIC8vIFBpY2sgdGhlIGJlc3QgTWF0Y2hSZXN1bHRcbiAgICAgICAgICAgIGJlc3QgPSAoIWJlc3QgfHwgY3VycmVudCAmJiBjdXJyZW50LndlaWdodCA+IGJlc3Qud2VpZ2h0KSA/IGN1cnJlbnQgOiBiZXN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiZXN0O1xuICAgIH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsUm91dGVyLnByb3RvdHlwZS5zeW5jID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICBpZiAoZXZ0ICYmIGV2dC5kZWZhdWx0UHJldmVudGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5fcm91dGVyLCAkdXJsID0gcm91dGVyLnVybFNlcnZpY2UsICRzdGF0ZSA9IHJvdXRlci5zdGF0ZVNlcnZpY2U7XG4gICAgICAgIHZhciB1cmwgPSB7XG4gICAgICAgICAgICBwYXRoOiAkdXJsLnBhdGgoKSwgc2VhcmNoOiAkdXJsLnNlYXJjaCgpLCBoYXNoOiAkdXJsLmhhc2goKSxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGJlc3QgPSB0aGlzLm1hdGNoKHVybCk7XG4gICAgICAgIHZhciBhcHBseVJlc3VsdCA9IGhvZl8xLnBhdHRlcm4oW1xuICAgICAgICAgICAgW3ByZWRpY2F0ZXNfMS5pc1N0cmluZywgZnVuY3Rpb24gKG5ld3VybCkgeyByZXR1cm4gJHVybC51cmwobmV3dXJsLCB0cnVlKTsgfV0sXG4gICAgICAgICAgICBbdGFyZ2V0U3RhdGVfMS5UYXJnZXRTdGF0ZS5pc0RlZiwgZnVuY3Rpb24gKGRlZikgeyByZXR1cm4gJHN0YXRlLmdvKGRlZi5zdGF0ZSwgZGVmLnBhcmFtcywgZGVmLm9wdGlvbnMpOyB9XSxcbiAgICAgICAgICAgIFtob2ZfMS5pcyh0YXJnZXRTdGF0ZV8xLlRhcmdldFN0YXRlKSwgZnVuY3Rpb24gKHRhcmdldCkgeyByZXR1cm4gJHN0YXRlLmdvKHRhcmdldC5zdGF0ZSgpLCB0YXJnZXQucGFyYW1zKCksIHRhcmdldC5vcHRpb25zKCkpOyB9XSxcbiAgICAgICAgXSk7XG4gICAgICAgIGFwcGx5UmVzdWx0KGJlc3QgJiYgYmVzdC5ydWxlLmhhbmRsZXIoYmVzdC5tYXRjaCwgdXJsLCByb3V0ZXIpKTtcbiAgICB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUubGlzdGVuID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdG9wRm4gJiYgdGhpcy5fc3RvcEZuKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fc3RvcEZuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0b3BGbiA9IHRoaXMuX3N0b3BGbiB8fCB0aGlzLl9yb3V0ZXIudXJsU2VydmljZS5vbkNoYW5nZShmdW5jdGlvbiAoZXZ0KSB7IHJldHVybiBfdGhpcy5zeW5jKGV2dCk7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBBUEkuXG4gICAgICogQGludGVybmFsYXBpXG4gICAgICovXG4gICAgVXJsUm91dGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAocmVhZCkge1xuICAgICAgICB2YXIgJHVybCA9IHRoaXMuX3JvdXRlci5sb2NhdGlvblNlcnZpY2U7XG4gICAgICAgIGlmIChyZWFkKSB7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uID0gJHVybC5wYXRoKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCR1cmwucGF0aCgpID09PSB0aGlzLmxvY2F0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAkdXJsLnVybCh0aGlzLmxvY2F0aW9uLCB0cnVlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludGVybmFsIEFQSS5cbiAgICAgKlxuICAgICAqIFB1c2hlcyBhIG5ldyBsb2NhdGlvbiB0byB0aGUgYnJvd3NlciBoaXN0b3J5LlxuICAgICAqXG4gICAgICogQGludGVybmFsYXBpXG4gICAgICogQHBhcmFtIHVybE1hdGNoZXJcbiAgICAgKiBAcGFyYW0gcGFyYW1zXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBVcmxSb3V0ZXIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAodXJsTWF0Y2hlciwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciByZXBsYWNlID0gb3B0aW9ucyAmJiAhIW9wdGlvbnMucmVwbGFjZTtcbiAgICAgICAgdGhpcy5fcm91dGVyLnVybFNlcnZpY2UudXJsKHVybE1hdGNoZXIuZm9ybWF0KHBhcmFtcyB8fCB7fSksIHJlcGxhY2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQnVpbGRzIGFuZCByZXR1cm5zIGEgVVJMIHdpdGggaW50ZXJwb2xhdGVkIHBhcmFtZXRlcnNcbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIG1hdGNoZXIgPSAkdW1mLmNvbXBpbGUoXCIvYWJvdXQvOnBlcnNvblwiKTtcbiAgICAgKiBwYXJhbXMgPSB7IHBlcnNvbjogXCJib2JcIiB9O1xuICAgICAqICRib2IgPSAkdXJsUm91dGVyLmhyZWYobWF0Y2hlciwgcGFyYW1zKTtcbiAgICAgKiAvLyAkYm9iID09IFwiL2Fib3V0L2JvYlwiO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHVybE1hdGNoZXIgVGhlIFtbVXJsTWF0Y2hlcl1dIG9iamVjdCB3aGljaCBpcyB1c2VkIGFzIHRoZSB0ZW1wbGF0ZSBvZiB0aGUgVVJMIHRvIGdlbmVyYXRlLlxuICAgICAqIEBwYXJhbSBwYXJhbXMgQW4gb2JqZWN0IG9mIHBhcmFtZXRlciB2YWx1ZXMgdG8gZmlsbCB0aGUgbWF0Y2hlcidzIHJlcXVpcmVkIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuIFRoZSBvcHRpb25zIGFyZTpcbiAgICAgKlxuICAgICAqIC0gKipgYWJzb2x1dGVgKiogLSB7Ym9vbGVhbj1mYWxzZX0sICBJZiB0cnVlIHdpbGwgZ2VuZXJhdGUgYW4gYWJzb2x1dGUgdXJsLCBlLmcuIFwiaHR0cDovL3d3dy5leGFtcGxlLmNvbS9mdWxsdXJsXCIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIHRoZSBmdWxseSBjb21waWxlZCBVUkwsIG9yIGBudWxsYCBpZiBgcGFyYW1zYCBmYWlsIHZhbGlkYXRpb24gYWdhaW5zdCBgdXJsTWF0Y2hlcmBcbiAgICAgKi9cbiAgICBVcmxSb3V0ZXIucHJvdG90eXBlLmhyZWYgPSBmdW5jdGlvbiAodXJsTWF0Y2hlciwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciB1cmwgPSB1cmxNYXRjaGVyLmZvcm1hdChwYXJhbXMpO1xuICAgICAgICBpZiAodXJsID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBhYnNvbHV0ZTogZmFsc2UgfTtcbiAgICAgICAgdmFyIGNmZyA9IHRoaXMuX3JvdXRlci51cmxTZXJ2aWNlLmNvbmZpZztcbiAgICAgICAgdmFyIGlzSHRtbDUgPSBjZmcuaHRtbDVNb2RlKCk7XG4gICAgICAgIGlmICghaXNIdG1sNSAmJiB1cmwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVybCA9IFwiI1wiICsgY2ZnLmhhc2hQcmVmaXgoKSArIHVybDtcbiAgICAgICAgfVxuICAgICAgICB1cmwgPSBhcHBlbmRCYXNlUGF0aCh1cmwsIGlzSHRtbDUsIG9wdGlvbnMuYWJzb2x1dGUsIGNmZy5iYXNlSHJlZigpKTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmFic29sdXRlIHx8ICF1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNsYXNoID0gKCFpc0h0bWw1ICYmIHVybCA/ICcvJyA6ICcnKSwgcG9ydCA9IGNmZy5wb3J0KCk7XG4gICAgICAgIHBvcnQgPSAocG9ydCA9PT0gODAgfHwgcG9ydCA9PT0gNDQzID8gJycgOiAnOicgKyBwb3J0KTtcbiAgICAgICAgcmV0dXJuIFtjZmcucHJvdG9jb2woKSwgJzovLycsIGNmZy5ob3N0KCksIHBvcnQsIHNsYXNoLCB1cmxdLmpvaW4oJycpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFudWFsbHkgYWRkcyBhIFVSTCBSdWxlLlxuICAgICAqXG4gICAgICogVXN1YWxseSwgYSB1cmwgcnVsZSBpcyBhZGRlZCB1c2luZyBbW1N0YXRlRGVjbGFyYXRpb24udXJsXV0gb3IgW1t3aGVuXV0uXG4gICAgICogVGhpcyBhcGkgY2FuIGJlIHVzZWQgZGlyZWN0bHkgZm9yIG1vcmUgY29udHJvbCAodG8gcmVnaXN0ZXIgYSBbW0Jhc2VVcmxSdWxlXV0sIGZvciBleGFtcGxlKS5cbiAgICAgKiBSdWxlcyBjYW4gYmUgY3JlYXRlZCB1c2luZyBbW1VybFJvdXRlci51cmxSdWxlRmFjdG9yeV1dLCBvciBjcmVhdGUgbWFudWFsbHkgYXMgc2ltcGxlIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBBIHJ1bGUgc2hvdWxkIGhhdmUgYSBgbWF0Y2hgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdHJ1dGh5IGlmIHRoZSBydWxlIG1hdGNoZWQuXG4gICAgICogSXQgc2hvdWxkIGFsc28gaGF2ZSBhIGBoYW5kbGVyYCBmdW5jdGlvbiB3aGljaCBpcyBpbnZva2VkIGlmIHRoZSBydWxlIGlzIHRoZSBiZXN0IG1hdGNoLlxuICAgICAqXG4gICAgICogQHJldHVybiBhIGZ1bmN0aW9uIHRoYXQgZGVyZWdpc3RlcnMgdGhlIHJ1bGVcbiAgICAgKi9cbiAgICBVcmxSb3V0ZXIucHJvdG90eXBlLnJ1bGUgPSBmdW5jdGlvbiAocnVsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXVybFJ1bGVfMS5VcmxSdWxlRmFjdG9yeS5pc1VybFJ1bGUocnVsZSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHJ1bGVcIik7XG4gICAgICAgIHJ1bGUuJGlkID0gdGhpcy5faWQrKztcbiAgICAgICAgcnVsZS5wcmlvcml0eSA9IHJ1bGUucHJpb3JpdHkgfHwgMDtcbiAgICAgICAgdGhpcy5fcnVsZXMucHVzaChydWxlKTtcbiAgICAgICAgdGhpcy5fc29ydGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5yZW1vdmVSdWxlKHJ1bGUpOyB9O1xuICAgIH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsUm91dGVyLnByb3RvdHlwZS5yZW1vdmVSdWxlID0gZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICAgICAgY29tbW9uXzEucmVtb3ZlRnJvbSh0aGlzLl9ydWxlcywgcnVsZSk7XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBVcmxSb3V0ZXIucHJvdG90eXBlLnJ1bGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVuc3VyZVNvcnRlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcnVsZXMuc2xpY2UoKTtcbiAgICB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUub3RoZXJ3aXNlID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGhhbmRsZXJGbiA9IGdldEhhbmRsZXJGbihoYW5kbGVyKTtcbiAgICAgICAgdGhpcy5fb3RoZXJ3aXNlRm4gPSB0aGlzLnVybFJ1bGVGYWN0b3J5LmNyZWF0ZShob2ZfMS52YWwodHJ1ZSksIGhhbmRsZXJGbik7XG4gICAgICAgIHRoaXMuX3NvcnRlZCA9IGZhbHNlO1xuICAgIH07XG4gICAgO1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUuaW5pdGlhbCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHZhciBoYW5kbGVyRm4gPSBnZXRIYW5kbGVyRm4oaGFuZGxlcik7XG4gICAgICAgIHZhciBtYXRjaEZuID0gZnVuY3Rpb24gKHVybFBhcnRzLCByb3V0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiByb3V0ZXIuZ2xvYmFscy50cmFuc2l0aW9uSGlzdG9yeS5zaXplKCkgPT09IDAgJiYgISEvXlxcLz8kLy5leGVjKHVybFBhcnRzLnBhdGgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJ1bGUodGhpcy51cmxSdWxlRmFjdG9yeS5jcmVhdGUobWF0Y2hGbiwgaGFuZGxlckZuKSk7XG4gICAgfTtcbiAgICA7XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsUm91dGVyLnByb3RvdHlwZS53aGVuID0gZnVuY3Rpb24gKG1hdGNoZXIsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJ1bGUgPSB0aGlzLnVybFJ1bGVGYWN0b3J5LmNyZWF0ZShtYXRjaGVyLCBoYW5kbGVyKTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc0RlZmluZWQob3B0aW9ucyAmJiBvcHRpb25zLnByaW9yaXR5KSlcbiAgICAgICAgICAgIHJ1bGUucHJpb3JpdHkgPSBvcHRpb25zLnByaW9yaXR5O1xuICAgICAgICB0aGlzLnJ1bGUocnVsZSk7XG4gICAgICAgIHJldHVybiBydWxlO1xuICAgIH07XG4gICAgO1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUuZGVmZXJJbnRlcmNlcHQgPSBmdW5jdGlvbiAoZGVmZXIpIHtcbiAgICAgICAgaWYgKGRlZmVyID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBkZWZlciA9IHRydWU7XG4gICAgICAgIHRoaXMuaW50ZXJjZXB0RGVmZXJyZWQgPSBkZWZlcjtcbiAgICB9O1xuICAgIDtcbiAgICByZXR1cm4gVXJsUm91dGVyO1xufSgpKTtcbmV4cG9ydHMuVXJsUm91dGVyID0gVXJsUm91dGVyO1xuZnVuY3Rpb24gZ2V0SGFuZGxlckZuKGhhbmRsZXIpIHtcbiAgICBpZiAoIXByZWRpY2F0ZXNfMS5pc0Z1bmN0aW9uKGhhbmRsZXIpICYmICFwcmVkaWNhdGVzXzEuaXNTdHJpbmcoaGFuZGxlcikgJiYgIWhvZl8xLmlzKHRhcmdldFN0YXRlXzEuVGFyZ2V0U3RhdGUpKGhhbmRsZXIpICYmICF0YXJnZXRTdGF0ZV8xLlRhcmdldFN0YXRlLmlzRGVmKGhhbmRsZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIidoYW5kbGVyJyBtdXN0IGJlIGEgc3RyaW5nLCBmdW5jdGlvbiwgVGFyZ2V0U3RhdGUsIG9yIGhhdmUgYSBzdGF0ZTogJ25ld3RhcmdldCcgcHJvcGVydHlcIik7XG4gICAgfVxuICAgIHJldHVybiBwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihoYW5kbGVyKSA/IGhhbmRsZXIgOiBob2ZfMS52YWwoaGFuZGxlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmxSb3V0ZXIuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi91cmwvdXJsUm91dGVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///41\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @coreapi\n * @module url\n */ /** */\nvar urlMatcher_1 = __webpack_require__(20);\nvar predicates_1 = __webpack_require__(1);\nvar common_1 = __webpack_require__(0);\nvar hof_1 = __webpack_require__(2);\n/**\n * Creates a [[UrlRule]]\n *\n * Creates a [[UrlRule]] from a:\n *\n * - `string`\n * - [[UrlMatcher]]\n * - `RegExp`\n * - [[StateObject]]\n * @internalapi\n */\nvar UrlRuleFactory = function () {\n    function UrlRuleFactory(router) {\n        this.router = router;\n    }\n    UrlRuleFactory.prototype.compile = function (str) {\n        return this.router.urlMatcherFactory.compile(str);\n    };\n    UrlRuleFactory.prototype.create = function (what, handler) {\n        var _this = this;\n        var makeRule = hof_1.pattern([[predicates_1.isString, function (_what) {\n            return makeRule(_this.compile(_what));\n        }], [hof_1.is(urlMatcher_1.UrlMatcher), function (_what) {\n            return _this.fromUrlMatcher(_what, handler);\n        }], [predicates_1.isState, function (_what) {\n            return _this.fromState(_what, _this.router);\n        }], [hof_1.is(RegExp), function (_what) {\n            return _this.fromRegExp(_what, handler);\n        }], [predicates_1.isFunction, function (_what) {\n            return new BaseUrlRule(_what, handler);\n        }]]);\n        var rule = makeRule(what);\n        if (!rule) throw new Error(\"invalid 'what' in when()\");\n        return rule;\n    };\n    /**\n     * A UrlRule which matches based on a UrlMatcher\n     *\n     * The `handler` may be either a `string`, a [[UrlRuleHandlerFn]] or another [[UrlMatcher]]\n     *\n     * ## Handler as a function\n     *\n     * If `handler` is a function, the function is invoked with:\n     *\n     * - matched parameter values ([[RawParams]] from [[UrlMatcher.exec]])\n     * - url: the current Url ([[UrlParts]])\n     * - router: the router object ([[UIRouter]])\n     *\n     * #### Example:\n     * ```js\n     * var urlMatcher = $umf.compile(\"/foo/:fooId/:barId\");\n     * var rule = factory.fromUrlMatcher(urlMatcher, match => \"/home/\" + match.fooId + \"/\" + match.barId);\n     * var match = rule.match('/foo/123/456'); // results in { fooId: '123', barId: '456' }\n     * var result = rule.handler(match); // '/home/123/456'\n     * ```\n     *\n     * ## Handler as UrlMatcher\n     *\n     * If `handler` is a UrlMatcher, the handler matcher is used to create the new url.\n     * The `handler` UrlMatcher is formatted using the matched param from the first matcher.\n     * The url is replaced with the result.\n     *\n     * #### Example:\n     * ```js\n     * var urlMatcher = $umf.compile(\"/foo/:fooId/:barId\");\n     * var handler = $umf.compile(\"/home/:fooId/:barId\");\n     * var rule = factory.fromUrlMatcher(urlMatcher, handler);\n     * var match = rule.match('/foo/123/456'); // results in { fooId: '123', barId: '456' }\n     * var result = rule.handler(match); // '/home/123/456'\n     * ```\n     */\n    UrlRuleFactory.prototype.fromUrlMatcher = function (urlMatcher, handler) {\n        var _handler = handler;\n        if (predicates_1.isString(handler)) handler = this.router.urlMatcherFactory.compile(handler);\n        if (hof_1.is(urlMatcher_1.UrlMatcher)(handler)) _handler = function _handler(match) {\n            return handler.format(match);\n        };\n        function match(url) {\n            var match = urlMatcher.exec(url.path, url.search, url.hash);\n            return urlMatcher.validates(match) && match;\n        }\n        // Prioritize URLs, lowest to highest:\n        // - Some optional URL parameters, but none matched\n        // - No optional parameters in URL\n        // - Some optional parameters, some matched\n        // - Some optional parameters, all matched\n        function matchPriority(params) {\n            var optional = urlMatcher.parameters().filter(function (param) {\n                return param.isOptional;\n            });\n            if (!optional.length) return 0.000001;\n            var matched = optional.filter(function (param) {\n                return params[param.id];\n            });\n            return matched.length / optional.length;\n        }\n        var details = { urlMatcher: urlMatcher, matchPriority: matchPriority, type: \"URLMATCHER\" };\n        return common_1.extend(new BaseUrlRule(match, _handler), details);\n    };\n    /**\n     * A UrlRule which matches a state by its url\n     *\n     * #### Example:\n     * ```js\n     * var rule = factory.fromState($state.get('foo'), router);\n     * var match = rule.match('/foo/123/456'); // results in { fooId: '123', barId: '456' }\n     * var result = rule.handler(match);\n     * // Starts a transition to 'foo' with params: { fooId: '123', barId: '456' }\n     * ```\n     */\n    UrlRuleFactory.prototype.fromState = function (state, router) {\n        /**\n         * Handles match by transitioning to matched state\n         *\n         * First checks if the router should start a new transition.\n         * A new transition is not required if the current state's URL\n         * and the new URL are already identical\n         */\n        var handler = function handler(match) {\n            var $state = router.stateService;\n            var globals = router.globals;\n            if ($state.href(state, match) !== $state.href(globals.current, globals.params)) {\n                $state.transitionTo(state, match, { inherit: true, source: \"url\" });\n            }\n        };\n        var details = { state: state, type: \"STATE\" };\n        return common_1.extend(this.fromUrlMatcher(state.url, handler), details);\n    };\n    /**\n     * A UrlRule which matches based on a regular expression\n     *\n     * The `handler` may be either a [[UrlRuleHandlerFn]] or a string.\n     *\n     * ## Handler as a function\n     *\n     * If `handler` is a function, the function is invoked with:\n     *\n     * - regexp match array (from `regexp`)\n     * - url: the current Url ([[UrlParts]])\n     * - router: the router object ([[UIRouter]])\n     *\n     * #### Example:\n     * ```js\n     * var rule = factory.fromRegExp(/^\\/foo\\/(bar|baz)$/, match => \"/home/\" + match[1])\n     * var match = rule.match('/foo/bar'); // results in [ '/foo/bar', 'bar' ]\n     * var result = rule.handler(match); // '/home/bar'\n     * ```\n     *\n     * ## Handler as string\n     *\n     * If `handler` is a string, the url is *replaced by the string* when the Rule is invoked.\n     * The string is first interpolated using `string.replace()` style pattern.\n     *\n     * #### Example:\n     * ```js\n     * var rule = factory.fromRegExp(/^\\/foo\\/(bar|baz)$/, \"/home/$1\")\n     * var match = rule.match('/foo/bar'); // results in [ '/foo/bar', 'bar' ]\n     * var result = rule.handler(match); // '/home/bar'\n     * ```\n     */\n    UrlRuleFactory.prototype.fromRegExp = function (regexp, handler) {\n        if (regexp.global || regexp.sticky) throw new Error(\"Rule RegExp must not be global or sticky\");\n        /**\n         * If handler is a string, the url will be replaced by the string.\n         * If the string has any String.replace() style variables in it (like `$2`),\n         * they will be replaced by the captures from [[match]]\n         */\n        var redirectUrlTo = function redirectUrlTo(match) {\n            // Interpolates matched values into $1 $2, etc using a String.replace()-style pattern\n            return handler.replace(/\\$(\\$|\\d{1,2})/, function (m, what) {\n                return match[what === '$' ? 0 : Number(what)];\n            });\n        };\n        var _handler = predicates_1.isString(handler) ? redirectUrlTo : handler;\n        var match = function match(url) {\n            return regexp.exec(url.path);\n        };\n        var details = { regexp: regexp, type: \"REGEXP\" };\n        return common_1.extend(new BaseUrlRule(match, _handler), details);\n    };\n    return UrlRuleFactory;\n}();\nUrlRuleFactory.isUrlRule = function (obj) {\n    return obj && ['type', 'match', 'handler'].every(function (key) {\n        return predicates_1.isDefined(obj[key]);\n    });\n};\nexports.UrlRuleFactory = UrlRuleFactory;\n/**\n * A base rule which calls `match`\n *\n * The value from the `match` function is passed through to the `handler`.\n * @internalapi\n */\nvar BaseUrlRule = function () {\n    function BaseUrlRule(match, handler) {\n        var _this = this;\n        this.match = match;\n        this.type = \"RAW\";\n        this.matchPriority = function (match) {\n            return 0 - _this.$id;\n        };\n        this.handler = handler || common_1.identity;\n    }\n    return BaseUrlRule;\n}();\nexports.BaseUrlRule = BaseUrlRule;\n//# sourceMappingURL=urlRule.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3VybC91cmxSdWxlLmpzP2QxYWUiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJ1cmxNYXRjaGVyXzEiLCJyZXF1aXJlIiwicHJlZGljYXRlc18xIiwiY29tbW9uXzEiLCJob2ZfMSIsIlVybFJ1bGVGYWN0b3J5Iiwicm91dGVyIiwicHJvdG90eXBlIiwiY29tcGlsZSIsInN0ciIsInVybE1hdGNoZXJGYWN0b3J5IiwiY3JlYXRlIiwid2hhdCIsImhhbmRsZXIiLCJfdGhpcyIsIm1ha2VSdWxlIiwicGF0dGVybiIsImlzU3RyaW5nIiwiX3doYXQiLCJpcyIsIlVybE1hdGNoZXIiLCJmcm9tVXJsTWF0Y2hlciIsImlzU3RhdGUiLCJmcm9tU3RhdGUiLCJSZWdFeHAiLCJmcm9tUmVnRXhwIiwiaXNGdW5jdGlvbiIsIkJhc2VVcmxSdWxlIiwicnVsZSIsIkVycm9yIiwidXJsTWF0Y2hlciIsIl9oYW5kbGVyIiwibWF0Y2giLCJmb3JtYXQiLCJ1cmwiLCJleGVjIiwicGF0aCIsInNlYXJjaCIsImhhc2giLCJ2YWxpZGF0ZXMiLCJtYXRjaFByaW9yaXR5IiwicGFyYW1zIiwib3B0aW9uYWwiLCJwYXJhbWV0ZXJzIiwiZmlsdGVyIiwicGFyYW0iLCJpc09wdGlvbmFsIiwibGVuZ3RoIiwibWF0Y2hlZCIsImlkIiwiZGV0YWlscyIsInR5cGUiLCJleHRlbmQiLCJzdGF0ZSIsIiRzdGF0ZSIsInN0YXRlU2VydmljZSIsImdsb2JhbHMiLCJocmVmIiwiY3VycmVudCIsInRyYW5zaXRpb25UbyIsImluaGVyaXQiLCJzb3VyY2UiLCJyZWdleHAiLCJnbG9iYWwiLCJzdGlja3kiLCJyZWRpcmVjdFVybFRvIiwicmVwbGFjZSIsIm0iLCJOdW1iZXIiLCJpc1VybFJ1bGUiLCJvYmoiLCJldmVyeSIsImtleSIsImlzRGVmaW5lZCIsIiRpZCIs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dXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBAY29yZWFwaVxuICogQG1vZHVsZSB1cmxcbiAqLyAvKiogKi9cbnZhciB1cmxNYXRjaGVyXzEgPSByZXF1aXJlKFwiLi91cmxNYXRjaGVyXCIpO1xudmFyIHByZWRpY2F0ZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vcHJlZGljYXRlc1wiKTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29tbW9uXCIpO1xudmFyIGhvZl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ob2ZcIik7XG4vKipcbiAqIENyZWF0ZXMgYSBbW1VybFJ1bGVdXVxuICpcbiAqIENyZWF0ZXMgYSBbW1VybFJ1bGVdXSBmcm9tIGE6XG4gKlxuICogLSBgc3RyaW5nYFxuICogLSBbW1VybE1hdGNoZXJdXVxuICogLSBgUmVnRXhwYFxuICogLSBbW1N0YXRlT2JqZWN0XV1cbiAqIEBpbnRlcm5hbGFwaVxuICovXG52YXIgVXJsUnVsZUZhY3RvcnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVybFJ1bGVGYWN0b3J5KHJvdXRlcikge1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICB9XG4gICAgVXJsUnVsZUZhY3RvcnkucHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdXRlci51cmxNYXRjaGVyRmFjdG9yeS5jb21waWxlKHN0cik7XG4gICAgfTtcbiAgICBVcmxSdWxlRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKHdoYXQsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1ha2VSdWxlID0gaG9mXzEucGF0dGVybihbXG4gICAgICAgICAgICBbcHJlZGljYXRlc18xLmlzU3RyaW5nLCBmdW5jdGlvbiAoX3doYXQpIHsgcmV0dXJuIG1ha2VSdWxlKF90aGlzLmNvbXBpbGUoX3doYXQpKTsgfV0sXG4gICAgICAgICAgICBbaG9mXzEuaXModXJsTWF0Y2hlcl8xLlVybE1hdGNoZXIpLCBmdW5jdGlvbiAoX3doYXQpIHsgcmV0dXJuIF90aGlzLmZyb21VcmxNYXRjaGVyKF93aGF0LCBoYW5kbGVyKTsgfV0sXG4gICAgICAgICAgICBbcHJlZGljYXRlc18xLmlzU3RhdGUsIGZ1bmN0aW9uIChfd2hhdCkgeyByZXR1cm4gX3RoaXMuZnJvbVN0YXRlKF93aGF0LCBfdGhpcy5yb3V0ZXIpOyB9XSxcbiAgICAgICAgICAgIFtob2ZfMS5pcyhSZWdFeHApLCBmdW5jdGlvbiAoX3doYXQpIHsgcmV0dXJuIF90aGlzLmZyb21SZWdFeHAoX3doYXQsIGhhbmRsZXIpOyB9XSxcbiAgICAgICAgICAgIFtwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbiwgZnVuY3Rpb24gKF93aGF0KSB7IHJldHVybiBuZXcgQmFzZVVybFJ1bGUoX3doYXQsIGhhbmRsZXIpOyB9XSxcbiAgICAgICAgXSk7XG4gICAgICAgIHZhciBydWxlID0gbWFrZVJ1bGUod2hhdCk7XG4gICAgICAgIGlmICghcnVsZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgJ3doYXQnIGluIHdoZW4oKVwiKTtcbiAgICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIFVybFJ1bGUgd2hpY2ggbWF0Y2hlcyBiYXNlZCBvbiBhIFVybE1hdGNoZXJcbiAgICAgKlxuICAgICAqIFRoZSBgaGFuZGxlcmAgbWF5IGJlIGVpdGhlciBhIGBzdHJpbmdgLCBhIFtbVXJsUnVsZUhhbmRsZXJGbl1dIG9yIGFub3RoZXIgW1tVcmxNYXRjaGVyXV1cbiAgICAgKlxuICAgICAqICMjIEhhbmRsZXIgYXMgYSBmdW5jdGlvblxuICAgICAqXG4gICAgICogSWYgYGhhbmRsZXJgIGlzIGEgZnVuY3Rpb24sIHRoZSBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGg6XG4gICAgICpcbiAgICAgKiAtIG1hdGNoZWQgcGFyYW1ldGVyIHZhbHVlcyAoW1tSYXdQYXJhbXNdXSBmcm9tIFtbVXJsTWF0Y2hlci5leGVjXV0pXG4gICAgICogLSB1cmw6IHRoZSBjdXJyZW50IFVybCAoW1tVcmxQYXJ0c11dKVxuICAgICAqIC0gcm91dGVyOiB0aGUgcm91dGVyIG9iamVjdCAoW1tVSVJvdXRlcl1dKVxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIHVybE1hdGNoZXIgPSAkdW1mLmNvbXBpbGUoXCIvZm9vLzpmb29JZC86YmFySWRcIik7XG4gICAgICogdmFyIHJ1bGUgPSBmYWN0b3J5LmZyb21VcmxNYXRjaGVyKHVybE1hdGNoZXIsIG1hdGNoID0+IFwiL2hvbWUvXCIgKyBtYXRjaC5mb29JZCArIFwiL1wiICsgbWF0Y2guYmFySWQpO1xuICAgICAqIHZhciBtYXRjaCA9IHJ1bGUubWF0Y2goJy9mb28vMTIzLzQ1NicpOyAvLyByZXN1bHRzIGluIHsgZm9vSWQ6ICcxMjMnLCBiYXJJZDogJzQ1NicgfVxuICAgICAqIHZhciByZXN1bHQgPSBydWxlLmhhbmRsZXIobWF0Y2gpOyAvLyAnL2hvbWUvMTIzLzQ1NidcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIEhhbmRsZXIgYXMgVXJsTWF0Y2hlclxuICAgICAqXG4gICAgICogSWYgYGhhbmRsZXJgIGlzIGEgVXJsTWF0Y2hlciwgdGhlIGhhbmRsZXIgbWF0Y2hlciBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgbmV3IHVybC5cbiAgICAgKiBUaGUgYGhhbmRsZXJgIFVybE1hdGNoZXIgaXMgZm9ybWF0dGVkIHVzaW5nIHRoZSBtYXRjaGVkIHBhcmFtIGZyb20gdGhlIGZpcnN0IG1hdGNoZXIuXG4gICAgICogVGhlIHVybCBpcyByZXBsYWNlZCB3aXRoIHRoZSByZXN1bHQuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiB2YXIgdXJsTWF0Y2hlciA9ICR1bWYuY29tcGlsZShcIi9mb28vOmZvb0lkLzpiYXJJZFwiKTtcbiAgICAgKiB2YXIgaGFuZGxlciA9ICR1bWYuY29tcGlsZShcIi9ob21lLzpmb29JZC86YmFySWRcIik7XG4gICAgICogdmFyIHJ1bGUgPSBmYWN0b3J5LmZyb21VcmxNYXRjaGVyKHVybE1hdGNoZXIsIGhhbmRsZXIpO1xuICAgICAqIHZhciBtYXRjaCA9IHJ1bGUubWF0Y2goJy9mb28vMTIzLzQ1NicpOyAvLyByZXN1bHRzIGluIHsgZm9vSWQ6ICcxMjMnLCBiYXJJZDogJzQ1NicgfVxuICAgICAqIHZhciByZXN1bHQgPSBydWxlLmhhbmRsZXIobWF0Y2gpOyAvLyAnL2hvbWUvMTIzLzQ1NidcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBVcmxSdWxlRmFjdG9yeS5wcm90b3R5cGUuZnJvbVVybE1hdGNoZXIgPSBmdW5jdGlvbiAodXJsTWF0Y2hlciwgaGFuZGxlcikge1xuICAgICAgICB2YXIgX2hhbmRsZXIgPSBoYW5kbGVyO1xuICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzU3RyaW5nKGhhbmRsZXIpKVxuICAgICAgICAgICAgaGFuZGxlciA9IHRoaXMucm91dGVyLnVybE1hdGNoZXJGYWN0b3J5LmNvbXBpbGUoaGFuZGxlcik7XG4gICAgICAgIGlmIChob2ZfMS5pcyh1cmxNYXRjaGVyXzEuVXJsTWF0Y2hlcikoaGFuZGxlcikpXG4gICAgICAgICAgICBfaGFuZGxlciA9IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gaGFuZGxlci5mb3JtYXQobWF0Y2gpOyB9O1xuICAgICAgICBmdW5jdGlvbiBtYXRjaCh1cmwpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IHVybE1hdGNoZXIuZXhlYyh1cmwucGF0aCwgdXJsLnNlYXJjaCwgdXJsLmhhc2gpO1xuICAgICAgICAgICAgcmV0dXJuIHVybE1hdGNoZXIudmFsaWRhdGVzKG1hdGNoKSAmJiBtYXRjaDtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcmlvcml0aXplIFVSTHMsIGxvd2VzdCB0byBoaWdoZXN0OlxuICAgICAgICAvLyAtIFNvbWUgb3B0aW9uYWwgVVJMIHBhcmFtZXRlcnMsIGJ1dCBub25lIG1hdGNoZWRcbiAgICAgICAgLy8gLSBObyBvcHRpb25hbCBwYXJhbWV0ZXJzIGluIFVSTFxuICAgICAgICAvLyAtIFNvbWUgb3B0aW9uYWwgcGFyYW1ldGVycywgc29tZSBtYXRjaGVkXG4gICAgICAgIC8vIC0gU29tZSBvcHRpb25hbCBwYXJhbWV0ZXJzLCBhbGwgbWF0Y2hlZFxuICAgICAgICBmdW5jdGlvbiBtYXRjaFByaW9yaXR5KHBhcmFtcykge1xuICAgICAgICAgICAgdmFyIG9wdGlvbmFsID0gdXJsTWF0Y2hlci5wYXJhbWV0ZXJzKCkuZmlsdGVyKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gcGFyYW0uaXNPcHRpb25hbDsgfSk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbmFsLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gMC4wMDAwMDE7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlZCA9IG9wdGlvbmFsLmZpbHRlcihmdW5jdGlvbiAocGFyYW0pIHsgcmV0dXJuIHBhcmFtc1twYXJhbS5pZF07IH0pO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZWQubGVuZ3RoIC8gb3B0aW9uYWwubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZXRhaWxzID0geyB1cmxNYXRjaGVyOiB1cmxNYXRjaGVyLCBtYXRjaFByaW9yaXR5OiBtYXRjaFByaW9yaXR5LCB0eXBlOiBcIlVSTE1BVENIRVJcIiB9O1xuICAgICAgICByZXR1cm4gY29tbW9uXzEuZXh0ZW5kKG5ldyBCYXNlVXJsUnVsZShtYXRjaCwgX2hhbmRsZXIpLCBkZXRhaWxzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgVXJsUnVsZSB3aGljaCBtYXRjaGVzIGEgc3RhdGUgYnkgaXRzIHVybFxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIHJ1bGUgPSBmYWN0b3J5LmZyb21TdGF0ZSgkc3RhdGUuZ2V0KCdmb28nKSwgcm91dGVyKTtcbiAgICAgKiB2YXIgbWF0Y2ggPSBydWxlLm1hdGNoKCcvZm9vLzEyMy80NTYnKTsgLy8gcmVzdWx0cyBpbiB7IGZvb0lkOiAnMTIzJywgYmFySWQ6ICc0NTYnIH1cbiAgICAgKiB2YXIgcmVzdWx0ID0gcnVsZS5oYW5kbGVyKG1hdGNoKTtcbiAgICAgKiAvLyBTdGFydHMgYSB0cmFuc2l0aW9uIHRvICdmb28nIHdpdGggcGFyYW1zOiB7IGZvb0lkOiAnMTIzJywgYmFySWQ6ICc0NTYnIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBVcmxSdWxlRmFjdG9yeS5wcm90b3R5cGUuZnJvbVN0YXRlID0gZnVuY3Rpb24gKHN0YXRlLCByb3V0ZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZXMgbWF0Y2ggYnkgdHJhbnNpdGlvbmluZyB0byBtYXRjaGVkIHN0YXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEZpcnN0IGNoZWNrcyBpZiB0aGUgcm91dGVyIHNob3VsZCBzdGFydCBhIG5ldyB0cmFuc2l0aW9uLlxuICAgICAgICAgKiBBIG5ldyB0cmFuc2l0aW9uIGlzIG5vdCByZXF1aXJlZCBpZiB0aGUgY3VycmVudCBzdGF0ZSdzIFVSTFxuICAgICAgICAgKiBhbmQgdGhlIG5ldyBVUkwgYXJlIGFscmVhZHkgaWRlbnRpY2FsXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICAgICAgdmFyICRzdGF0ZSA9IHJvdXRlci5zdGF0ZVNlcnZpY2U7XG4gICAgICAgICAgICB2YXIgZ2xvYmFscyA9IHJvdXRlci5nbG9iYWxzO1xuICAgICAgICAgICAgaWYgKCRzdGF0ZS5ocmVmKHN0YXRlLCBtYXRjaCkgIT09ICRzdGF0ZS5ocmVmKGdsb2JhbHMuY3VycmVudCwgZ2xvYmFscy5wYXJhbXMpKSB7XG4gICAgICAgICAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25UbyhzdGF0ZSwgbWF0Y2gsIHsgaW5oZXJpdDogdHJ1ZSwgc291cmNlOiBcInVybFwiIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgZGV0YWlscyA9IHsgc3RhdGU6IHN0YXRlLCB0eXBlOiBcIlNUQVRFXCIgfTtcbiAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZCh0aGlzLmZyb21VcmxNYXRjaGVyKHN0YXRlLnVybCwgaGFuZGxlciksIGRldGFpbHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBVcmxSdWxlIHdoaWNoIG1hdGNoZXMgYmFzZWQgb24gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICAgKlxuICAgICAqIFRoZSBgaGFuZGxlcmAgbWF5IGJlIGVpdGhlciBhIFtbVXJsUnVsZUhhbmRsZXJGbl1dIG9yIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogIyMgSGFuZGxlciBhcyBhIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBJZiBgaGFuZGxlcmAgaXMgYSBmdW5jdGlvbiwgdGhlIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aDpcbiAgICAgKlxuICAgICAqIC0gcmVnZXhwIG1hdGNoIGFycmF5IChmcm9tIGByZWdleHBgKVxuICAgICAqIC0gdXJsOiB0aGUgY3VycmVudCBVcmwgKFtbVXJsUGFydHNdXSlcbiAgICAgKiAtIHJvdXRlcjogdGhlIHJvdXRlciBvYmplY3QgKFtbVUlSb3V0ZXJdXSlcbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciBydWxlID0gZmFjdG9yeS5mcm9tUmVnRXhwKC9eXFwvZm9vXFwvKGJhcnxiYXopJC8sIG1hdGNoID0+IFwiL2hvbWUvXCIgKyBtYXRjaFsxXSlcbiAgICAgKiB2YXIgbWF0Y2ggPSBydWxlLm1hdGNoKCcvZm9vL2JhcicpOyAvLyByZXN1bHRzIGluIFsgJy9mb28vYmFyJywgJ2JhcicgXVxuICAgICAqIHZhciByZXN1bHQgPSBydWxlLmhhbmRsZXIobWF0Y2gpOyAvLyAnL2hvbWUvYmFyJ1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgSGFuZGxlciBhcyBzdHJpbmdcbiAgICAgKlxuICAgICAqIElmIGBoYW5kbGVyYCBpcyBhIHN0cmluZywgdGhlIHVybCBpcyAqcmVwbGFjZWQgYnkgdGhlIHN0cmluZyogd2hlbiB0aGUgUnVsZSBpcyBpbnZva2VkLlxuICAgICAqIFRoZSBzdHJpbmcgaXMgZmlyc3QgaW50ZXJwb2xhdGVkIHVzaW5nIGBzdHJpbmcucmVwbGFjZSgpYCBzdHlsZSBwYXR0ZXJuLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIHJ1bGUgPSBmYWN0b3J5LmZyb21SZWdFeHAoL15cXC9mb29cXC8oYmFyfGJheikkLywgXCIvaG9tZS8kMVwiKVxuICAgICAqIHZhciBtYXRjaCA9IHJ1bGUubWF0Y2goJy9mb28vYmFyJyk7IC8vIHJlc3VsdHMgaW4gWyAnL2Zvby9iYXInLCAnYmFyJyBdXG4gICAgICogdmFyIHJlc3VsdCA9IHJ1bGUuaGFuZGxlcihtYXRjaCk7IC8vICcvaG9tZS9iYXInXG4gICAgICogYGBgXG4gICAgICovXG4gICAgVXJsUnVsZUZhY3RvcnkucHJvdG90eXBlLmZyb21SZWdFeHAgPSBmdW5jdGlvbiAocmVnZXhwLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChyZWdleHAuZ2xvYmFsIHx8IHJlZ2V4cC5zdGlja3kpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSdWxlIFJlZ0V4cCBtdXN0IG5vdCBiZSBnbG9iYWwgb3Igc3RpY2t5XCIpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgaGFuZGxlciBpcyBhIHN0cmluZywgdGhlIHVybCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBzdHJpbmcuXG4gICAgICAgICAqIElmIHRoZSBzdHJpbmcgaGFzIGFueSBTdHJpbmcucmVwbGFjZSgpIHN0eWxlIHZhcmlhYmxlcyBpbiBpdCAobGlrZSBgJDJgKSxcbiAgICAgICAgICogdGhleSB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBjYXB0dXJlcyBmcm9tIFtbbWF0Y2hdXVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHJlZGlyZWN0VXJsVG8gPSBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICAgIC8vIEludGVycG9sYXRlcyBtYXRjaGVkIHZhbHVlcyBpbnRvICQxICQyLCBldGMgdXNpbmcgYSBTdHJpbmcucmVwbGFjZSgpLXN0eWxlIHBhdHRlcm5cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVyLnJlcGxhY2UoL1xcJChcXCR8XFxkezEsMn0pLywgZnVuY3Rpb24gKG0sIHdoYXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hbd2hhdCA9PT0gJyQnID8gMCA6IE51bWJlcih3aGF0KV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIF9oYW5kbGVyID0gcHJlZGljYXRlc18xLmlzU3RyaW5nKGhhbmRsZXIpID8gcmVkaXJlY3RVcmxUbyA6IGhhbmRsZXI7XG4gICAgICAgIHZhciBtYXRjaCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiByZWdleHAuZXhlYyh1cmwucGF0aCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkZXRhaWxzID0geyByZWdleHA6IHJlZ2V4cCwgdHlwZTogXCJSRUdFWFBcIiB9O1xuICAgICAgICByZXR1cm4gY29tbW9uXzEuZXh0ZW5kKG5ldyBCYXNlVXJsUnVsZShtYXRjaCwgX2hhbmRsZXIpLCBkZXRhaWxzKTtcbiAgICB9O1xuICAgIHJldHVybiBVcmxSdWxlRmFjdG9yeTtcbn0oKSk7XG5VcmxSdWxlRmFjdG9yeS5pc1VybFJ1bGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBbJ3R5cGUnLCAnbWF0Y2gnLCAnaGFuZGxlciddLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHByZWRpY2F0ZXNfMS5pc0RlZmluZWQob2JqW2tleV0pOyB9KTtcbn07XG5leHBvcnRzLlVybFJ1bGVGYWN0b3J5ID0gVXJsUnVsZUZhY3Rvcnk7XG4vKipcbiAqIEEgYmFzZSBydWxlIHdoaWNoIGNhbGxzIGBtYXRjaGBcbiAqXG4gKiBUaGUgdmFsdWUgZnJvbSB0aGUgYG1hdGNoYCBmdW5jdGlvbiBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgYGhhbmRsZXJgLlxuICogQGludGVybmFsYXBpXG4gKi9cbnZhciBCYXNlVXJsUnVsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmFzZVVybFJ1bGUobWF0Y2gsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5tYXRjaCA9IG1hdGNoO1xuICAgICAgICB0aGlzLnR5cGUgPSBcIlJBV1wiO1xuICAgICAgICB0aGlzLm1hdGNoUHJpb3JpdHkgPSBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIDAgLSBfdGhpcy4kaWQ7IH07XG4gICAgICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXIgfHwgY29tbW9uXzEuaWRlbnRpdHk7XG4gICAgfVxuICAgIHJldHVybiBCYXNlVXJsUnVsZTtcbn0oKSk7XG5leHBvcnRzLkJhc2VVcmxSdWxlID0gQmFzZVVybFJ1bGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmxSdWxlLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvdXJsL3VybFJ1bGUuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///42\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @coreapi\n * @module view\n */ /** for typedoc */\nvar common_1 = __webpack_require__(0);\nvar hof_1 = __webpack_require__(2);\nvar predicates_1 = __webpack_require__(1);\nvar trace_1 = __webpack_require__(6);\n/**\n * The View service\n *\n * This service pairs existing `ui-view` components (which live in the DOM)\n * with view configs (from the state declaration objects: [[StateDeclaration.views]]).\n *\n * - After a successful Transition, the views from the newly entered states are activated via [[activateViewConfig]].\n *   The views from exited states are deactivated via [[deactivateViewConfig]].\n *   (See: the [[registerActivateViews]] Transition Hook)\n *\n * - As `ui-view` components pop in and out of existence, they register themselves using [[registerUIView]].\n *\n * - When the [[sync]] function is called, the registered `ui-view`(s) ([[ActiveUIView]])\n * are configured with the matching [[ViewConfig]](s)\n *\n */\nvar ViewService = function () {\n    function ViewService() {\n        var _this = this;\n        this._uiViews = [];\n        this._viewConfigs = [];\n        this._viewConfigFactories = {};\n        this._pluginapi = {\n            _rootViewContext: this._rootViewContext.bind(this),\n            _viewConfigFactory: this._viewConfigFactory.bind(this),\n            _registeredUIViews: function _registeredUIViews() {\n                return _this._uiViews;\n            },\n            _activeViewConfigs: function _activeViewConfigs() {\n                return _this._viewConfigs;\n            }\n        };\n    }\n    ViewService.prototype._rootViewContext = function (context) {\n        return this._rootContext = context || this._rootContext;\n    };\n    ;\n    ViewService.prototype._viewConfigFactory = function (viewType, factory) {\n        this._viewConfigFactories[viewType] = factory;\n    };\n    ViewService.prototype.createViewConfig = function (path, decl) {\n        var cfgFactory = this._viewConfigFactories[decl.$type];\n        if (!cfgFactory) throw new Error("ViewService: No view config factory registered for type " + decl.$type);\n        var cfgs = cfgFactory(path, decl);\n        return predicates_1.isArray(cfgs) ? cfgs : [cfgs];\n    };\n    /**\n     * Deactivates a ViewConfig.\n     *\n     * This function deactivates a `ViewConfig`.\n     * After calling [[sync]], it will un-pair from any `ui-view` with which it is currently paired.\n     *\n     * @param viewConfig The ViewConfig view to deregister.\n     */\n    ViewService.prototype.deactivateViewConfig = function (viewConfig) {\n        trace_1.trace.traceViewServiceEvent("<- Removing", viewConfig);\n        common_1.removeFrom(this._viewConfigs, viewConfig);\n    };\n    ViewService.prototype.activateViewConfig = function (viewConfig) {\n        trace_1.trace.traceViewServiceEvent("-> Registering", viewConfig);\n        this._viewConfigs.push(viewConfig);\n    };\n    ViewService.prototype.sync = function () {\n        var _this = this;\n        var uiViewsByFqn = this._uiViews.map(function (uiv) {\n            return [uiv.fqn, uiv];\n        }).reduce(common_1.applyPairs, {});\n        // Return a weighted depth value for a uiView.\n        // The depth is the nesting depth of ui-views (based on FQN; times 10,000)\n        // plus the depth of the state that is populating the uiView\n        function uiViewDepth(uiView) {\n            var stateDepth = function stateDepth(context) {\n                return context && context.parent ? stateDepth(context.parent) + 1 : 1;\n            };\n            return uiView.fqn.split(".").length * 10000 + stateDepth(uiView.creationContext);\n        }\n        // Return the ViewConfig\'s context\'s depth in the context tree.\n        function viewConfigDepth(config) {\n            var context = config.viewDecl.$context,\n                count = 0;\n            while (++count && context.parent) {\n                context = context.parent;\n            }return count;\n        }\n        // Given a depth function, returns a compare function which can return either ascending or descending order\n        var depthCompare = hof_1.curry(function (depthFn, posNeg, left, right) {\n            return posNeg * (depthFn(left) - depthFn(right));\n        });\n        var matchingConfigPair = function matchingConfigPair(uiView) {\n            var matchingConfigs = _this._viewConfigs.filter(ViewService.matches(uiViewsByFqn, uiView));\n            if (matchingConfigs.length > 1) {\n                // This is OK.  Child states can target a ui-view that the parent state also targets (the child wins)\n                // Sort by depth and return the match from the deepest child\n                // console.log(`Multiple matching view configs for ${uiView.fqn}`, matchingConfigs);\n                matchingConfigs.sort(depthCompare(viewConfigDepth, -1)); // descending\n            }\n            return [uiView, matchingConfigs[0]];\n        };\n        var configureUIView = function configureUIView(_a) {\n            var uiView = _a[0],\n                viewConfig = _a[1];\n            // If a parent ui-view is reconfigured, it could destroy child ui-views.\n            // Before configuring a child ui-view, make sure it\'s still in the active uiViews array.\n            if (_this._uiViews.indexOf(uiView) !== -1) uiView.configUpdated(viewConfig);\n        };\n        // Sort views by FQN and state depth. Process uiviews nearest the root first.\n        this._uiViews.sort(depthCompare(uiViewDepth, 1)).map(matchingConfigPair).forEach(configureUIView);\n    };\n    ;\n    /**\n     * Registers a `ui-view` component\n     *\n     * When a `ui-view` component is created, it uses this method to register itself.\n     * After registration the [[sync]] method is used to ensure all `ui-view` are configured with the proper [[ViewConfig]].\n     *\n     * Note: the `ui-view` component uses the `ViewConfig` to determine what view should be loaded inside the `ui-view`,\n     * and what the view\'s state context is.\n     *\n     * Note: There is no corresponding `deregisterUIView`.\n     *       A `ui-view` should hang on to the return value of `registerUIView` and invoke it to deregister itself.\n     *\n     * @param uiView The metadata for a UIView\n     * @return a de-registration function used when the view is destroyed.\n     */\n    ViewService.prototype.registerUIView = function (uiView) {\n        trace_1.trace.traceViewServiceUIViewEvent("-> Registering", uiView);\n        var uiViews = this._uiViews;\n        var fqnMatches = function fqnMatches(uiv) {\n            return uiv.fqn === uiView.fqn;\n        };\n        if (uiViews.filter(fqnMatches).length) trace_1.trace.traceViewServiceUIViewEvent("!!!! duplicate uiView named:", uiView);\n        uiViews.push(uiView);\n        this.sync();\n        return function () {\n            var idx = uiViews.indexOf(uiView);\n            if (idx === -1) {\n                trace_1.trace.traceViewServiceUIViewEvent("Tried removing non-registered uiView", uiView);\n                return;\n            }\n            trace_1.trace.traceViewServiceUIViewEvent("<- Deregistering", uiView);\n            common_1.removeFrom(uiViews)(uiView);\n        };\n    };\n    ;\n    /**\n     * Returns the list of views currently available on the page, by fully-qualified name.\n     *\n     * @return {Array} Returns an array of fully-qualified view names.\n     */\n    ViewService.prototype.available = function () {\n        return this._uiViews.map(hof_1.prop("fqn"));\n    };\n    /**\n     * Returns the list of views on the page containing loaded content.\n     *\n     * @return {Array} Returns an array of fully-qualified view names.\n     */\n    ViewService.prototype.active = function () {\n        return this._uiViews.filter(hof_1.prop("$config")).map(hof_1.prop("name"));\n    };\n    /**\n     * Normalizes a view\'s name from a state.views configuration block.\n     *\n     * This should be used by a framework implementation to calculate the values for\n     * [[_ViewDeclaration.$uiViewName]] and [[_ViewDeclaration.$uiViewContextAnchor]].\n     *\n     * @param context the context object (state declaration) that the view belongs to\n     * @param rawViewName the name of the view, as declared in the [[StateDeclaration.views]]\n     *\n     * @returns the normalized uiViewName and uiViewContextAnchor that the view targets\n     */\n    ViewService.normalizeUIViewTarget = function (context, rawViewName) {\n        if (rawViewName === void 0) {\n            rawViewName = "";\n        }\n        // TODO: Validate incoming view name with a regexp to allow:\n        // ex: "view.name@foo.bar" , "^.^.view.name" , "view.name@^.^" , "" ,\n        // "@" , "$default@^" , "!$default.$default" , "!foo.bar"\n        var viewAtContext = rawViewName.split("@");\n        var uiViewName = viewAtContext[0] || "$default"; // default to unnamed view\n        var uiViewContextAnchor = predicates_1.isString(viewAtContext[1]) ? viewAtContext[1] : "^"; // default to parent context\n        // Handle relative view-name sugar syntax.\n        // Matches rawViewName "^.^.^.foo.bar" into array: ["^.^.^.foo.bar", "^.^.^", "foo.bar"],\n        var relativeViewNameSugar = /^(\\^(?:\\.\\^)*)\\.(.*$)/.exec(uiViewName);\n        if (relativeViewNameSugar) {\n            // Clobbers existing contextAnchor (rawViewName validation will fix this)\n            uiViewContextAnchor = relativeViewNameSugar[1]; // set anchor to "^.^.^"\n            uiViewName = relativeViewNameSugar[2]; // set view-name to "foo.bar"\n        }\n        if (uiViewName.charAt(0) === \'!\') {\n            uiViewName = uiViewName.substr(1);\n            uiViewContextAnchor = ""; // target absolutely from root\n        }\n        // handle parent relative targeting "^.^.^"\n        var relativeMatch = /^(\\^(?:\\.\\^)*)$/;\n        if (relativeMatch.exec(uiViewContextAnchor)) {\n            var anchor = uiViewContextAnchor.split(".").reduce(function (anchor, x) {\n                return anchor.parent;\n            }, context);\n            uiViewContextAnchor = anchor.name;\n        } else if (uiViewContextAnchor === \'.\') {\n            uiViewContextAnchor = context.name;\n        }\n        return { uiViewName: uiViewName, uiViewContextAnchor: uiViewContextAnchor };\n    };\n    return ViewService;\n}();\n/**\n * Given a ui-view and a ViewConfig, determines if they "match".\n *\n * A ui-view has a fully qualified name (fqn) and a context object.  The fqn is built from its overall location in\n * the DOM, describing its nesting relationship to any parent ui-view tags it is nested inside of.\n *\n * A ViewConfig has a target ui-view name and a context anchor.  The ui-view name can be a simple name, or\n * can be a segmented ui-view path, describing a portion of a ui-view fqn.\n *\n * In order for a ui-view to match ViewConfig, ui-view\'s $type must match the ViewConfig\'s $type\n *\n * If the ViewConfig\'s target ui-view name is a simple name (no dots), then a ui-view matches if:\n * - the ui-view\'s name matches the ViewConfig\'s target name\n * - the ui-view\'s context matches the ViewConfig\'s anchor\n *\n * If the ViewConfig\'s target ui-view name is a segmented name (with dots), then a ui-view matches if:\n * - There exists a parent ui-view where:\n *    - the parent ui-view\'s name matches the first segment (index 0) of the ViewConfig\'s target name\n *    - the parent ui-view\'s context matches the ViewConfig\'s anchor\n * - And the remaining segments (index 1..n) of the ViewConfig\'s target name match the tail of the ui-view\'s fqn\n *\n * Example:\n *\n * DOM:\n * <ui-view>                        \x3c!-- created in the root context (name: "") --\x3e\n *   <ui-view name="foo">                \x3c!-- created in the context named: "A"      --\x3e\n *     <ui-view>                    \x3c!-- created in the context named: "A.B"    --\x3e\n *       <ui-view name="bar">            \x3c!-- created in the context named: "A.B.C"  --\x3e\n *       </ui-view>\n *     </ui-view>\n *   </ui-view>\n * </ui-view>\n *\n * uiViews: [\n *  { fqn: "$default",                  creationContext: { name: "" } },\n *  { fqn: "$default.foo",              creationContext: { name: "A" } },\n *  { fqn: "$default.foo.$default",     creationContext: { name: "A.B" } }\n *  { fqn: "$default.foo.$default.bar", creationContext: { name: "A.B.C" } }\n * ]\n *\n * These four view configs all match the ui-view with the fqn: "$default.foo.$default.bar":\n *\n * - ViewConfig1: { uiViewName: "bar",                       uiViewContextAnchor: "A.B.C" }\n * - ViewConfig2: { uiViewName: "$default.bar",              uiViewContextAnchor: "A.B" }\n * - ViewConfig3: { uiViewName: "foo.$default.bar",          uiViewContextAnchor: "A" }\n * - ViewConfig4: { uiViewName: "$default.foo.$default.bar", uiViewContextAnchor: "" }\n *\n * Using ViewConfig3 as an example, it matches the ui-view with fqn "$default.foo.$default.bar" because:\n * - The ViewConfig\'s segmented target name is: [ "foo", "$default", "bar" ]\n * - There exists a parent ui-view (which has fqn: "$default.foo") where:\n *    - the parent ui-view\'s name "foo" matches the first segment "foo" of the ViewConfig\'s target name\n *    - the parent ui-view\'s context "A" matches the ViewConfig\'s anchor context "A"\n * - And the remaining segments [ "$default", "bar" ].join("."_ of the ViewConfig\'s target name match\n *   the tail of the ui-view\'s fqn "default.bar"\n *\n * @internalapi\n */\nViewService.matches = function (uiViewsByFqn, uiView) {\n    return function (viewConfig) {\n        // Don\'t supply an ng1 ui-view with an ng2 ViewConfig, etc\n        if (uiView.$type !== viewConfig.viewDecl.$type) return false;\n        // Split names apart from both viewConfig and uiView into segments\n        var vc = viewConfig.viewDecl;\n        var vcSegments = vc.$uiViewName.split(".");\n        var uivSegments = uiView.fqn.split(".");\n        // Check if the tails of the segment arrays match. ex, these arrays\' tails match:\n        // vc: ["foo", "bar"], uiv fqn: ["$default", "foo", "bar"]\n        if (!common_1.equals(vcSegments, uivSegments.slice(0 - vcSegments.length))) return false;\n        // Now check if the fqn ending at the first segment of the viewConfig matches the context:\n        // ["$default", "foo"].join(".") == "$default.foo", does the ui-view $default.foo context match?\n        var negOffset = 1 - vcSegments.length || undefined;\n        var fqnToFirstSegment = uivSegments.slice(0, negOffset).join(".");\n        var uiViewContext = uiViewsByFqn[fqnToFirstSegment].creationContext;\n        return vc.$uiViewContextAnchor === (uiViewContext && uiViewContext.name);\n    };\n};\nexports.ViewService = ViewService;\n//# sourceMappingURL=view.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZpZXcvdmlldy5qcz9lMzkzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY29tbW9uXzEiLCJyZXF1aXJlIiwiaG9mXzEiLCJwcmVkaWNhdGVzXzEiLCJ0cmFjZV8xIiwiVmlld1NlcnZpY2UiLCJfdGhpcyIsIl91aVZpZXdzIiwiX3ZpZXdDb25maWdzIiwiX3ZpZXdDb25maWdGYWN0b3JpZXMiLCJfcGx1Z2luYXBpIiwiX3Jvb3RWaWV3Q29udGV4dCIsImJpbmQiLCJfdmlld0NvbmZpZ0ZhY3RvcnkiLCJfcmVnaXN0ZXJlZFVJVmlld3MiLCJfYWN0aXZlVmlld0NvbmZpZ3MiLCJwcm90b3R5cGUiLCJjb250ZXh0IiwiX3Jvb3RDb250ZXh0Iiwidmlld1R5cGUiLCJmYWN0b3J5IiwiY3JlYXRlVmlld0NvbmZpZyIsInBhdGgiLCJkZWNsIiwiY2ZnRmFjdG9yeSIsIiR0eXBlIiwiRXJyb3IiLCJjZmdzIiwiaXNBcnJheSIsImRlYWN0aXZhdGVWaWV3Q29uZmlnIiwidmlld0NvbmZpZyIsInRyYWNlIiwidHJhY2VWaWV3U2VydmljZUV2ZW50IiwicmVtb3ZlRnJvbSIsImFjdGl2YXRlVmlld0NvbmZpZyIsInB1c2giLCJzeW5jIiwidWlWaWV3c0J5RnFuIiwibWFwIiwidWl2IiwiZnFuIiwicmVkdWNlIiwiYXBwbHlQYWlycyIsInVpVmlld0RlcHRoIiwidWlWaWV3Iiwic3RhdGVEZXB0aCIsInBhcmVudCIsInNwbGl0IiwibGVuZ3RoIiwiY3JlYXRpb25Db250ZXh0Iiwidmlld0NvbmZpZ0RlcHRoIiwiY29uZmlnIiwidmlld0RlY2wiLCIkY29udGV4dCIsImNvdW50IiwiZGVwdGhDb21wYXJlIiwiY3VycnkiLCJkZXB0aEZuIiwicG9zTmVnIiwibGVmdCIsInJpZ2h0IiwibWF0Y2hpbmdDb25maWdQYWlyIiwibWF0Y2hpbmdDb25maWdzIiwiZmlsdGVyIiwibWF0Y2hlcyIsInNvcnQiLCJjb25maWd1cmVVSVZpZXciLCJfYSIsImluZGV4T2YiLCJjb25maWdVcGRhdGVkIiwiZm9yRWFjaCIsInJlZ2lzdGVyVUlWaWV3IiwidHJhY2VWaWV3U2VydmljZVVJVmlld0V2ZW50IiwidWlWaWV3cyIsImZxbk1hdGNoZXMiLCJpZHgiLCJhdmFpbGFibGUiLCJwcm9wIiwiYWN0aXZlIiwibm9ybWFsaXplVUlWaWV3VGFyZ2V0IiwicmF3Vmlld05hbWUiLCJ2aWV3QXRDb250ZXh0IiwidWlWaWV3TmFtZSIsInVpVmlld0NvbnRleHRBbmNob3IiLCJpc1N0cmluZyIsInJlbGF0aXZlVmlld05hbWVTdWdhciIsImV4ZWMiLCJjaGFyQXQiLCJzdWJzdHIiLCJyZWxhdGl2ZU1hdGNoIiwiYW5jaG9yIiwieCIsIm5hbWUiLCJ2YyIsInZjU2VnbWVudHMiLCIkdWlWaWV3TmFtZSIsInVpdlNlZ21lbnRzIiwiZXF1YWxzIiwic2xpY2UiLCJuZWdPZmZzZXQiLCJ1bmRlZmluZWQiLCJmcW5Ub0ZpcnN0U2VnbWVudCIsImpvaW4iLCJ1aVZpZXdDb250ZXh0IiwiJHVpVmlld0NvbnRleHRBbmNob3IiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTs7O0lBR0k7QUFDSixJQUFJQyxXQUFXLG1CQUFBQyxDQUFRLENBQVIsQ0FBZjtBQUNBLElBQUlDLFFBQVEsbUJBQUFELENBQVEsQ0FBUixDQUFaO0FBQ0EsSUFBSUUsZUFBZSxtQkFBQUYsQ0FBUSxDQUFSLENBQW5CO0FBQ0EsSUFBSUcsVUFBVSxtQkFBQUgsQ0FBUSxDQUFSLENBQWQ7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQSxJQUFJSSxjQUFlLFlBQVk7QUFDM0IsYUFBU0EsV0FBVCxHQUF1QjtBQUNuQixZQUFJQyxRQUFRLElBQVo7QUFDQSxhQUFLQyxRQUFMLEdBQWdC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R0FBakIsQ0FBbEI7QUFDQTtBQUNBO0FBQ0EsWUFBSSxDQUFDL0MsU0FBU2lHLE1BQVQsQ0FBZ0JILFVBQWhCLEVBQTRCRSxZQUFZRSxLQUFaLENBQWtCLElBQUlKLFdBQVc5QyxNQUFqQyxDQUE1QixDQUFMLEVBQ0ksT0FBTyxLQUFQO0FBQ0o7QUFDQTtBQUNBLFlBQUltRCxZQUFhLElBQUlMLFdBQVc5QyxNQUFoQixJQUEyQm9ELFNBQTNDO0FBQ0EsWUFBSUMsb0JBQW9CTCxZQUFZRSxLQUFaLENBQWtCLENBQWxCLEVBQXFCQyxTQUFyQixFQUFnQ0csSUFBaEMsQ0FBcUMsR0FBckMsQ0FBeEI7QUFDQSxZQUFJQyxnQkFBZ0JsRSxhQUFhZ0UsaUJBQWIsRUFBZ0NwRCxlQUFwRDtBQUNBLGVBQU80QyxHQUFHVyxvQkFBSCxNQUE2QkQsaUJBQWlCQSxjQUFjWCxJQUE1RCxDQUFQO0FBQ0gsS0FsQnVEO0FBa0JwRCxDQWxCSjtBQW1CQTlGLFFBQVFPLFdBQVIsR0FBc0JBLFdBQXRCO0FBQ0EiLCJmaWxlIjoiNDMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgdmlld1xuICovIC8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2hvZlwiKTtcbnZhciBwcmVkaWNhdGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgdHJhY2VfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vdHJhY2VcIik7XG4vKipcbiAqIFRoZSBWaWV3IHNlcnZpY2VcbiAqXG4gKiBUaGlzIHNlcnZpY2UgcGFpcnMgZXhpc3RpbmcgYHVpLXZpZXdgIGNvbXBvbmVudHMgKHdoaWNoIGxpdmUgaW4gdGhlIERPTSlcbiAqIHdpdGggdmlldyBjb25maWdzIChmcm9tIHRoZSBzdGF0ZSBkZWNsYXJhdGlvbiBvYmplY3RzOiBbW1N0YXRlRGVjbGFyYXRpb24udmlld3NdXSkuXG4gKlxuICogLSBBZnRlciBhIHN1Y2Nlc3NmdWwgVHJhbnNpdGlvbiwgdGhlIHZpZXdzIGZyb20gdGhlIG5ld2x5IGVudGVyZWQgc3RhdGVzIGFyZSBhY3RpdmF0ZWQgdmlhIFtbYWN0aXZhdGVWaWV3Q29uZmlnXV0uXG4gKiAgIFRoZSB2aWV3cyBmcm9tIGV4aXRlZCBzdGF0ZXMgYXJlIGRlYWN0aXZhdGVkIHZpYSBbW2RlYWN0aXZhdGVWaWV3Q29uZmlnXV0uXG4gKiAgIChTZWU6IHRoZSBbW3JlZ2lzdGVyQWN0aXZhdGVWaWV3c11dIFRyYW5zaXRpb24gSG9vaylcbiAqXG4gKiAtIEFzIGB1aS12aWV3YCBjb21wb25lbnRzIHBvcCBpbiBhbmQgb3V0IG9mIGV4aXN0ZW5jZSwgdGhleSByZWdpc3RlciB0aGVtc2VsdmVzIHVzaW5nIFtbcmVnaXN0ZXJVSVZpZXddXS5cbiAqXG4gKiAtIFdoZW4gdGhlIFtbc3luY11dIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHJlZ2lzdGVyZWQgYHVpLXZpZXdgKHMpIChbW0FjdGl2ZVVJVmlld11dKVxuICogYXJlIGNvbmZpZ3VyZWQgd2l0aCB0aGUgbWF0Y2hpbmcgW1tWaWV3Q29uZmlnXV0ocylcbiAqXG4gKi9cbnZhciBWaWV3U2VydmljZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlld1NlcnZpY2UoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3VpVmlld3MgPSBbXTtcbiAgICAgICAgdGhpcy5fdmlld0NvbmZpZ3MgPSBbXTtcbiAgICAgICAgdGhpcy5fdmlld0NvbmZpZ0ZhY3RvcmllcyA9IHt9O1xuICAgICAgICB0aGlzLl9wbHVnaW5hcGkgPSB7XG4gICAgICAgICAgICBfcm9vdFZpZXdDb250ZXh0OiB0aGlzLl9yb290Vmlld0NvbnRleHQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIF92aWV3Q29uZmlnRmFjdG9yeTogdGhpcy5fdmlld0NvbmZpZ0ZhY3RvcnkuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIF9yZWdpc3RlcmVkVUlWaWV3czogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3VpVmlld3M7IH0sXG4gICAgICAgICAgICBfYWN0aXZlVmlld0NvbmZpZ3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl92aWV3Q29uZmlnczsgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgVmlld1NlcnZpY2UucHJvdG90eXBlLl9yb290Vmlld0NvbnRleHQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm9vdENvbnRleHQgPSBjb250ZXh0IHx8IHRoaXMuX3Jvb3RDb250ZXh0O1xuICAgIH07XG4gICAgO1xuICAgIFZpZXdTZXJ2aWNlLnByb3RvdHlwZS5fdmlld0NvbmZpZ0ZhY3RvcnkgPSBmdW5jdGlvbiAodmlld1R5cGUsIGZhY3RvcnkpIHtcbiAgICAgICAgdGhpcy5fdmlld0NvbmZpZ0ZhY3Rvcmllc1t2aWV3VHlwZV0gPSBmYWN0b3J5O1xuICAgIH07XG4gICAgVmlld1NlcnZpY2UucHJvdG90eXBlLmNyZWF0ZVZpZXdDb25maWcgPSBmdW5jdGlvbiAocGF0aCwgZGVjbCkge1xuICAgICAgICB2YXIgY2ZnRmFjdG9yeSA9IHRoaXMuX3ZpZXdDb25maWdGYWN0b3JpZXNbZGVjbC4kdHlwZV07XG4gICAgICAgIGlmICghY2ZnRmFjdG9yeSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZpZXdTZXJ2aWNlOiBObyB2aWV3IGNvbmZpZyBmYWN0b3J5IHJlZ2lzdGVyZWQgZm9yIHR5cGUgXCIgKyBkZWNsLiR0eXBlKTtcbiAgICAgICAgdmFyIGNmZ3MgPSBjZmdGYWN0b3J5KHBhdGgsIGRlY2wpO1xuICAgICAgICByZXR1cm4gcHJlZGljYXRlc18xLmlzQXJyYXkoY2ZncykgPyBjZmdzIDogW2NmZ3NdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVhY3RpdmF0ZXMgYSBWaWV3Q29uZmlnLlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBkZWFjdGl2YXRlcyBhIGBWaWV3Q29uZmlnYC5cbiAgICAgKiBBZnRlciBjYWxsaW5nIFtbc3luY11dLCBpdCB3aWxsIHVuLXBhaXIgZnJvbSBhbnkgYHVpLXZpZXdgIHdpdGggd2hpY2ggaXQgaXMgY3VycmVudGx5IHBhaXJlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2aWV3Q29uZmlnIFRoZSBWaWV3Q29uZmlnIHZpZXcgdG8gZGVyZWdpc3Rlci5cbiAgICAgKi9cbiAgICBWaWV3U2VydmljZS5wcm90b3R5cGUuZGVhY3RpdmF0ZVZpZXdDb25maWcgPSBmdW5jdGlvbiAodmlld0NvbmZpZykge1xuICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlVmlld1NlcnZpY2VFdmVudChcIjwtIFJlbW92aW5nXCIsIHZpZXdDb25maWcpO1xuICAgICAgICBjb21tb25fMS5yZW1vdmVGcm9tKHRoaXMuX3ZpZXdDb25maWdzLCB2aWV3Q29uZmlnKTtcbiAgICB9O1xuICAgIFZpZXdTZXJ2aWNlLnByb3RvdHlwZS5hY3RpdmF0ZVZpZXdDb25maWcgPSBmdW5jdGlvbiAodmlld0NvbmZpZykge1xuICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlVmlld1NlcnZpY2VFdmVudChcIi0+IFJlZ2lzdGVyaW5nXCIsIHZpZXdDb25maWcpO1xuICAgICAgICB0aGlzLl92aWV3Q29uZmlncy5wdXNoKHZpZXdDb25maWcpO1xuICAgIH07XG4gICAgVmlld1NlcnZpY2UucHJvdG90eXBlLnN5bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB1aVZpZXdzQnlGcW4gPSB0aGlzLl91aVZpZXdzLm1hcChmdW5jdGlvbiAodWl2KSB7IHJldHVybiBbdWl2LmZxbiwgdWl2XTsgfSkucmVkdWNlKGNvbW1vbl8xLmFwcGx5UGFpcnMsIHt9KTtcbiAgICAgICAgLy8gUmV0dXJuIGEgd2VpZ2h0ZWQgZGVwdGggdmFsdWUgZm9yIGEgdWlWaWV3LlxuICAgICAgICAvLyBUaGUgZGVwdGggaXMgdGhlIG5lc3RpbmcgZGVwdGggb2YgdWktdmlld3MgKGJhc2VkIG9uIEZRTjsgdGltZXMgMTAsMDAwKVxuICAgICAgICAvLyBwbHVzIHRoZSBkZXB0aCBvZiB0aGUgc3RhdGUgdGhhdCBpcyBwb3B1bGF0aW5nIHRoZSB1aVZpZXdcbiAgICAgICAgZnVuY3Rpb24gdWlWaWV3RGVwdGgodWlWaWV3KSB7XG4gICAgICAgICAgICB2YXIgc3RhdGVEZXB0aCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQgJiYgY29udGV4dC5wYXJlbnQgPyBzdGF0ZURlcHRoKGNvbnRleHQucGFyZW50KSArIDEgOiAxO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiAodWlWaWV3LmZxbi5zcGxpdChcIi5cIikubGVuZ3RoICogMTAwMDApICsgc3RhdGVEZXB0aCh1aVZpZXcuY3JlYXRpb25Db250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm4gdGhlIFZpZXdDb25maWcncyBjb250ZXh0J3MgZGVwdGggaW4gdGhlIGNvbnRleHQgdHJlZS5cbiAgICAgICAgZnVuY3Rpb24gdmlld0NvbmZpZ0RlcHRoKGNvbmZpZykge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjb25maWcudmlld0RlY2wuJGNvbnRleHQsIGNvdW50ID0gMDtcbiAgICAgICAgICAgIHdoaWxlICgrK2NvdW50ICYmIGNvbnRleHQucGFyZW50KVxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnBhcmVudDtcbiAgICAgICAgICAgIHJldHVybiBjb3VudDtcbiAgICAgICAgfVxuICAgICAgICAvLyBHaXZlbiBhIGRlcHRoIGZ1bmN0aW9uLCByZXR1cm5zIGEgY29tcGFyZSBmdW5jdGlvbiB3aGljaCBjYW4gcmV0dXJuIGVpdGhlciBhc2NlbmRpbmcgb3IgZGVzY2VuZGluZyBvcmRlclxuICAgICAgICB2YXIgZGVwdGhDb21wYXJlID0gaG9mXzEuY3VycnkoZnVuY3Rpb24gKGRlcHRoRm4sIHBvc05lZywgbGVmdCwgcmlnaHQpIHsgcmV0dXJuIHBvc05lZyAqIChkZXB0aEZuKGxlZnQpIC0gZGVwdGhGbihyaWdodCkpOyB9KTtcbiAgICAgICAgdmFyIG1hdGNoaW5nQ29uZmlnUGFpciA9IGZ1bmN0aW9uICh1aVZpZXcpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGluZ0NvbmZpZ3MgPSBfdGhpcy5fdmlld0NvbmZpZ3MuZmlsdGVyKFZpZXdTZXJ2aWNlLm1hdGNoZXModWlWaWV3c0J5RnFuLCB1aVZpZXcpKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ0NvbmZpZ3MubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgT0suICBDaGlsZCBzdGF0ZXMgY2FuIHRhcmdldCBhIHVpLXZpZXcgdGhhdCB0aGUgcGFyZW50IHN0YXRlIGFsc28gdGFyZ2V0cyAodGhlIGNoaWxkIHdpbnMpXG4gICAgICAgICAgICAgICAgLy8gU29ydCBieSBkZXB0aCBhbmQgcmV0dXJuIHRoZSBtYXRjaCBmcm9tIHRoZSBkZWVwZXN0IGNoaWxkXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYE11bHRpcGxlIG1hdGNoaW5nIHZpZXcgY29uZmlncyBmb3IgJHt1aVZpZXcuZnFufWAsIG1hdGNoaW5nQ29uZmlncyk7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdDb25maWdzLnNvcnQoZGVwdGhDb21wYXJlKHZpZXdDb25maWdEZXB0aCwgLTEpKTsgLy8gZGVzY2VuZGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFt1aVZpZXcsIG1hdGNoaW5nQ29uZmlnc1swXV07XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjb25maWd1cmVVSVZpZXcgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciB1aVZpZXcgPSBfYVswXSwgdmlld0NvbmZpZyA9IF9hWzFdO1xuICAgICAgICAgICAgLy8gSWYgYSBwYXJlbnQgdWktdmlldyBpcyByZWNvbmZpZ3VyZWQsIGl0IGNvdWxkIGRlc3Ryb3kgY2hpbGQgdWktdmlld3MuXG4gICAgICAgICAgICAvLyBCZWZvcmUgY29uZmlndXJpbmcgYSBjaGlsZCB1aS12aWV3LCBtYWtlIHN1cmUgaXQncyBzdGlsbCBpbiB0aGUgYWN0aXZlIHVpVmlld3MgYXJyYXkuXG4gICAgICAgICAgICBpZiAoX3RoaXMuX3VpVmlld3MuaW5kZXhPZih1aVZpZXcpICE9PSAtMSlcbiAgICAgICAgICAgICAgICB1aVZpZXcuY29uZmlnVXBkYXRlZCh2aWV3Q29uZmlnKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gU29ydCB2aWV3cyBieSBGUU4gYW5kIHN0YXRlIGRlcHRoLiBQcm9jZXNzIHVpdmlld3MgbmVhcmVzdCB0aGUgcm9vdCBmaXJzdC5cbiAgICAgICAgdGhpcy5fdWlWaWV3cy5zb3J0KGRlcHRoQ29tcGFyZSh1aVZpZXdEZXB0aCwgMSkpLm1hcChtYXRjaGluZ0NvbmZpZ1BhaXIpLmZvckVhY2goY29uZmlndXJlVUlWaWV3KTtcbiAgICB9O1xuICAgIDtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBgdWktdmlld2AgY29tcG9uZW50XG4gICAgICpcbiAgICAgKiBXaGVuIGEgYHVpLXZpZXdgIGNvbXBvbmVudCBpcyBjcmVhdGVkLCBpdCB1c2VzIHRoaXMgbWV0aG9kIHRvIHJlZ2lzdGVyIGl0c2VsZi5cbiAgICAgKiBBZnRlciByZWdpc3RyYXRpb24gdGhlIFtbc3luY11dIG1ldGhvZCBpcyB1c2VkIHRvIGVuc3VyZSBhbGwgYHVpLXZpZXdgIGFyZSBjb25maWd1cmVkIHdpdGggdGhlIHByb3BlciBbW1ZpZXdDb25maWddXS5cbiAgICAgKlxuICAgICAqIE5vdGU6IHRoZSBgdWktdmlld2AgY29tcG9uZW50IHVzZXMgdGhlIGBWaWV3Q29uZmlnYCB0byBkZXRlcm1pbmUgd2hhdCB2aWV3IHNob3VsZCBiZSBsb2FkZWQgaW5zaWRlIHRoZSBgdWktdmlld2AsXG4gICAgICogYW5kIHdoYXQgdGhlIHZpZXcncyBzdGF0ZSBjb250ZXh0IGlzLlxuICAgICAqXG4gICAgICogTm90ZTogVGhlcmUgaXMgbm8gY29ycmVzcG9uZGluZyBgZGVyZWdpc3RlclVJVmlld2AuXG4gICAgICogICAgICAgQSBgdWktdmlld2Agc2hvdWxkIGhhbmcgb24gdG8gdGhlIHJldHVybiB2YWx1ZSBvZiBgcmVnaXN0ZXJVSVZpZXdgIGFuZCBpbnZva2UgaXQgdG8gZGVyZWdpc3RlciBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdWlWaWV3IFRoZSBtZXRhZGF0YSBmb3IgYSBVSVZpZXdcbiAgICAgKiBAcmV0dXJuIGEgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIHVzZWQgd2hlbiB0aGUgdmlldyBpcyBkZXN0cm95ZWQuXG4gICAgICovXG4gICAgVmlld1NlcnZpY2UucHJvdG90eXBlLnJlZ2lzdGVyVUlWaWV3ID0gZnVuY3Rpb24gKHVpVmlldykge1xuICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlVmlld1NlcnZpY2VVSVZpZXdFdmVudChcIi0+IFJlZ2lzdGVyaW5nXCIsIHVpVmlldyk7XG4gICAgICAgIHZhciB1aVZpZXdzID0gdGhpcy5fdWlWaWV3cztcbiAgICAgICAgdmFyIGZxbk1hdGNoZXMgPSBmdW5jdGlvbiAodWl2KSB7IHJldHVybiB1aXYuZnFuID09PSB1aVZpZXcuZnFuOyB9O1xuICAgICAgICBpZiAodWlWaWV3cy5maWx0ZXIoZnFuTWF0Y2hlcykubGVuZ3RoKVxuICAgICAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZVZpZXdTZXJ2aWNlVUlWaWV3RXZlbnQoXCIhISEhIGR1cGxpY2F0ZSB1aVZpZXcgbmFtZWQ6XCIsIHVpVmlldyk7XG4gICAgICAgIHVpVmlld3MucHVzaCh1aVZpZXcpO1xuICAgICAgICB0aGlzLnN5bmMoKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpZHggPSB1aVZpZXdzLmluZGV4T2YodWlWaWV3KTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZVZpZXdTZXJ2aWNlVUlWaWV3RXZlbnQoXCJUcmllZCByZW1vdmluZyBub24tcmVnaXN0ZXJlZCB1aVZpZXdcIiwgdWlWaWV3KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlVmlld1NlcnZpY2VVSVZpZXdFdmVudChcIjwtIERlcmVnaXN0ZXJpbmdcIiwgdWlWaWV3KTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnJlbW92ZUZyb20odWlWaWV3cykodWlWaWV3KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHZpZXdzIGN1cnJlbnRseSBhdmFpbGFibGUgb24gdGhlIHBhZ2UsIGJ5IGZ1bGx5LXF1YWxpZmllZCBuYW1lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgZnVsbHktcXVhbGlmaWVkIHZpZXcgbmFtZXMuXG4gICAgICovXG4gICAgVmlld1NlcnZpY2UucHJvdG90eXBlLmF2YWlsYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VpVmlld3MubWFwKGhvZl8xLnByb3AoXCJmcW5cIikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiB2aWV3cyBvbiB0aGUgcGFnZSBjb250YWluaW5nIGxvYWRlZCBjb250ZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgZnVsbHktcXVhbGlmaWVkIHZpZXcgbmFtZXMuXG4gICAgICovXG4gICAgVmlld1NlcnZpY2UucHJvdG90eXBlLmFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VpVmlld3MuZmlsdGVyKGhvZl8xLnByb3AoXCIkY29uZmlnXCIpKS5tYXAoaG9mXzEucHJvcChcIm5hbWVcIikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplcyBhIHZpZXcncyBuYW1lIGZyb20gYSBzdGF0ZS52aWV3cyBjb25maWd1cmF0aW9uIGJsb2NrLlxuICAgICAqXG4gICAgICogVGhpcyBzaG91bGQgYmUgdXNlZCBieSBhIGZyYW1ld29yayBpbXBsZW1lbnRhdGlvbiB0byBjYWxjdWxhdGUgdGhlIHZhbHVlcyBmb3JcbiAgICAgKiBbW19WaWV3RGVjbGFyYXRpb24uJHVpVmlld05hbWVdXSBhbmQgW1tfVmlld0RlY2xhcmF0aW9uLiR1aVZpZXdDb250ZXh0QW5jaG9yXV0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udGV4dCB0aGUgY29udGV4dCBvYmplY3QgKHN0YXRlIGRlY2xhcmF0aW9uKSB0aGF0IHRoZSB2aWV3IGJlbG9uZ3MgdG9cbiAgICAgKiBAcGFyYW0gcmF3Vmlld05hbWUgdGhlIG5hbWUgb2YgdGhlIHZpZXcsIGFzIGRlY2xhcmVkIGluIHRoZSBbW1N0YXRlRGVjbGFyYXRpb24udmlld3NdXVxuICAgICAqXG4gICAgICogQHJldHVybnMgdGhlIG5vcm1hbGl6ZWQgdWlWaWV3TmFtZSBhbmQgdWlWaWV3Q29udGV4dEFuY2hvciB0aGF0IHRoZSB2aWV3IHRhcmdldHNcbiAgICAgKi9cbiAgICBWaWV3U2VydmljZS5ub3JtYWxpemVVSVZpZXdUYXJnZXQgPSBmdW5jdGlvbiAoY29udGV4dCwgcmF3Vmlld05hbWUpIHtcbiAgICAgICAgaWYgKHJhd1ZpZXdOYW1lID09PSB2b2lkIDApIHsgcmF3Vmlld05hbWUgPSBcIlwiOyB9XG4gICAgICAgIC8vIFRPRE86IFZhbGlkYXRlIGluY29taW5nIHZpZXcgbmFtZSB3aXRoIGEgcmVnZXhwIHRvIGFsbG93OlxuICAgICAgICAvLyBleDogXCJ2aWV3Lm5hbWVAZm9vLmJhclwiICwgXCJeLl4udmlldy5uYW1lXCIgLCBcInZpZXcubmFtZUBeLl5cIiAsIFwiXCIgLFxuICAgICAgICAvLyBcIkBcIiAsIFwiJGRlZmF1bHRAXlwiICwgXCIhJGRlZmF1bHQuJGRlZmF1bHRcIiAsIFwiIWZvby5iYXJcIlxuICAgICAgICB2YXIgdmlld0F0Q29udGV4dCA9IHJhd1ZpZXdOYW1lLnNwbGl0KFwiQFwiKTtcbiAgICAgICAgdmFyIHVpVmlld05hbWUgPSB2aWV3QXRDb250ZXh0WzBdIHx8IFwiJGRlZmF1bHRcIjsgLy8gZGVmYXVsdCB0byB1bm5hbWVkIHZpZXdcbiAgICAgICAgdmFyIHVpVmlld0NvbnRleHRBbmNob3IgPSBwcmVkaWNhdGVzXzEuaXNTdHJpbmcodmlld0F0Q29udGV4dFsxXSkgPyB2aWV3QXRDb250ZXh0WzFdIDogXCJeXCI7IC8vIGRlZmF1bHQgdG8gcGFyZW50IGNvbnRleHRcbiAgICAgICAgLy8gSGFuZGxlIHJlbGF0aXZlIHZpZXctbmFtZSBzdWdhciBzeW50YXguXG4gICAgICAgIC8vIE1hdGNoZXMgcmF3Vmlld05hbWUgXCJeLl4uXi5mb28uYmFyXCIgaW50byBhcnJheTogW1wiXi5eLl4uZm9vLmJhclwiLCBcIl4uXi5eXCIsIFwiZm9vLmJhclwiXSxcbiAgICAgICAgdmFyIHJlbGF0aXZlVmlld05hbWVTdWdhciA9IC9eKFxcXig/OlxcLlxcXikqKVxcLiguKiQpLy5leGVjKHVpVmlld05hbWUpO1xuICAgICAgICBpZiAocmVsYXRpdmVWaWV3TmFtZVN1Z2FyKSB7XG4gICAgICAgICAgICAvLyBDbG9iYmVycyBleGlzdGluZyBjb250ZXh0QW5jaG9yIChyYXdWaWV3TmFtZSB2YWxpZGF0aW9uIHdpbGwgZml4IHRoaXMpXG4gICAgICAgICAgICB1aVZpZXdDb250ZXh0QW5jaG9yID0gcmVsYXRpdmVWaWV3TmFtZVN1Z2FyWzFdOyAvLyBzZXQgYW5jaG9yIHRvIFwiXi5eLl5cIlxuICAgICAgICAgICAgdWlWaWV3TmFtZSA9IHJlbGF0aXZlVmlld05hbWVTdWdhclsyXTsgLy8gc2V0IHZpZXctbmFtZSB0byBcImZvby5iYXJcIlxuICAgICAgICB9XG4gICAgICAgIGlmICh1aVZpZXdOYW1lLmNoYXJBdCgwKSA9PT0gJyEnKSB7XG4gICAgICAgICAgICB1aVZpZXdOYW1lID0gdWlWaWV3TmFtZS5zdWJzdHIoMSk7XG4gICAgICAgICAgICB1aVZpZXdDb250ZXh0QW5jaG9yID0gXCJcIjsgLy8gdGFyZ2V0IGFic29sdXRlbHkgZnJvbSByb290XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIHBhcmVudCByZWxhdGl2ZSB0YXJnZXRpbmcgXCJeLl4uXlwiXG4gICAgICAgIHZhciByZWxhdGl2ZU1hdGNoID0gL14oXFxeKD86XFwuXFxeKSopJC87XG4gICAgICAgIGlmIChyZWxhdGl2ZU1hdGNoLmV4ZWModWlWaWV3Q29udGV4dEFuY2hvcikpIHtcbiAgICAgICAgICAgIHZhciBhbmNob3IgPSB1aVZpZXdDb250ZXh0QW5jaG9yLnNwbGl0KFwiLlwiKS5yZWR1Y2UoKGZ1bmN0aW9uIChhbmNob3IsIHgpIHsgcmV0dXJuIGFuY2hvci5wYXJlbnQ7IH0pLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHVpVmlld0NvbnRleHRBbmNob3IgPSBhbmNob3IubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1aVZpZXdDb250ZXh0QW5jaG9yID09PSAnLicpIHtcbiAgICAgICAgICAgIHVpVmlld0NvbnRleHRBbmNob3IgPSBjb250ZXh0Lm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdWlWaWV3TmFtZTogdWlWaWV3TmFtZSwgdWlWaWV3Q29udGV4dEFuY2hvcjogdWlWaWV3Q29udGV4dEFuY2hvciB9O1xuICAgIH07XG4gICAgcmV0dXJuIFZpZXdTZXJ2aWNlO1xufSgpKTtcbi8qKlxuICogR2l2ZW4gYSB1aS12aWV3IGFuZCBhIFZpZXdDb25maWcsIGRldGVybWluZXMgaWYgdGhleSBcIm1hdGNoXCIuXG4gKlxuICogQSB1aS12aWV3IGhhcyBhIGZ1bGx5IHF1YWxpZmllZCBuYW1lIChmcW4pIGFuZCBhIGNvbnRleHQgb2JqZWN0LiAgVGhlIGZxbiBpcyBidWlsdCBmcm9tIGl0cyBvdmVyYWxsIGxvY2F0aW9uIGluXG4gKiB0aGUgRE9NLCBkZXNjcmliaW5nIGl0cyBuZXN0aW5nIHJlbGF0aW9uc2hpcCB0byBhbnkgcGFyZW50IHVpLXZpZXcgdGFncyBpdCBpcyBuZXN0ZWQgaW5zaWRlIG9mLlxuICpcbiAqIEEgVmlld0NvbmZpZyBoYXMgYSB0YXJnZXQgdWktdmlldyBuYW1lIGFuZCBhIGNvbnRleHQgYW5jaG9yLiAgVGhlIHVpLXZpZXcgbmFtZSBjYW4gYmUgYSBzaW1wbGUgbmFtZSwgb3JcbiAqIGNhbiBiZSBhIHNlZ21lbnRlZCB1aS12aWV3IHBhdGgsIGRlc2NyaWJpbmcgYSBwb3J0aW9uIG9mIGEgdWktdmlldyBmcW4uXG4gKlxuICogSW4gb3JkZXIgZm9yIGEgdWktdmlldyB0byBtYXRjaCBWaWV3Q29uZmlnLCB1aS12aWV3J3MgJHR5cGUgbXVzdCBtYXRjaCB0aGUgVmlld0NvbmZpZydzICR0eXBlXG4gKlxuICogSWYgdGhlIFZpZXdDb25maWcncyB0YXJnZXQgdWktdmlldyBuYW1lIGlzIGEgc2ltcGxlIG5hbWUgKG5vIGRvdHMpLCB0aGVuIGEgdWktdmlldyBtYXRjaGVzIGlmOlxuICogLSB0aGUgdWktdmlldydzIG5hbWUgbWF0Y2hlcyB0aGUgVmlld0NvbmZpZydzIHRhcmdldCBuYW1lXG4gKiAtIHRoZSB1aS12aWV3J3MgY29udGV4dCBtYXRjaGVzIHRoZSBWaWV3Q29uZmlnJ3MgYW5jaG9yXG4gKlxuICogSWYgdGhlIFZpZXdDb25maWcncyB0YXJnZXQgdWktdmlldyBuYW1lIGlzIGEgc2VnbWVudGVkIG5hbWUgKHdpdGggZG90cyksIHRoZW4gYSB1aS12aWV3IG1hdGNoZXMgaWY6XG4gKiAtIFRoZXJlIGV4aXN0cyBhIHBhcmVudCB1aS12aWV3IHdoZXJlOlxuICogICAgLSB0aGUgcGFyZW50IHVpLXZpZXcncyBuYW1lIG1hdGNoZXMgdGhlIGZpcnN0IHNlZ21lbnQgKGluZGV4IDApIG9mIHRoZSBWaWV3Q29uZmlnJ3MgdGFyZ2V0IG5hbWVcbiAqICAgIC0gdGhlIHBhcmVudCB1aS12aWV3J3MgY29udGV4dCBtYXRjaGVzIHRoZSBWaWV3Q29uZmlnJ3MgYW5jaG9yXG4gKiAtIEFuZCB0aGUgcmVtYWluaW5nIHNlZ21lbnRzIChpbmRleCAxLi5uKSBvZiB0aGUgVmlld0NvbmZpZydzIHRhcmdldCBuYW1lIG1hdGNoIHRoZSB0YWlsIG9mIHRoZSB1aS12aWV3J3MgZnFuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBET006XG4gKiA8dWktdmlldz4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIGNyZWF0ZWQgaW4gdGhlIHJvb3QgY29udGV4dCAobmFtZTogXCJcIikgLS0+XG4gKiAgIDx1aS12aWV3IG5hbWU9XCJmb29cIj4gICAgICAgICAgICAgICAgPCEtLSBjcmVhdGVkIGluIHRoZSBjb250ZXh0IG5hbWVkOiBcIkFcIiAgICAgIC0tPlxuICogICAgIDx1aS12aWV3PiAgICAgICAgICAgICAgICAgICAgPCEtLSBjcmVhdGVkIGluIHRoZSBjb250ZXh0IG5hbWVkOiBcIkEuQlwiICAgIC0tPlxuICogICAgICAgPHVpLXZpZXcgbmFtZT1cImJhclwiPiAgICAgICAgICAgIDwhLS0gY3JlYXRlZCBpbiB0aGUgY29udGV4dCBuYW1lZDogXCJBLkIuQ1wiICAtLT5cbiAqICAgICAgIDwvdWktdmlldz5cbiAqICAgICA8L3VpLXZpZXc+XG4gKiAgIDwvdWktdmlldz5cbiAqIDwvdWktdmlldz5cbiAqXG4gKiB1aVZpZXdzOiBbXG4gKiAgeyBmcW46IFwiJGRlZmF1bHRcIiwgICAgICAgICAgICAgICAgICBjcmVhdGlvbkNvbnRleHQ6IHsgbmFtZTogXCJcIiB9IH0sXG4gKiAgeyBmcW46IFwiJGRlZmF1bHQuZm9vXCIsICAgICAgICAgICAgICBjcmVhdGlvbkNvbnRleHQ6IHsgbmFtZTogXCJBXCIgfSB9LFxuICogIHsgZnFuOiBcIiRkZWZhdWx0LmZvby4kZGVmYXVsdFwiLCAgICAgY3JlYXRpb25Db250ZXh0OiB7IG5hbWU6IFwiQS5CXCIgfSB9XG4gKiAgeyBmcW46IFwiJGRlZmF1bHQuZm9vLiRkZWZhdWx0LmJhclwiLCBjcmVhdGlvbkNvbnRleHQ6IHsgbmFtZTogXCJBLkIuQ1wiIH0gfVxuICogXVxuICpcbiAqIFRoZXNlIGZvdXIgdmlldyBjb25maWdzIGFsbCBtYXRjaCB0aGUgdWktdmlldyB3aXRoIHRoZSBmcW46IFwiJGRlZmF1bHQuZm9vLiRkZWZhdWx0LmJhclwiOlxuICpcbiAqIC0gVmlld0NvbmZpZzE6IHsgdWlWaWV3TmFtZTogXCJiYXJcIiwgICAgICAgICAgICAgICAgICAgICAgIHVpVmlld0NvbnRleHRBbmNob3I6IFwiQS5CLkNcIiB9XG4gKiAtIFZpZXdDb25maWcyOiB7IHVpVmlld05hbWU6IFwiJGRlZmF1bHQuYmFyXCIsICAgICAgICAgICAgICB1aVZpZXdDb250ZXh0QW5jaG9yOiBcIkEuQlwiIH1cbiAqIC0gVmlld0NvbmZpZzM6IHsgdWlWaWV3TmFtZTogXCJmb28uJGRlZmF1bHQuYmFyXCIsICAgICAgICAgIHVpVmlld0NvbnRleHRBbmNob3I6IFwiQVwiIH1cbiAqIC0gVmlld0NvbmZpZzQ6IHsgdWlWaWV3TmFtZTogXCIkZGVmYXVsdC5mb28uJGRlZmF1bHQuYmFyXCIsIHVpVmlld0NvbnRleHRBbmNob3I6IFwiXCIgfVxuICpcbiAqIFVzaW5nIFZpZXdDb25maWczIGFzIGFuIGV4YW1wbGUsIGl0IG1hdGNoZXMgdGhlIHVpLXZpZXcgd2l0aCBmcW4gXCIkZGVmYXVsdC5mb28uJGRlZmF1bHQuYmFyXCIgYmVjYXVzZTpcbiAqIC0gVGhlIFZpZXdDb25maWcncyBzZWdtZW50ZWQgdGFyZ2V0IG5hbWUgaXM6IFsgXCJmb29cIiwgXCIkZGVmYXVsdFwiLCBcImJhclwiIF1cbiAqIC0gVGhlcmUgZXhpc3RzIGEgcGFyZW50IHVpLXZpZXcgKHdoaWNoIGhhcyBmcW46IFwiJGRlZmF1bHQuZm9vXCIpIHdoZXJlOlxuICogICAgLSB0aGUgcGFyZW50IHVpLXZpZXcncyBuYW1lIFwiZm9vXCIgbWF0Y2hlcyB0aGUgZmlyc3Qgc2VnbWVudCBcImZvb1wiIG9mIHRoZSBWaWV3Q29uZmlnJ3MgdGFyZ2V0IG5hbWVcbiAqICAgIC0gdGhlIHBhcmVudCB1aS12aWV3J3MgY29udGV4dCBcIkFcIiBtYXRjaGVzIHRoZSBWaWV3Q29uZmlnJ3MgYW5jaG9yIGNvbnRleHQgXCJBXCJcbiAqIC0gQW5kIHRoZSByZW1haW5pbmcgc2VnbWVudHMgWyBcIiRkZWZhdWx0XCIsIFwiYmFyXCIgXS5qb2luKFwiLlwiXyBvZiB0aGUgVmlld0NvbmZpZydzIHRhcmdldCBuYW1lIG1hdGNoXG4gKiAgIHRoZSB0YWlsIG9mIHRoZSB1aS12aWV3J3MgZnFuIFwiZGVmYXVsdC5iYXJcIlxuICpcbiAqIEBpbnRlcm5hbGFwaVxuICovXG5WaWV3U2VydmljZS5tYXRjaGVzID0gZnVuY3Rpb24gKHVpVmlld3NCeUZxbiwgdWlWaWV3KSB7IHJldHVybiBmdW5jdGlvbiAodmlld0NvbmZpZykge1xuICAgIC8vIERvbid0IHN1cHBseSBhbiBuZzEgdWktdmlldyB3aXRoIGFuIG5nMiBWaWV3Q29uZmlnLCBldGNcbiAgICBpZiAodWlWaWV3LiR0eXBlICE9PSB2aWV3Q29uZmlnLnZpZXdEZWNsLiR0eXBlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gU3BsaXQgbmFtZXMgYXBhcnQgZnJvbSBib3RoIHZpZXdDb25maWcgYW5kIHVpVmlldyBpbnRvIHNlZ21lbnRzXG4gICAgdmFyIHZjID0gdmlld0NvbmZpZy52aWV3RGVjbDtcbiAgICB2YXIgdmNTZWdtZW50cyA9IHZjLiR1aVZpZXdOYW1lLnNwbGl0KFwiLlwiKTtcbiAgICB2YXIgdWl2U2VnbWVudHMgPSB1aVZpZXcuZnFuLnNwbGl0KFwiLlwiKTtcbiAgICAvLyBDaGVjayBpZiB0aGUgdGFpbHMgb2YgdGhlIHNlZ21lbnQgYXJyYXlzIG1hdGNoLiBleCwgdGhlc2UgYXJyYXlzJyB0YWlscyBtYXRjaDpcbiAgICAvLyB2YzogW1wiZm9vXCIsIFwiYmFyXCJdLCB1aXYgZnFuOiBbXCIkZGVmYXVsdFwiLCBcImZvb1wiLCBcImJhclwiXVxuICAgIGlmICghY29tbW9uXzEuZXF1YWxzKHZjU2VnbWVudHMsIHVpdlNlZ21lbnRzLnNsaWNlKDAgLSB2Y1NlZ21lbnRzLmxlbmd0aCkpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gTm93IGNoZWNrIGlmIHRoZSBmcW4gZW5kaW5nIGF0IHRoZSBmaXJzdCBzZWdtZW50IG9mIHRoZSB2aWV3Q29uZmlnIG1hdGNoZXMgdGhlIGNvbnRleHQ6XG4gICAgLy8gW1wiJGRlZmF1bHRcIiwgXCJmb29cIl0uam9pbihcIi5cIikgPT0gXCIkZGVmYXVsdC5mb29cIiwgZG9lcyB0aGUgdWktdmlldyAkZGVmYXVsdC5mb28gY29udGV4dCBtYXRjaD9cbiAgICB2YXIgbmVnT2Zmc2V0ID0gKDEgLSB2Y1NlZ21lbnRzLmxlbmd0aCkgfHwgdW5kZWZpbmVkO1xuICAgIHZhciBmcW5Ub0ZpcnN0U2VnbWVudCA9IHVpdlNlZ21lbnRzLnNsaWNlKDAsIG5lZ09mZnNldCkuam9pbihcIi5cIik7XG4gICAgdmFyIHVpVmlld0NvbnRleHQgPSB1aVZpZXdzQnlGcW5bZnFuVG9GaXJzdFNlZ21lbnRdLmNyZWF0aW9uQ29udGV4dDtcbiAgICByZXR1cm4gdmMuJHVpVmlld0NvbnRleHRBbmNob3IgPT09ICh1aVZpZXdDb250ZXh0ICYmIHVpVmlld0NvbnRleHQubmFtZSk7XG59OyB9O1xuZXhwb3J0cy5WaWV3U2VydmljZSA9IFZpZXdTZXJ2aWNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZpZXcvdmlldy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///43\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @coreapi\n * @module core\n */ /** */\nvar stateParams_1 = __webpack_require__(33);\nvar queue_1 = __webpack_require__(23);\n/**\n * Global router state\n *\n * This is where we hold the global mutable state such as current state, current\n * params, current transition, etc.\n */\nvar UIRouterGlobals = function () {\n  function UIRouterGlobals() {\n    /**\n     * Current parameter values\n     *\n     * The parameter values from the latest successful transition\n     */\n    this.params = new stateParams_1.StateParams();\n    /** @internalapi */\n    this.lastStartedTransitionId = -1;\n    /** @internalapi */\n    this.transitionHistory = new queue_1.Queue([], 1);\n    /** @internalapi */\n    this.successfulTransitions = new queue_1.Queue([], 1);\n  }\n  UIRouterGlobals.prototype.dispose = function () {\n    this.transitionHistory.clear();\n    this.successfulTransitions.clear();\n    this.transition = null;\n  };\n  return UIRouterGlobals;\n}();\nexports.UIRouterGlobals = UIRouterGlobals;\n//# sourceMappingURL=globals.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2dsb2JhbHMuanM/NjEwMCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInN0YXRlUGFyYW1zXzEiLCJyZXF1aXJlIiwicXVldWVfMSIsIlVJUm91dGVyR2xvYmFscyIsInBhcmFtcyIsIlN0YXRlUGFyYW1zIiwibGFzdFN0YXJ0ZWRUcmFuc2l0aW9uSWQiLCJ0cmFuc2l0aW9uSGlzdG9yeSIsIlF1ZXVlIiwic3VjY2Vzc2Z1bFRyYW5zaXRpb25zIiwicHJvdG90eXBlIiwiZGlzcG9zZSIsImNsZWFyIiwidHJhbnNpdGlvbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBOzs7SUFHSTtBQUNKLElBQUlDLGdCQUFnQixtQkFBQUMsQ0FBUSxFQUFSLENBQXBCO0FBQ0EsSUFBSUMsVUFBVSxtQkFBQUQsQ0FBUSxFQUFSLENBQWQ7QUFDQTs7Ozs7O0FBTUEsSUFBSUUsa0JBQW1CLFlBQVk7QUFDL0IsV0FBU0EsZUFBVCxHQUEyQjtBQUN2Qjs7Ozs7QUFLQSxTQUFLQyxNQUFMLEdBQWMsSUFBSUosY0FBY0ssV0FBbEIsRUFBZDtBQUNBO0FBQ0EsU0FBS0MsdUJBQUwsR0FBK0IsQ0FBQyxDQUFoQztBQUNBO0FBQ0EsU0FBS0MsaUJBQUwsR0FBeUIsSUFBSUwsUUFBUU0sS0FBWixDQUFrQixFQUFsQixFQUFzQixDQUF0QixDQUF6QjtBQUNBO0FBQ0EsU0FBS0MscUJBQUwsR0FBNkIsSUFBSVAsUUFBUU0sS0FBWixDQUFrQixFQUFsQixFQUFzQixDQUF0QixDQUE3QjtBQUNIO0FBQ0RMLGtCQUFnQk8sU0FBaEIsQ0FBMEJDLE9BQTFCLEdBQW9DLFlBQVk7QUFDNUMsU0FBS0osaUJBQUwsQ0FBdUJLLEtBQXZCO0FBQ0EsU0FBS0gscUJBQUwsQ0FBMkJHLEtBQTNCO0FBQ0EsU0FBS0MsVUFBTCxHQUFrQixJQUFsQjtBQUNILEdBSkQ7QUFLQSxTQUFPVixlQUFQO0FBQ0gsQ0FyQnNCLEVBQXZCO0FBc0JBTCxRQUFRSyxlQUFSLEdBQTBCQSxlQUExQjtBQUNBIiwiZmlsZSI6IjQ0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEBjb3JlYXBpXG4gKiBAbW9kdWxlIGNvcmVcbiAqLyAvKiogKi9cbnZhciBzdGF0ZVBhcmFtc18xID0gcmVxdWlyZShcIi4vcGFyYW1zL3N0YXRlUGFyYW1zXCIpO1xudmFyIHF1ZXVlXzEgPSByZXF1aXJlKFwiLi9jb21tb24vcXVldWVcIik7XG4vKipcbiAqIEdsb2JhbCByb3V0ZXIgc3RhdGVcbiAqXG4gKiBUaGlzIGlzIHdoZXJlIHdlIGhvbGQgdGhlIGdsb2JhbCBtdXRhYmxlIHN0YXRlIHN1Y2ggYXMgY3VycmVudCBzdGF0ZSwgY3VycmVudFxuICogcGFyYW1zLCBjdXJyZW50IHRyYW5zaXRpb24sIGV0Yy5cbiAqL1xudmFyIFVJUm91dGVyR2xvYmFscyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVUlSb3V0ZXJHbG9iYWxzKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBwYXJhbWV0ZXIgdmFsdWVzXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBwYXJhbWV0ZXIgdmFsdWVzIGZyb20gdGhlIGxhdGVzdCBzdWNjZXNzZnVsIHRyYW5zaXRpb25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFyYW1zID0gbmV3IHN0YXRlUGFyYW1zXzEuU3RhdGVQYXJhbXMoKTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbGFwaSAqL1xuICAgICAgICB0aGlzLmxhc3RTdGFydGVkVHJhbnNpdGlvbklkID0gLTE7XG4gICAgICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICAgICAgdGhpcy50cmFuc2l0aW9uSGlzdG9yeSA9IG5ldyBxdWV1ZV8xLlF1ZXVlKFtdLCAxKTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbGFwaSAqL1xuICAgICAgICB0aGlzLnN1Y2Nlc3NmdWxUcmFuc2l0aW9ucyA9IG5ldyBxdWV1ZV8xLlF1ZXVlKFtdLCAxKTtcbiAgICB9XG4gICAgVUlSb3V0ZXJHbG9iYWxzLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyYW5zaXRpb25IaXN0b3J5LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuc3VjY2Vzc2Z1bFRyYW5zaXRpb25zLmNsZWFyKCk7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbiA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gVUlSb3V0ZXJHbG9iYWxzO1xufSgpKTtcbmV4cG9ydHMuVUlSb3V0ZXJHbG9iYWxzID0gVUlSb3V0ZXJHbG9iYWxzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2xvYmFscy5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2dsb2JhbHMuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///44\n')},function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * @coreapi\n * @module url\n */ /** */\n\nObject.defineProperty(exports, "__esModule", { value: true });\nvar coreservices_1 = __webpack_require__(3);\nvar common_1 = __webpack_require__(0);\n/** @hidden */\nvar makeStub = function makeStub(keys) {\n    return keys.reduce(function (acc, key) {\n        return acc[key] = coreservices_1.notImplemented(key), acc;\n    }, { dispose: common_1.noop });\n};\n/** @hidden */var locationServicesFns = ["url", "path", "search", "hash", "onChange"];\n/** @hidden */var locationConfigFns = ["port", "protocol", "host", "baseHref", "html5Mode", "hashPrefix"];\n/** @hidden */var umfFns = ["type", "caseInsensitive", "strictMode", "defaultSquashPolicy"];\n/** @hidden */var rulesFns = ["sort", "when", "initial", "otherwise", "rules", "rule", "removeRule"];\n/** @hidden */var syncFns = ["deferIntercept", "listen", "sync", "match"];\n/**\n * API for URL management\n */\nvar UrlService = function () {\n    /** @hidden */\n    function UrlService(router, lateBind) {\n        if (lateBind === void 0) {\n            lateBind = true;\n        }\n        this.router = router;\n        this.rules = {};\n        this.config = {};\n        // proxy function calls from UrlService to the LocationService/LocationConfig\n        var locationServices = function locationServices() {\n            return router.locationService;\n        };\n        common_1.createProxyFunctions(locationServices, this, locationServices, locationServicesFns, lateBind);\n        var locationConfig = function locationConfig() {\n            return router.locationConfig;\n        };\n        common_1.createProxyFunctions(locationConfig, this.config, locationConfig, locationConfigFns, lateBind);\n        var umf = function umf() {\n            return router.urlMatcherFactory;\n        };\n        common_1.createProxyFunctions(umf, this.config, umf, umfFns);\n        var urlRouter = function urlRouter() {\n            return router.urlRouter;\n        };\n        common_1.createProxyFunctions(urlRouter, this.rules, urlRouter, rulesFns);\n        common_1.createProxyFunctions(urlRouter, this, urlRouter, syncFns);\n    }\n    UrlService.prototype.url = function (newurl, replace, state) {\n        return;\n    };\n    ;\n    /** @inheritdoc */\n    UrlService.prototype.path = function () {\n        return;\n    };\n    ;\n    /** @inheritdoc */\n    UrlService.prototype.search = function () {\n        return;\n    };\n    ;\n    /** @inheritdoc */\n    UrlService.prototype.hash = function () {\n        return;\n    };\n    ;\n    /** @inheritdoc */\n    UrlService.prototype.onChange = function (callback) {\n        return;\n    };\n    ;\n    /**\n     * Returns the current URL parts\n     *\n     * This method returns the current URL components as a [[UrlParts]] object.\n     *\n     * @returns the current url parts\n     */\n    UrlService.prototype.parts = function () {\n        return { path: this.path(), search: this.search(), hash: this.hash() };\n    };\n    UrlService.prototype.dispose = function () {};\n    /** @inheritdoc */\n    UrlService.prototype.sync = function (evt) {\n        return;\n    };\n    /** @inheritdoc */\n    UrlService.prototype.listen = function (enabled) {\n        return;\n    };\n    ;\n    /** @inheritdoc */\n    UrlService.prototype.deferIntercept = function (defer) {\n        return;\n    };\n    /** @inheritdoc */\n    UrlService.prototype.match = function (urlParts) {\n        return;\n    };\n    return UrlService;\n}();\n/** @hidden */\nUrlService.locationServiceStub = makeStub(locationServicesFns);\n/** @hidden */\nUrlService.locationConfigStub = makeStub(locationConfigFns);\nexports.UrlService = UrlService;\n//# sourceMappingURL=urlService.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3VybC91cmxTZXJ2aWNlLmpzP2I3M2YiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjb3Jlc2VydmljZXNfMSIsInJlcXVpcmUiLCJjb21tb25fMSIsIm1ha2VTdHViIiwia2V5cyIsInJlZHVjZSIsImFjYyIsImtleSIsIm5vdEltcGxlbWVudGVkIiwiZGlzcG9zZSIsIm5vb3AiLCJsb2NhdGlvblNlcnZpY2VzRm5zIiwibG9jYXRpb25Db25maWdGbnMiLCJ1bWZGbnMiLCJydWxlc0ZucyIsInN5bmNGbnMiLCJVcmxTZXJ2aWNlIiwicm91dGVyIiwibGF0ZUJpbmQiLCJydWxlcyIsImNvbmZpZyIsImxvY2F0aW9uU2VydmljZXMiLCJsb2NhdGlvblNlcnZpY2UiLCJjcmVhdGVQcm94eUZ1bmN0aW9ucyIsImxvY2F0aW9uQ29uZmlnIiwidW1mIiwidXJsTWF0Y2hlckZhY3RvcnkiLCJ1cmxSb3V0ZXIiLCJwcm90b3R5cGUiLCJ1cmwiLCJuZXd1cmwiLCJyZXBsYWNlIiwic3RhdGUiLCJwYXRoIiwic2VhcmNoIiwiaGFzaCIsIm9uQ2hhbmdlIiwiY2FsbGJhY2siLCJwYXJ0cyIsInN5bmMiLCJldnQiLCJsaXN0ZW4iLCJlbmFibGVkIiwiZGVmZXJJbnRlcmNlcHQiLCJkZWZlciIsIm1hdGNoIiwidXJsUGFydHMiLCJsb2NhdGlvblNlcnZpY2VTdHViIiwibG9jYXRpb25Db25maWdTdHViIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7SUFHSTs7QUFDSkEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0EsSUFBSUMsaUJBQWlCLG1CQUFBQyxDQUFRLENBQVIsQ0FBckI7QUFDQSxJQUFJQyxXQUFXLG1CQUFBRCxDQUFRLENBQVIsQ0FBZjtBQUNBO0FB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aWN0XCI7XG4vKipcbiAqIEBjb3JlYXBpXG4gKiBAbW9kdWxlIHVybFxuICovIC8qKiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNvcmVzZXJ2aWNlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb3Jlc2VydmljZXNcIik7XG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbi8qKiBAaGlkZGVuICovXG52YXIgbWFrZVN0dWIgPSBmdW5jdGlvbiAoa2V5cykge1xuICAgIHJldHVybiBrZXlzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHsgcmV0dXJuIChhY2Nba2V5XSA9IGNvcmVzZXJ2aWNlc18xLm5vdEltcGxlbWVudGVkKGtleSksIGFjYyk7IH0sIHsgZGlzcG9zZTogY29tbW9uXzEubm9vcCB9KTtcbn07XG4vKiogQGhpZGRlbiAqLyB2YXIgbG9jYXRpb25TZXJ2aWNlc0ZucyA9IFtcInVybFwiLCBcInBhdGhcIiwgXCJzZWFyY2hcIiwgXCJoYXNoXCIsIFwib25DaGFuZ2VcIl07XG4vKiogQGhpZGRlbiAqLyB2YXIgbG9jYXRpb25Db25maWdGbnMgPSBbXCJwb3J0XCIsIFwicHJvdG9jb2xcIiwgXCJob3N0XCIsIFwiYmFzZUhyZWZcIiwgXCJodG1sNU1vZGVcIiwgXCJoYXNoUHJlZml4XCJdO1xuLyoqIEBoaWRkZW4gKi8gdmFyIHVtZkZucyA9IFtcInR5cGVcIiwgXCJjYXNlSW5zZW5zaXRpdmVcIiwgXCJzdHJpY3RNb2RlXCIsIFwiZGVmYXVsdFNxdWFzaFBvbGljeVwiXTtcbi8qKiBAaGlkZGVuICovIHZhciBydWxlc0ZucyA9IFtcInNvcnRcIiwgXCJ3aGVuXCIsIFwiaW5pdGlhbFwiLCBcIm90aGVyd2lzZVwiLCBcInJ1bGVzXCIsIFwicnVsZVwiLCBcInJlbW92ZVJ1bGVcIl07XG4vKiogQGhpZGRlbiAqLyB2YXIgc3luY0ZucyA9IFtcImRlZmVySW50ZXJjZXB0XCIsIFwibGlzdGVuXCIsIFwic3luY1wiLCBcIm1hdGNoXCJdO1xuLyoqXG4gKiBBUEkgZm9yIFVSTCBtYW5hZ2VtZW50XG4gKi9cbnZhciBVcmxTZXJ2aWNlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIGZ1bmN0aW9uIFVybFNlcnZpY2Uocm91dGVyLCBsYXRlQmluZCkge1xuICAgICAgICBpZiAobGF0ZUJpbmQgPT09IHZvaWQgMCkgeyBsYXRlQmluZCA9IHRydWU7IH1cbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIHRoaXMucnVsZXMgPSB7fTtcbiAgICAgICAgdGhpcy5jb25maWcgPSB7fTtcbiAgICAgICAgLy8gcHJveHkgZnVuY3Rpb24gY2FsbHMgZnJvbSBVcmxTZXJ2aWNlIHRvIHRoZSBMb2NhdGlvblNlcnZpY2UvTG9jYXRpb25Db25maWdcbiAgICAgICAgdmFyIGxvY2F0aW9uU2VydmljZXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiByb3V0ZXIubG9jYXRpb25TZXJ2aWNlOyB9O1xuICAgICAgICBjb21tb25fMS5jcmVhdGVQcm94eUZ1bmN0aW9ucyhsb2NhdGlvblNlcnZpY2VzLCB0aGlzLCBsb2NhdGlvblNlcnZpY2VzLCBsb2NhdGlvblNlcnZpY2VzRm5zLCBsYXRlQmluZCk7XG4gICAgICAgIHZhciBsb2NhdGlvbkNvbmZpZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJvdXRlci5sb2NhdGlvbkNvbmZpZzsgfTtcbiAgICAgICAgY29tbW9uXzEuY3JlYXRlUHJveHlGdW5jdGlvbnMobG9jYXRpb25Db25maWcsIHRoaXMuY29uZmlnLCBsb2NhdGlvbkNvbmZpZywgbG9jYXRpb25Db25maWdGbnMsIGxhdGVCaW5kKTtcbiAgICAgICAgdmFyIHVtZiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJvdXRlci51cmxNYXRjaGVyRmFjdG9yeTsgfTtcbiAgICAgICAgY29tbW9uXzEuY3JlYXRlUHJveHlGdW5jdGlvbnModW1mLCB0aGlzLmNvbmZpZywgdW1mLCB1bWZGbnMpO1xuICAgICAgICB2YXIgdXJsUm91dGVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcm91dGVyLnVybFJvdXRlcjsgfTtcbiAgICAgICAgY29tbW9uXzEuY3JlYXRlUHJveHlGdW5jdGlvbnModXJsUm91dGVyLCB0aGlzLnJ1bGVzLCB1cmxSb3V0ZXIsIHJ1bGVzRm5zKTtcbiAgICAgICAgY29tbW9uXzEuY3JlYXRlUHJveHlGdW5jdGlvbnModXJsUm91dGVyLCB0aGlzLCB1cmxSb3V0ZXIsIHN5bmNGbnMpO1xuICAgIH1cbiAgICBVcmxTZXJ2aWNlLnByb3RvdHlwZS51cmwgPSBmdW5jdGlvbiAobmV3dXJsLCByZXBsYWNlLCBzdGF0ZSkgeyByZXR1cm47IH07XG4gICAgO1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFNlcnZpY2UucHJvdG90eXBlLnBhdGggPSBmdW5jdGlvbiAoKSB7IHJldHVybjsgfTtcbiAgICA7XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsU2VydmljZS5wcm90b3R5cGUuc2VhcmNoID0gZnVuY3Rpb24gKCkgeyByZXR1cm47IH07XG4gICAgO1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFNlcnZpY2UucHJvdG90eXBlLmhhc2ggPSBmdW5jdGlvbiAoKSB7IHJldHVybjsgfTtcbiAgICA7XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsU2VydmljZS5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsgcmV0dXJuOyB9O1xuICAgIDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IFVSTCBwYXJ0c1xuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgY3VycmVudCBVUkwgY29tcG9uZW50cyBhcyBhIFtbVXJsUGFydHNdXSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cmwgcGFydHNcbiAgICAgKi9cbiAgICBVcmxTZXJ2aWNlLnByb3RvdHlwZS5wYXJ0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHsgcGF0aDogdGhpcy5wYXRoKCksIHNlYXJjaDogdGhpcy5zZWFyY2goKSwgaGFzaDogdGhpcy5oYXNoKCkgfTtcbiAgICB9O1xuICAgIFVybFNlcnZpY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsU2VydmljZS5wcm90b3R5cGUuc3luYyA9IGZ1bmN0aW9uIChldnQpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFNlcnZpY2UucHJvdG90eXBlLmxpc3RlbiA9IGZ1bmN0aW9uIChlbmFibGVkKSB7IHJldHVybjsgfTtcbiAgICA7XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsU2VydmljZS5wcm90b3R5cGUuZGVmZXJJbnRlcmNlcHQgPSBmdW5jdGlvbiAoZGVmZXIpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFNlcnZpY2UucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gKHVybFBhcnRzKSB7IHJldHVybjsgfTtcbiAgICByZXR1cm4gVXJsU2VydmljZTtcbn0oKSk7XG4vKiogQGhpZGRlbiAqL1xuVXJsU2VydmljZS5sb2NhdGlvblNlcnZpY2VTdHViID0gbWFrZVN0dWIobG9jYXRpb25TZXJ2aWNlc0Zucyk7XG4vKiogQGhpZGRlbiAqL1xuVXJsU2VydmljZS5sb2NhdGlvbkNvbmZpZ1N0dWIgPSBtYWtlU3R1Yihsb2NhdGlvbkNvbmZpZ0Zucyk7XG5leHBvcnRzLlVybFNlcnZpY2UgPSBVcmxTZXJ2aWNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJsU2VydmljZS5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3VybC91cmxTZXJ2aWNlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///45\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar coreservices_1 = __webpack_require__(3);\n/**\n * A [[TransitionHookFn]] that performs lazy loading\n *\n * When entering a state \"abc\" which has a `lazyLoad` function defined:\n * - Invoke the `lazyLoad` function (unless it is already in process)\n *   - Flag the hook function as \"in process\"\n *   - The function should return a promise (that resolves when lazy loading is complete)\n * - Wait for the promise to settle\n *   - If the promise resolves to a [[LazyLoadResult]], then register those states\n *   - Flag the hook function as \"not in process\"\n * - If the hook was successful\n *   - Remove the `lazyLoad` function from the state declaration\n * - If all the hooks were successful\n *   - Retry the transition (by returning a TargetState)\n *\n * ```\n * .state('abc', {\n *   component: 'fooComponent',\n *   lazyLoad: () => System.import('./fooComponent')\n *   });\n * ```\n *\n * See [[StateDeclaration.lazyLoad]]\n */\nvar lazyLoadHook = function lazyLoadHook(transition) {\n    var router = transition.router;\n    function retryTransition() {\n        if (transition.originalTransition().options().source !== 'url') {\n            // The original transition was not triggered via url sync\n            // The lazy state should be loaded now, so re-try the original transition\n            var orig = transition.targetState();\n            return router.stateService.target(orig.identifier(), orig.params(), orig.options());\n        }\n        // The original transition was triggered via url sync\n        // Run the URL rules and find the best match\n        var $url = router.urlService;\n        var result = $url.match($url.parts());\n        var rule = result && result.rule;\n        // If the best match is a state, redirect the transition (instead\n        // of calling sync() which supersedes the current transition)\n        if (rule && rule.type === \"STATE\") {\n            var state = rule.state;\n            var params = result.match;\n            return router.stateService.target(state, params, transition.options());\n        }\n        // No matching state found, so let .sync() choose the best non-state match/otherwise\n        router.urlService.sync();\n    }\n    var promises = transition.entering().filter(function (state) {\n        return !!state.$$state().lazyLoad;\n    }).map(function (state) {\n        return lazyLoadState(transition, state);\n    });\n    return coreservices_1.services.$q.all(promises).then(retryTransition);\n};\nexports.registerLazyLoadHook = function (transitionService) {\n    return transitionService.onBefore({ entering: function entering(state) {\n            return !!state.lazyLoad;\n        } }, lazyLoadHook);\n};\n/**\n * Invokes a state's lazy load function\n *\n * @param transition a Transition context\n * @param state the state to lazy load\n * @returns A promise for the lazy load result\n */\nfunction lazyLoadState(transition, state) {\n    var lazyLoadFn = state.$$state().lazyLoad;\n    // Store/get the lazy load promise on/from the hookfn so it doesn't get re-invoked\n    var promise = lazyLoadFn['_promise'];\n    if (!promise) {\n        var success = function success(result) {\n            delete state.lazyLoad;\n            delete state.$$state().lazyLoad;\n            delete lazyLoadFn['_promise'];\n            return result;\n        };\n        var error = function error(err) {\n            delete lazyLoadFn['_promise'];\n            return coreservices_1.services.$q.reject(err);\n        };\n        promise = lazyLoadFn['_promise'] = coreservices_1.services.$q.when(lazyLoadFn(transition, state)).then(updateStateRegistry).then(success, error);\n    }\n    /** Register any lazy loaded state definitions */\n    function updateStateRegistry(result) {\n        if (result && Array.isArray(result.states)) {\n            result.states.forEach(function (state) {\n                return transition.router.stateRegistry.register(state);\n            });\n        }\n        return result;\n    }\n    return promise;\n}\nexports.lazyLoadState = lazyLoadState;\n//# sourceMappingURL=lazyLoad.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL2xhenlMb2FkLmpzP2JkZDMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjb3Jlc2VydmljZXNfMSIsInJlcXVpcmUiLCJsYXp5TG9hZEhvb2siLCJ0cmFuc2l0aW9uIiwicm91dGVyIiwicmV0cnlUcmFuc2l0aW9uIiwib3JpZ2luYWxUcmFuc2l0aW9uIiwib3B0aW9ucyIsInNvdXJjZSIsIm9yaWciLCJ0YXJnZXRTdGF0ZSIsInN0YXRlU2VydmljZSIsInRhcmdldCIsImlkZW50aWZpZXIiLCJwYXJhbXMiLCIkdXJsIiwidXJsU2VydmljZSIsInJlc3VsdCIsIm1hdGNoIiwicGFydHMiLCJydWxlIiwidHlwZSIsInN0YXRlIiwic3luYyIsInByb21pc2VzIiwiZW50ZXJpbmciLCJmaWx0ZXIiLCIkJHN0YXRlIiwibGF6eUxvYWQiLCJtYXAiLCJsYXp5TG9hZFN0YXRlIiwic2VydmljZXMiLCIkcSIsImFsbCIsInRoZW4iLCJyZWdpc3RlckxhenlMb2FkSG9vayIsInRyYW5zaXRpb25TZXJ2aWNlIiwib25CZWZvcmUiLCJsYXp5TG9hZEZuIiwicHJvbWlzZSIsInN1Y2Nlc3MiLCJlcnJvciIsImVyciIsInJlamVjdCIsIndoZW4iLCJ1cGRhdGVTdGF0ZVJlZ2lzdHJ5IiwiQXJyYXkiLCJpc0FycmF5Iiwic3RhdGVzIiwiZm9yRWFjaCIsInN0YXRlUmVnaXN0cnkiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBLElBQUlDLGlCQUFpQixtQkFBQUMsQ0FBUSxDQUFSLENBQXJCO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdCQSxJQUFJQyxlQUFlLFNBQWZBLFlB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S1gsSUFGTCxDQUVVTSxPQUZWLEVBRW1CQyxLQUZuQixDQURKO0FBSUg7QUFDRDtBQUNBLGFBQVNJLG1CQUFULENBQTZCNUIsTUFBN0IsRUFBcUM7QUFDakMsWUFBSUEsVUFBVTZCLE1BQU1DLE9BQU4sQ0FBYzlCLE9BQU8rQixNQUFyQixDQUFkLEVBQTRDO0FBQ3hDL0IsbUJBQU8rQixNQUFQLENBQWNDLE9BQWQsQ0FBc0IsVUFBVTNCLEtBQVYsRUFBaUI7QUFBRSx1QkFBT25CLFdBQVdDLE1BQVgsQ0FBa0I4QyxhQUFsQixDQUFnQ0MsUUFBaEMsQ0FBeUM3QixLQUF6QyxDQUFQO0FBQXlELGFBQWxHO0FBQ0g7QUFDRCxlQUFPTCxNQUFQO0FBQ0g7QUFDRCxXQUFPc0IsT0FBUDtBQUNIO0FBQ0R6QyxRQUFRZ0MsYUFBUixHQUF3QkEsYUFBeEI7QUFDQSIsImZpbGUiOiI0Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNvcmVzZXJ2aWNlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb3Jlc2VydmljZXNcIik7XG4vKipcbiAqIEEgW1tUcmFuc2l0aW9uSG9va0ZuXV0gdGhhdCBwZXJmb3JtcyBsYXp5IGxvYWRpbmdcbiAqXG4gKiBXaGVuIGVudGVyaW5nIGEgc3RhdGUgXCJhYmNcIiB3aGljaCBoYXMgYSBgbGF6eUxvYWRgIGZ1bmN0aW9uIGRlZmluZWQ6XG4gKiAtIEludm9rZSB0aGUgYGxhenlMb2FkYCBmdW5jdGlvbiAodW5sZXNzIGl0IGlzIGFscmVhZHkgaW4gcHJvY2VzcylcbiAqICAgLSBGbGFnIHRoZSBob29rIGZ1bmN0aW9uIGFzIFwiaW4gcHJvY2Vzc1wiXG4gKiAgIC0gVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBwcm9taXNlICh0aGF0IHJlc29sdmVzIHdoZW4gbGF6eSBsb2FkaW5nIGlzIGNvbXBsZXRlKVxuICogLSBXYWl0IGZvciB0aGUgcHJvbWlzZSB0byBzZXR0bGVcbiAqICAgLSBJZiB0aGUgcHJvbWlzZSByZXNvbHZlcyB0byBhIFtbTGF6eUxvYWRSZXN1bHRdXSwgdGhlbiByZWdpc3RlciB0aG9zZSBzdGF0ZXNcbiAqICAgLSBGbGFnIHRoZSBob29rIGZ1bmN0aW9uIGFzIFwibm90IGluIHByb2Nlc3NcIlxuICogLSBJZiB0aGUgaG9vayB3YXMgc3VjY2Vzc2Z1bFxuICogICAtIFJlbW92ZSB0aGUgYGxhenlMb2FkYCBmdW5jdGlvbiBmcm9tIHRoZSBzdGF0ZSBkZWNsYXJhdGlvblxuICogLSBJZiBhbGwgdGhlIGhvb2tzIHdlcmUgc3VjY2Vzc2Z1bFxuICogICAtIFJldHJ5IHRoZSB0cmFuc2l0aW9uIChieSByZXR1cm5pbmcgYSBUYXJnZXRTdGF0ZSlcbiAqXG4gKiBgYGBcbiAqIC5zdGF0ZSgnYWJjJywge1xuICogICBjb21wb25lbnQ6ICdmb29Db21wb25lbnQnLFxuICogICBsYXp5TG9hZDogKCkgPT4gU3lzdGVtLmltcG9ydCgnLi9mb29Db21wb25lbnQnKVxuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIFNlZSBbW1N0YXRlRGVjbGFyYXRpb24ubGF6eUxvYWRdXVxuICovXG52YXIgbGF6eUxvYWRIb29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb24pIHtcbiAgICB2YXIgcm91dGVyID0gdHJhbnNpdGlvbi5yb3V0ZXI7XG4gICAgZnVuY3Rpb24gcmV0cnlUcmFuc2l0aW9uKCkge1xuICAgICAgICBpZiAodHJhbnNpdGlvbi5vcmlnaW5hbFRyYW5zaXRpb24oKS5vcHRpb25zKCkuc291cmNlICE9PSAndXJsJykge1xuICAgICAgICAgICAgLy8gVGhlIG9yaWdpbmFsIHRyYW5zaXRpb24gd2FzIG5vdCB0cmlnZ2VyZWQgdmlhIHVybCBzeW5jXG4gICAgICAgICAgICAvLyBUaGUgbGF6eSBzdGF0ZSBzaG91bGQgYmUgbG9hZGVkIG5vdywgc28gcmUtdHJ5IHRoZSBvcmlnaW5hbCB0cmFuc2l0aW9uXG4gICAgICAgICAgICB2YXIgb3JpZyA9IHRyYW5zaXRpb24udGFyZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiByb3V0ZXIuc3RhdGVTZXJ2aWNlLnRhcmdldChvcmlnLmlkZW50aWZpZXIoKSwgb3JpZy5wYXJhbXMoKSwgb3JpZy5vcHRpb25zKCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBvcmlnaW5hbCB0cmFuc2l0aW9uIHdhcyB0cmlnZ2VyZWQgdmlhIHVybCBzeW5jXG4gICAgICAgIC8vIFJ1biB0aGUgVVJMIHJ1bGVzIGFuZCBmaW5kIHRoZSBiZXN0IG1hdGNoXG4gICAgICAgIHZhciAkdXJsID0gcm91dGVyLnVybFNlcnZpY2U7XG4gICAgICAgIHZhciByZXN1bHQgPSAkdXJsLm1hdGNoKCR1cmwucGFydHMoKSk7XG4gICAgICAgIHZhciBydWxlID0gcmVzdWx0ICYmIHJlc3VsdC5ydWxlO1xuICAgICAgICAvLyBJZiB0aGUgYmVzdCBtYXRjaCBpcyBhIHN0YXRlLCByZWRpcmVjdCB0aGUgdHJhbnNpdGlvbiAoaW5zdGVhZFxuICAgICAgICAvLyBvZiBjYWxsaW5nIHN5bmMoKSB3aGljaCBzdXBlcnNlZGVzIHRoZSBjdXJyZW50IHRyYW5zaXRpb24pXG4gICAgICAgIGlmIChydWxlICYmIHJ1bGUudHlwZSA9PT0gXCJTVEFURVwiKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBydWxlLnN0YXRlO1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHJlc3VsdC5tYXRjaDtcbiAgICAgICAgICAgIHJldHVybiByb3V0ZXIuc3RhdGVTZXJ2aWNlLnRhcmdldChzdGF0ZSwgcGFyYW1zLCB0cmFuc2l0aW9uLm9wdGlvbnMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm8gbWF0Y2hpbmcgc3RhdGUgZm91bmQsIHNvIGxldCAuc3luYygpIGNob29zZSB0aGUgYmVzdCBub24tc3RhdGUgbWF0Y2gvb3RoZXJ3aXNlXG4gICAgICAgIHJvdXRlci51cmxTZXJ2aWNlLnN5bmMoKTtcbiAgICB9XG4gICAgdmFyIHByb21pc2VzID0gdHJhbnNpdGlvbi5lbnRlcmluZygpXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiAhIXN0YXRlLiQkc3RhdGUoKS5sYXp5TG9hZDsgfSlcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuIGxhenlMb2FkU3RhdGUodHJhbnNpdGlvbiwgc3RhdGUpOyB9KTtcbiAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEuYWxsKHByb21pc2VzKS50aGVuKHJldHJ5VHJhbnNpdGlvbik7XG59O1xuZXhwb3J0cy5yZWdpc3RlckxhenlMb2FkSG9vayA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uU2VydmljZSkge1xuICAgIHJldHVybiB0cmFuc2l0aW9uU2VydmljZS5vbkJlZm9yZSh7IGVudGVyaW5nOiBmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuICEhc3RhdGUubGF6eUxvYWQ7IH0gfSwgbGF6eUxvYWRIb29rKTtcbn07XG4vKipcbiAqIEludm9rZXMgYSBzdGF0ZSdzIGxhenkgbG9hZCBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB0cmFuc2l0aW9uIGEgVHJhbnNpdGlvbiBjb250ZXh0XG4gKiBAcGFyYW0gc3RhdGUgdGhlIHN0YXRlIHRvIGxhenkgbG9hZFxuICogQHJldHVybnMgQSBwcm9taXNlIGZvciB0aGUgbGF6eSBsb2FkIHJlc3VsdFxuICovXG5mdW5jdGlvbiBsYXp5TG9hZFN0YXRlKHRyYW5zaXRpb24sIHN0YXRlKSB7XG4gICAgdmFyIGxhenlMb2FkRm4gPSBzdGF0ZS4kJHN0YXRlKCkubGF6eUxvYWQ7XG4gICAgLy8gU3RvcmUvZ2V0IHRoZSBsYXp5IGxvYWQgcHJvbWlzZSBvbi9mcm9tIHRoZSBob29rZm4gc28gaXQgZG9lc24ndCBnZXQgcmUtaW52b2tlZFxuICAgIHZhciBwcm9taXNlID0gbGF6eUxvYWRGblsnX3Byb21pc2UnXTtcbiAgICBpZiAoIXByb21pc2UpIHtcbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBkZWxldGUgc3RhdGUubGF6eUxvYWQ7XG4gICAgICAgICAgICBkZWxldGUgc3RhdGUuJCRzdGF0ZSgpLmxhenlMb2FkO1xuICAgICAgICAgICAgZGVsZXRlIGxhenlMb2FkRm5bJ19wcm9taXNlJ107XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBkZWxldGUgbGF6eUxvYWRGblsnX3Byb21pc2UnXTtcbiAgICAgICAgICAgIHJldHVybiBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS5yZWplY3QoZXJyKTtcbiAgICAgICAgfTtcbiAgICAgICAgcHJvbWlzZSA9IGxhenlMb2FkRm5bJ19wcm9taXNlJ10gPVxuICAgICAgICAgICAgY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEud2hlbihsYXp5TG9hZEZuKHRyYW5zaXRpb24sIHN0YXRlKSlcbiAgICAgICAgICAgICAgICAudGhlbih1cGRhdGVTdGF0ZVJlZ2lzdHJ5KVxuICAgICAgICAgICAgICAgIC50aGVuKHN1Y2Nlc3MsIGVycm9yKTtcbiAgICB9XG4gICAgLyoqIFJlZ2lzdGVyIGFueSBsYXp5IGxvYWRlZCBzdGF0ZSBkZWZpbml0aW9ucyAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVN0YXRlUmVnaXN0cnkocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQgJiYgQXJyYXkuaXNBcnJheShyZXN1bHQuc3RhdGVzKSkge1xuICAgICAgICAgICAgcmVzdWx0LnN0YXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gdHJhbnNpdGlvbi5yb3V0ZXIuc3RhdGVSZWdpc3RyeS5yZWdpc3RlcihzdGF0ZSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xufVxuZXhwb3J0cy5sYXp5TG9hZFN0YXRlID0gbGF6eUxvYWRTdGF0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhenlMb2FkLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvaG9va3MvbGF6eUxvYWQuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///46\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\nvar transitionHook_1 = __webpack_require__(12);\n/**\n * This class defines a type of hook, such as `onBefore` or `onEnter`.\n * Plugins can define custom hook types, such as sticky states does for `onInactive`.\n *\n * @interalapi\n */\nvar TransitionEventType = function () {\n    function TransitionEventType(name, hookPhase, hookOrder, criteriaMatchPath, reverseSort, getResultHandler, getErrorHandler, synchronous) {\n        if (reverseSort === void 0) {\n            reverseSort = false;\n        }\n        if (getResultHandler === void 0) {\n            getResultHandler = transitionHook_1.TransitionHook.HANDLE_RESULT;\n        }\n        if (getErrorHandler === void 0) {\n            getErrorHandler = transitionHook_1.TransitionHook.REJECT_ERROR;\n        }\n        if (synchronous === void 0) {\n            synchronous = false;\n        }\n        this.name = name;\n        this.hookPhase = hookPhase;\n        this.hookOrder = hookOrder;\n        this.criteriaMatchPath = criteriaMatchPath;\n        this.reverseSort = reverseSort;\n        this.getResultHandler = getResultHandler;\n        this.getErrorHandler = getErrorHandler;\n        this.synchronous = synchronous;\n    }\n    return TransitionEventType;\n}();\nexports.TransitionEventType = TransitionEventType;\n//# sourceMappingURL=transitionEventType.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3RyYW5zaXRpb24vdHJhbnNpdGlvbkV2ZW50VHlwZS5qcz83NGFhIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwidHJhbnNpdGlvbkhvb2tfMSIsInJlcXVpcmUiLCJUcmFuc2l0aW9uRXZlbnRUeXBlIiwibmFtZSIsImhvb2tQaGFzZSIsImhvb2tPcmRlciIsImNyaXRlcmlhTWF0Y2hQYXRoIiwicmV2ZXJzZVNvcnQiLCJnZXRSZXN1bHRIYW5kbGVyIiwiZ2V0RXJyb3JIYW5kbGVyIiwic3luY2hyb25vdXMiLCJUcmFuc2l0aW9uSG9vayIsIkhBTkRMRV9SRVNVTFQiLCJSRUpFQ1RfRVJST1IiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQSxJQUFJQyxtQkFBbUIsbUJBQUFDLENBQVEsRUFBUixDQUF2QjtBQUNBOzs7Ozs7QUFNQSxJQUFJQyxzQkFBdUIsWUFBWTtBQUNuQyxhQUFTQSxtQkFBVCxDQUE2QkMsSUFBN0IsRUFBbUNDLFNBQW5DLEVBQThDQyxTQUE5QyxFQUF5REMsaUJBQXpELEVBQTRFQyxXQUE1RSxFQUF5RkMsZ0JBQXpGLEVBQTJHQyxlQUEzRyxFQUE0SEMsV0FBNUgsRUFBeUk7QUFDckksWUFBSUgsZ0JBQWdCLEtBQUssQ0FBekIsRUFBNEI7QUFBRUEsMEJBQWMsS0FBZDtBQUFzQjtBQUNwRCxZQUFJQyxxQkFBcUIsS0FBSyxDQUE5QixFQUFpQztBQUFFQSwrQkFBbUJSLGlCQUFpQlcsY0FBakIsQ0FBZ0NDLGFBQW5EO0FBQW1FO0FBQ3RHLFlBQUlILG9CQUFvQixLQUFLLENBQTdCLEVBQWdDO0FBQUVBLDhCQUFrQlQsaUJBQWlCVyxjQUFqQixDQUFnQ0UsWUFBbEQ7QUFBaUU7QUFDbkcsWUFBSUgsZ0JBQWdCLEtBQUssQ0FBekIsRUFBNEI7QUFBRUEsMEJBQWMsS0FBZDtBQUFzQjtBQUNwRCxhQUFLUCxJQUFMLEdBQVlBLElBQVo7QUFDQSxhQUFLQyxTQUFMLEdBQWlCQSxTQUFqQjtBQUNBLGFBQUtDLFNBQUwsR0FBaUJBLFNBQWpCO0FBQ0EsYUFBS0MsaUJBQUwsR0FBeUJBLGlCQUF6QjtBQUNBLGFBQUtDLFdBQUwsR0FBbUJBLFdBQW5CO0FBQ0EsYUFBS0MsZ0JBQUwsR0FBd0JBLGdCQUF4QjtBQUNBLGFBQUtDLGVBQUwsR0FBdUJBLGVBQXZCO0FBQ0EsYUFBS0MsV0FBTCxHQUFtQkEsV0FBbkI7QUFDSDtBQUNELFdBQU9SLG1CQUFQO0FBQ0gsQ0FoQjBCLEVBQTNCO0FBaUJBSixRQUFRSSxtQkFBUixHQUE4QkEsbUJBQTlCO0FBQ0EiLCJmaWxlIjoiNDcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0cmFuc2l0aW9uSG9va18xID0gcmVxdWlyZShcIi4vdHJhbnNpdGlvbkhvb2tcIik7XG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhIHR5cGUgb2YgaG9vaywgc3VjaCBhcyBgb25CZWZvcmVgIG9yIGBvbkVudGVyYC5cbiAqIFBsdWdpbnMgY2FuIGRlZmluZSBjdXN0b20gaG9vayB0eXBlcywgc3VjaCBhcyBzdGlja3kgc3RhdGVzIGRvZXMgZm9yIGBvbkluYWN0aXZlYC5cbiAqXG4gKiBAaW50ZXJhbGFwaVxuICovXG52YXIgVHJhbnNpdGlvbkV2ZW50VHlwZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVHJhbnNpdGlvbkV2ZW50VHlwZShuYW1lLCBob29rUGhhc2UsIGhvb2tPcmRlciwgY3JpdGVyaWFNYXRjaFBhdGgsIHJldmVyc2VTb3J0LCBnZXRSZXN1bHRIYW5kbGVyLCBnZXRFcnJvckhhbmRsZXIsIHN5bmNocm9ub3VzKSB7XG4gICAgICAgIGlmIChyZXZlcnNlU29ydCA9PT0gdm9pZCAwKSB7IHJldmVyc2VTb3J0ID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKGdldFJlc3VsdEhhbmRsZXIgPT09IHZvaWQgMCkgeyBnZXRSZXN1bHRIYW5kbGVyID0gdHJhbnNpdGlvbkhvb2tfMS5UcmFuc2l0aW9uSG9vay5IQU5ETEVfUkVTVUxUOyB9XG4gICAgICAgIGlmIChnZXRFcnJvckhhbmRsZXIgPT09IHZvaWQgMCkgeyBnZXRFcnJvckhhbmRsZXIgPSB0cmFuc2l0aW9uSG9va18xLlRyYW5zaXRpb25Ib29rLlJFSkVDVF9FUlJPUjsgfVxuICAgICAgICBpZiAoc3luY2hyb25vdXMgPT09IHZvaWQgMCkgeyBzeW5jaHJvbm91cyA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuaG9va1BoYXNlID0gaG9va1BoYXNlO1xuICAgICAgICB0aGlzLmhvb2tPcmRlciA9IGhvb2tPcmRlcjtcbiAgICAgICAgdGhpcy5jcml0ZXJpYU1hdGNoUGF0aCA9IGNyaXRlcmlhTWF0Y2hQYXRoO1xuICAgICAgICB0aGlzLnJldmVyc2VTb3J0ID0gcmV2ZXJzZVNvcnQ7XG4gICAgICAgIHRoaXMuZ2V0UmVzdWx0SGFuZGxlciA9IGdldFJlc3VsdEhhbmRsZXI7XG4gICAgICAgIHRoaXMuZ2V0RXJyb3JIYW5kbGVyID0gZ2V0RXJyb3JIYW5kbGVyO1xuICAgICAgICB0aGlzLnN5bmNocm9ub3VzID0gc3luY2hyb25vdXM7XG4gICAgfVxuICAgIHJldHVybiBUcmFuc2l0aW9uRXZlbnRUeXBlO1xufSgpKTtcbmV4cG9ydHMuVHJhbnNpdGlvbkV2ZW50VHlwZSA9IFRyYW5zaXRpb25FdmVudFR5cGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2l0aW9uRXZlbnRUeXBlLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvdHJhbnNpdGlvbi90cmFuc2l0aW9uRXZlbnRUeXBlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///47\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\nvar index_1 = __webpack_require__(15);\n/**\n * An angular1-like promise api\n *\n * This object implements four methods similar to the\n * [angular 1 promise api](https://docs.angularjs.org/api/ng/service/$q)\n *\n * UI-Router evolved from an angular 1 library to a framework agnostic library.\n * However, some of the `@uirouter/core` code uses these ng1 style APIs to support ng1 style dependency injection.\n *\n * This API provides native ES6 promise support wrapped as a $q-like API.\n * Internally, UI-Router uses this $q object to perform promise operations.\n * The `angular-ui-router` (ui-router for angular 1) uses the $q API provided by angular.\n *\n * $q-like promise api\n */\nexports.$q = {\n    /** Normalizes a value as a promise */\n    when: function when(val) {\n        return new Promise(function (resolve, reject) {\n            return resolve(val);\n        });\n    },\n    /** Normalizes a value as a promise rejection */\n    reject: function reject(val) {\n        return new Promise(function (resolve, reject) {\n            reject(val);\n        });\n    },\n    /** @returns a deferred object, which has `resolve` and `reject` functions */\n    defer: function defer() {\n        var deferred = {};\n        deferred.promise = new Promise(function (resolve, reject) {\n            deferred.resolve = resolve;\n            deferred.reject = reject;\n        });\n        return deferred;\n    },\n    /** Like Promise.all(), but also supports object key/promise notation like $q */\n    all: function all(promises) {\n        if (index_1.isArray(promises)) {\n            return Promise.all(promises);\n        }\n        if (index_1.isObject(promises)) {\n            // Convert promises map to promises array.\n            // When each promise resolves, map it to a tuple { key: key, val: val }\n            var chain = Object.keys(promises).map(function (key) {\n                return promises[key].then(function (val) {\n                    return { key: key, val: val };\n                });\n            });\n            // Then wait for all promises to resolve, and convert them back to an object\n            return exports.$q.all(chain).then(function (values) {\n                return values.reduce(function (acc, tuple) {\n                    acc[tuple.key] = tuple.val;return acc;\n                }, {});\n            });\n        }\n    }\n};\n//# sourceMappingURL=q.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZhbmlsbGEvcS5qcz8yOTUxIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiaW5kZXhfMSIsInJlcXVpcmUiLCIkcSIsIndoZW4iLCJ2YWwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImRlZmVyIiwiZGVmZXJyZWQiLCJwcm9taXNlIiwiYWxsIiwicHJvbWlzZXMiLCJpc0FycmF5IiwiaXNPYmplY3QiLCJjaGFpbiIsImtleXMiLCJtYXAiLCJrZXkiLCJ0aGVuIiwidmFsdWVzIiwicmVkdWNlIiwiYWNjIiwidHVwbGUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTs7OztBQUlBO0FBQ0EsSUFBSUMsVUFBVSxtQkFBQUMsQ0FBUSxFQUFSLENBQWQ7QUFDQTs7Ozs7Ozs7Ozs7Ozs7O0FBZUFILFFBQVFJLEVBQVIsR0FBYTtBQUNUO0FBQ0FDLFVBQU0sY0FBVUMsR0FBVixFQUFlO0FBQUUsZUFBTyxJQUFJQyxPQUFKLENBQVksVUFBVUMsT0FBVixFQUFtQkMsTUFBbkIsRUFBMkI7QUFBRSxtQkFBT0QsUUFBUUYsR0FBUixDQUFQO0FBQXNCLFNBQS9ELENBQVA7QUFBMEUsS0FGeEY7QUFHVDtBQUNBRyxZQUFRLGdCQUFVSCxHQUFWLEVBQWU7QUFBRSxlQUFPLElBQUlDLE9BQUosQ0FBWSxVQUFVQyxPQUFWLEVBQW1CQyxNQUFuQixFQUEyQjtBQUFFQSxtQkFBT0gsR0FBUDtBQUFjLFNBQXZELENBQVA7QUFBa0UsS0FKbEY7QUFLVDtBQUNBSSxXQUFPLGlCQUFZO0FBQ2YsWUFBSUMsV0FBVyxFQUFmO0FBQ0FBLGlCQUFTQyxPQUFULEdBQW1CLElBQUlMLE9BQUosQ0FBWSxVQUFVQyxPQUFWLEVBQW1CQyxNQUFuQixFQUEyQjtBQUN0REUscUJBQVNILE9BQVQsR0FBbUJBLE9BQW5CO0FBQ0FHLHFCQUFTRixNQUFULEdBQWtCQSxNQUFsQjtBQUNILFNBSGtCLENBQW5CO0FBSUEsZUFBT0UsUUFBUDtBQUNILEtBYlE7QUFjVDtBQUNBRSxTQUFLLGFBQVVDLFFBQVYsRUFBb0I7QUFDckIsWUFBSVosUUFBUWEsT0FBUixDQUFnQkQsUUFBaEIsQ0FBSixFQUErQjtBQUMzQixtQkFBT1AsUUFBUU0sR0FBUixDQUFZQyxRQUFaLENBQVA7QUFDSDtBQUNELFlBQUlaLFFBQVFjLFFBQVIsQ0FBaUJGLFFBQWpCLENBQUosRUFBZ0M7QUFDNUI7QUFDQTtBQUNBLGdCQUFJRyxRQUFRbkIsT0FBT29CLElBQVAsQ0FBWUosUUFBWixFQUNQSyxHQURPLENBQ0gsVUFBVUMsR0FBVixFQUFlO0FBQUUsdUJBQU9OLFNBQVNNLEdBQVQsRUFBY0MsSUFBZCxDQUFtQixVQUFVZixHQUFWLEVBQWU7QUFBRSwyQkFBUSxFQUFFYyxLQUFLQSxHQUFQLEVBQVlkLEtBQUtBLEdBQWpCLEVBQVI7QUFBa0MsaUJBQXRFLENBQVA7QUFBaUYsYUFEL0YsQ0FBWjtBQUVBO0FBQ0EsbUJBQU9OLFFBQVFJLEVBQVIsQ0FBV1MsR0FBWCxDQUFlSSxLQUFmLEVBQXNCSSxJQUF0QixDQUEyQixVQUFVQyxNQUFWLEVBQWtCO0FBQ2hELHVCQUFPQSxPQUFPQyxNQUFQLENBQWMsVUFBVUMsR0FBVixFQUFlQyxLQUFmLEVBQXNCO0FBQUVELHdCQUFJQyxNQUFNTCxHQUFWLElBQWlCSyxNQUFNbkIsR0FBdkIsQ0FBNEIsT0FBT2tCLEdBQVA7QUFBYSxpQkFBL0UsRUFBaUYsRUFBakYsQ0FBUDtBQUNILGFBRk0sQ0FBUDtBQUdIO0FBQ0o7QUE3QlEsQ0FBYjtBQStCQSIsImZpbGUiOiI0OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBAaW50ZXJuYWxhcGlcbiAqIEBtb2R1bGUgdmFuaWxsYVxuICovXG4vKiogKi9cbnZhciBpbmRleF8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9pbmRleFwiKTtcbi8qKlxuICogQW4gYW5ndWxhcjEtbGlrZSBwcm9taXNlIGFwaVxuICpcbiAqIFRoaXMgb2JqZWN0IGltcGxlbWVudHMgZm91ciBtZXRob2RzIHNpbWlsYXIgdG8gdGhlXG4gKiBbYW5ndWxhciAxIHByb21pc2UgYXBpXShodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcvc2VydmljZS8kcSlcbiAqXG4gKiBVSS1Sb3V0ZXIgZXZvbHZlZCBmcm9tIGFuIGFuZ3VsYXIgMSBsaWJyYXJ5IHRvIGEgZnJhbWV3b3JrIGFnbm9zdGljIGxpYnJhcnkuXG4gKiBIb3dldmVyLCBzb21lIG9mIHRoZSBgQHVpcm91dGVyL2NvcmVgIGNvZGUgdXNlcyB0aGVzZSBuZzEgc3R5bGUgQVBJcyB0byBzdXBwb3J0IG5nMSBzdHlsZSBkZXBlbmRlbmN5IGluamVjdGlvbi5cbiAqXG4gKiBUaGlzIEFQSSBwcm92aWRlcyBuYXRpdmUgRVM2IHByb21pc2Ugc3VwcG9ydCB3cmFwcGVkIGFzIGEgJHEtbGlrZSBBUEkuXG4gKiBJbnRlcm5hbGx5LCBVSS1Sb3V0ZXIgdXNlcyB0aGlzICRxIG9iamVjdCB0byBwZXJmb3JtIHByb21pc2Ugb3BlcmF0aW9ucy5cbiAqIFRoZSBgYW5ndWxhci11aS1yb3V0ZXJgICh1aS1yb3V0ZXIgZm9yIGFuZ3VsYXIgMSkgdXNlcyB0aGUgJHEgQVBJIHByb3ZpZGVkIGJ5IGFuZ3VsYXIuXG4gKlxuICogJHEtbGlrZSBwcm9taXNlIGFwaVxuICovXG5leHBvcnRzLiRxID0ge1xuICAgIC8qKiBOb3JtYWxpemVzIGEgdmFsdWUgYXMgYSBwcm9taXNlICovXG4gICAgd2hlbjogZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyByZXR1cm4gcmVzb2x2ZSh2YWwpOyB9KTsgfSxcbiAgICAvKiogTm9ybWFsaXplcyBhIHZhbHVlIGFzIGEgcHJvbWlzZSByZWplY3Rpb24gKi9cbiAgICByZWplY3Q6IGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgcmVqZWN0KHZhbCk7IH0pOyB9LFxuICAgIC8qKiBAcmV0dXJucyBhIGRlZmVycmVkIG9iamVjdCwgd2hpY2ggaGFzIGByZXNvbHZlYCBhbmQgYHJlamVjdGAgZnVuY3Rpb25zICovXG4gICAgZGVmZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0ge307XG4gICAgICAgIGRlZmVycmVkLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICB9LFxuICAgIC8qKiBMaWtlIFByb21pc2UuYWxsKCksIGJ1dCBhbHNvIHN1cHBvcnRzIG9iamVjdCBrZXkvcHJvbWlzZSBub3RhdGlvbiBsaWtlICRxICovXG4gICAgYWxsOiBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICAgICAgaWYgKGluZGV4XzEuaXNBcnJheShwcm9taXNlcykpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4XzEuaXNPYmplY3QocHJvbWlzZXMpKSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHByb21pc2VzIG1hcCB0byBwcm9taXNlcyBhcnJheS5cbiAgICAgICAgICAgIC8vIFdoZW4gZWFjaCBwcm9taXNlIHJlc29sdmVzLCBtYXAgaXQgdG8gYSB0dXBsZSB7IGtleToga2V5LCB2YWw6IHZhbCB9XG4gICAgICAgICAgICB2YXIgY2hhaW4gPSBPYmplY3Qua2V5cyhwcm9taXNlcylcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHByb21pc2VzW2tleV0udGhlbihmdW5jdGlvbiAodmFsKSB7IHJldHVybiAoeyBrZXk6IGtleSwgdmFsOiB2YWwgfSk7IH0pOyB9KTtcbiAgICAgICAgICAgIC8vIFRoZW4gd2FpdCBmb3IgYWxsIHByb21pc2VzIHRvIHJlc29sdmUsIGFuZCBjb252ZXJ0IHRoZW0gYmFjayB0byBhbiBvYmplY3RcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLiRxLmFsbChjaGFpbikudGhlbihmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgdHVwbGUpIHsgYWNjW3R1cGxlLmtleV0gPSB0dXBsZS52YWw7IHJldHVybiBhY2M7IH0sIHt9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXEuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi92YW5pbGxhL3EuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///48\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\nvar index_1 = __webpack_require__(15);\n// globally available injectables\nvar globals = {};\nvar STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\nvar ARGUMENT_NAMES = /([^\\s,]+)/g;\n/**\n * A basic angular1-like injector api\n *\n * This object implements four methods similar to the\n * [angular 1 dependency injector](https://docs.angularjs.org/api/auto/service/$injector)\n *\n * UI-Router evolved from an angular 1 library to a framework agnostic library.\n * However, some of the `@uirouter/core` code uses these ng1 style APIs to support ng1 style dependency injection.\n *\n * This object provides a naive implementation of a globally scoped dependency injection system.\n * It supports the following DI approaches:\n *\n * ### Function parameter names\n *\n * A function's `.toString()` is called, and the parameter names are parsed.\n * This only works when the parameter names aren't \"mangled\" by a minifier such as UglifyJS.\n *\n * ```js\n * function injectedFunction(FooService, BarService) {\n *   // FooService and BarService are injected\n * }\n * ```\n *\n * ### Function annotation\n *\n * A function may be annotated with an array of dependency names as the `$inject` property.\n *\n * ```js\n * injectedFunction.$inject = [ 'FooService', 'BarService' ];\n * function injectedFunction(fs, bs) {\n *   // FooService and BarService are injected as fs and bs parameters\n * }\n * ```\n *\n * ### Array notation\n *\n * An array provides the names of the dependencies to inject (as strings).\n * The function is the last element of the array.\n *\n * ```js\n * [ 'FooService', 'BarService', function (fs, bs) {\n *   // FooService and BarService are injected as fs and bs parameters\n * }]\n * ```\n *\n * @type {$InjectorLike}\n */\nexports.$injector = {\n    /** Gets an object from DI based on a string token */\n    get: function get(name) {\n        return globals[name];\n    },\n    /** Returns true if an object named `name` exists in global DI */\n    has: function has(name) {\n        return exports.$injector.get(name) != null;\n    },\n    /**\n     * Injects a function\n     *\n     * @param fn the function to inject\n     * @param context the function's `this` binding\n     * @param locals An object with additional DI tokens and values, such as `{ someToken: { foo: 1 } }`\n     */\n    invoke: function invoke(fn, context, locals) {\n        var all = index_1.extend({}, globals, locals || {});\n        var params = exports.$injector.annotate(fn);\n        var ensureExist = index_1.assertPredicate(function (key) {\n            return all.hasOwnProperty(key);\n        }, function (key) {\n            return \"DI can't find injectable: '\" + key + \"'\";\n        });\n        var args = params.filter(ensureExist).map(function (x) {\n            return all[x];\n        });\n        if (index_1.isFunction(fn)) return fn.apply(context, args);else return fn.slice(-1)[0].apply(context, args);\n    },\n    /**\n     * Returns a function's dependencies\n     *\n     * Analyzes a function (or array) and returns an array of DI tokens that the function requires.\n     * @return an array of `string`s\n     */\n    annotate: function annotate(fn) {\n        if (!index_1.isInjectable(fn)) throw new Error(\"Not an injectable function: \" + fn);\n        if (fn && fn.$inject) return fn.$inject;\n        if (index_1.isArray(fn)) return fn.slice(0, -1);\n        var fnStr = fn.toString().replace(STRIP_COMMENTS, '');\n        var result = fnStr.slice(fnStr.indexOf('(') + 1, fnStr.indexOf(')')).match(ARGUMENT_NAMES);\n        return result || [];\n    }\n};\n//# sourceMappingURL=injector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZhbmlsbGEvaW5qZWN0b3IuanM/YTA1NCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImluZGV4XzEiLCJyZXF1aXJlIiwiZ2xvYmFscyIsIlNUUklQX0NPTU1FTlRTIiwiQVJHVU1FTlRfTkFNRVMiLCIkaW5qZWN0b3IiLCJnZXQiLCJuYW1lIiwiaGFzIiwiaW52b2tlIiwiZm4iLCJjb250ZXh0IiwibG9jYWxzIiwiYWxsIiwiZXh0ZW5kIiwicGFyYW1zIiwiYW5ub3RhdGUiLCJlbnN1cmVFeGlzdCIsImFzc2VydFByZWRpY2F0ZSIsImtleSIsImhhc093blByb3BlcnR5IiwiYXJncyIsImZpbHRlciIsIm1hcCIsIngiLCJpc0Z1bmN0aW9uIiwiYXBwbHkiLCJzbGljZSIsImlzSW5qZWN0YWJsZSIsIkVycm9yIiwiJGluamVjdCIsImlzQXJyYXkiLCJmblN0ciIsInRvU3RyaW5nIiwicmVwbGFjZSIsInJlc3VsdCIsImluZGV4T2YiLCJtYXRjaCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBOzs7O0FBSUE7QUFDQSxJQUFJQyxVQUFVLG1CQUFBQyxDQUFRLEVBQVIsQ0FBZDtBQUNBO0FBQ0EsSUFBSUMsVUFBVSxFQUFkO0FBQ0EsSUFBSUMsaUJBQWlCLGtDQUFyQjtBQUNBLElBQUlDLGlCQUFpQixZQUFyQjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQStDQU4sUUFBUU8sU0FBUixHQUFvQjtBQUNoQjtBQUNBQyxTQUFLLGFBQVVDLElBQVYsRUFBZ0I7QUFBRSxlQUFPTCxRQUFRSyxJQUFSLENBQVA7QUFBdUIsS0FGOUI7QUFHaEI7QUFDQUMsU0FBSyxhQUFVRCxJQUFWLEVBQWdCO0FBQUUsZUFBT1QsUUFBUU8sU0FBUixDQUFrQkMsR0FBbEIsQ0FBc0JDLElBQXRCLEtBQStCLElBQXRDO0FBQTZDLEtBSnBEO0FBS2hCOzs7Ozs7O0FBT0FFLFlBQVEsZ0JBQVVDLEVBQVYsRUFBY0MsT0FBZCxFQUF1QkMsTUFBdkIsRUFBK0I7QUFDbkMsWUFBSUMsTUFBTWIsUUFBUWMsTUFBUixDQUFlLEVBQWYsRUFBbUJaLE9BQW5CLEVBQTRCVSxVQUFVLEVBQXRDLENBQVY7QUFDQSxZQUFJRyxTQUFTakIsUUFBUU8sU0FBUixDQUFrQlcsUUFBbEIsQ0FBMkJOLEVBQTNCLENBQWI7QUFDQSxZQUFJTyxjQUFjakIsUUFBUWtCLGVBQVIsQ0FBd0IsVUFBVUMsR0FBVixFQUFlO0FBQUUsbUJBQU9OLElBQUlPLGNBQUosQ0FBbUJELEdBQW5CLENBQVA7QUFBaUMsU0FBMUUsRUFBNEUsVUFBVUEsR0FBVixFQUFlO0FBQUUsbUJBQU8sZ0NBQWdDQSxHQUFoQyxHQUFzQyxHQUE3QztBQUFtRCxTQUFoSixDQUFsQjtBQUNBLFlBQUlFLE9BQU9OLE9BQU9PLE1BQVAsQ0FBY0wsV0FBZCxFQUEyQk0sR0FBM0IsQ0FBK0IsVUFBVUMsQ0FBVixFQUFhO0FBQUUsbUJBQU9YLElBQUlXLENBQUosQ0FBUDtBQUFnQixTQUE5RCxDQUFYO0FBQ0EsWUFBSXhCLFFBQVF5QixVQUFSLENBQW1CZixFQUFuQixDQUFKLEVBQ0ksT0FBT0EsR0FBR2dCLEtBQUgsQ0FBU2YsT0FBVCxFQUFrQlUsSUFBbEIsQ0FBUCxDQURKLEtBR0ksT0FBT1gsR0FBR2lCLEtBQUgsQ0FBUyxDQUFDLENBQVYsRUFBYSxDQUFiLEVBQWdCRCxLQUFoQixDQUFzQmYsT0FBdEIsRUFBK0JVLElBQS9CLENBQVA7QUFDUCxLQXJCZTtBQXNCaEI7Ozs7OztBQU1BTCxjQUFVLGtCQUFVTixFQUFWLEVBQWM7QUFDcEIsWUFBSSxDQUFDVixRQUFRNEIsWUFBUixDQUFxQmxCLEVBQXJCLENBQUwsRUFDSSxNQUFNLElBQUltQixLQUFKLENBQVUsaUNBQWlDbkIsRUFBM0MsQ0FBTjtBQUNKLFlBQUlBLE1BQU1BLEdBQUdvQixPQUFiLEVBQ0ksT0FBT3BCLEdBQUdvQixPQUFWO0FBQ0osWUFBSTlCLFFBQVErQixPQUFSLENBQWdCckIsRUFBaEIsQ0FBSixFQUNJLE9BQU9BLEdBQUdpQixLQUFILENBQVMsQ0FBVCxFQUFZLENBQUMsQ0FBYixDQUFQO0FBQ0osWUFBSUssUUFBUXRCLEdBQUd1QixRQUFILEdBQWNDLE9BQWQsQ0FBc0IvQixjQUF0QixFQUFzQyxFQUF0QyxDQUFaO0FBQ0EsWUFBSWdDLFNBQVNILE1BQU1MLEtBQU4sQ0FBWUssTUFBTUksT0FBTixDQUFjLEdBQWQsSUFBcUIsQ0FBakMsRUFBb0NKLE1BQU1JLE9BQU4sQ0FBYyxHQUFkLENBQXBDLEVBQXdEQyxLQUF4RCxDQUE4RGpDLGNBQTlELENBQWI7QUFDQSxlQUFPK0IsVUFBVSxFQUFqQjtBQUNIO0FBdENlLENBQXBCO0FBd0NBIiwiZmlsZSI6IjQ5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEBpbnRlcm5hbGFwaVxuICogQG1vZHVsZSB2YW5pbGxhXG4gKi9cbi8qKiAqL1xudmFyIGluZGV4XzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2luZGV4XCIpO1xuLy8gZ2xvYmFsbHkgYXZhaWxhYmxlIGluamVjdGFibGVzXG52YXIgZ2xvYmFscyA9IHt9O1xudmFyIFNUUklQX0NPTU1FTlRTID0gLygoXFwvXFwvLiokKXwoXFwvXFwqW1xcc1xcU10qP1xcKlxcLykpL21nO1xudmFyIEFSR1VNRU5UX05BTUVTID0gLyhbXlxccyxdKykvZztcbi8qKlxuICogQSBiYXNpYyBhbmd1bGFyMS1saWtlIGluamVjdG9yIGFwaVxuICpcbiAqIFRoaXMgb2JqZWN0IGltcGxlbWVudHMgZm91ciBtZXRob2RzIHNpbWlsYXIgdG8gdGhlXG4gKiBbYW5ndWxhciAxIGRlcGVuZGVuY3kgaW5qZWN0b3JdKGh0dHBzOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9hdXRvL3NlcnZpY2UvJGluamVjdG9yKVxuICpcbiAqIFVJLVJvdXRlciBldm9sdmVkIGZyb20gYW4gYW5ndWxhciAxIGxpYnJhcnkgdG8gYSBmcmFtZXdvcmsgYWdub3N0aWMgbGlicmFyeS5cbiAqIEhvd2V2ZXIsIHNvbWUgb2YgdGhlIGBAdWlyb3V0ZXIvY29yZWAgY29kZSB1c2VzIHRoZXNlIG5nMSBzdHlsZSBBUElzIHRvIHN1cHBvcnQgbmcxIHN0eWxlIGRlcGVuZGVuY3kgaW5qZWN0aW9uLlxuICpcbiAqIFRoaXMgb2JqZWN0IHByb3ZpZGVzIGEgbmFpdmUgaW1wbGVtZW50YXRpb24gb2YgYSBnbG9iYWxseSBzY29wZWQgZGVwZW5kZW5jeSBpbmplY3Rpb24gc3lzdGVtLlxuICogSXQgc3VwcG9ydHMgdGhlIGZvbGxvd2luZyBESSBhcHByb2FjaGVzOlxuICpcbiAqICMjIyBGdW5jdGlvbiBwYXJhbWV0ZXIgbmFtZXNcbiAqXG4gKiBBIGZ1bmN0aW9uJ3MgYC50b1N0cmluZygpYCBpcyBjYWxsZWQsIGFuZCB0aGUgcGFyYW1ldGVyIG5hbWVzIGFyZSBwYXJzZWQuXG4gKiBUaGlzIG9ubHkgd29ya3Mgd2hlbiB0aGUgcGFyYW1ldGVyIG5hbWVzIGFyZW4ndCBcIm1hbmdsZWRcIiBieSBhIG1pbmlmaWVyIHN1Y2ggYXMgVWdsaWZ5SlMuXG4gKlxuICogYGBganNcbiAqIGZ1bmN0aW9uIGluamVjdGVkRnVuY3Rpb24oRm9vU2VydmljZSwgQmFyU2VydmljZSkge1xuICogICAvLyBGb29TZXJ2aWNlIGFuZCBCYXJTZXJ2aWNlIGFyZSBpbmplY3RlZFxuICogfVxuICogYGBgXG4gKlxuICogIyMjIEZ1bmN0aW9uIGFubm90YXRpb25cbiAqXG4gKiBBIGZ1bmN0aW9uIG1heSBiZSBhbm5vdGF0ZWQgd2l0aCBhbiBhcnJheSBvZiBkZXBlbmRlbmN5IG5hbWVzIGFzIHRoZSBgJGluamVjdGAgcHJvcGVydHkuXG4gKlxuICogYGBganNcbiAqIGluamVjdGVkRnVuY3Rpb24uJGluamVjdCA9IFsgJ0Zvb1NlcnZpY2UnLCAnQmFyU2VydmljZScgXTtcbiAqIGZ1bmN0aW9uIGluamVjdGVkRnVuY3Rpb24oZnMsIGJzKSB7XG4gKiAgIC8vIEZvb1NlcnZpY2UgYW5kIEJhclNlcnZpY2UgYXJlIGluamVjdGVkIGFzIGZzIGFuZCBicyBwYXJhbWV0ZXJzXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiAjIyMgQXJyYXkgbm90YXRpb25cbiAqXG4gKiBBbiBhcnJheSBwcm92aWRlcyB0aGUgbmFtZXMgb2YgdGhlIGRlcGVuZGVuY2llcyB0byBpbmplY3QgKGFzIHN0cmluZ3MpLlxuICogVGhlIGZ1bmN0aW9uIGlzIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIGFycmF5LlxuICpcbiAqIGBgYGpzXG4gKiBbICdGb29TZXJ2aWNlJywgJ0JhclNlcnZpY2UnLCBmdW5jdGlvbiAoZnMsIGJzKSB7XG4gKiAgIC8vIEZvb1NlcnZpY2UgYW5kIEJhclNlcnZpY2UgYXJlIGluamVjdGVkIGFzIGZzIGFuZCBicyBwYXJhbWV0ZXJzXG4gKiB9XVxuICogYGBgXG4gKlxuICogQHR5cGUgeyRJbmplY3Rvckxpa2V9XG4gKi9cbmV4cG9ydHMuJGluamVjdG9yID0ge1xuICAgIC8qKiBHZXRzIGFuIG9iamVjdCBmcm9tIERJIGJhc2VkIG9uIGEgc3RyaW5nIHRva2VuICovXG4gICAgZ2V0OiBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZ2xvYmFsc1tuYW1lXTsgfSxcbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIGFuIG9iamVjdCBuYW1lZCBgbmFtZWAgZXhpc3RzIGluIGdsb2JhbCBESSAqL1xuICAgIGhhczogZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIGV4cG9ydHMuJGluamVjdG9yLmdldChuYW1lKSAhPSBudWxsOyB9LFxuICAgIC8qKlxuICAgICAqIEluamVjdHMgYSBmdW5jdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIGZuIHRoZSBmdW5jdGlvbiB0byBpbmplY3RcbiAgICAgKiBAcGFyYW0gY29udGV4dCB0aGUgZnVuY3Rpb24ncyBgdGhpc2AgYmluZGluZ1xuICAgICAqIEBwYXJhbSBsb2NhbHMgQW4gb2JqZWN0IHdpdGggYWRkaXRpb25hbCBESSB0b2tlbnMgYW5kIHZhbHVlcywgc3VjaCBhcyBgeyBzb21lVG9rZW46IHsgZm9vOiAxIH0gfWBcbiAgICAgKi9cbiAgICBpbnZva2U6IGZ1bmN0aW9uIChmbiwgY29udGV4dCwgbG9jYWxzKSB7XG4gICAgICAgIHZhciBhbGwgPSBpbmRleF8xLmV4dGVuZCh7fSwgZ2xvYmFscywgbG9jYWxzIHx8IHt9KTtcbiAgICAgICAgdmFyIHBhcmFtcyA9IGV4cG9ydHMuJGluamVjdG9yLmFubm90YXRlKGZuKTtcbiAgICAgICAgdmFyIGVuc3VyZUV4aXN0ID0gaW5kZXhfMS5hc3NlcnRQcmVkaWNhdGUoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gYWxsLmhhc093blByb3BlcnR5KGtleSk7IH0sIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIFwiREkgY2FuJ3QgZmluZCBpbmplY3RhYmxlOiAnXCIgKyBrZXkgKyBcIidcIjsgfSk7XG4gICAgICAgIHZhciBhcmdzID0gcGFyYW1zLmZpbHRlcihlbnN1cmVFeGlzdCkubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiBhbGxbeF07IH0pO1xuICAgICAgICBpZiAoaW5kZXhfMS5pc0Z1bmN0aW9uKGZuKSlcbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIGZuLnNsaWNlKC0xKVswXS5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBmdW5jdGlvbidzIGRlcGVuZGVuY2llc1xuICAgICAqXG4gICAgICogQW5hbHl6ZXMgYSBmdW5jdGlvbiAob3IgYXJyYXkpIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIERJIHRva2VucyB0aGF0IHRoZSBmdW5jdGlvbiByZXF1aXJlcy5cbiAgICAgKiBAcmV0dXJuIGFuIGFycmF5IG9mIGBzdHJpbmdgc1xuICAgICAqL1xuICAgIGFubm90YXRlOiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgaWYgKCFpbmRleF8xLmlzSW5qZWN0YWJsZShmbikpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYW4gaW5qZWN0YWJsZSBmdW5jdGlvbjogXCIgKyBmbik7XG4gICAgICAgIGlmIChmbiAmJiBmbi4kaW5qZWN0KVxuICAgICAgICAgICAgcmV0dXJuIGZuLiRpbmplY3Q7XG4gICAgICAgIGlmIChpbmRleF8xLmlzQXJyYXkoZm4pKVxuICAgICAgICAgICAgcmV0dXJuIGZuLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgdmFyIGZuU3RyID0gZm4udG9TdHJpbmcoKS5yZXBsYWNlKFNUUklQX0NPTU1FTlRTLCAnJyk7XG4gICAgICAgIHZhciByZXN1bHQgPSBmblN0ci5zbGljZShmblN0ci5pbmRleE9mKCcoJykgKyAxLCBmblN0ci5pbmRleE9mKCcpJykpLm1hdGNoKEFSR1VNRU5UX05BTUVTKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCB8fCBbXTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5qZWN0b3IuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi92YW5pbGxhL2luamVjdG9yLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///49\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar __extends = undefined && undefined.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\nvar utils_1 = __webpack_require__(14);\nvar baseLocationService_1 = __webpack_require__(21);\n/** A `LocationServices` that uses the browser hash \"#\" to get/set the current location */\nvar HashLocationService = function (_super) {\n    __extends(HashLocationService, _super);\n    function HashLocationService(router) {\n        var _this = _super.call(this, router, false) || this;\n        window.addEventListener('hashchange', _this._listener, false);\n        return _this;\n    }\n    HashLocationService.prototype._get = function () {\n        return utils_1.trimHashVal(this._location.hash);\n    };\n    HashLocationService.prototype._set = function (state, title, url, replace) {\n        this._location.hash = url;\n    };\n    HashLocationService.prototype.dispose = function (router) {\n        _super.prototype.dispose.call(this, router);\n        window.removeEventListener('hashchange', this._listener);\n    };\n    return HashLocationService;\n}(baseLocationService_1.BaseLocationServices);\nexports.HashLocationService = HashLocationService;\n//# sourceMappingURL=hashLocationService.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZhbmlsbGEvaGFzaExvY2F0aW9uU2VydmljZS5qcz9mOTMxIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsImV4dGVuZFN0YXRpY3MiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiZCIsImIiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJ1dGlsc18xIiwicmVxdWlyZSIsImJhc2VMb2NhdGlvblNlcnZpY2VfMSIsIkhhc2hMb2NhdGlvblNlcnZpY2UiLCJfc3VwZXIiLCJyb3V0ZXIiLCJfdGhpcyIsImNhbGwiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiX2xpc3RlbmVyIiwiX2dldCIsInRyaW1IYXNoVmFsIiwiX2xvY2F0aW9uIiwiaGFzaCIsIl9zZXQiLCJzdGF0ZSIsInRpdGxlIiwidXJsIiwicmVwbGFjZSIsImRpc3Bvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiQmFzZUxvY2F0aW9uU2VydmljZXMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLElBQUlBLFlBQWEsYUFBUSxVQUFLQSxTQUFkLElBQTZCLFlBQVk7QUFDckQsUUFBSUMsZ0JBQWdCQyxPQUFPQyxjQUFQLElBQ2YsRUFBRUMsV0FBVyxFQUFiLGNBQTZCQyxLQUE3QixJQUFzQyxVQUFVQyxDQUFWLEVBQWFDLENBQWIsRUFBZ0I7QUFBRUQsVUFBRUYsU0FBRixHQUFjRyxDQUFkO0FBQWtCLEtBRDNELElBRWhCLFVBQVVELENBQVYsRUFBYUMsQ0FBYixFQUFnQjtBQUFFLGFBQUssSUFBSUMsQ0FBVCxJQUFjRCxDQUFkO0FBQWlCLGdCQUFJQSxFQUFFRSxjQUFGLENBQWlCRCxDQUFqQixDQUFKLEVBQXlCRixFQUFFRSxDQUFGLElBQU9ELEVBQUVDLENBQUYsQ0FBUDtBQUExQztBQUF3RCxLQUY5RTtBQUdBLFdBQU8sVUFBVUYsQ0FBVixFQUFhQyxDQUFiLEVBQWdCO0FBQ25CTixzQkFBY0ssQ0FBZCxFQUFpQkMsQ0FBakI7QUFDQSxpQkFBU0csRUFBVCxHQUFjO0FBQUUsaUJBQUtDLFdBQUwsR0FBbUJMLENBQW5CO0FBQXVCO0FBQ3ZDQSxVQUFFTSxTQUFGLEdBQWNMLE1BQU0sSUFBTixHQUFhTCxPQUFPVyxNQUFQLENBQWNOLENBQWQsQ0FBYixJQUFpQ0csR0FBR0UsU0FBSCxHQUFlTCxFQUFFSyxTQUFqQixFQUE0QixJQUFJRixFQUFKLEVBQTdELENBQWQ7QUFDSCxLQUpEO0FBS0gsQ0FUMkMsRUFBNUM7QUFVQVIsT0FBT1ksY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0E7Ozs7QUFJQTtBQUNBLElBQUlDLFVBQVUsbUJBQUFDLENBQVEsRUFBUixDQUFkO0FBQ0EsSUFBSUMsd0JBQXdCLG1CQUFBRCxDQUFRLEVBQVIsQ0FBNUI7QUFDQTtBQUNBLElBQUlFLHNCQUF1QixVQUFVQyxNQUFWLEVBQWtCO0FBQ3pDckIsY0FBVW9CLG1CQUFWLEVBQStCQyxNQUEvQjtBQUNBLGFBQVNELG1CQUFULENBQTZCRSxNQUE3QixFQUFxQztBQUNqQyxZQUFJQyxRQUFRRixPQUFPRyxJQUFQLENBQVksSUFBWixFQUFrQkYsTUFBbEIsRUFBMEIsS0FBMUIsS0FBb0MsSUFBaEQ7QUFDQUcsZUFBT0MsZ0JBQVAsQ0FBd0IsWUFBeEIsRUFBc0NILE1BQU1JLFNBQTVDLEVBQXVELEtBQXZEO0FBQ0EsZUFBT0osS0FBUDtBQUNIO0FBQ0RILHdCQUFvQlIsU0FBcEIsQ0FBOEJnQixJQUE5QixHQUFxQyxZQUFZO0FBQzdDLGVBQU9YLFFBQVFZLFdBQVIsQ0FBb0IsS0FBS0MsU0FBTCxDQUFlQyxJQUFuQyxDQUFQO0FBQ0gsS0FGRDtBQUdBWCx3QkFBb0JSLFNBQXBCLENBQThCb0IsSUFBOUIsR0FBcUMsVUFBVUMsS0FBVixFQUFpQkMsS0FBakIsRUFBd0JDLEdBQXhCLEVBQTZCQyxPQUE3QixFQUFzQztBQUN2RSxhQUFLTixTQUFMLENBQWVDLElBQWYsR0FBc0JJLEdBQXRCO0FBQ0gsS0FGRDtBQUdBZix3QkFBb0JSLFNBQXBCLENBQThCeUIsT0FBOUIsR0FBd0MsVUFBVWYsTUFBVixFQUFrQjtBQUN0REQsZUFBT1QsU0FBUCxDQUFpQnlCLE9BQWpCLENBQXlCYixJQUF6QixDQUE4QixJQUE5QixFQUFvQ0YsTUFBcEM7QUFDQUcsZUFBT2EsbUJBQVAsQ0FBMkIsWUFBM0IsRUFBeUMsS0FBS1gsU0FBOUM7QUFDSCxLQUhEO0FBSUEsV0FBT1AsbUJBQVA7QUFDSCxDQWxCMEIsQ0FrQnpCRCxzQkFBc0JvQixvQkFsQkcsQ0FBM0I7QUFtQkF4QixRQUFRSyxtQkFBUixHQUE4QkEsbUJBQTlCO0FBQ0EiLCJmaWxlIjoiNTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBAaW50ZXJuYWxhcGlcbiAqIEBtb2R1bGUgdmFuaWxsYVxuICovXG4vKiogKi9cbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG52YXIgYmFzZUxvY2F0aW9uU2VydmljZV8xID0gcmVxdWlyZShcIi4vYmFzZUxvY2F0aW9uU2VydmljZVwiKTtcbi8qKiBBIGBMb2NhdGlvblNlcnZpY2VzYCB0aGF0IHVzZXMgdGhlIGJyb3dzZXIgaGFzaCBcIiNcIiB0byBnZXQvc2V0IHRoZSBjdXJyZW50IGxvY2F0aW9uICovXG52YXIgSGFzaExvY2F0aW9uU2VydmljZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEhhc2hMb2NhdGlvblNlcnZpY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSGFzaExvY2F0aW9uU2VydmljZShyb3V0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcm91dGVyLCBmYWxzZSkgfHwgdGhpcztcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBfdGhpcy5fbGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBIYXNoTG9jYXRpb25TZXJ2aWNlLnByb3RvdHlwZS5fZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdXRpbHNfMS50cmltSGFzaFZhbCh0aGlzLl9sb2NhdGlvbi5oYXNoKTtcbiAgICB9O1xuICAgIEhhc2hMb2NhdGlvblNlcnZpY2UucHJvdG90eXBlLl9zZXQgPSBmdW5jdGlvbiAoc3RhdGUsIHRpdGxlLCB1cmwsIHJlcGxhY2UpIHtcbiAgICAgICAgdGhpcy5fbG9jYXRpb24uaGFzaCA9IHVybDtcbiAgICB9O1xuICAgIEhhc2hMb2NhdGlvblNlcnZpY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAocm91dGVyKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMsIHJvdXRlcik7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5fbGlzdGVuZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIEhhc2hMb2NhdGlvblNlcnZpY2U7XG59KGJhc2VMb2NhdGlvblNlcnZpY2VfMS5CYXNlTG9jYXRpb25TZXJ2aWNlcykpO1xuZXhwb3J0cy5IYXNoTG9jYXRpb25TZXJ2aWNlID0gSGFzaExvY2F0aW9uU2VydmljZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhhc2hMb2NhdGlvblNlcnZpY2UuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi92YW5pbGxhL2hhc2hMb2NhdGlvblNlcnZpY2UuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///50\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar __extends = undefined && undefined.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\nvar baseLocationService_1 = __webpack_require__(21);\n/** A `LocationServices` that gets/sets the current location from an in-memory object */\nvar MemoryLocationService = function (_super) {\n    __extends(MemoryLocationService, _super);\n    function MemoryLocationService(router) {\n        return _super.call(this, router, true) || this;\n    }\n    MemoryLocationService.prototype._get = function () {\n        return this._url;\n    };\n    MemoryLocationService.prototype._set = function (state, title, url, replace) {\n        this._url = url;\n    };\n    return MemoryLocationService;\n}(baseLocationService_1.BaseLocationServices);\nexports.MemoryLocationService = MemoryLocationService;\n//# sourceMappingURL=memoryLocationService.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZhbmlsbGEvbWVtb3J5TG9jYXRpb25TZXJ2aWNlLmpzPzE2OTgiXSwibmFtZXMiOlsiX19leHRlbmRzIiwiZXh0ZW5kU3RhdGljcyIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJkIiwiYiIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImJhc2VMb2NhdGlvblNlcnZpY2VfMSIsInJlcXVpcmUiLCJNZW1vcnlMb2NhdGlvblNlcnZpY2UiLCJfc3VwZXIiLCJyb3V0ZXIiLCJjYWxsIiwiX2dldCIsIl91cmwiLCJfc2V0Iiwic3RhdGUiLCJ0aXRsZSIsInVybCIsInJlcGxhY2UiLCJCYXNlTG9jYXRpb25TZXJ2aWNlcyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsSUFBSUEsWUFBYSxhQUFRLFVBQUtBLFNBQWQsSUFBNkIsWUFBWTtBQUNyRCxRQUFJQyxnQkFBZ0JDLE9BQU9DLGNBQVAsSUFDZixFQUFFQyxXQUFXLEVBQWIsY0FBNkJDLEtBQTdCLElBQXNDLFVBQVVDLENBQVYsRUFBYUMsQ0FBYixFQUFnQjtBQUFFRCxVQUFFRixTQUFGLEdBQWNHLENBQWQ7QUFBa0IsS0FEM0QsSUFFaEIsVUFBVUQsQ0FBVixFQUFhQyxDQUFiLEVBQWdCO0FBQUUsYUFBSyxJQUFJQyxDQUFULElBQWNELENBQWQ7QUFBaUIsZ0JBQUlBLEVBQUVFLGNBQUYsQ0FBaUJELENBQWpCLENBQUosRUFBeUJGLEVBQUVFLENBQUYsSUFBT0QsRUFBRUMsQ0FBRixDQUFQO0FBQTFDO0FBQXdELEtBRjlFO0FBR0EsV0FBTyxVQUFVRixDQUFWLEVBQWFDLENBQWIsRUFBZ0I7QUFDbkJOLHNCQUFjSyxDQUFkLEVBQWlCQyxDQUFqQjtBQUNBLGlCQUFTRyxFQUFULEdBQWM7QUFBRSxpQkFBS0MsV0FBTCxHQUFtQkwsQ0FBbkI7QUFBdUI7QUFDdkNBLFVBQUVNLFNBQUYsR0FBY0wsTUFBTSxJQUFOLEdBQWFMLE9BQU9XLE1BQVAsQ0FBY04sQ0FBZCxDQUFiLElBQWlDRyxHQUFHRSxTQUFILEdBQWVMLEVBQUVLLFNBQWpCLEVBQTRCLElBQUlGLEVBQUosRUFBN0QsQ0FBZDtBQUNILEtBSkQ7QUFLSCxDQVQyQyxFQUE1QztBQVVBUixPQUFPWSxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTs7OztBQUlBO0FBQ0EsSUFBSUMsd0JBQXdCLG1CQUFBQyxDQUFRLEVBQVIsQ0FBNUI7QUFDQTtBQUNBLElBQUlDLHdCQUF5QixVQUFVQyxNQUFWLEVBQWtCO0FBQzNDcEIsY0FBVW1CLHFCQUFWLEVBQWlDQyxNQUFqQztBQUNBLGFBQVNELHFCQUFULENBQStCRSxNQUEvQixFQUF1QztBQUNuQyxlQUFPRCxPQUFPRSxJQUFQLENBQVksSUFBWixFQUFrQkQsTUFBbEIsRUFBMEIsSUFBMUIsS0FBbUMsSUFBMUM7QUFDSDtBQUNERiwwQkFBc0JQLFNBQXRCLENBQWdDVyxJQUFoQyxHQUF1QyxZQUFZO0FBQy9DLGVBQU8sS0FBS0MsSUFBWjtBQUNILEtBRkQ7QUFHQUwsMEJBQXNCUCxTQUF0QixDQUFnQ2EsSUFBaEMsR0FBdUMsVUFBVUMsS0FBVixFQUFpQkMsS0FBakIsRUFBd0JDLEdBQXhCLEVBQTZCQyxPQUE3QixFQUFzQztBQUN6RSxhQUFLTCxJQUFMLEdBQVlJLEdBQVo7QUFDSCxLQUZEO0FBR0EsV0FBT1QscUJBQVA7QUFDSCxDQVo0QixDQVkzQkYsc0JBQXNCYSxvQkFaSyxDQUE3QjtBQWFBZixRQUFRSSxxQkFBUixHQUFnQ0EscUJBQWhDO0FBQ0EiLCJmaWxlIjoiNTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBAaW50ZXJuYWxhcGlcbiAqIEBtb2R1bGUgdmFuaWxsYVxuICovXG4vKiogKi9cbnZhciBiYXNlTG9jYXRpb25TZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9iYXNlTG9jYXRpb25TZXJ2aWNlXCIpO1xuLyoqIEEgYExvY2F0aW9uU2VydmljZXNgIHRoYXQgZ2V0cy9zZXRzIHRoZSBjdXJyZW50IGxvY2F0aW9uIGZyb20gYW4gaW4tbWVtb3J5IG9iamVjdCAqL1xudmFyIE1lbW9yeUxvY2F0aW9uU2VydmljZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lbW9yeUxvY2F0aW9uU2VydmljZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNZW1vcnlMb2NhdGlvblNlcnZpY2Uocm91dGVyKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCByb3V0ZXIsIHRydWUpIHx8IHRoaXM7XG4gICAgfVxuICAgIE1lbW9yeUxvY2F0aW9uU2VydmljZS5wcm90b3R5cGUuX2dldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VybDtcbiAgICB9O1xuICAgIE1lbW9yeUxvY2F0aW9uU2VydmljZS5wcm90b3R5cGUuX3NldCA9IGZ1bmN0aW9uIChzdGF0ZSwgdGl0bGUsIHVybCwgcmVwbGFjZSkge1xuICAgICAgICB0aGlzLl91cmwgPSB1cmw7XG4gICAgfTtcbiAgICByZXR1cm4gTWVtb3J5TG9jYXRpb25TZXJ2aWNlO1xufShiYXNlTG9jYXRpb25TZXJ2aWNlXzEuQmFzZUxvY2F0aW9uU2VydmljZXMpKTtcbmV4cG9ydHMuTWVtb3J5TG9jYXRpb25TZXJ2aWNlID0gTWVtb3J5TG9jYXRpb25TZXJ2aWNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVtb3J5TG9jYXRpb25TZXJ2aWNlLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvdmFuaWxsYS9tZW1vcnlMb2NhdGlvblNlcnZpY2UuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///51\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar __extends = undefined && undefined.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar utils_1 = __webpack_require__(14);\nvar baseLocationService_1 = __webpack_require__(21);\n/**\n * A `LocationServices` that gets/sets the current location using the browser\'s `location` and `history` apis\n *\n * Uses `history.pushState` and `history.replaceState`\n */\nvar PushStateLocationService = function (_super) {\n    __extends(PushStateLocationService, _super);\n    function PushStateLocationService(router) {\n        var _this = _super.call(this, router, true) || this;\n        _this._config = router.urlService.config;\n        window.addEventListener("popstate", _this._listener, false);\n        return _this;\n    }\n    ;\n    PushStateLocationService.prototype._get = function () {\n        var _a = this._location,\n            pathname = _a.pathname,\n            hash = _a.hash,\n            search = _a.search;\n        search = utils_1.splitQuery(search)[1]; // strip ? if found\n        hash = utils_1.splitHash(hash)[1]; // strip # if found\n        return pathname + (search ? "?" + search : "") + (hash ? "$" + search : "");\n    };\n    PushStateLocationService.prototype._set = function (state, title, url, replace) {\n        var _a = this,\n            _config = _a._config,\n            _history = _a._history;\n        var fullUrl = _config.baseHref() + url;\n        if (replace) {\n            _history.replaceState(state, title, fullUrl);\n        } else {\n            _history.pushState(state, title, fullUrl);\n        }\n    };\n    PushStateLocationService.prototype.dispose = function (router) {\n        _super.prototype.dispose.call(this, router);\n        window.removeEventListener("popstate", this._listener);\n    };\n    return PushStateLocationService;\n}(baseLocationService_1.BaseLocationServices);\nexports.PushStateLocationService = PushStateLocationService;\n//# sourceMappingURL=pushStateLocationService.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZhbmlsbGEvcHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlLmpzPzE0MGMiXSwibmFtZXMiOlsiX19leHRlbmRzIiwiZXh0ZW5kU3RhdGljcyIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJkIiwiYiIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInV0aWxzXzEiLCJyZXF1aXJlIiwiYmFzZUxvY2F0aW9uU2VydmljZV8xIiwiUHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlIiwiX3N1cGVyIiwicm91dGVyIiwiX3RoaXMiLCJjYWxsIiwiX2NvbmZpZyIsInVybFNlcnZpY2UiLCJjb25maWciLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiX2xpc3RlbmVyIiwiX2dldCIsIl9hIiwiX2xvY2F0aW9uIiwicGF0aG5hbWUiLCJoYXNoIiwic2VhcmNoIiwic3BsaXRRdWVyeSIsInNwbGl0SGFzaCIsIl9zZXQiLCJzdGF0ZSIsInRpdGxlIiwidXJsIiwicmVwbGFjZSIsIl9oaXN0b3J5IiwiZnVsbFVybCIsImJhc2VIcmVmIiwicmVwbGFjZVN0YXRlIiwicHVzaFN0YXRlIiwiZGlzcG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJCYXNlTG9jYXRpb25TZXJ2aWNlcyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsSUFBSUEsWUFBYSxhQUFRLFVBQUtBLFNBQWQsSUFBNkIsWUFBWTtBQUNyRCxRQUFJQyxnQkFBZ0JDLE9BQU9DLGNBQVAsSUFDZixFQUFFQyxXQUFXLEVBQWIsY0FBNkJDLEtBQTdCLElBQXNDLFVBQVVDLENBQVYsRUFBYUMsQ0FBYixFQUFnQjtBQUFFRCxVQUFFRixTQUFGLEdBQWNHLENBQWQ7QUFBa0IsS0FEM0QsSUFFaEIsVUFBVUQsQ0FBVixFQUFhQyxDQUFiLEVBQWdCO0FBQUUsYUFBSyxJQUFJQyxDQUFULElBQWNELENBQWQ7QUFBaUIsZ0JBQUlBLEVBQUVFLGNBQUYsQ0FBaUJELENBQWpCLENBQUosRUFBeUJGLEVBQUVFLENBQUYsSUFBT0QsRUFBRUMsQ0FBRixDQUFQO0FBQTFDO0FBQXdELEtBRjlFO0FBR0EsV0FBTyxVQUFVRixDQUFWLEVBQWFDLENBQWIsRUFBZ0I7QUFDbkJOLHNCQUFjSyxDQUFkLEVBQWlCQyxDQUFqQjtBQUNBLGlCQUFTRyxFQUFULEdBQWM7QUFBRSxpQkFBS0MsV0FBTCxHQUFtQkwsQ0FBbkI7QUFBdUI7QUFDdkNBLFVBQUVNLFNBQUYsR0FBY0wsTUFBTSxJQUFOLEdBQWFMLE9BQU9XLE1BQVAsQ0FBY04sQ0FBZCxDQUFiLElBQWlDRyxHQUFHRSxTQUFILEdBQWVMLEVBQUVLLFNBQWpCLEVBQTRCLElBQUlGLEVBQUosRUFBN0QsQ0FBZDtBQUNILEtBSkQ7QUFLSCxDQVQyQyxFQUE1QztBQVVBUixPQUFPWSxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQSxJQUFJQyxVQUFVLG1CQUFBQyxDQUFRLEVBQVIsQ0FBZDtBQUNBLElBQUlDLHdCQUF3QixtQkFBQUQsQ0FBUSxFQUFSLENBQTVCO0FBQ0E7Ozs7O0FBS0EsSUFBSUUsMkJBQTRCLFVBQVVDLE1BQVYsRUFBa0I7QUFDOUNyQixjQUFVb0Isd0JBQVYsRUFBb0NDLE1BQXBDO0FBQ0EsYUFBU0Qsd0JBQVQsQ0FBa0NFLE1BQWxDLEVBQTBDO0FBQ3RDLFlBQUlDLFFBQVFGLE9BQU9HLElBQVAsQ0FBWSxJQUFaLEVBQWtCRixNQUFsQixFQUEwQixJQUExQixLQUFtQyxJQUEvQztBQUNBQyxjQUFNRSxPQUFOLEdBQWdCSCxPQUFPSSxVQUFQLENBQWtCQyxNQUFsQztBQUNBQyxlQUFPQyxnQkFBUCxDQUF3QixVQUF4QixFQUFvQ04sTUFBTU8sU0FBMUMsRUFBcUQsS0FBckQ7QUFDQSxlQUFPUCxLQUFQO0FBQ0g7QUFDRDtBQUNBSCw2QkFBeUJSLFNBQXpCLENBQW1DbUIsSUFBbkMsR0FBMEMsWUFBWTtBQUNsRCxZQUFJQyxLQUFLLEtBQUtDLFNBQWQ7QUFBQSxZQUF5QkMsV0FBV0YsR0FBR0UsUUFBdkM7QUFBQSxZQUFpREMsT0FBT0gsR0FBR0csSUFBM0Q7QUFBQSxZQUFpRUMsU0FBU0osR0FBR0ksTUFBN0U7QUFDQUEsaUJBQVNuQixRQUFRb0IsVUFBUixDQUFtQkQsTUFBbkIsRUFBMkIsQ0FBM0IsQ0FBVCxDQUZrRCxDQUVWO0FBQ3hDRCxlQUFPbEIsUUFBUXFCLFNBQVIsQ0FBa0JILElBQWxCLEVBQXdCLENBQXhCLENBQVAsQ0FIa0QsQ0FHZjtBQUNuQyxlQUFPRCxZQUFZRSxTQUFTLE1BQU1BLE1BQWYsR0FBd0IsRUFBcEMsS0FBMkNELE9BQU8sTUFBTUMsTUFBYixHQUFzQixFQUFqRSxDQUFQO0FBQ0gsS0FMRDtBQU1BaEIsNkJBQXlCUixTQUF6QixDQUFtQzJCLElBQW5DLEdBQTBDLFVBQVVDLEtBQVYsRUFBaUJDLEtBQWpCLEVBQXdCQyxHQUF4QixFQUE2QkMsT0FBN0IsRUFBc0M7QUFDNUUsWUFBSVgsS0FBSyxJQUFUO0FBQUEsWUFBZVAsVUFBVU8sR0FBR1AsT0FBNUI7QUFBQSxZQUFxQ21CLFdBQVdaLEdBQUdZLFFBQW5EO0FBQ0EsWUFBSUMsVUFBVXBCLFFBQVFxQixRQUFSLEtBQXFCSixHQUFuQztBQUNBLFlBQUlDLE9BQUosRUFBYTtBQUNUQyxxQkFBU0csWUFBVCxDQUFzQlAsS0FBdEIsRUFBNkJDLEtBQTdCLEVBQW9DSSxPQUFwQztBQUNILFNBRkQsTUFHSztBQUNERCxxQkFBU0ksU0FBVCxDQUFtQlIsS0FBbkIsRUFBMEJDLEtBQTFCLEVBQWlDSSxPQUFqQztBQUNIO0FBQ0osS0FURDtBQVVBekIsNkJBQXlCUixTQUF6QixDQUFtQ3FDLE9BQW5DLEdBQTZDLFVBQVUzQixNQUFWLEVBQWtCO0FBQzNERCxlQUFPVCxTQUFQLENBQWlCcUMsT0FBakIsQ0FBeUJ6QixJQUF6QixDQUE4QixJQUE5QixFQUFvQ0YsTUFBcEM7QUFDQU0sZUFBT3NCLG1CQUFQLENBQTJCLFVBQTNCLEVBQXVDLEtBQUtwQixTQUE1QztBQUNILEtBSEQ7QUFJQSxXQUFPVix3QkFBUDtBQUNILENBOUIrQixDQThCOUJELHNCQUFzQmdDLG9CQTlCUSxDQUFoQztBQStCQXBDLFFBQVFLLHdCQUFSLEdBQW1DQSx3QkFBbkM7QUFDQSIsImZpbGUiOiI1Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIGJhc2VMb2NhdGlvblNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL2Jhc2VMb2NhdGlvblNlcnZpY2VcIik7XG4vKipcbiAqIEEgYExvY2F0aW9uU2VydmljZXNgIHRoYXQgZ2V0cy9zZXRzIHRoZSBjdXJyZW50IGxvY2F0aW9uIHVzaW5nIHRoZSBicm93c2VyJ3MgYGxvY2F0aW9uYCBhbmQgYGhpc3RvcnlgIGFwaXNcbiAqXG4gKiBVc2VzIGBoaXN0b3J5LnB1c2hTdGF0ZWAgYW5kIGBoaXN0b3J5LnJlcGxhY2VTdGF0ZWBcbiAqL1xudmFyIFB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQdXNoU3RhdGVMb2NhdGlvblNlcnZpY2Uocm91dGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJvdXRlciwgdHJ1ZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2NvbmZpZyA9IHJvdXRlci51cmxTZXJ2aWNlLmNvbmZpZztcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBfdGhpcy5fbGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICA7XG4gICAgUHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlLnByb3RvdHlwZS5fZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLl9sb2NhdGlvbiwgcGF0aG5hbWUgPSBfYS5wYXRobmFtZSwgaGFzaCA9IF9hLmhhc2gsIHNlYXJjaCA9IF9hLnNlYXJjaDtcbiAgICAgICAgc2VhcmNoID0gdXRpbHNfMS5zcGxpdFF1ZXJ5KHNlYXJjaClbMV07IC8vIHN0cmlwID8gaWYgZm91bmRcbiAgICAgICAgaGFzaCA9IHV0aWxzXzEuc3BsaXRIYXNoKGhhc2gpWzFdOyAvLyBzdHJpcCAjIGlmIGZvdW5kXG4gICAgICAgIHJldHVybiBwYXRobmFtZSArIChzZWFyY2ggPyBcIj9cIiArIHNlYXJjaCA6IFwiXCIpICsgKGhhc2ggPyBcIiRcIiArIHNlYXJjaCA6IFwiXCIpO1xuICAgIH07XG4gICAgUHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlLnByb3RvdHlwZS5fc2V0ID0gZnVuY3Rpb24gKHN0YXRlLCB0aXRsZSwgdXJsLCByZXBsYWNlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9jb25maWcgPSBfYS5fY29uZmlnLCBfaGlzdG9yeSA9IF9hLl9oaXN0b3J5O1xuICAgICAgICB2YXIgZnVsbFVybCA9IF9jb25maWcuYmFzZUhyZWYoKSArIHVybDtcbiAgICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgICAgIF9oaXN0b3J5LnJlcGxhY2VTdGF0ZShzdGF0ZSwgdGl0bGUsIGZ1bGxVcmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX2hpc3RvcnkucHVzaFN0YXRlKHN0YXRlLCB0aXRsZSwgZnVsbFVybCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIChyb3V0ZXIpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcywgcm91dGVyKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCB0aGlzLl9saXN0ZW5lcik7XG4gICAgfTtcbiAgICByZXR1cm4gUHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlO1xufShiYXNlTG9jYXRpb25TZXJ2aWNlXzEuQmFzZUxvY2F0aW9uU2VydmljZXMpKTtcbmV4cG9ydHMuUHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlID0gUHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvdmFuaWxsYS9wdXNoU3RhdGVMb2NhdGlvblNlcnZpY2UuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///52\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\nvar predicates_1 = __webpack_require__(1);\nvar common_1 = __webpack_require__(0);\n/** A `LocationConfig` mock that gets/sets all config from an in-memory object */\nvar MemoryLocationConfig = function () {\n    function MemoryLocationConfig() {\n        var _this = this;\n        this._baseHref = \'\';\n        this._port = 80;\n        this._protocol = "http";\n        this._host = "localhost";\n        this._hashPrefix = "";\n        this.port = function () {\n            return _this._port;\n        };\n        this.protocol = function () {\n            return _this._protocol;\n        };\n        this.host = function () {\n            return _this._host;\n        };\n        this.baseHref = function () {\n            return _this._baseHref;\n        };\n        this.html5Mode = function () {\n            return false;\n        };\n        this.hashPrefix = function (newval) {\n            return predicates_1.isDefined(newval) ? _this._hashPrefix = newval : _this._hashPrefix;\n        };\n        this.dispose = common_1.noop;\n    }\n    return MemoryLocationConfig;\n}();\nexports.MemoryLocationConfig = MemoryLocationConfig;\n//# sourceMappingURL=memoryLocationConfig.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZhbmlsbGEvbWVtb3J5TG9jYXRpb25Db25maWcuanM/ZDBkNyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInByZWRpY2F0ZXNfMSIsInJlcXVpcmUiLCJjb21tb25fMSIsIk1lbW9yeUxvY2F0aW9uQ29uZmlnIiwiX3RoaXMiLCJfYmFzZUhyZWYiLCJfcG9ydCIsIl9wcm90b2NvbCIsIl9ob3N0IiwiX2hhc2hQcmVmaXgiLCJwb3J0IiwicHJvdG9jb2wiLCJob3N0IiwiYmFzZUhyZWYiLCJodG1sNU1vZGUiLCJoYXNoUHJlZml4IiwibmV3dmFsIiwiaXNEZWZpbmVkIiwiZGlzcG9zZSIsIm5vb3AiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQSxJQUFJQyxlQUFlLG1CQUFBQyxDQUFRLENBQVIsQ0FBbkI7QUFDQSxJQUFJQyxXQUFXLG1CQUFBRCxDQUFRLENBQVIsQ0FBZjtBQUNBO0FBQ0EsSUFBSUUsdUJBQXdCLFlBQVk7QUFDcEMsYUFBU0Esb0JBQVQsR0FBZ0M7QUFDNUIsWUFBSUMsUUFBUSxJQUFaO0FBQ0EsYUFBS0MsU0FBTCxHQUFpQixFQUFqQjtBQUNBLGFBQUtDLEtBQUwsR0FBYSxFQUFiO0FBQ0EsYUFBS0MsU0FBTCxHQUFpQixNQUFqQjtBQUNBLGFBQUtDLEtBQUwsR0FBYSxXQUFiO0FBQ0EsYUFBS0MsV0FBTCxHQUFtQixFQUFuQjtBQUNBLGFBQUtDLElBQUwsR0FBWSxZQUFZO0FBQUUsbUJBQU9OLE1BQU1FLEtBQWI7QUFBcUIsU0FBL0M7QUFDQSxhQUFLSyxRQUFMLEdBQWdCLFlBQVk7QUFBRSxtQkFBT1AsTUFBTUcsU0FBYjtBQUF5QixTQUF2RDtBQUNBLGFBQUtLLElBQUwsR0FBWSxZQUFZO0FBQUUsbUJBQU9SLE1BQU1JLEtBQWI7QUFBcUIsU0FBL0M7QUFDQSxhQUFLSyxRQUFMLEdBQWdCLFlBQVk7QUFBRSxtQkFBT1QsTUFBTUMsU0FBYjtBQUF5QixTQUF2RDtBQUNBLGFBQUtTLFNBQUwsR0FBaUIsWUFBWTtBQUFFLG1CQUFPLEtBQVA7QUFBZSxTQUE5QztBQUNBLGFBQUtDLFVBQUwsR0FBa0IsVUFBVUMsTUFBVixFQUFrQjtBQUFFLG1CQUFPaEIsYUFBYWlCLFNBQWIsQ0FBdUJELE1BQXZCLElBQWlDWixNQUFNSyxXQUFOLEdBQW9CTyxNQUFyRCxHQUE4RFosTUFBTUssV0FBM0U7QUFBeUYsU0FBL0g7QUFDQSxhQUFLUyxPQUFMLEdBQWVoQixTQUFTaUIsSUFBeEI7QUFDSDtBQUNELFdBQU9oQixvQkFBUDtBQUNILENBakIyQixFQUE1QjtBQWtCQUwsUUFBUUssb0JBQVIsR0FBK0JBLG9CQUEvQjtBQUNBIiwiZmlsZSI6IjUzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG4vKiogQSBgTG9jYXRpb25Db25maWdgIG1vY2sgdGhhdCBnZXRzL3NldHMgYWxsIGNvbmZpZyBmcm9tIGFuIGluLW1lbW9yeSBvYmplY3QgKi9cbnZhciBNZW1vcnlMb2NhdGlvbkNvbmZpZyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWVtb3J5TG9jYXRpb25Db25maWcoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2Jhc2VIcmVmID0gJyc7XG4gICAgICAgIHRoaXMuX3BvcnQgPSA4MDtcbiAgICAgICAgdGhpcy5fcHJvdG9jb2wgPSBcImh0dHBcIjtcbiAgICAgICAgdGhpcy5faG9zdCA9IFwibG9jYWxob3N0XCI7XG4gICAgICAgIHRoaXMuX2hhc2hQcmVmaXggPSBcIlwiO1xuICAgICAgICB0aGlzLnBvcnQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fcG9ydDsgfTtcbiAgICAgICAgdGhpcy5wcm90b2NvbCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9wcm90b2NvbDsgfTtcbiAgICAgICAgdGhpcy5ob3N0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2hvc3Q7IH07XG4gICAgICAgIHRoaXMuYmFzZUhyZWYgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fYmFzZUhyZWY7IH07XG4gICAgICAgIHRoaXMuaHRtbDVNb2RlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH07XG4gICAgICAgIHRoaXMuaGFzaFByZWZpeCA9IGZ1bmN0aW9uIChuZXd2YWwpIHsgcmV0dXJuIHByZWRpY2F0ZXNfMS5pc0RlZmluZWQobmV3dmFsKSA/IF90aGlzLl9oYXNoUHJlZml4ID0gbmV3dmFsIDogX3RoaXMuX2hhc2hQcmVmaXg7IH07XG4gICAgICAgIHRoaXMuZGlzcG9zZSA9IGNvbW1vbl8xLm5vb3A7XG4gICAgfVxuICAgIHJldHVybiBNZW1vcnlMb2NhdGlvbkNvbmZpZztcbn0oKSk7XG5leHBvcnRzLk1lbW9yeUxvY2F0aW9uQ29uZmlnID0gTWVtb3J5TG9jYXRpb25Db25maWc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZW1vcnlMb2NhdGlvbkNvbmZpZy5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZhbmlsbGEvbWVtb3J5TG9jYXRpb25Db25maWcuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///53\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\nvar predicates_1 = __webpack_require__(1);\n/** A `LocationConfig` that delegates to the browser\'s `location` object */\nvar BrowserLocationConfig = function () {\n    function BrowserLocationConfig(router, _isHtml5) {\n        if (_isHtml5 === void 0) {\n            _isHtml5 = false;\n        }\n        this._isHtml5 = _isHtml5;\n        this._baseHref = undefined;\n        this._hashPrefix = "";\n    }\n    BrowserLocationConfig.prototype.port = function () {\n        if (location.port) {\n            return Number(location.port);\n        }\n        return this.protocol() === \'https\' ? 443 : 80;\n    };\n    BrowserLocationConfig.prototype.protocol = function () {\n        return location.protocol.replace(/:/g, \'\');\n    };\n    BrowserLocationConfig.prototype.host = function () {\n        return location.host;\n    };\n    BrowserLocationConfig.prototype.html5Mode = function () {\n        return this._isHtml5;\n    };\n    BrowserLocationConfig.prototype.hashPrefix = function (newprefix) {\n        return predicates_1.isDefined(newprefix) ? this._hashPrefix = newprefix : this._hashPrefix;\n    };\n    ;\n    BrowserLocationConfig.prototype.baseHref = function (href) {\n        return predicates_1.isDefined(href) ? this._baseHref = href : this._baseHref || this.applyDocumentBaseHref();\n    };\n    BrowserLocationConfig.prototype.applyDocumentBaseHref = function () {\n        var baseTags = document.getElementsByTagName("base");\n        return this._baseHref = baseTags.length ? baseTags[0].href.substr(location.origin.length) : "";\n    };\n    BrowserLocationConfig.prototype.dispose = function () {};\n    return BrowserLocationConfig;\n}();\nexports.BrowserLocationConfig = BrowserLocationConfig;\n//# sourceMappingURL=browserLocationConfig.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZhbmlsbGEvYnJvd3NlckxvY2F0aW9uQ29uZmlnLmpzP2RlYzQiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJwcmVkaWNhdGVzXzEiLCJyZXF1aXJlIiwiQnJvd3NlckxvY2F0aW9uQ29uZmlnIiwicm91dGVyIiwiX2lzSHRtbDUiLCJfYmFzZUhyZWYiLCJ1bmRlZmluZWQiLCJfaGFzaFByZWZpeCIsInByb3RvdHlwZSIsInBvcnQiLCJsb2NhdGlvbiIsIk51bWJlciIsInByb3RvY29sIiwicmVwbGFjZSIsImhvc3QiLCJodG1sNU1vZGUiLCJoYXNoUHJlZml4IiwibmV3cHJlZml4IiwiaXNEZWZpbmVkIiwiYmFzZUhyZWYiLCJocmVmIiwiYXBwbHlEb2N1bWVudEJhc2VIcmVmIiwiYmFzZVRhZ3MiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwic3Vic3RyIiwib3JpZ2luIiwiZGlzcG9zZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBOzs7O0FBSUE7QUFDQSxJQUFJQyxlQUFlLG1CQUFBQyxDQUFRLENBQVIsQ0FBbkI7QUFDQTtBQUNBLElBQUlDLHdCQUF5QixZQUFZO0FBQ3JDLGFBQVNBLHFCQUFULENBQStCQyxNQUEvQixFQUF1Q0MsUUFBdkMsRUFBaUQ7QUFDN0MsWUFBSUEsYUFBYSxLQUFLLENBQXRCLEVBQXlCO0FBQUVBLHVCQUFXLEtBQVg7QUFBbUI7QUFDOUMsYUFBS0EsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxhQUFLQyxTQUFMLEdBQWlCQyxTQUFqQjtBQUNBLGFBQUtDLFdBQUwsR0FBbUIsRUFBbkI7QUFDSDtBQUNETCwwQkFBc0JNLFNBQXRCLENBQWdDQyxJQUFoQyxHQUF1QyxZQUFZO0FBQy9DLFlBQUlDLFNBQVNELElBQWIsRUFBbUI7QUFDZixtQkFBT0UsT0FBT0QsU0FBU0QsSUFBaEIsQ0FBUDtBQUNIO0FBQ0QsZUFBTyxLQUFLRyxRQUFMLE9BQW9CLE9BQXBCLEdBQThCLEdBQTlCLEdBQW9DLEVBQTNDO0FBQ0gsS0FMRDtBQU1BViwwQkFBc0JNLFNBQXRCLENBQWdDSSxRQUFoQyxHQUEyQyxZQUFZO0FBQ25ELGVBQU9GLFNBQVNFLFFBQVQsQ0FBa0JDLE9BQWxCLENBQTBCLElBQTFCLEVBQWdDLEVBQWhDLENBQVA7QUFDSCxLQUZEO0FBR0FYLDBCQUFzQk0sU0FBdEIsQ0FBZ0NNLElBQWhDLEdBQXVDLFlBQVk7QUFDL0MsZUFBT0osU0FBU0ksSUFBaEI7QUFDSCxLQUZEO0FBR0FaLDBCQUFzQk0sU0FBdEIsQ0FBZ0NPLFNBQWhDLEdBQTRDLFlBQVk7QUFDcEQsZUFBTyxLQUFLWCxRQUFaO0FBQ0gsS0FGRDtBQUdBRiwwQkFBc0JNLFNBQXRCLENBQWdDUSxVQUFoQyxHQUE2QyxVQUFVQyxTQUFWLEVBQXFCO0FBQzlELGVBQU9qQixhQUFha0IsU0FBYixDQUF1QkQsU0FBdkIsSUFBb0MsS0FBS1YsV0FBTCxHQUFtQlUsU0FBdkQsR0FBbUUsS0FBS1YsV0FBL0U7QUFDSCxLQUZEO0FBR0E7QUFDQUwsMEJBQXNCTSxTQUF0QixDQUFnQ1csUUFBaEMsR0FBMkMsVUFBVUMsSUFBVixFQUFnQjtBQUN2RCxlQUFPcEIsYUFBYWtCLFNBQWIsQ0FBdUJFLElBQXZCLElBQStCLEtBQUtmLFNBQUwsR0FBaUJlLElBQWhELEdBQXVELEtBQUtmLFNBQUwsSUFBa0IsS0FBS2dCLHFCQUFMLEVBQWhGO0FBQ0gsS0FGRDtBQUdBbkIsMEJBQXNCTSxTQUF0QixDQUFnQ2EscUJBQWhDLEdBQXdELFlBQVk7QUFDaEUsWUFBSUMsV0FBV0MsU0FBU0Msb0JBQVQsQ0FBOEIsTUFBOUIsQ0FBZjtBQUNBLGVBQU8sS0FBS25CLFNBQUwsR0FBaUJpQixTQUFTRyxNQUFULEdBQWtCSCxTQUFTLENBQVQsRUFBWUYsSUFBWixDQUFpQk0sTUFBakIsQ0FBd0JoQixTQUFTaUIsTUFBVCxDQUFnQkYsTUFBeEMsQ0FBbEIsR0FBb0UsRUFBNUY7QUFDSCxLQUhEO0FBSUF2QiwwQkFBc0JNLFNBQXRCLENBQWdDb0IsT0FBaEMsR0FBMEMsWUFBWSxDQUFHLENBQXpEO0FBQ0EsV0FBTzFCLHFCQUFQO0FBQ0gsQ0FuQzRCLEVBQTdCO0FBb0NBSixRQUFRSSxxQkFBUixHQUFnQ0EscUJBQWhDO0FBQ0EiLCJmaWxlIjoiNTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQGludGVybmFsYXBpXG4gKiBAbW9kdWxlIHZhbmlsbGFcbiAqL1xuLyoqICovXG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xuLyoqIEEgYExvY2F0aW9uQ29uZmlnYCB0aGF0IGRlbGVnYXRlcyB0byB0aGUgYnJvd3NlcidzIGBsb2NhdGlvbmAgb2JqZWN0ICovXG52YXIgQnJvd3NlckxvY2F0aW9uQ29uZmlnID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCcm93c2VyTG9jYXRpb25Db25maWcocm91dGVyLCBfaXNIdG1sNSkge1xuICAgICAgICBpZiAoX2lzSHRtbDUgPT09IHZvaWQgMCkgeyBfaXNIdG1sNSA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX2lzSHRtbDUgPSBfaXNIdG1sNTtcbiAgICAgICAgdGhpcy5fYmFzZUhyZWYgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2hhc2hQcmVmaXggPSBcIlwiO1xuICAgIH1cbiAgICBCcm93c2VyTG9jYXRpb25Db25maWcucHJvdG90eXBlLnBvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChsb2NhdGlvbi5wb3J0KSB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKGxvY2F0aW9uLnBvcnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByb3RvY29sKCkgPT09ICdodHRwcycgPyA0NDMgOiA4MDtcbiAgICB9O1xuICAgIEJyb3dzZXJMb2NhdGlvbkNvbmZpZy5wcm90b3R5cGUucHJvdG9jb2wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbi5wcm90b2NvbC5yZXBsYWNlKC86L2csICcnKTtcbiAgICB9O1xuICAgIEJyb3dzZXJMb2NhdGlvbkNvbmZpZy5wcm90b3R5cGUuaG9zdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxvY2F0aW9uLmhvc3Q7XG4gICAgfTtcbiAgICBCcm93c2VyTG9jYXRpb25Db25maWcucHJvdG90eXBlLmh0bWw1TW9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzSHRtbDU7XG4gICAgfTtcbiAgICBCcm93c2VyTG9jYXRpb25Db25maWcucHJvdG90eXBlLmhhc2hQcmVmaXggPSBmdW5jdGlvbiAobmV3cHJlZml4KSB7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKG5ld3ByZWZpeCkgPyB0aGlzLl9oYXNoUHJlZml4ID0gbmV3cHJlZml4IDogdGhpcy5faGFzaFByZWZpeDtcbiAgICB9O1xuICAgIDtcbiAgICBCcm93c2VyTG9jYXRpb25Db25maWcucHJvdG90eXBlLmJhc2VIcmVmID0gZnVuY3Rpb24gKGhyZWYpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZXNfMS5pc0RlZmluZWQoaHJlZikgPyB0aGlzLl9iYXNlSHJlZiA9IGhyZWYgOiB0aGlzLl9iYXNlSHJlZiB8fCB0aGlzLmFwcGx5RG9jdW1lbnRCYXNlSHJlZigpO1xuICAgIH07XG4gICAgQnJvd3NlckxvY2F0aW9uQ29uZmlnLnByb3RvdHlwZS5hcHBseURvY3VtZW50QmFzZUhyZWYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBiYXNlVGFncyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYmFzZVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Jhc2VIcmVmID0gYmFzZVRhZ3MubGVuZ3RoID8gYmFzZVRhZ3NbMF0uaHJlZi5zdWJzdHIobG9jYXRpb24ub3JpZ2luLmxlbmd0aCkgOiBcIlwiO1xuICAgIH07XG4gICAgQnJvd3NlckxvY2F0aW9uQ29uZmlnLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIHJldHVybiBCcm93c2VyTG9jYXRpb25Db25maWc7XG59KCkpO1xuZXhwb3J0cy5Ccm93c2VyTG9jYXRpb25Db25maWcgPSBCcm93c2VyTG9jYXRpb25Db25maWc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyTG9jYXRpb25Db25maWcuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi92YW5pbGxhL2Jyb3dzZXJMb2NhdGlvbkNvbmZpZy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///54\n')},function(module,exports){eval("module.exports = angular;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhbmd1bGFyXCI/MTFkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI1NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gYW5ndWxhcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImFuZ3VsYXJcIlxuLy8gbW9kdWxlIGlkID0gNTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///55\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @module ng1 */ /** for typedoc */\nvar core_1 = __webpack_require__(4);\n/**\n * The Angular 1 `StateProvider`\n *\n * The `$stateProvider` works similar to Angular's v1 router, but it focuses purely\n * on state.\n *\n * A state corresponds to a \"place\" in the application in terms of the overall UI and\n * navigation. A state describes (via the controller / template / view properties) what\n * the UI looks like and does at that place.\n *\n * States often have things in common, and the primary way of factoring out these\n * commonalities in this model is via the state hierarchy, i.e. parent/child states aka\n * nested states.\n *\n * The `$stateProvider` provides interfaces to declare these states for your app.\n */\nvar StateProvider = function () {\n    function StateProvider(stateRegistry, stateService) {\n        this.stateRegistry = stateRegistry;\n        this.stateService = stateService;\n        core_1.createProxyFunctions(core_1.val(StateProvider.prototype), this, core_1.val(this));\n    }\n    /**\n     * Decorates states when they are registered\n     *\n     * Allows you to extend (carefully) or override (at your own peril) the\n     * `stateBuilder` object used internally by [[StateRegistry]].\n     * This can be used to add custom functionality to ui-router,\n     * for example inferring templateUrl based on the state name.\n     *\n     * When passing only a name, it returns the current (original or decorated) builder\n     * function that matches `name`.\n     *\n     * The builder functions that can be decorated are listed below. Though not all\n     * necessarily have a good use case for decoration, that is up to you to decide.\n     *\n     * In addition, users can attach custom decorators, which will generate new\n     * properties within the state's internal definition. There is currently no clear\n     * use-case for this beyond accessing internal states (i.e. $state.$current),\n     * however, expect this to become increasingly relevant as we introduce additional\n     * meta-programming features.\n     *\n     * **Warning**: Decorators should not be interdependent because the order of\n     * execution of the builder functions in non-deterministic. Builder functions\n     * should only be dependent on the state definition object and super function.\n     *\n     *\n     * Existing builder functions and current return values:\n     *\n     * - **parent** `{object}` - returns the parent state object.\n     * - **data** `{object}` - returns state data, including any inherited data that is not\n     *   overridden by own values (if any).\n     * - **url** `{object}` - returns a {@link ui.router.util.type:UrlMatcher UrlMatcher}\n     *   or `null`.\n     * - **navigable** `{object}` - returns closest ancestor state that has a URL (aka is\n     *   navigable).\n     * - **params** `{object}` - returns an array of state params that are ensured to\n     *   be a super-set of parent's params.\n     * - **views** `{object}` - returns a views object where each key is an absolute view\n     *   name (i.e. \"viewName@stateName\") and each value is the config object\n     *   (template, controller) for the view. Even when you don't use the views object\n     *   explicitly on a state config, one is still created for you internally.\n     *   So by decorating this builder function you have access to decorating template\n     *   and controller properties.\n     * - **ownParams** `{object}` - returns an array of params that belong to the state,\n     *   not including any params defined by ancestor states.\n     * - **path** `{string}` - returns the full path from the root down to this state.\n     *   Needed for state activation.\n     * - **includes** `{object}` - returns an object that includes every state that\n     *   would pass a `$state.includes()` test.\n     *\n     * #### Example:\n     * Override the internal 'views' builder with a function that takes the state\n     * definition, and a reference to the internal function being overridden:\n     * ```js\n     * $stateProvider.decorator('views', function (state, parent) {\n     *   let result = {},\n     *       views = parent(state);\n     *\n     *   angular.forEach(views, function (config, name) {\n     *     let autoName = (state.name + '.' + name).replace('.', '/');\n     *     config.templateUrl = config.templateUrl || '/partials/' + autoName + '.html';\n     *     result[name] = config;\n     *   });\n     *   return result;\n     * });\n     *\n     * $stateProvider.state('home', {\n     *   views: {\n     *     'contact.list': { controller: 'ListController' },\n     *     'contact.item': { controller: 'ItemController' }\n     *   }\n     * });\n     * ```\n     *\n     *\n     * ```js\n     * // Auto-populates list and item views with /partials/home/contact/list.html,\n     * // and /partials/home/contact/item.html, respectively.\n     * $state.go('home');\n     * ```\n     *\n     * @param {string} name The name of the builder function to decorate.\n     * @param {object} func A function that is responsible for decorating the original\n     * builder function. The function receives two parameters:\n     *\n     *   - `{object}` - state - The state config object.\n     *   - `{object}` - super - The original builder function.\n     *\n     * @return {object} $stateProvider - $stateProvider instance\n     */\n    StateProvider.prototype.decorator = function (name, func) {\n        return this.stateRegistry.decorator(name, func) || this;\n    };\n    StateProvider.prototype.state = function (name, definition) {\n        if (core_1.isObject(name)) {\n            definition = name;\n        } else {\n            definition.name = name;\n        }\n        this.stateRegistry.register(definition);\n        return this;\n    };\n    /**\n     * Registers an invalid state handler\n     *\n     * This is a passthrough to [[StateService.onInvalid]] for ng1.\n     */\n    StateProvider.prototype.onInvalid = function (callback) {\n        return this.stateService.onInvalid(callback);\n    };\n    return StateProvider;\n}();\nexports.StateProvider = StateProvider;\n//# sourceMappingURL=stateProvider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL3N0YXRlUHJvdmlkZXIuanM/YTJkMSJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNvcmVfMSIsInJlcXVpcmUiLCJTdGF0ZVByb3ZpZGVyIiwic3RhdGVSZWdpc3RyeSIsInN0YXRlU2VydmljZSIsImNyZWF0ZVByb3h5RnVuY3Rpb25zIiwidmFsIiwicHJvdG90eXBlIiwiZGVjb3JhdG9yIiwibmFtZSIsImZ1bmMiLCJzdGF0ZSIsImRlZmluaXRpb24iLCJpc09iamVjdCIsInJlZ2lzdGVyIiwib25JbnZhbGlkIiwiY2FsbGJhY2siXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQSxrQixDQUFtQjtBQUNuQixJQUFJQyxTQUFTLG1CQUFBQyxDQUFRLENBQVIsQ0FBYjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBLElBQUlDLGdCQUFpQixZQUFZO0FBQzdCLGFBQVNBLGFBQVQsQ0FBdUJDLGFBQXZCLEVBQXNDQyxZQUF0QyxFQUFvRDtBQUNoRCxhQUFLRCxhQUFMLEdBQXFCQSxhQUFyQjtBQUNBLGFBQUtDLFlBQUwsR0FBb0JBLFlBQXBCO0FBQ0FKLGVBQU9LLG9CQUFQLENBQTRCTCxPQUFPTSxHQUFQLENBQVdKLGNBQWNLLFNBQXpCLENBQTVCLEVBQWlFLElBQWpFLEVBQXVFUCxPQUFPTSxHQUFQLENBQVcsSUFBWCxDQUF2RTtBQUNIO0FBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBeUZBSixrQkFBY0ssU0FBZCxDQUF3QkMsU0FBeEIsR0FBb0MsVUFBVUMsSUFBVixFQUFnQkMsSUFBaEIsRUFBc0I7QUFDdEQsZUFBTyxLQUFLUCxhQUFMLENBQW1CSyxTQUFuQixDQUE2QkMsSUFBN0IsRUFBbUNDLElBQW5DLEtBQTRDLElBQW5EO0FBQ0gsS0FGRDtBQUdBUixrQkFBY0ssU0FBZCxDQUF3QkksS0FBeEIsR0FBZ0MsVUFBVUYsSUFBVixFQUFnQkcsVUFBaEIsRUFBNEI7QUFDeEQsWUFBSVosT0FBT2EsUUFBUCxDQUFnQkosSUFBaEIsQ0FBSixFQUEyQjtBQUN2QkcseUJBQWFILElBQWI7QUFDSCxTQUZELE1BR0s7QUFDREcsdUJBQVdILElBQVgsR0FBa0JBLElBQWxCO0FBQ0g7QUFDRCxhQUFLTixhQUFMLENBQW1CVyxRQUFuQixDQUE0QkYsVUFBNUI7QUFDQSxlQUFPLElBQVA7QUFDSCxLQVREO0FBVUE7Ozs7O0FBS0FWLGtCQUFjSyxTQUFkLENBQXdCUSxTQUF4QixHQUFvQyxVQUFVQyxRQUFWLEVBQW9CO0FBQ3BELGVBQU8sS0FBS1osWUFBTCxDQUFrQlcsU0FBbEIsQ0FBNEJDLFFBQTVCLENBQVA7QUFDSCxLQUZEO0FBR0EsV0FBT2QsYUFBUDtBQUNILENBckhvQixFQUFyQjtBQXNIQUosUUFBUUksYUFBUixHQUF3QkEsYUFBeEI7QUFDQSIsImZpbGUiOiI1Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBtb2R1bGUgbmcxICovIC8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCJAdWlyb3V0ZXIvY29yZVwiKTtcbi8qKlxuICogVGhlIEFuZ3VsYXIgMSBgU3RhdGVQcm92aWRlcmBcbiAqXG4gKiBUaGUgYCRzdGF0ZVByb3ZpZGVyYCB3b3JrcyBzaW1pbGFyIHRvIEFuZ3VsYXIncyB2MSByb3V0ZXIsIGJ1dCBpdCBmb2N1c2VzIHB1cmVseVxuICogb24gc3RhdGUuXG4gKlxuICogQSBzdGF0ZSBjb3JyZXNwb25kcyB0byBhIFwicGxhY2VcIiBpbiB0aGUgYXBwbGljYXRpb24gaW4gdGVybXMgb2YgdGhlIG92ZXJhbGwgVUkgYW5kXG4gKiBuYXZpZ2F0aW9uLiBBIHN0YXRlIGRlc2NyaWJlcyAodmlhIHRoZSBjb250cm9sbGVyIC8gdGVtcGxhdGUgLyB2aWV3IHByb3BlcnRpZXMpIHdoYXRcbiAqIHRoZSBVSSBsb29rcyBsaWtlIGFuZCBkb2VzIGF0IHRoYXQgcGxhY2UuXG4gKlxuICogU3RhdGVzIG9mdGVuIGhhdmUgdGhpbmdzIGluIGNvbW1vbiwgYW5kIHRoZSBwcmltYXJ5IHdheSBvZiBmYWN0b3Jpbmcgb3V0IHRoZXNlXG4gKiBjb21tb25hbGl0aWVzIGluIHRoaXMgbW9kZWwgaXMgdmlhIHRoZSBzdGF0ZSBoaWVyYXJjaHksIGkuZS4gcGFyZW50L2NoaWxkIHN0YXRlcyBha2FcbiAqIG5lc3RlZCBzdGF0ZXMuXG4gKlxuICogVGhlIGAkc3RhdGVQcm92aWRlcmAgcHJvdmlkZXMgaW50ZXJmYWNlcyB0byBkZWNsYXJlIHRoZXNlIHN0YXRlcyBmb3IgeW91ciBhcHAuXG4gKi9cbnZhciBTdGF0ZVByb3ZpZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0ZVByb3ZpZGVyKHN0YXRlUmVnaXN0cnksIHN0YXRlU2VydmljZSkge1xuICAgICAgICB0aGlzLnN0YXRlUmVnaXN0cnkgPSBzdGF0ZVJlZ2lzdHJ5O1xuICAgICAgICB0aGlzLnN0YXRlU2VydmljZSA9IHN0YXRlU2VydmljZTtcbiAgICAgICAgY29yZV8xLmNyZWF0ZVByb3h5RnVuY3Rpb25zKGNvcmVfMS52YWwoU3RhdGVQcm92aWRlci5wcm90b3R5cGUpLCB0aGlzLCBjb3JlXzEudmFsKHRoaXMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjb3JhdGVzIHN0YXRlcyB3aGVuIHRoZXkgYXJlIHJlZ2lzdGVyZWRcbiAgICAgKlxuICAgICAqIEFsbG93cyB5b3UgdG8gZXh0ZW5kIChjYXJlZnVsbHkpIG9yIG92ZXJyaWRlIChhdCB5b3VyIG93biBwZXJpbCkgdGhlXG4gICAgICogYHN0YXRlQnVpbGRlcmAgb2JqZWN0IHVzZWQgaW50ZXJuYWxseSBieSBbW1N0YXRlUmVnaXN0cnldXS5cbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGFkZCBjdXN0b20gZnVuY3Rpb25hbGl0eSB0byB1aS1yb3V0ZXIsXG4gICAgICogZm9yIGV4YW1wbGUgaW5mZXJyaW5nIHRlbXBsYXRlVXJsIGJhc2VkIG9uIHRoZSBzdGF0ZSBuYW1lLlxuICAgICAqXG4gICAgICogV2hlbiBwYXNzaW5nIG9ubHkgYSBuYW1lLCBpdCByZXR1cm5zIHRoZSBjdXJyZW50IChvcmlnaW5hbCBvciBkZWNvcmF0ZWQpIGJ1aWxkZXJcbiAgICAgKiBmdW5jdGlvbiB0aGF0IG1hdGNoZXMgYG5hbWVgLlxuICAgICAqXG4gICAgICogVGhlIGJ1aWxkZXIgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIGRlY29yYXRlZCBhcmUgbGlzdGVkIGJlbG93LiBUaG91Z2ggbm90IGFsbFxuICAgICAqIG5lY2Vzc2FyaWx5IGhhdmUgYSBnb29kIHVzZSBjYXNlIGZvciBkZWNvcmF0aW9uLCB0aGF0IGlzIHVwIHRvIHlvdSB0byBkZWNpZGUuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiwgdXNlcnMgY2FuIGF0dGFjaCBjdXN0b20gZGVjb3JhdG9ycywgd2hpY2ggd2lsbCBnZW5lcmF0ZSBuZXdcbiAgICAgKiBwcm9wZXJ0aWVzIHdpdGhpbiB0aGUgc3RhdGUncyBpbnRlcm5hbCBkZWZpbml0aW9uLiBUaGVyZSBpcyBjdXJyZW50bHkgbm8gY2xlYXJcbiAgICAgKiB1c2UtY2FzZSBmb3IgdGhpcyBiZXlvbmQgYWNjZXNzaW5nIGludGVybmFsIHN0YXRlcyAoaS5lLiAkc3RhdGUuJGN1cnJlbnQpLFxuICAgICAqIGhvd2V2ZXIsIGV4cGVjdCB0aGlzIHRvIGJlY29tZSBpbmNyZWFzaW5nbHkgcmVsZXZhbnQgYXMgd2UgaW50cm9kdWNlIGFkZGl0aW9uYWxcbiAgICAgKiBtZXRhLXByb2dyYW1taW5nIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogKipXYXJuaW5nKio6IERlY29yYXRvcnMgc2hvdWxkIG5vdCBiZSBpbnRlcmRlcGVuZGVudCBiZWNhdXNlIHRoZSBvcmRlciBvZlxuICAgICAqIGV4ZWN1dGlvbiBvZiB0aGUgYnVpbGRlciBmdW5jdGlvbnMgaW4gbm9uLWRldGVybWluaXN0aWMuIEJ1aWxkZXIgZnVuY3Rpb25zXG4gICAgICogc2hvdWxkIG9ubHkgYmUgZGVwZW5kZW50IG9uIHRoZSBzdGF0ZSBkZWZpbml0aW9uIG9iamVjdCBhbmQgc3VwZXIgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKlxuICAgICAqIEV4aXN0aW5nIGJ1aWxkZXIgZnVuY3Rpb25zIGFuZCBjdXJyZW50IHJldHVybiB2YWx1ZXM6XG4gICAgICpcbiAgICAgKiAtICoqcGFyZW50KiogYHtvYmplY3R9YCAtIHJldHVybnMgdGhlIHBhcmVudCBzdGF0ZSBvYmplY3QuXG4gICAgICogLSAqKmRhdGEqKiBge29iamVjdH1gIC0gcmV0dXJucyBzdGF0ZSBkYXRhLCBpbmNsdWRpbmcgYW55IGluaGVyaXRlZCBkYXRhIHRoYXQgaXMgbm90XG4gICAgICogICBvdmVycmlkZGVuIGJ5IG93biB2YWx1ZXMgKGlmIGFueSkuXG4gICAgICogLSAqKnVybCoqIGB7b2JqZWN0fWAgLSByZXR1cm5zIGEge0BsaW5rIHVpLnJvdXRlci51dGlsLnR5cGU6VXJsTWF0Y2hlciBVcmxNYXRjaGVyfVxuICAgICAqICAgb3IgYG51bGxgLlxuICAgICAqIC0gKipuYXZpZ2FibGUqKiBge29iamVjdH1gIC0gcmV0dXJucyBjbG9zZXN0IGFuY2VzdG9yIHN0YXRlIHRoYXQgaGFzIGEgVVJMIChha2EgaXNcbiAgICAgKiAgIG5hdmlnYWJsZSkuXG4gICAgICogLSAqKnBhcmFtcyoqIGB7b2JqZWN0fWAgLSByZXR1cm5zIGFuIGFycmF5IG9mIHN0YXRlIHBhcmFtcyB0aGF0IGFyZSBlbnN1cmVkIHRvXG4gICAgICogICBiZSBhIHN1cGVyLXNldCBvZiBwYXJlbnQncyBwYXJhbXMuXG4gICAgICogLSAqKnZpZXdzKiogYHtvYmplY3R9YCAtIHJldHVybnMgYSB2aWV3cyBvYmplY3Qgd2hlcmUgZWFjaCBrZXkgaXMgYW4gYWJzb2x1dGUgdmlld1xuICAgICAqICAgbmFtZSAoaS5lLiBcInZpZXdOYW1lQHN0YXRlTmFtZVwiKSBhbmQgZWFjaCB2YWx1ZSBpcyB0aGUgY29uZmlnIG9iamVjdFxuICAgICAqICAgKHRlbXBsYXRlLCBjb250cm9sbGVyKSBmb3IgdGhlIHZpZXcuIEV2ZW4gd2hlbiB5b3UgZG9uJ3QgdXNlIHRoZSB2aWV3cyBvYmplY3RcbiAgICAgKiAgIGV4cGxpY2l0bHkgb24gYSBzdGF0ZSBjb25maWcsIG9uZSBpcyBzdGlsbCBjcmVhdGVkIGZvciB5b3UgaW50ZXJuYWxseS5cbiAgICAgKiAgIFNvIGJ5IGRlY29yYXRpbmcgdGhpcyBidWlsZGVyIGZ1bmN0aW9uIHlvdSBoYXZlIGFjY2VzcyB0byBkZWNvcmF0aW5nIHRlbXBsYXRlXG4gICAgICogICBhbmQgY29udHJvbGxlciBwcm9wZXJ0aWVzLlxuICAgICAqIC0gKipvd25QYXJhbXMqKiBge29iamVjdH1gIC0gcmV0dXJucyBhbiBhcnJheSBvZiBwYXJhbXMgdGhhdCBiZWxvbmcgdG8gdGhlIHN0YXRlLFxuICAgICAqICAgbm90IGluY2x1ZGluZyBhbnkgcGFyYW1zIGRlZmluZWQgYnkgYW5jZXN0b3Igc3RhdGVzLlxuICAgICAqIC0gKipwYXRoKiogYHtzdHJpbmd9YCAtIHJldHVybnMgdGhlIGZ1bGwgcGF0aCBmcm9tIHRoZSByb290IGRvd24gdG8gdGhpcyBzdGF0ZS5cbiAgICAgKiAgIE5lZWRlZCBmb3Igc3RhdGUgYWN0aXZhdGlvbi5cbiAgICAgKiAtICoqaW5jbHVkZXMqKiBge29iamVjdH1gIC0gcmV0dXJucyBhbiBvYmplY3QgdGhhdCBpbmNsdWRlcyBldmVyeSBzdGF0ZSB0aGF0XG4gICAgICogICB3b3VsZCBwYXNzIGEgYCRzdGF0ZS5pbmNsdWRlcygpYCB0ZXN0LlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIE92ZXJyaWRlIHRoZSBpbnRlcm5hbCAndmlld3MnIGJ1aWxkZXIgd2l0aCBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIHN0YXRlXG4gICAgICogZGVmaW5pdGlvbiwgYW5kIGEgcmVmZXJlbmNlIHRvIHRoZSBpbnRlcm5hbCBmdW5jdGlvbiBiZWluZyBvdmVycmlkZGVuOlxuICAgICAqIGBgYGpzXG4gICAgICogJHN0YXRlUHJvdmlkZXIuZGVjb3JhdG9yKCd2aWV3cycsIGZ1bmN0aW9uIChzdGF0ZSwgcGFyZW50KSB7XG4gICAgICogICBsZXQgcmVzdWx0ID0ge30sXG4gICAgICogICAgICAgdmlld3MgPSBwYXJlbnQoc3RhdGUpO1xuICAgICAqXG4gICAgICogICBhbmd1bGFyLmZvckVhY2godmlld3MsIGZ1bmN0aW9uIChjb25maWcsIG5hbWUpIHtcbiAgICAgKiAgICAgbGV0IGF1dG9OYW1lID0gKHN0YXRlLm5hbWUgKyAnLicgKyBuYW1lKS5yZXBsYWNlKCcuJywgJy8nKTtcbiAgICAgKiAgICAgY29uZmlnLnRlbXBsYXRlVXJsID0gY29uZmlnLnRlbXBsYXRlVXJsIHx8ICcvcGFydGlhbHMvJyArIGF1dG9OYW1lICsgJy5odG1sJztcbiAgICAgKiAgICAgcmVzdWx0W25hbWVdID0gY29uZmlnO1xuICAgICAqICAgfSk7XG4gICAgICogICByZXR1cm4gcmVzdWx0O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2hvbWUnLCB7XG4gICAgICogICB2aWV3czoge1xuICAgICAqICAgICAnY29udGFjdC5saXN0JzogeyBjb250cm9sbGVyOiAnTGlzdENvbnRyb2xsZXInIH0sXG4gICAgICogICAgICdjb250YWN0Lml0ZW0nOiB7IGNvbnRyb2xsZXI6ICdJdGVtQ29udHJvbGxlcicgfVxuICAgICAqICAgfVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIEF1dG8tcG9wdWxhdGVzIGxpc3QgYW5kIGl0ZW0gdmlld3Mgd2l0aCAvcGFydGlhbHMvaG9tZS9jb250YWN0L2xpc3QuaHRtbCxcbiAgICAgKiAvLyBhbmQgL3BhcnRpYWxzL2hvbWUvY29udGFjdC9pdGVtLmh0bWwsIHJlc3BlY3RpdmVseS5cbiAgICAgKiAkc3RhdGUuZ28oJ2hvbWUnKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBidWlsZGVyIGZ1bmN0aW9uIHRvIGRlY29yYXRlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBmdW5jIEEgZnVuY3Rpb24gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgZGVjb3JhdGluZyB0aGUgb3JpZ2luYWxcbiAgICAgKiBidWlsZGVyIGZ1bmN0aW9uLiBUaGUgZnVuY3Rpb24gcmVjZWl2ZXMgdHdvIHBhcmFtZXRlcnM6XG4gICAgICpcbiAgICAgKiAgIC0gYHtvYmplY3R9YCAtIHN0YXRlIC0gVGhlIHN0YXRlIGNvbmZpZyBvYmplY3QuXG4gICAgICogICAtIGB7b2JqZWN0fWAgLSBzdXBlciAtIFRoZSBvcmlnaW5hbCBidWlsZGVyIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7b2JqZWN0fSAkc3RhdGVQcm92aWRlciAtICRzdGF0ZVByb3ZpZGVyIGluc3RhbmNlXG4gICAgICovXG4gICAgU3RhdGVQcm92aWRlci5wcm90b3R5cGUuZGVjb3JhdG9yID0gZnVuY3Rpb24gKG5hbWUsIGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVSZWdpc3RyeS5kZWNvcmF0b3IobmFtZSwgZnVuYykgfHwgdGhpcztcbiAgICB9O1xuICAgIFN0YXRlUHJvdmlkZXIucHJvdG90eXBlLnN0YXRlID0gZnVuY3Rpb24gKG5hbWUsIGRlZmluaXRpb24pIHtcbiAgICAgICAgaWYgKGNvcmVfMS5pc09iamVjdChuYW1lKSkge1xuICAgICAgICAgICAgZGVmaW5pdGlvbiA9IG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWZpbml0aW9uLm5hbWUgPSBuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGVSZWdpc3RyeS5yZWdpc3RlcihkZWZpbml0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYW4gaW52YWxpZCBzdGF0ZSBoYW5kbGVyXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGEgcGFzc3Rocm91Z2ggdG8gW1tTdGF0ZVNlcnZpY2Uub25JbnZhbGlkXV0gZm9yIG5nMS5cbiAgICAgKi9cbiAgICBTdGF0ZVByb3ZpZGVyLnByb3RvdHlwZS5vbkludmFsaWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVTZXJ2aWNlLm9uSW52YWxpZChjYWxsYmFjayk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGVQcm92aWRlcjtcbn0oKSk7XG5leHBvcnRzLlN0YXRlUHJvdmlkZXIgPSBTdGF0ZVByb3ZpZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdGVQcm92aWRlci5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL3N0YXRlUHJvdmlkZXIuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///56\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @module url */ /** */\nvar core_1 = __webpack_require__(4);\nvar core_2 = __webpack_require__(4);\n/**\n * Manages rules for client-side URL\n *\n * ### Deprecation warning:\n * This class is now considered to be an internal API\n * Use the [[UrlService]] instead.\n * For configuring URL rules, use the [[UrlRulesApi]] which can be found as [[UrlService.rules]].\n *\n * This class manages the router rules for what to do when the URL changes.\n *\n * This provider remains for backwards compatibility.\n *\n * @deprecated\n */\nvar UrlRouterProvider = function () {\n    /** @hidden */\n    function UrlRouterProvider(router) {\n        this._router = router;\n        this._urlRouter = router.urlRouter;\n    }\n    /** @hidden */\n    UrlRouterProvider.prototype.$get = function () {\n        var urlRouter = this._urlRouter;\n        urlRouter.update(true);\n        if (!urlRouter.interceptDeferred) urlRouter.listen();\n        return urlRouter;\n    };\n    /**\n     * Registers a url handler function.\n     *\n     * Registers a low level url handler (a `rule`).\n     * A rule detects specific URL patterns and returns a redirect, or performs some action.\n     *\n     * If a rule returns a string, the URL is replaced with the string, and all rules are fired again.\n     *\n     * #### Example:\n     * ```js\n     * var app = angular.module('app', ['ui.router.router']);\n     *\n     * app.config(function ($urlRouterProvider) {\n     *   // Here's an example of how you might allow case insensitive urls\n     *   $urlRouterProvider.rule(function ($injector, $location) {\n     *     var path = $location.path(),\n     *         normalized = path.toLowerCase();\n     *\n     *     if (path !== normalized) {\n     *       return normalized;\n     *     }\n     *   });\n     * });\n     * ```\n     *\n     * @param ruleFn\n     * Handler function that takes `$injector` and `$location` services as arguments.\n     * You can use them to detect a url and return a different url as a string.\n     *\n     * @return [[UrlRouterProvider]] (`this`)\n     */\n    UrlRouterProvider.prototype.rule = function (ruleFn) {\n        var _this = this;\n        if (!core_2.isFunction(ruleFn)) throw new Error(\"'rule' must be a function\");\n        var match = function match() {\n            return ruleFn(core_2.services.$injector, _this._router.locationService);\n        };\n        var rule = new core_1.BaseUrlRule(match, core_2.identity);\n        this._urlRouter.rule(rule);\n        return this;\n    };\n    ;\n    /**\n     * Defines the path or behavior to use when no url can be matched.\n     *\n     * #### Example:\n     * ```js\n     * var app = angular.module('app', ['ui.router.router']);\n     *\n     * app.config(function ($urlRouterProvider) {\n     *   // if the path doesn't match any of the urls you configured\n     *   // otherwise will take care of routing the user to the\n     *   // specified url\n     *   $urlRouterProvider.otherwise('/index');\n     *\n     *   // Example of using function rule as param\n     *   $urlRouterProvider.otherwise(function ($injector, $location) {\n     *     return '/a/valid/url';\n     *   });\n     * });\n     * ```\n     *\n     * @param rule\n     * The url path you want to redirect to or a function rule that returns the url path or performs a `$state.go()`.\n     * The function version is passed two params: `$injector` and `$location` services, and should return a url string.\n     *\n     * @return {object} `$urlRouterProvider` - `$urlRouterProvider` instance\n     */\n    UrlRouterProvider.prototype.otherwise = function (rule) {\n        var _this = this;\n        var urlRouter = this._urlRouter;\n        if (core_2.isString(rule)) {\n            urlRouter.otherwise(rule);\n        } else if (core_2.isFunction(rule)) {\n            urlRouter.otherwise(function () {\n                return rule(core_2.services.$injector, _this._router.locationService);\n            });\n        } else {\n            throw new Error(\"'rule' must be a string or function\");\n        }\n        return this;\n    };\n    ;\n    /**\n     * Registers a handler for a given url matching.\n     *\n     * If the handler is a string, it is\n     * treated as a redirect, and is interpolated according to the syntax of match\n     * (i.e. like `String.replace()` for `RegExp`, or like a `UrlMatcher` pattern otherwise).\n     *\n     * If the handler is a function, it is injectable.\n     * It gets invoked if `$location` matches.\n     * You have the option of inject the match object as `$match`.\n     *\n     * The handler can return\n     *\n     * - **falsy** to indicate that the rule didn't match after all, then `$urlRouter`\n     *   will continue trying to find another one that matches.\n     * - **string** which is treated as a redirect and passed to `$location.url()`\n     * - **void** or any **truthy** value tells `$urlRouter` that the url was handled.\n     *\n     * #### Example:\n     * ```js\n     * var app = angular.module('app', ['ui.router.router']);\n     *\n     * app.config(function ($urlRouterProvider) {\n     *   $urlRouterProvider.when($state.url, function ($match, $stateParams) {\n     *     if ($state.$current.navigable !== state ||\n     *         !equalForKeys($match, $stateParams) {\n     *      $state.transitionTo(state, $match, false);\n     *     }\n     *   });\n     * });\n     * ```\n     *\n     * @param what A pattern string to match, compiled as a [[UrlMatcher]].\n     * @param handler The path (or function that returns a path) that you want to redirect your user to.\n     * @param ruleCallback [optional] A callback that receives the `rule` registered with [[UrlMatcher.rule]]\n     *\n     * Note: the handler may also invoke arbitrary code, such as `$state.go()`\n     */\n    UrlRouterProvider.prototype.when = function (what, handler) {\n        if (core_2.isArray(handler) || core_2.isFunction(handler)) {\n            handler = UrlRouterProvider.injectableHandler(this._router, handler);\n        }\n        this._urlRouter.when(what, handler);\n        return this;\n    };\n    ;\n    UrlRouterProvider.injectableHandler = function (router, handler) {\n        return function (match) {\n            return core_2.services.$injector.invoke(handler, null, { $match: match, $stateParams: router.globals.params });\n        };\n    };\n    /**\n     * Disables monitoring of the URL.\n     *\n     * Call this method before UI-Router has bootstrapped.\n     * It will stop UI-Router from performing the initial url sync.\n     *\n     * This can be useful to perform some asynchronous initialization before the router starts.\n     * Once the initialization is complete, call [[listen]] to tell UI-Router to start watching and synchronizing the URL.\n     *\n     * #### Example:\n     * ```js\n     * var app = angular.module('app', ['ui.router']);\n     *\n     * app.config(function ($urlRouterProvider) {\n     *   // Prevent $urlRouter from automatically intercepting URL changes;\n     *   $urlRouterProvider.deferIntercept();\n     * })\n     *\n     * app.run(function (MyService, $urlRouter, $http) {\n     *   $http.get(\"/stuff\").then(function(resp) {\n     *     MyService.doStuff(resp.data);\n     *     $urlRouter.listen();\n     *     $urlRouter.sync();\n     *   });\n     * });\n     * ```\n     *\n     * @param defer Indicates whether to defer location change interception.\n     *        Passing no parameter is equivalent to `true`.\n     */\n    UrlRouterProvider.prototype.deferIntercept = function (defer) {\n        this._urlRouter.deferIntercept(defer);\n    };\n    ;\n    return UrlRouterProvider;\n}();\nexports.UrlRouterProvider = UrlRouterProvider;\n//# sourceMappingURL=urlRouterProvider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL3VybFJvdXRlclByb3ZpZGVyLmpzPzcwZWYiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjb3JlXzEiLCJyZXF1aXJlIiwiY29yZV8yIiwiVXJsUm91dGVyUHJvdmlkZXIiLCJyb3V0ZXIiLCJfcm91dGVyIiwiX3VybFJvdXRlciIsInVybFJvdXRlciIsInByb3RvdHlwZSIsIiRnZXQiLCJ1cGRhdGUiLCJpbnRlcmNlcHREZWZlcnJlZCIsImxpc3RlbiIsInJ1bGUiLCJydWxlRm4iLCJfdGhpcyIsImlzRnVuY3Rpb24iLCJFcnJvciIsIm1hdGNoIiwic2VydmljZXMiLCIkaW5qZWN0b3IiLCJsb2NhdGlvblNlcnZpY2UiLCJCYXNlVXJsUnVsZSIsImlkZW50aXR5Iiwib3RoZXJ3aXNlIiwiaXNTdHJpbmciLCJ3aGVuIiwid2hhdCIsImhhbmRsZXIiLCJpc0FycmF5IiwiaW5qZWN0YWJsZUhhbmRsZXIiLCJpbnZva2UiLCIkbWF0Y2giLCIkc3RhdGVQYXJhbXMiLCJnbG9iYWxzIiwicGFyYW1zIiwiZGVmZXJJbnRlcmNlcHQiLCJkZWZlciJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBLGtCLENBQW1CO0FBQ25CLElBQUlDLFNBQVMsbUJBQUFDLENBQVEsQ0FBUixDQUFiO0FBQ0EsSUFBSUMsU0FBUyxtQkFBQUQsQ0FBUSxDQUFSLENBQWI7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUFjQSxJQUFJRSxvQkFBcUIsWUFBWTtBQUNqQztBQUNBLGFBQVNBLGlCQUFULENBQTJCQyxNQUEzQixFQUFtQztBQUMvQixhQUFLQyxPQUFMLEdBQWVELE1BQWY7QUFDQSxhQUFLRSxVQUFMLEdBQWtCRixPQUFPRyxTQUF6QjtBQUNIO0FBQ0Q7QUFDQUosc0JBQWtCSyxTQUFsQixDQUE0QkMsSUFBNUIsR0FBbUMsWUFBWTtBQUMzQyxZQUFJRixZQUFZLEtBQUtELFVBQXJCO0FBQ0FDLGtCQUFVRyxNQUFWLENBQWlCLElBQWpCO0FBQ0EsWUFBSSxDQUFDSCxVQUFVSSxpQkFBZixFQUNJSixVQUFVSyxNQUFWO0FBQ0osZUFBT0wsU0FBUDtBQUNILEtBTkQ7QUFPQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQStCQUosc0JBQWtCSyxTQUFsQixDQUE0QkssSUFBNUIsR0FBbUMsVUFBVUMsTUFBVixFQUFrQjtBQUNqRCxZQUFJQyxRQUFRLElBQVo7QUFDQSxZQUFJLENBQUNiLE9BQU9jLFVBQVAsQ0FBa0JGLE1BQWxCLENBQUwsRUFDSSxNQUFNLElBQUlHLEtBQUosQ0FBVSwyQkFBVixDQUFOO0FBQ0osWUFBSUMsUUFBUSxTQUFSQSxLQUFRLEdBQVk7QUFDcEIsbUJBQU9KLE9BQU9aLE9BQU9pQixRQUFQLENBQWdCQyxTQUF2QixFQUFrQ0wsTUFBTVYsT0FBTixDQUFjZ0IsZUFBaEQsQ0FBUDtBQUNILFNBRkQ7QUFHQSxZQUFJUixPQUFPLElBQUliLE9BQU9zQixXQUFYLENBQXVCSixLQUF2QixFQUE4QmhCLE9BQU9xQixRQUFyQyxDQUFYO0FBQ0EsYUFBS2pCLFVBQUwsQ0FBZ0JPLElBQWhCLENBQXFCQSxJQUFyQjtBQUNBLGVBQU8sSUFBUDtBQUNILEtBVkQ7QUFXQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTBCQVYsc0JBQWtCSyxTQUFsQixDQUE0QmdCLFNBQTVCLEdBQXdDLFVBQVVYLElBQVYsRUFBZ0I7QUFDcEQsWUFBSUUsUUFBUSxJQUFaO0FBQ0EsWUFBSVIsWUFBWSxLQUFLRCxVQUFyQjtBQUNBLFlBQUlKLE9BQU91QixRQUFQLENBQWdCWixJQUFoQixDQUFKLEVBQTJCO0FBQ3ZCTixzQkFBVWlCLFNBQVYsQ0FBb0JYLElBQXBCO0FBQ0gsU0FGRCxNQUdLLElBQUlYLE9BQU9jLFVBQVAsQ0FBa0JILElBQWxCLENBQUosRUFBNkI7QUFDOUJOLHNCQUFVaUIsU0FBVixDQUFvQixZQUFZO0FBQUUsdUJBQU9YLEtBQUtYLE9BQU9pQixRQUFQLENBQWdCQyxTQUFyQixFQUFnQ0wsTUFBTVYsT0FBTixDQUFjZ0IsZUFBOUMsQ0FBUDtBQUF3RSxhQUExRztBQUNILFNBRkksTUFHQTtBQUNELGtCQUFNLElBQUlKLEtBQUosQ0FBVSxxQ0FBVixDQUFOO0FBQ0g7QUFDRCxlQUFPLElBQVA7QUFDSCxLQWJEO0FBY0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFzQ0FkLHNCQUFrQkssU0FBbEIsQ0FBNEJrQixJQUE1QixHQUFtQyxVQUFVQyxJQUFWLEVBQWdCQyxPQUFoQixFQUF5QjtBQUN4RCxZQUFJMUIsT0FBTzJCLE9BQVAsQ0FBZUQsT0FBZixLQUEyQjFCLE9BQU9jLFVBQVAsQ0FBa0JZLE9BQWxCLENBQS9CLEVBQTJEO0FBQ3ZEQSxzQkFBVXpCLGtCQUFrQjJCLGlCQUFsQixDQUFvQyxLQUFLekIsT0FBekMsRUFBa0R1QixPQUFsRCxDQUFWO0FBQ0g7QUFDRCxhQUFLdEIsVUFBTCxDQUFnQm9CLElBQWhCLENBQXFCQyxJQUFyQixFQUEyQkMsT0FBM0I7QUFDQSxlQUFPLElBQVA7QUFDSCxLQU5EO0FBT0E7QUFDQXpCLHNCQUFrQjJCLGlCQUFsQixHQUFzQyxVQUFVMUIsTUFBVixFQUFrQndCLE9BQWxCLEVBQTJCO0FBQzdELGVBQU8sVUFBVVYsS0FBVixFQUFpQjtBQUNwQixtQkFBT2hCLE9BQU9pQixRQUFQLENBQWdCQyxTQUFoQixDQUEwQlcsTUFBMUIsQ0FBaUNILE9BQWpDLEVBQTBDLElBQTFDLEVBQWdELEVBQUVJLFFBQVFkLEtBQVYsRUFBaUJlLGNBQWM3QixPQUFPOEIsT0FBUCxDQUFlQyxNQUE5QyxFQUFoRCxDQUFQO0FBQ0gsU0FGRDtBQUdILEtBSkQ7QUFLQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBOEJBaEMsc0JBQWtCSyxTQUFsQixDQUE0QjRCLGNBQTVCLEdBQTZDLFVBQVVDLEtBQVYsRUFBaUI7QUFDMUQsYUFBSy9CLFVBQUwsQ0FBZ0I4QixjQUFoQixDQUErQkMsS0FBL0I7QUFDSCxLQUZEO0FBR0E7QUFDQSxXQUFPbEMsaUJBQVA7QUFDSCxDQXhMd0IsRUFBekI7QUF5TEFMLFFBQVFLLGlCQUFSLEdBQTRCQSxpQkFBNUI7QUFDQSIsImZpbGUiOiI1Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBtb2R1bGUgdXJsICovIC8qKiAqL1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCJAdWlyb3V0ZXIvY29yZVwiKTtcbnZhciBjb3JlXzIgPSByZXF1aXJlKFwiQHVpcm91dGVyL2NvcmVcIik7XG4vKipcbiAqIE1hbmFnZXMgcnVsZXMgZm9yIGNsaWVudC1zaWRlIFVSTFxuICpcbiAqICMjIyBEZXByZWNhdGlvbiB3YXJuaW5nOlxuICogVGhpcyBjbGFzcyBpcyBub3cgY29uc2lkZXJlZCB0byBiZSBhbiBpbnRlcm5hbCBBUElcbiAqIFVzZSB0aGUgW1tVcmxTZXJ2aWNlXV0gaW5zdGVhZC5cbiAqIEZvciBjb25maWd1cmluZyBVUkwgcnVsZXMsIHVzZSB0aGUgW1tVcmxSdWxlc0FwaV1dIHdoaWNoIGNhbiBiZSBmb3VuZCBhcyBbW1VybFNlcnZpY2UucnVsZXNdXS5cbiAqXG4gKiBUaGlzIGNsYXNzIG1hbmFnZXMgdGhlIHJvdXRlciBydWxlcyBmb3Igd2hhdCB0byBkbyB3aGVuIHRoZSBVUkwgY2hhbmdlcy5cbiAqXG4gKiBUaGlzIHByb3ZpZGVyIHJlbWFpbnMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICpcbiAqIEBkZXByZWNhdGVkXG4gKi9cbnZhciBVcmxSb3V0ZXJQcm92aWRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBmdW5jdGlvbiBVcmxSb3V0ZXJQcm92aWRlcihyb3V0ZXIpIHtcbiAgICAgICAgdGhpcy5fcm91dGVyID0gcm91dGVyO1xuICAgICAgICB0aGlzLl91cmxSb3V0ZXIgPSByb3V0ZXIudXJsUm91dGVyO1xuICAgIH1cbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFVybFJvdXRlclByb3ZpZGVyLnByb3RvdHlwZS4kZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdXJsUm91dGVyID0gdGhpcy5fdXJsUm91dGVyO1xuICAgICAgICB1cmxSb3V0ZXIudXBkYXRlKHRydWUpO1xuICAgICAgICBpZiAoIXVybFJvdXRlci5pbnRlcmNlcHREZWZlcnJlZClcbiAgICAgICAgICAgIHVybFJvdXRlci5saXN0ZW4oKTtcbiAgICAgICAgcmV0dXJuIHVybFJvdXRlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIHVybCBoYW5kbGVyIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUmVnaXN0ZXJzIGEgbG93IGxldmVsIHVybCBoYW5kbGVyIChhIGBydWxlYCkuXG4gICAgICogQSBydWxlIGRldGVjdHMgc3BlY2lmaWMgVVJMIHBhdHRlcm5zIGFuZCByZXR1cm5zIGEgcmVkaXJlY3QsIG9yIHBlcmZvcm1zIHNvbWUgYWN0aW9uLlxuICAgICAqXG4gICAgICogSWYgYSBydWxlIHJldHVybnMgYSBzdHJpbmcsIHRoZSBVUkwgaXMgcmVwbGFjZWQgd2l0aCB0aGUgc3RyaW5nLCBhbmQgYWxsIHJ1bGVzIGFyZSBmaXJlZCBhZ2Fpbi5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXIucm91dGVyJ10pO1xuICAgICAqXG4gICAgICogYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gICAgICogICAvLyBIZXJlJ3MgYW4gZXhhbXBsZSBvZiBob3cgeW91IG1pZ2h0IGFsbG93IGNhc2UgaW5zZW5zaXRpdmUgdXJsc1xuICAgICAqICAgJHVybFJvdXRlclByb3ZpZGVyLnJ1bGUoZnVuY3Rpb24gKCRpbmplY3RvciwgJGxvY2F0aW9uKSB7XG4gICAgICogICAgIHZhciBwYXRoID0gJGxvY2F0aW9uLnBhdGgoKSxcbiAgICAgKiAgICAgICAgIG5vcm1hbGl6ZWQgPSBwYXRoLnRvTG93ZXJDYXNlKCk7XG4gICAgICpcbiAgICAgKiAgICAgaWYgKHBhdGggIT09IG5vcm1hbGl6ZWQpIHtcbiAgICAgKiAgICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICAgKiAgICAgfVxuICAgICAqICAgfSk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcnVsZUZuXG4gICAgICogSGFuZGxlciBmdW5jdGlvbiB0aGF0IHRha2VzIGAkaW5qZWN0b3JgIGFuZCBgJGxvY2F0aW9uYCBzZXJ2aWNlcyBhcyBhcmd1bWVudHMuXG4gICAgICogWW91IGNhbiB1c2UgdGhlbSB0byBkZXRlY3QgYSB1cmwgYW5kIHJldHVybiBhIGRpZmZlcmVudCB1cmwgYXMgYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIFtbVXJsUm91dGVyUHJvdmlkZXJdXSAoYHRoaXNgKVxuICAgICAqL1xuICAgIFVybFJvdXRlclByb3ZpZGVyLnByb3RvdHlwZS5ydWxlID0gZnVuY3Rpb24gKHJ1bGVGbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIWNvcmVfMi5pc0Z1bmN0aW9uKHJ1bGVGbikpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIncnVsZScgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB2YXIgbWF0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcnVsZUZuKGNvcmVfMi5zZXJ2aWNlcy4kaW5qZWN0b3IsIF90aGlzLl9yb3V0ZXIubG9jYXRpb25TZXJ2aWNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJ1bGUgPSBuZXcgY29yZV8xLkJhc2VVcmxSdWxlKG1hdGNoLCBjb3JlXzIuaWRlbnRpdHkpO1xuICAgICAgICB0aGlzLl91cmxSb3V0ZXIucnVsZShydWxlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICA7XG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgcGF0aCBvciBiZWhhdmlvciB0byB1c2Ugd2hlbiBubyB1cmwgY2FuIGJlIG1hdGNoZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyLnJvdXRlciddKTtcbiAgICAgKlxuICAgICAqIGFwcC5jb25maWcoZnVuY3Rpb24gKCR1cmxSb3V0ZXJQcm92aWRlcikge1xuICAgICAqICAgLy8gaWYgdGhlIHBhdGggZG9lc24ndCBtYXRjaCBhbnkgb2YgdGhlIHVybHMgeW91IGNvbmZpZ3VyZWRcbiAgICAgKiAgIC8vIG90aGVyd2lzZSB3aWxsIHRha2UgY2FyZSBvZiByb3V0aW5nIHRoZSB1c2VyIHRvIHRoZVxuICAgICAqICAgLy8gc3BlY2lmaWVkIHVybFxuICAgICAqICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2luZGV4Jyk7XG4gICAgICpcbiAgICAgKiAgIC8vIEV4YW1wbGUgb2YgdXNpbmcgZnVuY3Rpb24gcnVsZSBhcyBwYXJhbVxuICAgICAqICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShmdW5jdGlvbiAoJGluamVjdG9yLCAkbG9jYXRpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuICcvYS92YWxpZC91cmwnO1xuICAgICAqICAgfSk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcnVsZVxuICAgICAqIFRoZSB1cmwgcGF0aCB5b3Ugd2FudCB0byByZWRpcmVjdCB0byBvciBhIGZ1bmN0aW9uIHJ1bGUgdGhhdCByZXR1cm5zIHRoZSB1cmwgcGF0aCBvciBwZXJmb3JtcyBhIGAkc3RhdGUuZ28oKWAuXG4gICAgICogVGhlIGZ1bmN0aW9uIHZlcnNpb24gaXMgcGFzc2VkIHR3byBwYXJhbXM6IGAkaW5qZWN0b3JgIGFuZCBgJGxvY2F0aW9uYCBzZXJ2aWNlcywgYW5kIHNob3VsZCByZXR1cm4gYSB1cmwgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBgJHVybFJvdXRlclByb3ZpZGVyYCAtIGAkdXJsUm91dGVyUHJvdmlkZXJgIGluc3RhbmNlXG4gICAgICovXG4gICAgVXJsUm91dGVyUHJvdmlkZXIucHJvdG90eXBlLm90aGVyd2lzZSA9IGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB1cmxSb3V0ZXIgPSB0aGlzLl91cmxSb3V0ZXI7XG4gICAgICAgIGlmIChjb3JlXzIuaXNTdHJpbmcocnVsZSkpIHtcbiAgICAgICAgICAgIHVybFJvdXRlci5vdGhlcndpc2UocnVsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29yZV8yLmlzRnVuY3Rpb24ocnVsZSkpIHtcbiAgICAgICAgICAgIHVybFJvdXRlci5vdGhlcndpc2UoZnVuY3Rpb24gKCkgeyByZXR1cm4gcnVsZShjb3JlXzIuc2VydmljZXMuJGluamVjdG9yLCBfdGhpcy5fcm91dGVyLmxvY2F0aW9uU2VydmljZSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ3J1bGUnIG11c3QgYmUgYSBzdHJpbmcgb3IgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICA7XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgaGFuZGxlciBmb3IgYSBnaXZlbiB1cmwgbWF0Y2hpbmcuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgaGFuZGxlciBpcyBhIHN0cmluZywgaXQgaXNcbiAgICAgKiB0cmVhdGVkIGFzIGEgcmVkaXJlY3QsIGFuZCBpcyBpbnRlcnBvbGF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBzeW50YXggb2YgbWF0Y2hcbiAgICAgKiAoaS5lLiBsaWtlIGBTdHJpbmcucmVwbGFjZSgpYCBmb3IgYFJlZ0V4cGAsIG9yIGxpa2UgYSBgVXJsTWF0Y2hlcmAgcGF0dGVybiBvdGhlcndpc2UpLlxuICAgICAqXG4gICAgICogSWYgdGhlIGhhbmRsZXIgaXMgYSBmdW5jdGlvbiwgaXQgaXMgaW5qZWN0YWJsZS5cbiAgICAgKiBJdCBnZXRzIGludm9rZWQgaWYgYCRsb2NhdGlvbmAgbWF0Y2hlcy5cbiAgICAgKiBZb3UgaGF2ZSB0aGUgb3B0aW9uIG9mIGluamVjdCB0aGUgbWF0Y2ggb2JqZWN0IGFzIGAkbWF0Y2hgLlxuICAgICAqXG4gICAgICogVGhlIGhhbmRsZXIgY2FuIHJldHVyblxuICAgICAqXG4gICAgICogLSAqKmZhbHN5KiogdG8gaW5kaWNhdGUgdGhhdCB0aGUgcnVsZSBkaWRuJ3QgbWF0Y2ggYWZ0ZXIgYWxsLCB0aGVuIGAkdXJsUm91dGVyYFxuICAgICAqICAgd2lsbCBjb250aW51ZSB0cnlpbmcgdG8gZmluZCBhbm90aGVyIG9uZSB0aGF0IG1hdGNoZXMuXG4gICAgICogLSAqKnN0cmluZyoqIHdoaWNoIGlzIHRyZWF0ZWQgYXMgYSByZWRpcmVjdCBhbmQgcGFzc2VkIHRvIGAkbG9jYXRpb24udXJsKClgXG4gICAgICogLSAqKnZvaWQqKiBvciBhbnkgKip0cnV0aHkqKiB2YWx1ZSB0ZWxscyBgJHVybFJvdXRlcmAgdGhhdCB0aGUgdXJsIHdhcyBoYW5kbGVkLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlci5yb3V0ZXInXSk7XG4gICAgICpcbiAgICAgKiBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdXJsUm91dGVyUHJvdmlkZXIpIHtcbiAgICAgKiAgICR1cmxSb3V0ZXJQcm92aWRlci53aGVuKCRzdGF0ZS51cmwsIGZ1bmN0aW9uICgkbWF0Y2gsICRzdGF0ZVBhcmFtcykge1xuICAgICAqICAgICBpZiAoJHN0YXRlLiRjdXJyZW50Lm5hdmlnYWJsZSAhPT0gc3RhdGUgfHxcbiAgICAgKiAgICAgICAgICFlcXVhbEZvcktleXMoJG1hdGNoLCAkc3RhdGVQYXJhbXMpIHtcbiAgICAgKiAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oc3RhdGUsICRtYXRjaCwgZmFsc2UpO1xuICAgICAqICAgICB9XG4gICAgICogICB9KTtcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aGF0IEEgcGF0dGVybiBzdHJpbmcgdG8gbWF0Y2gsIGNvbXBpbGVkIGFzIGEgW1tVcmxNYXRjaGVyXV0uXG4gICAgICogQHBhcmFtIGhhbmRsZXIgVGhlIHBhdGggKG9yIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHBhdGgpIHRoYXQgeW91IHdhbnQgdG8gcmVkaXJlY3QgeW91ciB1c2VyIHRvLlxuICAgICAqIEBwYXJhbSBydWxlQ2FsbGJhY2sgW29wdGlvbmFsXSBBIGNhbGxiYWNrIHRoYXQgcmVjZWl2ZXMgdGhlIGBydWxlYCByZWdpc3RlcmVkIHdpdGggW1tVcmxNYXRjaGVyLnJ1bGVdXVxuICAgICAqXG4gICAgICogTm90ZTogdGhlIGhhbmRsZXIgbWF5IGFsc28gaW52b2tlIGFyYml0cmFyeSBjb2RlLCBzdWNoIGFzIGAkc3RhdGUuZ28oKWBcbiAgICAgKi9cbiAgICBVcmxSb3V0ZXJQcm92aWRlci5wcm90b3R5cGUud2hlbiA9IGZ1bmN0aW9uICh3aGF0LCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChjb3JlXzIuaXNBcnJheShoYW5kbGVyKSB8fCBjb3JlXzIuaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgICAgICAgICAgaGFuZGxlciA9IFVybFJvdXRlclByb3ZpZGVyLmluamVjdGFibGVIYW5kbGVyKHRoaXMuX3JvdXRlciwgaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXJsUm91dGVyLndoZW4od2hhdCwgaGFuZGxlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgO1xuICAgIFVybFJvdXRlclByb3ZpZGVyLmluamVjdGFibGVIYW5kbGVyID0gZnVuY3Rpb24gKHJvdXRlciwgaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29yZV8yLnNlcnZpY2VzLiRpbmplY3Rvci5pbnZva2UoaGFuZGxlciwgbnVsbCwgeyAkbWF0Y2g6IG1hdGNoLCAkc3RhdGVQYXJhbXM6IHJvdXRlci5nbG9iYWxzLnBhcmFtcyB9KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc2FibGVzIG1vbml0b3Jpbmcgb2YgdGhlIFVSTC5cbiAgICAgKlxuICAgICAqIENhbGwgdGhpcyBtZXRob2QgYmVmb3JlIFVJLVJvdXRlciBoYXMgYm9vdHN0cmFwcGVkLlxuICAgICAqIEl0IHdpbGwgc3RvcCBVSS1Sb3V0ZXIgZnJvbSBwZXJmb3JtaW5nIHRoZSBpbml0aWFsIHVybCBzeW5jLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZnVsIHRvIHBlcmZvcm0gc29tZSBhc3luY2hyb25vdXMgaW5pdGlhbGl6YXRpb24gYmVmb3JlIHRoZSByb3V0ZXIgc3RhcnRzLlxuICAgICAqIE9uY2UgdGhlIGluaXRpYWxpemF0aW9uIGlzIGNvbXBsZXRlLCBjYWxsIFtbbGlzdGVuXV0gdG8gdGVsbCBVSS1Sb3V0ZXIgdG8gc3RhcnQgd2F0Y2hpbmcgYW5kIHN5bmNocm9uaXppbmcgdGhlIFVSTC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXInXSk7XG4gICAgICpcbiAgICAgKiBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdXJsUm91dGVyUHJvdmlkZXIpIHtcbiAgICAgKiAgIC8vIFByZXZlbnQgJHVybFJvdXRlciBmcm9tIGF1dG9tYXRpY2FsbHkgaW50ZXJjZXB0aW5nIFVSTCBjaGFuZ2VzO1xuICAgICAqICAgJHVybFJvdXRlclByb3ZpZGVyLmRlZmVySW50ZXJjZXB0KCk7XG4gICAgICogfSlcbiAgICAgKlxuICAgICAqIGFwcC5ydW4oZnVuY3Rpb24gKE15U2VydmljZSwgJHVybFJvdXRlciwgJGh0dHApIHtcbiAgICAgKiAgICRodHRwLmdldChcIi9zdHVmZlwiKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgKiAgICAgTXlTZXJ2aWNlLmRvU3R1ZmYocmVzcC5kYXRhKTtcbiAgICAgKiAgICAgJHVybFJvdXRlci5saXN0ZW4oKTtcbiAgICAgKiAgICAgJHVybFJvdXRlci5zeW5jKCk7XG4gICAgICogICB9KTtcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBkZWZlciBJbmRpY2F0ZXMgd2hldGhlciB0byBkZWZlciBsb2NhdGlvbiBjaGFuZ2UgaW50ZXJjZXB0aW9uLlxuICAgICAqICAgICAgICBQYXNzaW5nIG5vIHBhcmFtZXRlciBpcyBlcXVpdmFsZW50IHRvIGB0cnVlYC5cbiAgICAgKi9cbiAgICBVcmxSb3V0ZXJQcm92aWRlci5wcm90b3R5cGUuZGVmZXJJbnRlcmNlcHQgPSBmdW5jdGlvbiAoZGVmZXIpIHtcbiAgICAgICAgdGhpcy5fdXJsUm91dGVyLmRlZmVySW50ZXJjZXB0KGRlZmVyKTtcbiAgICB9O1xuICAgIDtcbiAgICByZXR1cm4gVXJsUm91dGVyUHJvdmlkZXI7XG59KCkpO1xuZXhwb3J0cy5VcmxSb3V0ZXJQcm92aWRlciA9IFVybFJvdXRlclByb3ZpZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJsUm91dGVyUHJvdmlkZXIuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL2FuZ3VsYXItdWktcm91dGVyL2xpYi91cmxSb3V0ZXJQcm92aWRlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///57\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(59);\n\nvar _Home = __webpack_require__(88);\n\nvar _Home2 = _interopRequireDefault(_Home);\n\nvar _Login = __webpack_require__(89);\n\nvar _Login2 = _interopRequireDefault(_Login);\n\nvar _Register = __webpack_require__(90);\n\nvar _Register2 = _interopRequireDefault(_Register);\n\nvar _Login3 = __webpack_require__(91);\n\nvar _Login4 = _interopRequireDefault(_Login3);\n\nvar _TestSuite = __webpack_require__(92);\n\nvar _TestSuite2 = _interopRequireDefault(_TestSuite);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(96);\n\nangular.module('touriends', ['ui.router']).controller('HomeCtrl', _Home2.default).controller('LoginCtrl', _Login2.default).controller('RegisterCtrl', _Register2.default).controller('TestSuiteCtrl', _TestSuite2.default).service('LoginSvc', _Login4.default)\n\n// ========== Configs ==========\n.config(['$stateProvider', '$urlRouterProvider', function ($stateProvider, $urlRouterProvider) {\n    $stateProvider.state({\n        abstract: true,\n        name: 'authful',\n        resolve: {\n            auth: ['$q', '$state', '$timeout', 'LoginSvc', function ($q, $state, $timeout, LoginSvc) {\n                if (LoginSvc.logged) {\n                    return $q.when();\n                } else {\n                    $timeout(function () {\n                        $state.go('login');\n                    });\n\n                    return $q.reject();\n                }\n            }]\n        }\n    }).state({\n        abstract: true,\n        name: 'authless',\n        resolve: {\n            auth: ['$q', '$state', '$timeout', 'LoginSvc', function ($q, $state, $timeout, LoginSvc) {\n                if (!LoginSvc.logged) {\n                    return $q.when();\n                } else {\n                    $timeout(function () {\n                        $state.go('home');\n                    });\n\n                    return $q.reject();\n                }\n            }]\n        }\n    }).state({\n        url: '/login',\n        name: 'login',\n        parent: 'authless',\n        template: __webpack_require__(97)\n    }).state({\n        url: '/register',\n        name: 'register',\n        parent: 'authless',\n        template: __webpack_require__(99)\n    }).state({\n        url: '/home',\n        name: 'home',\n        parent: 'authful',\n        template: __webpack_require__(100)\n    }).state({\n        url: '/test',\n        name: 'test',\n        template: __webpack_require__(101)\n    });\n\n    $urlRouterProvider.otherwise('/login');\n}]).config(['$httpProvider', function ($httpProvider) {\n    $httpProvider.defaults.paramSerializer = '$httpParamSerializerJQLike';\n}]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwLmpzPzdhYzkiXSwibmFtZXMiOlsicmVxdWlyZSIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwic2VydmljZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwic3RhdGUiLCJhYnN0cmFjdCIsIm5hbWUiLCJyZXNvbHZlIiwiYXV0aCIsIiRxIiwiJHN0YXRlIiwiJHRpbWVvdXQiLCJMb2dpblN2YyIsImxvZ2dlZCIsIndoZW4iLCJnbyIsInJlamVjdCIsInVybCIsInBhcmVudCIsInRlbXBsYXRlIiwib3RoZXJ3aXNlIiwiJGh0dHBQcm92aWRlciIsImRlZmF1bHRzIiwicGFyYW1TZXJpYWxpemVyIl0sIm1hcHBpbmdzIjoiOztBQUVBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUE7Ozs7OztBQVJBLG1CQUFBQSxDQUFRLEVBQVI7O0FBVUFDLFFBQ0tDLE1BREwsQ0FDWSxXQURaLEVBQ3lCLENBQUMsV0FBRCxDQUR6QixFQUVLQyxVQUZMLENBRWdCLFVBRmhCLGtCQUdLQSxVQUhMLENBR2dCLFdBSGhCLG1CQUlLQSxVQUpMLENBSWdCLGNBSmhCLHNCQUtLQSxVQUxMLENBS2dCLGVBTGhCLHVCQU1LQyxPQU5MLENBTWEsVUFOYjs7QUFRQTtBQVJBLENBU0tDLE1BVEwsQ0FTWSxDQUFDLGdCQUFELEVBQW1CLG9CQUFuQixFQUF5QyxVQUFDQyxjQUFELEVBQWlCQyxrQkFBakIsRUFBd0M7QUFDckZELG1CQUFlRSxLQUFmLENBQXFCO0FBQ2pCQyxrQkFBVSxJQURPO0FBRWpCQyxjQUFNLFNBRlc7QUFHakJDLGlCQUFTO0FBQ0xDLGtCQUFNLENBQUMsSUFBRCxFQUFPLFFBQVAsRUFBaUIsVUFBakIsRUFBNkIsVUFBN0IsRUFBeUMsVUFBQ0MsRUFBRCxFQUFLQyxNQUFMLEVBQWFDLFFBQWIsRUFBdUJDLFFBQXZCLEVBQW9DO0FBQy9FLG9CQUFJQSxTQUFTQyxNQUFiLEVBQXFCO0FBQ2pCLDJCQUFPSixHQUFHSyxJQUFILEVBQVA7QUFDSCxpQkFGRCxNQUdLO0FBQ0RILDZCQUFTLFlBQU07QUFDWEQsK0JBQU9LLEVBQVAsQ0FBVSxPQUFWO0FBQ0gscUJBRkQ7O0FBSUEsMkJBQU9OLEdBQUdPLE1BQUgsRUFBUDtBQUNIO0FBQ0osYUFYSztBQUREO0FBSFEsS0FBckIsRUFpQkdaLEtBakJILENBaUJTO0FBQ0xDLGtCQUFVLElBREw7QUFFTEMsY0FBTSxVQUZEO0FBR0xDLGlCQUFTO0FBQ0xDLGtCQUFNLENBQUMsSUFBRCxFQUFPLFFBQVAsRUFBaUIsVUFBakIsRUFBNkIsVUFBN0IsRUFBeUMsVUFBQ0MsRUFBRCxFQUFLQyxNQUFMLEVBQWFDLFFBQWIsRUFBdUJDLFFBQXZCLEVBQW9DO0FBQy9FLG9CQUFJLENBQUNBLFNBQVNDLE1BQWQsRUFBc0I7QUFDbEIsMkJBQU9KLEdBQUdLLElBQUgsRUFBUDtBQUNILGlCQUZELE1BR0s7QUFDREgsNkJBQVMsWUFBTTtBQUNYRCwrQkFBT0ssRUFBUCxDQUFVLE1BQVY7QUFDSCxxQkFGRDs7QUFJQSwyQkFBT04sR0FBR08sTUFBSCxFQUFQO0FBQ0g7QUFDSixhQVhLO0FBREQ7QUFISixLQWpCVCxFQWtDR1osS0FsQ0gsQ0FrQ1M7QUFDTGEsYUFBSyxRQURBO0FBRUxYLGNBQU0sT0FGRDtBQUdMWSxnQkFBUSxVQUhIO0FBSUxDLGtCQUFVLG1CQUFBdkIsQ0FBUSxFQUFSO0FBSkwsS0FsQ1QsRUF1Q0dRLEtBdkNILENBdUNTO0FBQ0xhLGFBQUssV0FEQTtBQUVMWCxjQUFNLFVBRkQ7QUFHTFksZ0JBQVEsVUFISDtBQUlMQyxrQkFBVSxtQkFBQXZCLENBQVEsRUFBUjtBQUpMLEtBdkNULEVBNENHUSxLQTVDSCxDQTRDUztBQUNMYSxhQUFLLE9BREE7QUFFTFgsY0FBTSxNQUZEO0FBR0xZLGdCQUFRLFNBSEg7QUFJTEMsa0JBQVUsbUJBQUF2QixDQUFRLEdBQVI7QUFKTCxLQTVDVCxFQWlER1EsS0FqREgsQ0FpRFM7QUFDTGEsYUFBSyxPQURBO0FBRUxYLGNBQU0sTUFGRDtBQUdMYSxrQkFBVSxtQkFBQXZCLENBQVEsR0FBUjtBQUhMLEtBakRUOztBQXVEQU8sdUJBQW1CaUIsU0FBbkIsQ0FBNkIsUUFBN0I7QUFDSCxDQXpETyxDQVRaLEVBbUVLbkIsTUFuRUwsQ0FtRVksQ0FBQyxlQUFELEVBQWtCLFVBQUNvQixhQUFELEVBQW1CO0FBQ3pDQSxrQkFBY0MsUUFBZCxDQUF1QkMsZUFBdkIsR0FBeUMsNEJBQXpDO0FBQ0gsQ0FGTyxDQW5FWiIsImZpbGUiOiI1OC5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4vc3R5bGUvaW5kZXgubGVzcycpO1xyXG5cclxuaW1wb3J0ICdhbmd1bGFyLXVpLXJvdXRlcic7XHJcbmltcG9ydCBIb21lQ3RybCBmcm9tICcuL2NvbnRyb2xsZXIvSG9tZSc7XHJcbmltcG9ydCBMb2dpbkN0cmwgZnJvbSAnLi9jb250cm9sbGVyL0xvZ2luJztcclxuaW1wb3J0IFJlZ2lzdGVyQ3RybCBmcm9tICcuL2NvbnRyb2xsZXIvUmVnaXN0ZXInO1xyXG5pbXBvcnQgTG9naW5TdmMgZnJvbSAnLi9zZXJ2aWNlL0xvZ2luJztcclxuXHJcbmltcG9ydCBUZXN0U3VpdGVDdHJsIGZyb20gJy4vY29udHJvbGxlci9UZXN0U3VpdGUnO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgndG91cmllbmRzJywgWyd1aS5yb3V0ZXInXSlcclxuICAgIC5jb250cm9sbGVyKCdIb21lQ3RybCcsIEhvbWVDdHJsKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcsIExvZ2luQ3RybClcclxuICAgIC5jb250cm9sbGVyKCdSZWdpc3RlckN0cmwnLCBSZWdpc3RlckN0cmwpXHJcbiAgICAuY29udHJvbGxlcignVGVzdFN1aXRlQ3RybCcsIFRlc3RTdWl0ZUN0cmwpXHJcbiAgICAuc2VydmljZSgnTG9naW5TdmMnLCBMb2dpblN2YylcclxuXHJcbi8vID09PT09PT09PT0gQ29uZmlncyA9PT09PT09PT09XHJcbiAgICAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpID0+IHtcclxuICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSh7XHJcbiAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxyXG4gICAgICAgICAgICBuYW1lOiAnYXV0aGZ1bCcsXHJcbiAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgIGF1dGg6IFsnJHEnLCAnJHN0YXRlJywgJyR0aW1lb3V0JywgJ0xvZ2luU3ZjJywgKCRxLCAkc3RhdGUsICR0aW1lb3V0LCBMb2dpblN2YykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChMb2dpblN2Yy5sb2dnZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLndoZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnbG9naW4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnN0YXRlKHtcclxuICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXHJcbiAgICAgICAgICAgIG5hbWU6ICdhdXRobGVzcycsXHJcbiAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgIGF1dGg6IFsnJHEnLCAnJHN0YXRlJywgJyR0aW1lb3V0JywgJ0xvZ2luU3ZjJywgKCRxLCAkc3RhdGUsICR0aW1lb3V0LCBMb2dpblN2YykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghTG9naW5TdmMubG9nZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS53aGVuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2hvbWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnN0YXRlKHtcclxuICAgICAgICAgICAgdXJsOiAnL2xvZ2luJyxcclxuICAgICAgICAgICAgbmFtZTogJ2xvZ2luJyxcclxuICAgICAgICAgICAgcGFyZW50OiAnYXV0aGxlc3MnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi90ZW1wbGF0ZS9sb2dpbi5odG1sJylcclxuICAgICAgICB9KS5zdGF0ZSh7XHJcbiAgICAgICAgICAgIHVybDogJy9yZWdpc3RlcicsXHJcbiAgICAgICAgICAgIG5hbWU6ICdyZWdpc3RlcicsXHJcbiAgICAgICAgICAgIHBhcmVudDogJ2F1dGhsZXNzJyxcclxuICAgICAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vdGVtcGxhdGUvcmVnaXN0ZXIuaHRtbCcpXHJcbiAgICAgICAgfSkuc3RhdGUoe1xyXG4gICAgICAgICAgICB1cmw6ICcvaG9tZScsXHJcbiAgICAgICAgICAgIG5hbWU6ICdob21lJyxcclxuICAgICAgICAgICAgcGFyZW50OiAnYXV0aGZ1bCcsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL3RlbXBsYXRlL2hvbWUuaHRtbCcpXHJcbiAgICAgICAgfSkuc3RhdGUoe1xyXG4gICAgICAgICAgICB1cmw6ICcvdGVzdCcsXHJcbiAgICAgICAgICAgIG5hbWU6ICd0ZXN0JyxcclxuICAgICAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vdGVtcGxhdGUvdGVzdC5odG1sJylcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2xvZ2luJyk7XHJcbiAgICB9XSlcclxuICAgIC5jb25maWcoWyckaHR0cFByb3ZpZGVyJywgKCRodHRwUHJvdmlkZXIpID0+IHtcclxuICAgICAgICAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLnBhcmFtU2VyaWFsaXplciA9ICckaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZSc7XHJcbiAgICB9XSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///58\n")},function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * Main entry point for angular 1.x build\n * @module ng1\n */ /** */\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\nObject.defineProperty(exports, "__esModule", { value: true });\nvar core = __webpack_require__(4);\nexports.core = core;\n__export(__webpack_require__(4));\n__export(__webpack_require__(28));\n__export(__webpack_require__(29));\n__export(__webpack_require__(56));\n__export(__webpack_require__(57));\n__webpack_require__(83);\n__webpack_require__(84);\n__webpack_require__(85);\n__webpack_require__(86);\n__webpack_require__(87);\nexports.default = "ui.router";\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL2luZGV4LmpzPzNjOTEiXSwibmFtZXMiOlsiX19leHBvcnQiLCJtIiwicCIsImV4cG9ydHMiLCJoYXNPd25Qcm9wZXJ0eSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJjb3JlIiwicmVxdWlyZSIsImRlZmF1bHQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7OztJQUdJOztBQUNKLFNBQVNBLFFBQVQsQ0FBa0JDLENBQWxCLEVBQXFCO0FBQ2pCLE9BQUssSUFBSUMsQ0FBVCxJQUFjRCxDQUFkO0FBQWlCLFFBQUksQ0FBQ0UsUUFBUUMsY0FBUixDQUF1QkYsQ0FBdkIsQ0FBTCxFQUFnQ0MsUUFBUUQsQ0FBUixJQUFhRCxFQUFFQyxDQUFGLENBQWI7QUFBakQ7QUFDSDtBQUNERyxPQUFPQyxjQUFQLENBQXNCSCxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFSSxPQUFPLElBQVQsRUFBN0M7QUFDQSxJQUFJQyxPQUFPLG1CQUFBQyxDQUFRLENBQVIsQ0FBWDtBQUNBTixRQUFRSyxJQUFSLEdBQWVBLElBQWY7QUFDQVIsU0FBUyxtQkFBQVMsQ0FBUSxDQUFSLENBQVQ7QUFDQVQsU0FBUyxtQkFBQVMsQ0FBUSxFQUFSLENBQVQ7QUFDQVQsU0FBUyxtQkFBQVMsQ0FBUSxFQUFSLENBQVQ7QUFDQVQsU0FBUyxtQkFBQVMsQ0FBUSxFQUFSLENBQVQ7QUFDQVQsU0FBUyxtQkFBQVMsQ0FBUSxFQUFSLENBQVQ7QUFDQSxtQkFBQUEsQ0FBUSxFQUFSO0FBQ0EsbUJBQUFBLENBQVEsRUFBUjtBQUNBLG1CQUFBQSxDQUFRLEVBQVI7QUFDQSxtQkFBQUEsQ0FBUSxFQUFSO0FBQ0EsbUJBQUFBLENBQVEsRUFBUjtBQUNBTixRQUFRTyxPQUFSLEdBQWtCLFdBQWxCO0FBQ0EiLCJmaWxlIjoiNTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogTWFpbiBlbnRyeSBwb2ludCBmb3IgYW5ndWxhciAxLnggYnVpbGRcbiAqIEBtb2R1bGUgbmcxXG4gKi8gLyoqICovXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNvcmUgPSByZXF1aXJlKFwiQHVpcm91dGVyL2NvcmVcIik7XG5leHBvcnRzLmNvcmUgPSBjb3JlO1xuX19leHBvcnQocmVxdWlyZShcIkB1aXJvdXRlci9jb3JlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NlcnZpY2VzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N0YXRlYnVpbGRlcnMvdmlld3NcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc3RhdGVQcm92aWRlclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi91cmxSb3V0ZXJQcm92aWRlclwiKSk7XG5yZXF1aXJlKFwiLi9pbmplY3RhYmxlc1wiKTtcbnJlcXVpcmUoXCIuL2RpcmVjdGl2ZXMvc3RhdGVEaXJlY3RpdmVzXCIpO1xucmVxdWlyZShcIi4vc3RhdGVGaWx0ZXJzXCIpO1xucmVxdWlyZShcIi4vZGlyZWN0aXZlcy92aWV3RGlyZWN0aXZlXCIpO1xucmVxdWlyZShcIi4vdmlld1Njcm9sbFwiKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFwidWkucm91dGVyXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///59\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nfunction __export(m) {\n    for (var p in m) {\n        if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n}\nObject.defineProperty(exports, "__esModule", { value: true });\n__export(__webpack_require__(9));\n__export(__webpack_require__(32));\n__export(__webpack_require__(33));\n__export(__webpack_require__(26));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3BhcmFtcy9pbmRleC5qcz85OWIyIl0sIm5hbWVzIjpbIl9fZXhwb3J0IiwibSIsInAiLCJleHBvcnRzIiwiaGFzT3duUHJvcGVydHkiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwicmVxdWlyZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsU0FBU0EsUUFBVCxDQUFrQkMsQ0FBbEIsRUFBcUI7QUFDakIsU0FBSyxJQUFJQyxDQUFULElBQWNELENBQWQ7QUFBaUIsWUFBSSxDQUFDRSxRQUFRQyxjQUFSLENBQXVCRixDQUF2QixDQUFMLEVBQWdDQyxRQUFRRCxDQUFSLElBQWFELEVBQUVDLENBQUYsQ0FBYjtBQUFqRDtBQUNIO0FBQ0RHLE9BQU9DLGNBQVAsQ0FBc0JILE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVJLE9BQU8sSUFBVCxFQUE3QztBQUNBUCxTQUFTLG1CQUFBUSxDQUFRLENBQVIsQ0FBVDtBQUNBUixTQUFTLG1CQUFBUSxDQUFRLEVBQVIsQ0FBVDtBQUNBUixTQUFTLG1CQUFBUSxDQUFRLEVBQVIsQ0FBVDtBQUNBUixTQUFTLG1CQUFBUSxDQUFRLEVBQVIsQ0FBVDtBQUNBIiwiZmlsZSI6IjYwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vcGFyYW1cIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcGFyYW1UeXBlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zdGF0ZVBhcmFtc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wYXJhbVR5cGVcIikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi9wYXJhbXMvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///60\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nfunction __export(m) {\n    for (var p in m) {\n        if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n}\nObject.defineProperty(exports, "__esModule", { value: true });\n/** @module path */ /** for typedoc */\n__export(__webpack_require__(25));\n__export(__webpack_require__(18));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3BhdGgvaW5kZXguanM/MmY4NyJdLCJuYW1lcyI6WyJfX2V4cG9ydCIsIm0iLCJwIiwiZXhwb3J0cyIsImhhc093blByb3BlcnR5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsInJlcXVpcmUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLFNBQVNBLFFBQVQsQ0FBa0JDLENBQWxCLEVBQXFCO0FBQ2pCLFNBQUssSUFBSUMsQ0FBVCxJQUFjRCxDQUFkO0FBQWlCLFlBQUksQ0FBQ0UsUUFBUUMsY0FBUixDQUF1QkYsQ0FBdkIsQ0FBTCxFQUFnQ0MsUUFBUUQsQ0FBUixJQUFhRCxFQUFFQyxDQUFGLENBQWI7QUFBakQ7QUFDSDtBQUNERyxPQUFPQyxjQUFQLENBQXNCSCxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFSSxPQUFPLElBQVQsRUFBN0M7QUFDQSxtQixDQUFvQjtBQUNwQlAsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQVIsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQSIsImZpbGUiOiI2MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAbW9kdWxlIHBhdGggKi8gLyoqIGZvciB0eXBlZG9jICovXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wYXRoTm9kZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wYXRoRmFjdG9yeVwiKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3BhdGgvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///61\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nfunction __export(m) {\n    for (var p in m) {\n        if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n}\nObject.defineProperty(exports, "__esModule", { value: true });\n/** @module resolve */ /** for typedoc */\n__export(__webpack_require__(31));\n__export(__webpack_require__(13));\n__export(__webpack_require__(19));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3Jlc29sdmUvaW5kZXguanM/M2MwZSJdLCJuYW1lcyI6WyJfX2V4cG9ydCIsIm0iLCJwIiwiZXhwb3J0cyIsImhhc093blByb3BlcnR5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsInJlcXVpcmUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLFNBQVNBLFFBQVQsQ0FBa0JDLENBQWxCLEVBQXFCO0FBQ2pCLFNBQUssSUFBSUMsQ0FBVCxJQUFjRCxDQUFkO0FBQWlCLFlBQUksQ0FBQ0UsUUFBUUMsY0FBUixDQUF1QkYsQ0FBdkIsQ0FBTCxFQUFnQ0MsUUFBUUQsQ0FBUixJQUFhRCxFQUFFQyxDQUFGLENBQWI7QUFBakQ7QUFDSDtBQUNERyxPQUFPQyxjQUFQLENBQXNCSCxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFSSxPQUFPLElBQVQsRUFBN0M7QUFDQSxzQixDQUF1QjtBQUN2QlAsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQVIsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQVIsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQSIsImZpbGUiOiI2Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAbW9kdWxlIHJlc29sdmUgKi8gLyoqIGZvciB0eXBlZG9jICovXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9pbnRlcmZhY2VcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcmVzb2x2YWJsZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9yZXNvbHZlQ29udGV4dFwiKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3Jlc29sdmUvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///62\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nfunction __export(m) {\n    for (var p in m) {\n        if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n}\nObject.defineProperty(exports, "__esModule", { value: true });\n__export(__webpack_require__(34));\n__export(__webpack_require__(22));\n__export(__webpack_require__(35));\n__export(__webpack_require__(36));\n__export(__webpack_require__(37));\n__export(__webpack_require__(38));\n__export(__webpack_require__(7));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3N0YXRlL2luZGV4LmpzPzQwZjkiXSwibmFtZXMiOlsiX19leHBvcnQiLCJtIiwicCIsImV4cG9ydHMiLCJoYXNPd25Qcm9wZXJ0eSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJyZXF1aXJlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxTQUFTQSxRQUFULENBQWtCQyxDQUFsQixFQUFxQjtBQUNqQixTQUFLLElBQUlDLENBQVQsSUFBY0QsQ0FBZDtBQUFpQixZQUFJLENBQUNFLFFBQVFDLGNBQVIsQ0FBdUJGLENBQXZCLENBQUwsRUFBZ0NDLFFBQVFELENBQVIsSUFBYUQsRUFBRUMsQ0FBRixDQUFiO0FBQWpEO0FBQ0g7QUFDREcsT0FBT0MsY0FBUCxDQUFzQkgsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUksT0FBTyxJQUFULEVBQTdDO0FBQ0FQLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsQ0FBUixDQUFUO0FBQ0EiLCJmaWxlIjoiNjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zdGF0ZUJ1aWxkZXJcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc3RhdGVPYmplY3RcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc3RhdGVNYXRjaGVyXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N0YXRlUXVldWVNYW5hZ2VyXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N0YXRlUmVnaXN0cnlcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc3RhdGVTZXJ2aWNlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3RhcmdldFN0YXRlXCIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvc3RhdGUvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///63\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/** @module hooks */ /** */\nvar transition_1 = __webpack_require__(17);\nvar router_1 = __webpack_require__(39);\nfunction addCoreResolvables(trans) {\n    trans.addResolvable({ token: router_1.UIRouter, deps: [], resolveFn: function resolveFn() {\n            return trans.router;\n        }, data: trans.router }, "");\n    trans.addResolvable({ token: transition_1.Transition, deps: [], resolveFn: function resolveFn() {\n            return trans;\n        }, data: trans }, "");\n    trans.addResolvable({ token: \'$transition$\', deps: [], resolveFn: function resolveFn() {\n            return trans;\n        }, data: trans }, "");\n    trans.addResolvable({ token: \'$stateParams\', deps: [], resolveFn: function resolveFn() {\n            return trans.params();\n        }, data: trans.params() }, "");\n    trans.entering().forEach(function (state) {\n        trans.addResolvable({ token: \'$state$\', deps: [], resolveFn: function resolveFn() {\n                return state;\n            }, data: state }, state);\n    });\n}\nexports.registerAddCoreResolvables = function (transitionService) {\n    return transitionService.onCreate({}, addCoreResolvables);\n};\n//# sourceMappingURL=coreResolvables.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL2NvcmVSZXNvbHZhYmxlcy5qcz8yZGMzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwidHJhbnNpdGlvbl8xIiwicmVxdWlyZSIsInJvdXRlcl8xIiwiYWRkQ29yZVJlc29sdmFibGVzIiwidHJhbnMiLCJhZGRSZXNvbHZhYmxlIiwidG9rZW4iLCJVSVJvdXRlciIsImRlcHMiLCJyZXNvbHZlRm4iLCJyb3V0ZXIiLCJkYXRhIiwiVHJhbnNpdGlvbiIsInBhcmFtcyIsImVudGVyaW5nIiwiZm9yRWFjaCIsInN0YXRlIiwicmVnaXN0ZXJBZGRDb3JlUmVzb2x2YWJsZXMiLCJ0cmFuc2l0aW9uU2VydmljZSIsIm9uQ3JlYXRlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0Esb0IsQ0FBcUI7QUFDckIsSUFBSUMsZUFBZSxtQkFBQUMsQ0FBUSxFQUFSLENBQW5CO0FBQ0EsSUFBSUMsV0FBVyxtQkFBQUQsQ0FBUSxFQUFSLENBQWY7QUFDQSxTQUFTRSxrQkFBVCxDQUE0QkMsS0FBNUIsRUFBbUM7QUFDL0JBLFVBQU1DLGFBQU4sQ0FBb0IsRUFBRUMsT0FBT0osU0FBU0ssUUFBbEIsRUFBNEJDLE1BQU0sRUFBbEMsRUFBc0NDLFdBQVcscUJBQVk7QUFBRSxtQkFBT0wsTUFBTU0sTUFBYjtBQUFzQixTQUFyRixFQUF1RkMsTUFBTVAsTUFBTU0sTUFBbkcsRUFBcEIsRUFBaUksRUFBakk7QUFDQU4sVUFBTUMsYUFBTixDQUFvQixFQUFFQyxPQUFPTixhQUFhWSxVQUF0QixFQUFrQ0osTUFBTSxFQUF4QyxFQUE0Q0MsV0FBVyxxQkFBWTtBQUFFLG1CQUFPTCxLQUFQO0FBQWUsU0FBcEYsRUFBc0ZPLE1BQU1QLEtBQTVGLEVBQXBCLEVBQXlILEVBQXpIO0FBQ0FBLFVBQU1DLGFBQU4sQ0FBb0IsRUFBRUMsT0FBTyxjQUFULEVBQXlCRSxNQUFNLEVBQS9CLEVBQW1DQyxXQUFXLHFCQUFZO0FBQUUsbUJBQU9MLEtBQVA7QUFBZSxTQUEzRSxFQUE2RU8sTUFBTVAsS0FBbkYsRUFBcEIsRUFBZ0gsRUFBaEg7QUFDQUEsVUFBTUMsYUFBTixDQUFvQixFQUFFQyxPQUFPLGNBQVQsRUFBeUJFLE1BQU0sRUFBL0IsRUFBbUNDLFdBQVcscUJBQVk7QUFBRSxtQkFBT0wsTUFBTVMsTUFBTixFQUFQO0FBQXdCLFNBQXBGLEVBQXNGRixNQUFNUCxNQUFNUyxNQUFOLEVBQTVGLEVBQXBCLEVBQWtJLEVBQWxJO0FBQ0FULFVBQU1VLFFBQU4sR0FBaUJDLE9BQWpCLENBQXlCLFVBQVVDLEtBQVYsRUFBaUI7QUFDdENaLGNBQU1DLGFBQU4sQ0FBb0IsRUFBRUMsT0FBTyxTQUFULEVBQW9CRSxNQUFNLEVBQTFCLEVBQThCQyxXQUFXLHFCQUFZO0FBQUUsdUJBQU9PLEtBQVA7QUFBZSxhQUF0RSxFQUF3RUwsTUFBTUssS0FBOUUsRUFBcEIsRUFBMkdBLEtBQTNHO0FBQ0gsS0FGRDtBQUdIO0FBQ0RsQixRQUFRbUIsMEJBQVIsR0FBcUMsVUFBVUMsaUJBQVYsRUFBNkI7QUFDOUQsV0FBT0Esa0JBQWtCQyxRQUFsQixDQUEyQixFQUEzQixFQUErQmhCLGtCQUEvQixDQUFQO0FBQ0gsQ0FGRDtBQUdBIiwiZmlsZSI6IjY0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQG1vZHVsZSBob29rcyAqLyAvKiogKi9cbnZhciB0cmFuc2l0aW9uXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNpdGlvbi90cmFuc2l0aW9uXCIpO1xudmFyIHJvdXRlcl8xID0gcmVxdWlyZShcIi4uL3JvdXRlclwiKTtcbmZ1bmN0aW9uIGFkZENvcmVSZXNvbHZhYmxlcyh0cmFucykge1xuICAgIHRyYW5zLmFkZFJlc29sdmFibGUoeyB0b2tlbjogcm91dGVyXzEuVUlSb3V0ZXIsIGRlcHM6IFtdLCByZXNvbHZlRm46IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRyYW5zLnJvdXRlcjsgfSwgZGF0YTogdHJhbnMucm91dGVyIH0sIFwiXCIpO1xuICAgIHRyYW5zLmFkZFJlc29sdmFibGUoeyB0b2tlbjogdHJhbnNpdGlvbl8xLlRyYW5zaXRpb24sIGRlcHM6IFtdLCByZXNvbHZlRm46IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRyYW5zOyB9LCBkYXRhOiB0cmFucyB9LCBcIlwiKTtcbiAgICB0cmFucy5hZGRSZXNvbHZhYmxlKHsgdG9rZW46ICckdHJhbnNpdGlvbiQnLCBkZXBzOiBbXSwgcmVzb2x2ZUZuOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cmFuczsgfSwgZGF0YTogdHJhbnMgfSwgXCJcIik7XG4gICAgdHJhbnMuYWRkUmVzb2x2YWJsZSh7IHRva2VuOiAnJHN0YXRlUGFyYW1zJywgZGVwczogW10sIHJlc29sdmVGbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJhbnMucGFyYW1zKCk7IH0sIGRhdGE6IHRyYW5zLnBhcmFtcygpIH0sIFwiXCIpO1xuICAgIHRyYW5zLmVudGVyaW5nKCkuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdHJhbnMuYWRkUmVzb2x2YWJsZSh7IHRva2VuOiAnJHN0YXRlJCcsIGRlcHM6IFtdLCByZXNvbHZlRm46IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXRlOyB9LCBkYXRhOiBzdGF0ZSB9LCBzdGF0ZSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnJlZ2lzdGVyQWRkQ29yZVJlc29sdmFibGVzID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uQ3JlYXRlKHt9LCBhZGRDb3JlUmVzb2x2YWJsZXMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmVSZXNvbHZhYmxlcy5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL2NvcmVSZXNvbHZhYmxlcy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///64\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @module hooks */ /** */\nvar predicates_1 = __webpack_require__(1);\nvar coreservices_1 = __webpack_require__(3);\nvar targetState_1 = __webpack_require__(7);\n/**\n * A [[TransitionHookFn]] that redirects to a different state or params\n *\n * Registered using `transitionService.onStart({ to: (state) => !!state.redirectTo }, redirectHook);`\n *\n * See [[StateDeclaration.redirectTo]]\n */\nvar redirectToHook = function redirectToHook(trans) {\n    var redirect = trans.to().redirectTo;\n    if (!redirect) return;\n    var $state = trans.router.stateService;\n    function handleResult(result) {\n        if (!result) return;\n        if (result instanceof targetState_1.TargetState) return result;\n        if (predicates_1.isString(result)) return $state.target(result, trans.params(), trans.options());\n        if (result['state'] || result['params']) return $state.target(result['state'] || trans.to(), result['params'] || trans.params(), trans.options());\n    }\n    if (predicates_1.isFunction(redirect)) {\n        return coreservices_1.services.$q.when(redirect(trans)).then(handleResult);\n    }\n    return handleResult(redirect);\n};\nexports.registerRedirectToHook = function (transitionService) {\n    return transitionService.onStart({ to: function to(state) {\n            return !!state.redirectTo;\n        } }, redirectToHook);\n};\n//# sourceMappingURL=redirectTo.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL3JlZGlyZWN0VG8uanM/MGQ0YiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInByZWRpY2F0ZXNfMSIsInJlcXVpcmUiLCJjb3Jlc2VydmljZXNfMSIsInRhcmdldFN0YXRlXzEiLCJyZWRpcmVjdFRvSG9vayIsInRyYW5zIiwicmVkaXJlY3QiLCJ0byIsInJlZGlyZWN0VG8iLCIkc3RhdGUiLCJyb3V0ZXIiLCJzdGF0ZVNlcnZpY2UiLCJoYW5kbGVSZXN1bHQiLCJyZXN1bHQiLCJUYXJnZXRTdGF0ZSIsImlzU3RyaW5nIiwidGFyZ2V0IiwicGFyYW1zIiwib3B0aW9ucyIsImlzRnVuY3Rpb24iLCJzZXJ2aWNlcyIsIiRxIiwid2hlbiIsInRoZW4iLCJyZWdpc3RlclJlZGlyZWN0VG9Ib29rIiwidHJhbnNpdGlvblNlcnZpY2UiLCJvblN0YXJ0Iiwic3RhdGUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQSxvQixDQUFxQjtBQUNyQixJQUFJQyxlQUFlLG1CQUFBQyxDQUFRLENBQVIsQ0FBbkI7QUFDQSxJQUFJQyxpQkFBaUIsbUJBQUFELENBQVEsQ0FBUixDQUFyQjtBQUNBLElBQUlFLGdCQUFnQixtQkFBQUYsQ0FBUSxDQUFSLENBQXBCO0FBQ0E7Ozs7Ozs7QUFPQSxJQUFJRyxpQkFBaUIsU0FBakJBLGNBQWlCLENBQVVDLEtBQVYsRUFBaUI7QUFDbEMsUUFBSUMsV0FBV0QsTUFBTUUsRUFBTixHQUFXQyxVQUExQjtBQUNBLFFBQUksQ0FBQ0YsUUFBTCxFQUNJO0FBQ0osUUFBSUcsU0FBU0osTUFBTUssTUFBTixDQUFhQyxZQUExQjtBQUNBLGFBQVNDLFlBQVQsQ0FBc0JDLE1BQXRCLEVBQThCO0FBQzFCLFlBQUksQ0FBQ0EsTUFBTCxFQUNJO0FBQ0osWUFBSUEsa0JBQWtCVixjQUFjVyxXQUFwQyxFQUNJLE9BQU9ELE1BQVA7QUFDSixZQUFJYixhQUFhZSxRQUFiLENBQXNCRixNQUF0QixDQUFKLEVBQ0ksT0FBT0osT0FBT08sTUFBUCxDQUFjSCxNQUFkLEVBQXNCUixNQUFNWSxNQUFOLEVBQXRCLEVBQXNDWixNQUFNYSxPQUFOLEVBQXRDLENBQVA7QUFDSixZQUFJTCxPQUFPLE9BQVAsS0FBbUJBLE9BQU8sUUFBUCxDQUF2QixFQUNJLE9BQU9KLE9BQU9PLE1BQVAsQ0FBY0gsT0FBTyxPQUFQLEtBQW1CUixNQUFNRSxFQUFOLEVBQWpDLEVBQTZDTSxPQUFPLFFBQVAsS0FBb0JSLE1BQU1ZLE1BQU4sRUFBakUsRUFBaUZaLE1BQU1hLE9BQU4sRUFBakYsQ0FBUDtBQUNQO0FBQ0QsUUFBSWxCLGFBQWFtQixVQUFiLENBQXdCYixRQUF4QixDQUFKLEVBQXVDO0FBQ25DLGVBQU9KLGVBQWVrQixRQUFmLENBQXdCQyxFQUF4QixDQUEyQkMsSUFBM0IsQ0FBZ0NoQixTQUFTRCxLQUFULENBQWhDLEVBQWlEa0IsSUFBakQsQ0FBc0RYLFlBQXRELENBQVA7QUFDSDtBQUNELFdBQU9BLGFBQWFOLFFBQWIsQ0FBUDtBQUNILENBbkJEO0FBb0JBUixRQUFRMEIsc0JBQVIsR0FBaUMsVUFBVUMsaUJBQVYsRUFBNkI7QUFDMUQsV0FBT0Esa0JBQWtCQyxPQUFsQixDQUEwQixFQUFFbkIsSUFBSSxZQUFVb0IsS0FBVixFQUFpQjtBQUFFLG1CQUFPLENBQUMsQ0FBQ0EsTUFBTW5CLFVBQWY7QUFBNEIsU0FBckQsRUFBMUIsRUFBbUZKLGNBQW5GLENBQVA7QUFDSCxDQUZEO0FBR0EiLCJmaWxlIjoiNjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAbW9kdWxlIGhvb2tzICovIC8qKiAqL1xudmFyIHByZWRpY2F0ZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vcHJlZGljYXRlc1wiKTtcbnZhciBjb3Jlc2VydmljZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCIpO1xudmFyIHRhcmdldFN0YXRlXzEgPSByZXF1aXJlKFwiLi4vc3RhdGUvdGFyZ2V0U3RhdGVcIik7XG4vKipcbiAqIEEgW1tUcmFuc2l0aW9uSG9va0ZuXV0gdGhhdCByZWRpcmVjdHMgdG8gYSBkaWZmZXJlbnQgc3RhdGUgb3IgcGFyYW1zXG4gKlxuICogUmVnaXN0ZXJlZCB1c2luZyBgdHJhbnNpdGlvblNlcnZpY2Uub25TdGFydCh7IHRvOiAoc3RhdGUpID0+ICEhc3RhdGUucmVkaXJlY3RUbyB9LCByZWRpcmVjdEhvb2spO2BcbiAqXG4gKiBTZWUgW1tTdGF0ZURlY2xhcmF0aW9uLnJlZGlyZWN0VG9dXVxuICovXG52YXIgcmVkaXJlY3RUb0hvb2sgPSBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICB2YXIgcmVkaXJlY3QgPSB0cmFucy50bygpLnJlZGlyZWN0VG87XG4gICAgaWYgKCFyZWRpcmVjdClcbiAgICAgICAgcmV0dXJuO1xuICAgIHZhciAkc3RhdGUgPSB0cmFucy5yb3V0ZXIuc3RhdGVTZXJ2aWNlO1xuICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3VsdChyZXN1bHQpIHtcbiAgICAgICAgaWYgKCFyZXN1bHQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiB0YXJnZXRTdGF0ZV8xLlRhcmdldFN0YXRlKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc1N0cmluZyhyZXN1bHQpKVxuICAgICAgICAgICAgcmV0dXJuICRzdGF0ZS50YXJnZXQocmVzdWx0LCB0cmFucy5wYXJhbXMoKSwgdHJhbnMub3B0aW9ucygpKTtcbiAgICAgICAgaWYgKHJlc3VsdFsnc3RhdGUnXSB8fCByZXN1bHRbJ3BhcmFtcyddKVxuICAgICAgICAgICAgcmV0dXJuICRzdGF0ZS50YXJnZXQocmVzdWx0WydzdGF0ZSddIHx8IHRyYW5zLnRvKCksIHJlc3VsdFsncGFyYW1zJ10gfHwgdHJhbnMucGFyYW1zKCksIHRyYW5zLm9wdGlvbnMoKSk7XG4gICAgfVxuICAgIGlmIChwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihyZWRpcmVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxLndoZW4ocmVkaXJlY3QodHJhbnMpKS50aGVuKGhhbmRsZVJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiBoYW5kbGVSZXN1bHQocmVkaXJlY3QpO1xufTtcbmV4cG9ydHMucmVnaXN0ZXJSZWRpcmVjdFRvSG9vayA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uU2VydmljZSkge1xuICAgIHJldHVybiB0cmFuc2l0aW9uU2VydmljZS5vblN0YXJ0KHsgdG86IGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gISFzdGF0ZS5yZWRpcmVjdFRvOyB9IH0sIHJlZGlyZWN0VG9Ib29rKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWRpcmVjdFRvLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvaG9va3MvcmVkaXJlY3RUby5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///65\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * A factory which creates an onEnter, onExit or onRetain transition hook function\n *\n * The returned function invokes the (for instance) state.onEnter hook when the\n * state is being entered.\n *\n * @hidden\n */\nfunction makeEnterExitRetainHook(hookName) {\n    return function (transition, state) {\n        var _state = state.$$state();\n        var hookFn = _state[hookName];\n        return hookFn(transition, state);\n    };\n}\n/**\n * The [[TransitionStateHookFn]] for onExit\n *\n * When the state is being exited, the state's .onExit function is invoked.\n *\n * Registered using `transitionService.onExit({ exiting: (state) => !!state.onExit }, onExitHook);`\n *\n * See: [[IHookRegistry.onExit]]\n */\nvar onExitHook = makeEnterExitRetainHook('onExit');\nexports.registerOnExitHook = function (transitionService) {\n    return transitionService.onExit({ exiting: function exiting(state) {\n            return !!state.onExit;\n        } }, onExitHook);\n};\n/**\n * The [[TransitionStateHookFn]] for onRetain\n *\n * When the state was already entered, and is not being exited or re-entered, the state's .onRetain function is invoked.\n *\n * Registered using `transitionService.onRetain({ retained: (state) => !!state.onRetain }, onRetainHook);`\n *\n * See: [[IHookRegistry.onRetain]]\n */\nvar onRetainHook = makeEnterExitRetainHook('onRetain');\nexports.registerOnRetainHook = function (transitionService) {\n    return transitionService.onRetain({ retained: function retained(state) {\n            return !!state.onRetain;\n        } }, onRetainHook);\n};\n/**\n * The [[TransitionStateHookFn]] for onEnter\n *\n * When the state is being entered, the state's .onEnter function is invoked.\n *\n * Registered using `transitionService.onEnter({ entering: (state) => !!state.onEnter }, onEnterHook);`\n *\n * See: [[IHookRegistry.onEnter]]\n */\nvar onEnterHook = makeEnterExitRetainHook('onEnter');\nexports.registerOnEnterHook = function (transitionService) {\n    return transitionService.onEnter({ entering: function entering(state) {\n            return !!state.onEnter;\n        } }, onEnterHook);\n};\n//# sourceMappingURL=onEnterExitRetain.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL29uRW50ZXJFeGl0UmV0YWluLmpzP2ZjNzMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJtYWtlRW50ZXJFeGl0UmV0YWluSG9vayIsImhvb2tOYW1lIiwidHJhbnNpdGlvbiIsInN0YXRlIiwiX3N0YXRlIiwiJCRzdGF0ZSIsImhvb2tGbiIsIm9uRXhpdEhvb2siLCJyZWdpc3Rlck9uRXhpdEhvb2siLCJ0cmFuc2l0aW9uU2VydmljZSIsIm9uRXhpdCIsImV4aXRpbmciLCJvblJldGFpbkhvb2siLCJyZWdpc3Rlck9uUmV0YWluSG9vayIsIm9uUmV0YWluIiwicmV0YWluZWQiLCJvbkVudGVySG9vayIsInJlZ2lzdGVyT25FbnRlckhvb2siLCJvbkVudGVyIiwiZW50ZXJpbmciXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTs7Ozs7Ozs7QUFRQSxTQUFTQyx1QkFBVCxDQUFpQ0MsUUFBakMsRUFBMkM7QUFDdkMsV0FBTyxVQUFVQyxVQUFWLEVBQXNCQyxLQUF0QixFQUE2QjtBQUNoQyxZQUFJQyxTQUFTRCxNQUFNRSxPQUFOLEVBQWI7QUFDQSxZQUFJQyxTQUFTRixPQUFPSCxRQUFQLENBQWI7QUFDQSxlQUFPSyxPQUFPSixVQUFQLEVBQW1CQyxLQUFuQixDQUFQO0FBQ0gsS0FKRDtBQUtIO0FBQ0Q7Ozs7Ozs7OztBQVNBLElBQUlJLGFBQWFQLHdCQUF3QixRQUF4QixDQUFqQjtBQUNBRixRQUFRVSxrQkFBUixHQUE2QixVQUFVQyxpQkFBVixFQUE2QjtBQUN0RCxXQUFPQSxrQkFBa0JDLE1BQWxCLENBQXlCLEVBQUVDLFNBQVMsaUJBQVVSLEtBQVYsRUFBaUI7QUFBRSxtQkFBTyxDQUFDLENBQUNBLE1BQU1PLE1BQWY7QUFBd0IsU0FBdEQsRUFBekIsRUFBbUZILFVBQW5GLENBQVA7QUFDSCxDQUZEO0FBR0E7Ozs7Ozs7OztBQVNBLElBQUlLLGVBQWVaLHdCQUF3QixVQUF4QixDQUFuQjtBQUNBRixRQUFRZSxvQkFBUixHQUErQixVQUFVSixpQkFBVixFQUE2QjtBQUN4RCxXQUFPQSxrQkFBa0JLLFFBQWxCLENBQTJCLEVBQUVDLFVBQVUsa0JBQVVaLEtBQVYsRUFBaUI7QUFBRSxtQkFBTyxDQUFDLENBQUNBLE1BQU1XLFFBQWY7QUFBMEIsU0FBekQsRUFBM0IsRUFBd0ZGLFlBQXhGLENBQVA7QUFDSCxDQUZEO0FBR0E7Ozs7Ozs7OztBQVNBLElBQUlJLGNBQWNoQix3QkFBd0IsU0FBeEIsQ0FBbEI7QUFDQUYsUUFBUW1CLG1CQUFSLEdBQThCLFVBQVVSLGlCQUFWLEVBQTZCO0FBQ3ZELFdBQU9BLGtCQUFrQlMsT0FBbEIsQ0FBMEIsRUFBRUMsVUFBVSxrQkFBVWhCLEtBQVYsRUFBaUI7QUFBRSxtQkFBTyxDQUFDLENBQUNBLE1BQU1lLE9BQWY7QUFBeUIsU0FBeEQsRUFBMUIsRUFBc0ZGLFdBQXRGLENBQVA7QUFDSCxDQUZEO0FBR0EiLCJmaWxlIjoiNjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQSBmYWN0b3J5IHdoaWNoIGNyZWF0ZXMgYW4gb25FbnRlciwgb25FeGl0IG9yIG9uUmV0YWluIHRyYW5zaXRpb24gaG9vayBmdW5jdGlvblxuICpcbiAqIFRoZSByZXR1cm5lZCBmdW5jdGlvbiBpbnZva2VzIHRoZSAoZm9yIGluc3RhbmNlKSBzdGF0ZS5vbkVudGVyIGhvb2sgd2hlbiB0aGVcbiAqIHN0YXRlIGlzIGJlaW5nIGVudGVyZWQuXG4gKlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiBtYWtlRW50ZXJFeGl0UmV0YWluSG9vayhob29rTmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodHJhbnNpdGlvbiwgc3RhdGUpIHtcbiAgICAgICAgdmFyIF9zdGF0ZSA9IHN0YXRlLiQkc3RhdGUoKTtcbiAgICAgICAgdmFyIGhvb2tGbiA9IF9zdGF0ZVtob29rTmFtZV07XG4gICAgICAgIHJldHVybiBob29rRm4odHJhbnNpdGlvbiwgc3RhdGUpO1xuICAgIH07XG59XG4vKipcbiAqIFRoZSBbW1RyYW5zaXRpb25TdGF0ZUhvb2tGbl1dIGZvciBvbkV4aXRcbiAqXG4gKiBXaGVuIHRoZSBzdGF0ZSBpcyBiZWluZyBleGl0ZWQsIHRoZSBzdGF0ZSdzIC5vbkV4aXQgZnVuY3Rpb24gaXMgaW52b2tlZC5cbiAqXG4gKiBSZWdpc3RlcmVkIHVzaW5nIGB0cmFuc2l0aW9uU2VydmljZS5vbkV4aXQoeyBleGl0aW5nOiAoc3RhdGUpID0+ICEhc3RhdGUub25FeGl0IH0sIG9uRXhpdEhvb2spO2BcbiAqXG4gKiBTZWU6IFtbSUhvb2tSZWdpc3RyeS5vbkV4aXRdXVxuICovXG52YXIgb25FeGl0SG9vayA9IG1ha2VFbnRlckV4aXRSZXRhaW5Ib29rKCdvbkV4aXQnKTtcbmV4cG9ydHMucmVnaXN0ZXJPbkV4aXRIb29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uRXhpdCh7IGV4aXRpbmc6IGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gISFzdGF0ZS5vbkV4aXQ7IH0gfSwgb25FeGl0SG9vayk7XG59O1xuLyoqXG4gKiBUaGUgW1tUcmFuc2l0aW9uU3RhdGVIb29rRm5dXSBmb3Igb25SZXRhaW5cbiAqXG4gKiBXaGVuIHRoZSBzdGF0ZSB3YXMgYWxyZWFkeSBlbnRlcmVkLCBhbmQgaXMgbm90IGJlaW5nIGV4aXRlZCBvciByZS1lbnRlcmVkLCB0aGUgc3RhdGUncyAub25SZXRhaW4gZnVuY3Rpb24gaXMgaW52b2tlZC5cbiAqXG4gKiBSZWdpc3RlcmVkIHVzaW5nIGB0cmFuc2l0aW9uU2VydmljZS5vblJldGFpbih7IHJldGFpbmVkOiAoc3RhdGUpID0+ICEhc3RhdGUub25SZXRhaW4gfSwgb25SZXRhaW5Ib29rKTtgXG4gKlxuICogU2VlOiBbW0lIb29rUmVnaXN0cnkub25SZXRhaW5dXVxuICovXG52YXIgb25SZXRhaW5Ib29rID0gbWFrZUVudGVyRXhpdFJldGFpbkhvb2soJ29uUmV0YWluJyk7XG5leHBvcnRzLnJlZ2lzdGVyT25SZXRhaW5Ib29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uUmV0YWluKHsgcmV0YWluZWQ6IGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gISFzdGF0ZS5vblJldGFpbjsgfSB9LCBvblJldGFpbkhvb2spO1xufTtcbi8qKlxuICogVGhlIFtbVHJhbnNpdGlvblN0YXRlSG9va0ZuXV0gZm9yIG9uRW50ZXJcbiAqXG4gKiBXaGVuIHRoZSBzdGF0ZSBpcyBiZWluZyBlbnRlcmVkLCB0aGUgc3RhdGUncyAub25FbnRlciBmdW5jdGlvbiBpcyBpbnZva2VkLlxuICpcbiAqIFJlZ2lzdGVyZWQgdXNpbmcgYHRyYW5zaXRpb25TZXJ2aWNlLm9uRW50ZXIoeyBlbnRlcmluZzogKHN0YXRlKSA9PiAhIXN0YXRlLm9uRW50ZXIgfSwgb25FbnRlckhvb2spO2BcbiAqXG4gKiBTZWU6IFtbSUhvb2tSZWdpc3RyeS5vbkVudGVyXV1cbiAqL1xudmFyIG9uRW50ZXJIb29rID0gbWFrZUVudGVyRXhpdFJldGFpbkhvb2soJ29uRW50ZXInKTtcbmV4cG9ydHMucmVnaXN0ZXJPbkVudGVySG9vayA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uU2VydmljZSkge1xuICAgIHJldHVybiB0cmFuc2l0aW9uU2VydmljZS5vbkVudGVyKHsgZW50ZXJpbmc6IGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gISFzdGF0ZS5vbkVudGVyOyB9IH0sIG9uRW50ZXJIb29rKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vbkVudGVyRXhpdFJldGFpbi5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL29uRW50ZXJFeGl0UmV0YWluLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///66\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/** @module hooks */\n/** for typedoc */\nvar common_1 = __webpack_require__(0);\nvar resolveContext_1 = __webpack_require__(19);\nvar hof_1 = __webpack_require__(2);\n/**\n * A [[TransitionHookFn]] which resolves all EAGER Resolvables in the To Path\n *\n * Registered using `transitionService.onStart({}, eagerResolvePath);`\n *\n * When a Transition starts, this hook resolves all the EAGER Resolvables, which the transition then waits for.\n *\n * See [[StateDeclaration.resolve]]\n */\nvar eagerResolvePath = function eagerResolvePath(trans) {\n    return new resolveContext_1.ResolveContext(trans.treeChanges().to).resolvePath("EAGER", trans).then(common_1.noop);\n};\nexports.registerEagerResolvePath = function (transitionService) {\n    return transitionService.onStart({}, eagerResolvePath, { priority: 1000 });\n};\n/**\n * A [[TransitionHookFn]] which resolves all LAZY Resolvables for the state (and all its ancestors) in the To Path\n *\n * Registered using `transitionService.onEnter({ entering: () => true }, lazyResolveState);`\n *\n * When a State is being entered, this hook resolves all the Resolvables for this state, which the transition then waits for.\n *\n * See [[StateDeclaration.resolve]]\n */\nvar lazyResolveState = function lazyResolveState(trans, state) {\n    return new resolveContext_1.ResolveContext(trans.treeChanges().to).subContext(state.$$state()).resolvePath("LAZY", trans).then(common_1.noop);\n};\nexports.registerLazyResolveState = function (transitionService) {\n    return transitionService.onEnter({ entering: hof_1.val(true) }, lazyResolveState, { priority: 1000 });\n};\n//# sourceMappingURL=resolve.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL3Jlc29sdmUuanM/NTgxYyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNvbW1vbl8xIiwicmVxdWlyZSIsInJlc29sdmVDb250ZXh0XzEiLCJob2ZfMSIsImVhZ2VyUmVzb2x2ZVBhdGgiLCJ0cmFucyIsIlJlc29sdmVDb250ZXh0IiwidHJlZUNoYW5nZXMiLCJ0byIsInJlc29sdmVQYXRoIiwidGhlbiIsIm5vb3AiLCJyZWdpc3RlckVhZ2VyUmVzb2x2ZVBhdGgiLCJ0cmFuc2l0aW9uU2VydmljZSIsIm9uU3RhcnQiLCJwcmlvcml0eSIsImxhenlSZXNvbHZlU3RhdGUiLCJzdGF0ZSIsInN1YkNvbnRleHQiLCIkJHN0YXRlIiwicmVnaXN0ZXJMYXp5UmVzb2x2ZVN0YXRlIiwib25FbnRlciIsImVudGVyaW5nIiwidmFsIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0E7QUFDQTtBQUNBLElBQUlDLFdBQVcsbUJBQUFDLENBQVEsQ0FBUixDQUFmO0FBQ0EsSUFBSUMsbUJBQW1CLG1CQUFBRCxDQUFRLEVBQVIsQ0FBdkI7QUFDQSxJQUFJRSxRQUFRLG1CQUFBRixDQUFRLENBQVIsQ0FBWjtBQUNBOzs7Ozs7Ozs7QUFTQSxJQUFJRyxtQkFBbUIsU0FBbkJBLGdCQUFtQixDQUFVQyxLQUFWLEVBQWlCO0FBQ3BDLFdBQU8sSUFBSUgsaUJBQWlCSSxjQUFyQixDQUFvQ0QsTUFBTUUsV0FBTixHQUFvQkMsRUFBeEQsRUFDRkMsV0FERSxDQUNVLE9BRFYsRUFDbUJKLEtBRG5CLEVBRUZLLElBRkUsQ0FFR1YsU0FBU1csSUFGWixDQUFQO0FBR0gsQ0FKRDtBQUtBYixRQUFRYyx3QkFBUixHQUFtQyxVQUFVQyxpQkFBVixFQUE2QjtBQUM1RCxXQUFPQSxrQkFBa0JDLE9BQWxCLENBQTBCLEVBQTFCLEVBQThCVixnQkFBOUIsRUFBZ0QsRUFBRVcsVUFBVSxJQUFaLEVBQWhELENBQVA7QUFDSCxDQUZEO0FBR0E7Ozs7Ozs7OztBQVNBLElBQUlDLG1CQUFtQixTQUFuQkEsZ0JBQW1CLENBQVVYLEtBQVYsRUFBaUJZLEtBQWpCLEVBQXdCO0FBQzNDLFdBQU8sSUFBSWYsaUJBQWlCSSxjQUFyQixDQUFvQ0QsTUFBTUUsV0FBTixHQUFvQkMsRUFBeEQsRUFDRlUsVUFERSxDQUNTRCxNQUFNRSxPQUFOLEVBRFQsRUFFRlYsV0FGRSxDQUVVLE1BRlYsRUFFa0JKLEtBRmxCLEVBR0ZLLElBSEUsQ0FHR1YsU0FBU1csSUFIWixDQUFQO0FBSUgsQ0FMRDtBQU1BYixRQUFRc0Isd0JBQVIsR0FBbUMsVUFBVVAsaUJBQVYsRUFBNkI7QUFDNUQsV0FBT0Esa0JBQWtCUSxPQUFsQixDQUEwQixFQUFFQyxVQUFVbkIsTUFBTW9CLEdBQU4sQ0FBVSxJQUFWLENBQVosRUFBMUIsRUFBeURQLGdCQUF6RCxFQUEyRSxFQUFFRCxVQUFVLElBQVosRUFBM0UsQ0FBUDtBQUNILENBRkQ7QUFHQSIsImZpbGUiOiI2Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBtb2R1bGUgaG9va3MgKi9cbi8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgcmVzb2x2ZUNvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi9yZXNvbHZlL3Jlc29sdmVDb250ZXh0XCIpO1xudmFyIGhvZl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ob2ZcIik7XG4vKipcbiAqIEEgW1tUcmFuc2l0aW9uSG9va0ZuXV0gd2hpY2ggcmVzb2x2ZXMgYWxsIEVBR0VSIFJlc29sdmFibGVzIGluIHRoZSBUbyBQYXRoXG4gKlxuICogUmVnaXN0ZXJlZCB1c2luZyBgdHJhbnNpdGlvblNlcnZpY2Uub25TdGFydCh7fSwgZWFnZXJSZXNvbHZlUGF0aCk7YFxuICpcbiAqIFdoZW4gYSBUcmFuc2l0aW9uIHN0YXJ0cywgdGhpcyBob29rIHJlc29sdmVzIGFsbCB0aGUgRUFHRVIgUmVzb2x2YWJsZXMsIHdoaWNoIHRoZSB0cmFuc2l0aW9uIHRoZW4gd2FpdHMgZm9yLlxuICpcbiAqIFNlZSBbW1N0YXRlRGVjbGFyYXRpb24ucmVzb2x2ZV1dXG4gKi9cbnZhciBlYWdlclJlc29sdmVQYXRoID0gZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgcmV0dXJuIG5ldyByZXNvbHZlQ29udGV4dF8xLlJlc29sdmVDb250ZXh0KHRyYW5zLnRyZWVDaGFuZ2VzKCkudG8pXG4gICAgICAgIC5yZXNvbHZlUGF0aChcIkVBR0VSXCIsIHRyYW5zKVxuICAgICAgICAudGhlbihjb21tb25fMS5ub29wKTtcbn07XG5leHBvcnRzLnJlZ2lzdGVyRWFnZXJSZXNvbHZlUGF0aCA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uU2VydmljZSkge1xuICAgIHJldHVybiB0cmFuc2l0aW9uU2VydmljZS5vblN0YXJ0KHt9LCBlYWdlclJlc29sdmVQYXRoLCB7IHByaW9yaXR5OiAxMDAwIH0pO1xufTtcbi8qKlxuICogQSBbW1RyYW5zaXRpb25Ib29rRm5dXSB3aGljaCByZXNvbHZlcyBhbGwgTEFaWSBSZXNvbHZhYmxlcyBmb3IgdGhlIHN0YXRlIChhbmQgYWxsIGl0cyBhbmNlc3RvcnMpIGluIHRoZSBUbyBQYXRoXG4gKlxuICogUmVnaXN0ZXJlZCB1c2luZyBgdHJhbnNpdGlvblNlcnZpY2Uub25FbnRlcih7IGVudGVyaW5nOiAoKSA9PiB0cnVlIH0sIGxhenlSZXNvbHZlU3RhdGUpO2BcbiAqXG4gKiBXaGVuIGEgU3RhdGUgaXMgYmVpbmcgZW50ZXJlZCwgdGhpcyBob29rIHJlc29sdmVzIGFsbCB0aGUgUmVzb2x2YWJsZXMgZm9yIHRoaXMgc3RhdGUsIHdoaWNoIHRoZSB0cmFuc2l0aW9uIHRoZW4gd2FpdHMgZm9yLlxuICpcbiAqIFNlZSBbW1N0YXRlRGVjbGFyYXRpb24ucmVzb2x2ZV1dXG4gKi9cbnZhciBsYXp5UmVzb2x2ZVN0YXRlID0gZnVuY3Rpb24gKHRyYW5zLCBzdGF0ZSkge1xuICAgIHJldHVybiBuZXcgcmVzb2x2ZUNvbnRleHRfMS5SZXNvbHZlQ29udGV4dCh0cmFucy50cmVlQ2hhbmdlcygpLnRvKVxuICAgICAgICAuc3ViQ29udGV4dChzdGF0ZS4kJHN0YXRlKCkpXG4gICAgICAgIC5yZXNvbHZlUGF0aChcIkxBWllcIiwgdHJhbnMpXG4gICAgICAgIC50aGVuKGNvbW1vbl8xLm5vb3ApO1xufTtcbmV4cG9ydHMucmVnaXN0ZXJMYXp5UmVzb2x2ZVN0YXRlID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uRW50ZXIoeyBlbnRlcmluZzogaG9mXzEudmFsKHRydWUpIH0sIGxhenlSZXNvbHZlU3RhdGUsIHsgcHJpb3JpdHk6IDEwMDAgfSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2ZS5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL3Jlc29sdmUuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///67\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/** @module hooks */ /** for typedoc */\nvar common_1 = __webpack_require__(0);\nvar coreservices_1 = __webpack_require__(3);\n/**\n * A [[TransitionHookFn]] which waits for the views to load\n *\n * Registered using `transitionService.onStart({}, loadEnteringViews);`\n *\n * Allows the views to do async work in [[ViewConfig.load]] before the transition continues.\n * In angular 1, this includes loading the templates.\n */\nvar loadEnteringViews = function loadEnteringViews(transition) {\n    var $q = coreservices_1.services.$q;\n    var enteringViews = transition.views("entering");\n    if (!enteringViews.length) return;\n    return $q.all(enteringViews.map(function (view) {\n        return $q.when(view.load());\n    })).then(common_1.noop);\n};\nexports.registerLoadEnteringViews = function (transitionService) {\n    return transitionService.onFinish({}, loadEnteringViews);\n};\n/**\n * A [[TransitionHookFn]] which activates the new views when a transition is successful.\n *\n * Registered using `transitionService.onSuccess({}, activateViews);`\n *\n * After a transition is complete, this hook deactivates the old views from the previous state,\n * and activates the new views from the destination state.\n *\n * See [[ViewService]]\n */\nvar activateViews = function activateViews(transition) {\n    var enteringViews = transition.views("entering");\n    var exitingViews = transition.views("exiting");\n    if (!enteringViews.length && !exitingViews.length) return;\n    var $view = transition.router.viewService;\n    exitingViews.forEach(function (vc) {\n        return $view.deactivateViewConfig(vc);\n    });\n    enteringViews.forEach(function (vc) {\n        return $view.activateViewConfig(vc);\n    });\n    $view.sync();\n};\nexports.registerActivateViews = function (transitionService) {\n    return transitionService.onSuccess({}, activateViews);\n};\n//# sourceMappingURL=views.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL3ZpZXdzLmpzPzYxYTYiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjb21tb25fMSIsInJlcXVpcmUiLCJjb3Jlc2VydmljZXNfMSIsImxvYWRFbnRlcmluZ1ZpZXdzIiwidHJhbnNpdGlvbiIsIiRxIiwic2VydmljZXMiLCJlbnRlcmluZ1ZpZXdzIiwidmlld3MiLCJsZW5ndGgiLCJhbGwiLCJtYXAiLCJ2aWV3Iiwid2hlbiIsImxvYWQiLCJ0aGVuIiwibm9vcCIsInJlZ2lzdGVyTG9hZEVudGVyaW5nVmlld3MiLCJ0cmFuc2l0aW9uU2VydmljZSIsIm9uRmluaXNoIiwiYWN0aXZhdGVWaWV3cyIsImV4aXRpbmdWaWV3cyIsIiR2aWV3Iiwicm91dGVyIiwidmlld1NlcnZpY2UiLCJmb3JFYWNoIiwidmMiLCJkZWFjdGl2YXRlVmlld0NvbmZpZyIsImFjdGl2YXRlVmlld0NvbmZpZyIsInN5bmMiLCJyZWdpc3RlckFjdGl2YXRlVmlld3MiLCJvblN1Y2Nlc3MiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQSxvQixDQUFxQjtBQUNyQixJQUFJQyxXQUFXLG1CQUFBQyxDQUFRLENBQVIsQ0FBZjtBQUNBLElBQUlDLGlCQUFpQixtQkFBQUQsQ0FBUSxDQUFSLENBQXJCO0FBQ0E7Ozs7Ozs7O0FBUUEsSUFBSUUsb0JBQW9CLFNBQXBCQSxpQkFBb0IsQ0FBVUMsVUFBVixFQUFzQjtBQUMxQyxRQUFJQyxLQUFLSCxlQUFlSSxRQUFmLENBQXdCRCxFQUFqQztBQUNBLFFBQUlFLGdCQUFnQkgsV0FBV0ksS0FBWCxDQUFpQixVQUFqQixDQUFwQjtBQUNBLFFBQUksQ0FBQ0QsY0FBY0UsTUFBbkIsRUFDSTtBQUNKLFdBQU9KLEdBQUdLLEdBQUgsQ0FBT0gsY0FBY0ksR0FBZCxDQUFrQixVQUFVQyxJQUFWLEVBQWdCO0FBQUUsZUFBT1AsR0FBR1EsSUFBSCxDQUFRRCxLQUFLRSxJQUFMLEVBQVIsQ0FBUDtBQUE4QixLQUFsRSxDQUFQLEVBQTRFQyxJQUE1RSxDQUFpRmYsU0FBU2dCLElBQTFGLENBQVA7QUFDSCxDQU5EO0FBT0FsQixRQUFRbUIseUJBQVIsR0FBb0MsVUFBVUMsaUJBQVYsRUFBNkI7QUFDN0QsV0FBT0Esa0JBQWtCQyxRQUFsQixDQUEyQixFQUEzQixFQUErQmhCLGlCQUEvQixDQUFQO0FBQ0gsQ0FGRDtBQUdBOzs7Ozs7Ozs7O0FBVUEsSUFBSWlCLGdCQUFnQixTQUFoQkEsYUFBZ0IsQ0FBVWhCLFVBQVYsRUFBc0I7QUFDdEMsUUFBSUcsZ0JBQWdCSCxXQUFXSSxLQUFYLENBQWlCLFVBQWpCLENBQXBCO0FBQ0EsUUFBSWEsZUFBZWpCLFdBQVdJLEtBQVgsQ0FBaUIsU0FBakIsQ0FBbkI7QUFDQSxRQUFJLENBQUNELGNBQWNFLE1BQWYsSUFBeUIsQ0FBQ1ksYUFBYVosTUFBM0MsRUFDSTtBQUNKLFFBQUlhLFFBQVFsQixXQUFXbUIsTUFBWCxDQUFrQkMsV0FBOUI7QUFDQUgsaUJBQWFJLE9BQWIsQ0FBcUIsVUFBVUMsRUFBVixFQUFjO0FBQUUsZUFBT0osTUFBTUssb0JBQU4sQ0FBMkJELEVBQTNCLENBQVA7QUFBd0MsS0FBN0U7QUFDQW5CLGtCQUFja0IsT0FBZCxDQUFzQixVQUFVQyxFQUFWLEVBQWM7QUFBRSxlQUFPSixNQUFNTSxrQkFBTixDQUF5QkYsRUFBekIsQ0FBUDtBQUFzQyxLQUE1RTtBQUNBSixVQUFNTyxJQUFOO0FBQ0gsQ0FURDtBQVVBL0IsUUFBUWdDLHFCQUFSLEdBQWdDLFVBQVVaLGlCQUFWLEVBQTZCO0FBQ3pELFdBQU9BLGtCQUFrQmEsU0FBbEIsQ0FBNEIsRUFBNUIsRUFBZ0NYLGFBQWhDLENBQVA7QUFDSCxDQUZEO0FBR0EiLCJmaWxlIjoiNjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAbW9kdWxlIGhvb2tzICovIC8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgY29yZXNlcnZpY2VzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvcmVzZXJ2aWNlc1wiKTtcbi8qKlxuICogQSBbW1RyYW5zaXRpb25Ib29rRm5dXSB3aGljaCB3YWl0cyBmb3IgdGhlIHZpZXdzIHRvIGxvYWRcbiAqXG4gKiBSZWdpc3RlcmVkIHVzaW5nIGB0cmFuc2l0aW9uU2VydmljZS5vblN0YXJ0KHt9LCBsb2FkRW50ZXJpbmdWaWV3cyk7YFxuICpcbiAqIEFsbG93cyB0aGUgdmlld3MgdG8gZG8gYXN5bmMgd29yayBpbiBbW1ZpZXdDb25maWcubG9hZF1dIGJlZm9yZSB0aGUgdHJhbnNpdGlvbiBjb250aW51ZXMuXG4gKiBJbiBhbmd1bGFyIDEsIHRoaXMgaW5jbHVkZXMgbG9hZGluZyB0aGUgdGVtcGxhdGVzLlxuICovXG52YXIgbG9hZEVudGVyaW5nVmlld3MgPSBmdW5jdGlvbiAodHJhbnNpdGlvbikge1xuICAgIHZhciAkcSA9IGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxO1xuICAgIHZhciBlbnRlcmluZ1ZpZXdzID0gdHJhbnNpdGlvbi52aWV3cyhcImVudGVyaW5nXCIpO1xuICAgIGlmICghZW50ZXJpbmdWaWV3cy5sZW5ndGgpXG4gICAgICAgIHJldHVybjtcbiAgICByZXR1cm4gJHEuYWxsKGVudGVyaW5nVmlld3MubWFwKGZ1bmN0aW9uICh2aWV3KSB7IHJldHVybiAkcS53aGVuKHZpZXcubG9hZCgpKTsgfSkpLnRoZW4oY29tbW9uXzEubm9vcCk7XG59O1xuZXhwb3J0cy5yZWdpc3RlckxvYWRFbnRlcmluZ1ZpZXdzID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uRmluaXNoKHt9LCBsb2FkRW50ZXJpbmdWaWV3cyk7XG59O1xuLyoqXG4gKiBBIFtbVHJhbnNpdGlvbkhvb2tGbl1dIHdoaWNoIGFjdGl2YXRlcyB0aGUgbmV3IHZpZXdzIHdoZW4gYSB0cmFuc2l0aW9uIGlzIHN1Y2Nlc3NmdWwuXG4gKlxuICogUmVnaXN0ZXJlZCB1c2luZyBgdHJhbnNpdGlvblNlcnZpY2Uub25TdWNjZXNzKHt9LCBhY3RpdmF0ZVZpZXdzKTtgXG4gKlxuICogQWZ0ZXIgYSB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlLCB0aGlzIGhvb2sgZGVhY3RpdmF0ZXMgdGhlIG9sZCB2aWV3cyBmcm9tIHRoZSBwcmV2aW91cyBzdGF0ZSxcbiAqIGFuZCBhY3RpdmF0ZXMgdGhlIG5ldyB2aWV3cyBmcm9tIHRoZSBkZXN0aW5hdGlvbiBzdGF0ZS5cbiAqXG4gKiBTZWUgW1tWaWV3U2VydmljZV1dXG4gKi9cbnZhciBhY3RpdmF0ZVZpZXdzID0gZnVuY3Rpb24gKHRyYW5zaXRpb24pIHtcbiAgICB2YXIgZW50ZXJpbmdWaWV3cyA9IHRyYW5zaXRpb24udmlld3MoXCJlbnRlcmluZ1wiKTtcbiAgICB2YXIgZXhpdGluZ1ZpZXdzID0gdHJhbnNpdGlvbi52aWV3cyhcImV4aXRpbmdcIik7XG4gICAgaWYgKCFlbnRlcmluZ1ZpZXdzLmxlbmd0aCAmJiAhZXhpdGluZ1ZpZXdzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuO1xuICAgIHZhciAkdmlldyA9IHRyYW5zaXRpb24ucm91dGVyLnZpZXdTZXJ2aWNlO1xuICAgIGV4aXRpbmdWaWV3cy5mb3JFYWNoKGZ1bmN0aW9uICh2YykgeyByZXR1cm4gJHZpZXcuZGVhY3RpdmF0ZVZpZXdDb25maWcodmMpOyB9KTtcbiAgICBlbnRlcmluZ1ZpZXdzLmZvckVhY2goZnVuY3Rpb24gKHZjKSB7IHJldHVybiAkdmlldy5hY3RpdmF0ZVZpZXdDb25maWcodmMpOyB9KTtcbiAgICAkdmlldy5zeW5jKCk7XG59O1xuZXhwb3J0cy5yZWdpc3RlckFjdGl2YXRlVmlld3MgPSBmdW5jdGlvbiAodHJhbnNpdGlvblNlcnZpY2UpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvblNlcnZpY2Uub25TdWNjZXNzKHt9LCBhY3RpdmF0ZVZpZXdzKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3cy5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL3ZpZXdzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///68\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\nvar common_1 = __webpack_require__(0);\n/**\n * A [[TransitionHookFn]] which updates global UI-Router state\n *\n * Registered using `transitionService.onBefore({}, updateGlobalState);`\n *\n * Before a [[Transition]] starts, updates the global value of "the current transition" ([[Globals.transition]]).\n * After a successful [[Transition]], updates the global values of "the current state"\n * ([[Globals.current]] and [[Globals.$current]]) and "the current param values" ([[Globals.params]]).\n *\n * See also the deprecated properties:\n * [[StateService.transition]], [[StateService.current]], [[StateService.params]]\n */\nvar updateGlobalState = function updateGlobalState(trans) {\n    var globals = trans.router.globals;\n    var transitionSuccessful = function transitionSuccessful() {\n        globals.successfulTransitions.enqueue(trans);\n        globals.$current = trans.$to();\n        globals.current = globals.$current.self;\n        common_1.copy(trans.params(), globals.params);\n    };\n    var clearCurrentTransition = function clearCurrentTransition() {\n        // Do not clear globals.transition if a different transition has started in the meantime\n        if (globals.transition === trans) globals.transition = null;\n    };\n    trans.onSuccess({}, transitionSuccessful, { priority: 10000 });\n    trans.promise.then(clearCurrentTransition, clearCurrentTransition);\n};\nexports.registerUpdateGlobalState = function (transitionService) {\n    return transitionService.onCreate({}, updateGlobalState);\n};\n//# sourceMappingURL=updateGlobals.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL3VwZGF0ZUdsb2JhbHMuanM/NTZkZiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNvbW1vbl8xIiwicmVxdWlyZSIsInVwZGF0ZUdsb2JhbFN0YXRlIiwidHJhbnMiLCJnbG9iYWxzIiwicm91dGVyIiwidHJhbnNpdGlvblN1Y2Nlc3NmdWwiLCJzdWNjZXNzZnVsVHJhbnNpdGlvbnMiLCJlbnF1ZXVlIiwiJGN1cnJlbnQiLCIkdG8iLCJjdXJyZW50Iiwic2VsZiIsImNvcHkiLCJwYXJhbXMiLCJjbGVhckN1cnJlbnRUcmFuc2l0aW9uIiwidHJhbnNpdGlvbiIsIm9uU3VjY2VzcyIsInByaW9yaXR5IiwicHJvbWlzZSIsInRoZW4iLCJyZWdpc3RlclVwZGF0ZUdsb2JhbFN0YXRlIiwidHJhbnNpdGlvblNlcnZpY2UiLCJvbkNyZWF0ZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBLElBQUlDLFdBQVcsbUJBQUFDLENBQVEsQ0FBUixDQUFmO0FBQ0E7Ozs7Ozs7Ozs7OztBQVlBLElBQUlDLG9CQUFvQixTQUFwQkEsaUJBQW9CLENBQVVDLEtBQVYsRUFBaUI7QUFDckMsUUFBSUMsVUFBVUQsTUFBTUUsTUFBTixDQUFhRCxPQUEzQjtBQUNBLFFBQUlFLHVCQUF1QixTQUF2QkEsb0JBQXVCLEdBQVk7QUFDbkNGLGdCQUFRRyxxQkFBUixDQUE4QkMsT0FBOUIsQ0FBc0NMLEtBQXRDO0FBQ0FDLGdCQUFRSyxRQUFSLEdBQW1CTixNQUFNTyxHQUFOLEVBQW5CO0FBQ0FOLGdCQUFRTyxPQUFSLEdBQWtCUCxRQUFRSyxRQUFSLENBQWlCRyxJQUFuQztBQUNBWixpQkFBU2EsSUFBVCxDQUFjVixNQUFNVyxNQUFOLEVBQWQsRUFBOEJWLFFBQVFVLE1BQXRDO0FBQ0gsS0FMRDtBQU1BLFFBQUlDLHlCQUF5QixTQUF6QkEsc0JBQXlCLEdBQVk7QUFDckM7QUFDQSxZQUFJWCxRQUFRWSxVQUFSLEtBQXVCYixLQUEzQixFQUNJQyxRQUFRWSxVQUFSLEdBQXFCLElBQXJCO0FBQ1AsS0FKRDtBQUtBYixVQUFNYyxTQUFOLENBQWdCLEVBQWhCLEVBQW9CWCxvQkFBcEIsRUFBMEMsRUFBRVksVUFBVSxLQUFaLEVBQTFDO0FBQ0FmLFVBQU1nQixPQUFOLENBQWNDLElBQWQsQ0FBbUJMLHNCQUFuQixFQUEyQ0Esc0JBQTNDO0FBQ0gsQ0FmRDtBQWdCQWpCLFFBQVF1Qix5QkFBUixHQUFvQyxVQUFVQyxpQkFBVixFQUE2QjtBQUM3RCxXQUFPQSxrQkFBa0JDLFFBQWxCLENBQTJCLEVBQTNCLEVBQStCckIsaUJBQS9CLENBQVA7QUFDSCxDQUZEO0FBR0EiLCJmaWxlIjoiNjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29tbW9uXCIpO1xuLyoqXG4gKiBBIFtbVHJhbnNpdGlvbkhvb2tGbl1dIHdoaWNoIHVwZGF0ZXMgZ2xvYmFsIFVJLVJvdXRlciBzdGF0ZVxuICpcbiAqIFJlZ2lzdGVyZWQgdXNpbmcgYHRyYW5zaXRpb25TZXJ2aWNlLm9uQmVmb3JlKHt9LCB1cGRhdGVHbG9iYWxTdGF0ZSk7YFxuICpcbiAqIEJlZm9yZSBhIFtbVHJhbnNpdGlvbl1dIHN0YXJ0cywgdXBkYXRlcyB0aGUgZ2xvYmFsIHZhbHVlIG9mIFwidGhlIGN1cnJlbnQgdHJhbnNpdGlvblwiIChbW0dsb2JhbHMudHJhbnNpdGlvbl1dKS5cbiAqIEFmdGVyIGEgc3VjY2Vzc2Z1bCBbW1RyYW5zaXRpb25dXSwgdXBkYXRlcyB0aGUgZ2xvYmFsIHZhbHVlcyBvZiBcInRoZSBjdXJyZW50IHN0YXRlXCJcbiAqIChbW0dsb2JhbHMuY3VycmVudF1dIGFuZCBbW0dsb2JhbHMuJGN1cnJlbnRdXSkgYW5kIFwidGhlIGN1cnJlbnQgcGFyYW0gdmFsdWVzXCIgKFtbR2xvYmFscy5wYXJhbXNdXSkuXG4gKlxuICogU2VlIGFsc28gdGhlIGRlcHJlY2F0ZWQgcHJvcGVydGllczpcbiAqIFtbU3RhdGVTZXJ2aWNlLnRyYW5zaXRpb25dXSwgW1tTdGF0ZVNlcnZpY2UuY3VycmVudF1dLCBbW1N0YXRlU2VydmljZS5wYXJhbXNdXVxuICovXG52YXIgdXBkYXRlR2xvYmFsU3RhdGUgPSBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICB2YXIgZ2xvYmFscyA9IHRyYW5zLnJvdXRlci5nbG9iYWxzO1xuICAgIHZhciB0cmFuc2l0aW9uU3VjY2Vzc2Z1bCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZ2xvYmFscy5zdWNjZXNzZnVsVHJhbnNpdGlvbnMuZW5xdWV1ZSh0cmFucyk7XG4gICAgICAgIGdsb2JhbHMuJGN1cnJlbnQgPSB0cmFucy4kdG8oKTtcbiAgICAgICAgZ2xvYmFscy5jdXJyZW50ID0gZ2xvYmFscy4kY3VycmVudC5zZWxmO1xuICAgICAgICBjb21tb25fMS5jb3B5KHRyYW5zLnBhcmFtcygpLCBnbG9iYWxzLnBhcmFtcyk7XG4gICAgfTtcbiAgICB2YXIgY2xlYXJDdXJyZW50VHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRG8gbm90IGNsZWFyIGdsb2JhbHMudHJhbnNpdGlvbiBpZiBhIGRpZmZlcmVudCB0cmFuc2l0aW9uIGhhcyBzdGFydGVkIGluIHRoZSBtZWFudGltZVxuICAgICAgICBpZiAoZ2xvYmFscy50cmFuc2l0aW9uID09PSB0cmFucylcbiAgICAgICAgICAgIGdsb2JhbHMudHJhbnNpdGlvbiA9IG51bGw7XG4gICAgfTtcbiAgICB0cmFucy5vblN1Y2Nlc3Moe30sIHRyYW5zaXRpb25TdWNjZXNzZnVsLCB7IHByaW9yaXR5OiAxMDAwMCB9KTtcbiAgICB0cmFucy5wcm9taXNlLnRoZW4oY2xlYXJDdXJyZW50VHJhbnNpdGlvbiwgY2xlYXJDdXJyZW50VHJhbnNpdGlvbik7XG59O1xuZXhwb3J0cy5yZWdpc3RlclVwZGF0ZUdsb2JhbFN0YXRlID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uQ3JlYXRlKHt9LCB1cGRhdGVHbG9iYWxTdGF0ZSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBkYXRlR2xvYmFscy5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL3VwZGF0ZUdsb2JhbHMuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///69\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * A [[TransitionHookFn]] which updates the URL after a successful transition\n *\n * Registered using `transitionService.onSuccess({}, updateUrl);`\n */\nvar updateUrl = function updateUrl(transition) {\n    var options = transition.options();\n    var $state = transition.router.stateService;\n    var $urlRouter = transition.router.urlRouter;\n    // Dont update the url in these situations:\n    // The transition was triggered by a URL sync (options.source === 'url')\n    // The user doesn't want the url to update (options.location === false)\n    // The destination state, and all parents have no navigable url\n    if (options.source !== 'url' && options.location && $state.$current.navigable) {\n        var urlOptions = { replace: options.location === 'replace' };\n        $urlRouter.push($state.$current.navigable.url, $state.params, urlOptions);\n    }\n    $urlRouter.update(true);\n};\nexports.registerUpdateUrl = function (transitionService) {\n    return transitionService.onSuccess({}, updateUrl, { priority: 9999 });\n};\n//# sourceMappingURL=url.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL3VybC5qcz85ZmZlIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwidXBkYXRlVXJsIiwidHJhbnNpdGlvbiIsIm9wdGlvbnMiLCIkc3RhdGUiLCJyb3V0ZXIiLCJzdGF0ZVNlcnZpY2UiLCIkdXJsUm91dGVyIiwidXJsUm91dGVyIiwic291cmNlIiwibG9jYXRpb24iLCIkY3VycmVudCIsIm5hdmlnYWJsZSIsInVybE9wdGlvbnMiLCJyZXBsYWNlIiwicHVzaCIsInVybCIsInBhcmFtcyIsInVwZGF0ZSIsInJlZ2lzdGVyVXBkYXRlVXJsIiwidHJhbnNpdGlvblNlcnZpY2UiLCJvblN1Y2Nlc3MiLCJwcmlvcml0eSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBOzs7OztBQUtBLElBQUlDLFlBQVksU0FBWkEsU0FBWSxDQUFVQyxVQUFWLEVBQXNCO0FBQ2xDLFFBQUlDLFVBQVVELFdBQVdDLE9BQVgsRUFBZDtBQUNBLFFBQUlDLFNBQVNGLFdBQVdHLE1BQVgsQ0FBa0JDLFlBQS9CO0FBQ0EsUUFBSUMsYUFBYUwsV0FBV0csTUFBWCxDQUFrQkcsU0FBbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQUlMLFFBQVFNLE1BQVIsS0FBbUIsS0FBbkIsSUFBNEJOLFFBQVFPLFFBQXBDLElBQWdETixPQUFPTyxRQUFQLENBQWdCQyxTQUFwRSxFQUErRTtBQUMzRSxZQUFJQyxhQUFhLEVBQUVDLFNBQVNYLFFBQVFPLFFBQVIsS0FBcUIsU0FBaEMsRUFBakI7QUFDQUgsbUJBQVdRLElBQVgsQ0FBZ0JYLE9BQU9PLFFBQVAsQ0FBZ0JDLFNBQWhCLENBQTBCSSxHQUExQyxFQUErQ1osT0FBT2EsTUFBdEQsRUFBOERKLFVBQTlEO0FBQ0g7QUFDRE4sZUFBV1csTUFBWCxDQUFrQixJQUFsQjtBQUNILENBYkQ7QUFjQW5CLFFBQVFvQixpQkFBUixHQUE0QixVQUFVQyxpQkFBVixFQUE2QjtBQUNyRCxXQUFPQSxrQkFBa0JDLFNBQWxCLENBQTRCLEVBQTVCLEVBQWdDcEIsU0FBaEMsRUFBMkMsRUFBRXFCLFVBQVUsSUFBWixFQUEzQyxDQUFQO0FBQ0gsQ0FGRDtBQUdBIiwiZmlsZSI6IjcwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEEgW1tUcmFuc2l0aW9uSG9va0ZuXV0gd2hpY2ggdXBkYXRlcyB0aGUgVVJMIGFmdGVyIGEgc3VjY2Vzc2Z1bCB0cmFuc2l0aW9uXG4gKlxuICogUmVnaXN0ZXJlZCB1c2luZyBgdHJhbnNpdGlvblNlcnZpY2Uub25TdWNjZXNzKHt9LCB1cGRhdGVVcmwpO2BcbiAqL1xudmFyIHVwZGF0ZVVybCA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB0cmFuc2l0aW9uLm9wdGlvbnMoKTtcbiAgICB2YXIgJHN0YXRlID0gdHJhbnNpdGlvbi5yb3V0ZXIuc3RhdGVTZXJ2aWNlO1xuICAgIHZhciAkdXJsUm91dGVyID0gdHJhbnNpdGlvbi5yb3V0ZXIudXJsUm91dGVyO1xuICAgIC8vIERvbnQgdXBkYXRlIHRoZSB1cmwgaW4gdGhlc2Ugc2l0dWF0aW9uczpcbiAgICAvLyBUaGUgdHJhbnNpdGlvbiB3YXMgdHJpZ2dlcmVkIGJ5IGEgVVJMIHN5bmMgKG9wdGlvbnMuc291cmNlID09PSAndXJsJylcbiAgICAvLyBUaGUgdXNlciBkb2Vzbid0IHdhbnQgdGhlIHVybCB0byB1cGRhdGUgKG9wdGlvbnMubG9jYXRpb24gPT09IGZhbHNlKVxuICAgIC8vIFRoZSBkZXN0aW5hdGlvbiBzdGF0ZSwgYW5kIGFsbCBwYXJlbnRzIGhhdmUgbm8gbmF2aWdhYmxlIHVybFxuICAgIGlmIChvcHRpb25zLnNvdXJjZSAhPT0gJ3VybCcgJiYgb3B0aW9ucy5sb2NhdGlvbiAmJiAkc3RhdGUuJGN1cnJlbnQubmF2aWdhYmxlKSB7XG4gICAgICAgIHZhciB1cmxPcHRpb25zID0geyByZXBsYWNlOiBvcHRpb25zLmxvY2F0aW9uID09PSAncmVwbGFjZScgfTtcbiAgICAgICAgJHVybFJvdXRlci5wdXNoKCRzdGF0ZS4kY3VycmVudC5uYXZpZ2FibGUudXJsLCAkc3RhdGUucGFyYW1zLCB1cmxPcHRpb25zKTtcbiAgICB9XG4gICAgJHVybFJvdXRlci51cGRhdGUodHJ1ZSk7XG59O1xuZXhwb3J0cy5yZWdpc3RlclVwZGF0ZVVybCA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uU2VydmljZSkge1xuICAgIHJldHVybiB0cmFuc2l0aW9uU2VydmljZS5vblN1Y2Nlc3Moe30sIHVwZGF0ZVVybCwgeyBwcmlvcml0eTogOTk5OSB9KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmwuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi9ob29rcy91cmwuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///70\n")},function(module,exports,__webpack_require__){"use strict";eval("\n/** @module hooks */ /** */\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar trace_1 = __webpack_require__(6);\nvar rejectFactory_1 = __webpack_require__(11);\n/**\n * A [[TransitionHookFn]] that skips a transition if it should be ignored\n *\n * This hook is invoked at the end of the onBefore phase.\n *\n * If the transition should be ignored (because no parameter or states changed)\n * then the transition is ignored and not processed.\n */\nfunction ignoredHook(trans) {\n    var ignoredReason = trans._ignoredReason();\n    if (!ignoredReason) return;\n    trace_1.trace.traceTransitionIgnored(trans);\n    var pending = trans.router.globals.transition;\n    // The user clicked a link going back to the *current state* ('A')\n    // However, there is also a pending transition in flight (to 'B')\n    // Abort the transition to 'B' because the user now wants to be back at 'A'.\n    if (ignoredReason === 'SameAsCurrent' && pending) {\n        pending.abort();\n    }\n    return rejectFactory_1.Rejection.ignored().toPromise();\n}\nexports.registerIgnoredTransitionHook = function (transitionService) {\n    return transitionService.onBefore({}, ignoredHook, { priority: -9999 });\n};\n//# sourceMappingURL=ignoredTransition.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL2lnbm9yZWRUcmFuc2l0aW9uLmpzP2NkNGIiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJ0cmFjZV8xIiwicmVxdWlyZSIsInJlamVjdEZhY3RvcnlfMSIsImlnbm9yZWRIb29rIiwidHJhbnMiLCJpZ25vcmVkUmVhc29uIiwiX2lnbm9yZWRSZWFzb24iLCJ0cmFjZSIsInRyYWNlVHJhbnNpdGlvbklnbm9yZWQiLCJwZW5kaW5nIiwicm91dGVyIiwiZ2xvYmFscyIsInRyYW5zaXRpb24iLCJhYm9ydCIsIlJlamVjdGlvbiIsImlnbm9yZWQiLCJ0b1Byb21pc2UiLCJyZWdpc3Rlcklnbm9yZWRUcmFuc2l0aW9uSG9vayIsInRyYW5zaXRpb25TZXJ2aWNlIiwib25CZWZvcmUiLCJwcmlvcml0eSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxvQixDQUFxQjs7QUFDckJBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBLElBQUlDLFVBQVUsbUJBQUFDLENBQVEsQ0FBUixDQUFkO0FBQ0EsSUFBSUMsa0JBQWtCLG1CQUFBRCxDQUFRLEVBQVIsQ0FBdEI7QUFDQTs7Ozs7Ozs7QUFRQSxTQUFTRSxXQUFULENBQXFCQyxLQUFyQixFQUE0QjtBQUN4QixRQUFJQyxnQkFBZ0JELE1BQU1FLGNBQU4sRUFBcEI7QUFDQSxRQUFJLENBQUNELGFBQUwsRUFDSTtBQUNKTCxZQUFRTyxLQUFSLENBQWNDLHNCQUFkLENBQXFDSixLQUFyQztBQUNBLFFBQUlLLFVBQVVMLE1BQU1NLE1BQU4sQ0FBYUMsT0FBYixDQUFxQkMsVUFBbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFJUCxrQkFBa0IsZUFBbEIsSUFBcUNJLE9BQXpDLEVBQWtEO0FBQzlDQSxnQkFBUUksS0FBUjtBQUNIO0FBQ0QsV0FBT1gsZ0JBQWdCWSxTQUFoQixDQUEwQkMsT0FBMUIsR0FBb0NDLFNBQXBDLEVBQVA7QUFDSDtBQUNEbEIsUUFBUW1CLDZCQUFSLEdBQXdDLFVBQVVDLGlCQUFWLEVBQTZCO0FBQ2pFLFdBQU9BLGtCQUFrQkMsUUFBbEIsQ0FBMkIsRUFBM0IsRUFBK0JoQixXQUEvQixFQUE0QyxFQUFFaUIsVUFBVSxDQUFDLElBQWIsRUFBNUMsQ0FBUDtBQUNILENBRkQ7QUFHQSIsImZpbGUiOiI3MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqIEBtb2R1bGUgaG9va3MgKi8gLyoqICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHJhY2VfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vdHJhY2VcIik7XG52YXIgcmVqZWN0RmFjdG9yeV8xID0gcmVxdWlyZShcIi4uL3RyYW5zaXRpb24vcmVqZWN0RmFjdG9yeVwiKTtcbi8qKlxuICogQSBbW1RyYW5zaXRpb25Ib29rRm5dXSB0aGF0IHNraXBzIGEgdHJhbnNpdGlvbiBpZiBpdCBzaG91bGQgYmUgaWdub3JlZFxuICpcbiAqIFRoaXMgaG9vayBpcyBpbnZva2VkIGF0IHRoZSBlbmQgb2YgdGhlIG9uQmVmb3JlIHBoYXNlLlxuICpcbiAqIElmIHRoZSB0cmFuc2l0aW9uIHNob3VsZCBiZSBpZ25vcmVkIChiZWNhdXNlIG5vIHBhcmFtZXRlciBvciBzdGF0ZXMgY2hhbmdlZClcbiAqIHRoZW4gdGhlIHRyYW5zaXRpb24gaXMgaWdub3JlZCBhbmQgbm90IHByb2Nlc3NlZC5cbiAqL1xuZnVuY3Rpb24gaWdub3JlZEhvb2sodHJhbnMpIHtcbiAgICB2YXIgaWdub3JlZFJlYXNvbiA9IHRyYW5zLl9pZ25vcmVkUmVhc29uKCk7XG4gICAgaWYgKCFpZ25vcmVkUmVhc29uKVxuICAgICAgICByZXR1cm47XG4gICAgdHJhY2VfMS50cmFjZS50cmFjZVRyYW5zaXRpb25JZ25vcmVkKHRyYW5zKTtcbiAgICB2YXIgcGVuZGluZyA9IHRyYW5zLnJvdXRlci5nbG9iYWxzLnRyYW5zaXRpb247XG4gICAgLy8gVGhlIHVzZXIgY2xpY2tlZCBhIGxpbmsgZ29pbmcgYmFjayB0byB0aGUgKmN1cnJlbnQgc3RhdGUqICgnQScpXG4gICAgLy8gSG93ZXZlciwgdGhlcmUgaXMgYWxzbyBhIHBlbmRpbmcgdHJhbnNpdGlvbiBpbiBmbGlnaHQgKHRvICdCJylcbiAgICAvLyBBYm9ydCB0aGUgdHJhbnNpdGlvbiB0byAnQicgYmVjYXVzZSB0aGUgdXNlciBub3cgd2FudHMgdG8gYmUgYmFjayBhdCAnQScuXG4gICAgaWYgKGlnbm9yZWRSZWFzb24gPT09ICdTYW1lQXNDdXJyZW50JyAmJiBwZW5kaW5nKSB7XG4gICAgICAgIHBlbmRpbmcuYWJvcnQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlamVjdEZhY3RvcnlfMS5SZWplY3Rpb24uaWdub3JlZCgpLnRvUHJvbWlzZSgpO1xufVxuZXhwb3J0cy5yZWdpc3Rlcklnbm9yZWRUcmFuc2l0aW9uSG9vayA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uU2VydmljZSkge1xuICAgIHJldHVybiB0cmFuc2l0aW9uU2VydmljZS5vbkJlZm9yZSh7fSwgaWdub3JlZEhvb2ssIHsgcHJpb3JpdHk6IC05OTk5IH0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlnbm9yZWRUcmFuc2l0aW9uLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvaG9va3MvaWdub3JlZFRyYW5zaXRpb24uanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///71\n")},function(module,exports,__webpack_require__){"use strict";eval('\n/** @module hooks */ /** */\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * A [[TransitionHookFn]] that rejects the Transition if it is invalid\n *\n * This hook is invoked at the end of the onBefore phase.\n * If the transition is invalid (for example, param values do not validate)\n * then the transition is rejected.\n */\nfunction invalidTransitionHook(trans) {\n    if (!trans.valid()) {\n        throw new Error(trans.error());\n    }\n}\nexports.registerInvalidTransitionHook = function (transitionService) {\n    return transitionService.onBefore({}, invalidTransitionHook, { priority: -10000 });\n};\n//# sourceMappingURL=invalidTransition.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL2ludmFsaWRUcmFuc2l0aW9uLmpzPzhjMDQiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJpbnZhbGlkVHJhbnNpdGlvbkhvb2siLCJ0cmFucyIsInZhbGlkIiwiRXJyb3IiLCJlcnJvciIsInJlZ2lzdGVySW52YWxpZFRyYW5zaXRpb25Ib29rIiwidHJhbnNpdGlvblNlcnZpY2UiLCJvbkJlZm9yZSIsInByaW9yaXR5Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLG9CLENBQXFCOztBQUNyQkEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0E7Ozs7Ozs7QUFPQSxTQUFTQyxxQkFBVCxDQUErQkMsS0FBL0IsRUFBc0M7QUFDbEMsUUFBSSxDQUFDQSxNQUFNQyxLQUFOLEVBQUwsRUFBb0I7QUFDaEIsY0FBTSxJQUFJQyxLQUFKLENBQVVGLE1BQU1HLEtBQU4sRUFBVixDQUFOO0FBQ0g7QUFDSjtBQUNETixRQUFRTyw2QkFBUixHQUF3QyxVQUFVQyxpQkFBVixFQUE2QjtBQUNqRSxXQUFPQSxrQkFBa0JDLFFBQWxCLENBQTJCLEVBQTNCLEVBQStCUCxxQkFBL0IsRUFBc0QsRUFBRVEsVUFBVSxDQUFDLEtBQWIsRUFBdEQsQ0FBUDtBQUNILENBRkQ7QUFHQSIsImZpbGUiOiI3Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqIEBtb2R1bGUgaG9va3MgKi8gLyoqICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEEgW1tUcmFuc2l0aW9uSG9va0ZuXV0gdGhhdCByZWplY3RzIHRoZSBUcmFuc2l0aW9uIGlmIGl0IGlzIGludmFsaWRcbiAqXG4gKiBUaGlzIGhvb2sgaXMgaW52b2tlZCBhdCB0aGUgZW5kIG9mIHRoZSBvbkJlZm9yZSBwaGFzZS5cbiAqIElmIHRoZSB0cmFuc2l0aW9uIGlzIGludmFsaWQgKGZvciBleGFtcGxlLCBwYXJhbSB2YWx1ZXMgZG8gbm90IHZhbGlkYXRlKVxuICogdGhlbiB0aGUgdHJhbnNpdGlvbiBpcyByZWplY3RlZC5cbiAqL1xuZnVuY3Rpb24gaW52YWxpZFRyYW5zaXRpb25Ib29rKHRyYW5zKSB7XG4gICAgaWYgKCF0cmFucy52YWxpZCgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih0cmFucy5lcnJvcigpKTtcbiAgICB9XG59XG5leHBvcnRzLnJlZ2lzdGVySW52YWxpZFRyYW5zaXRpb25Ib29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uQmVmb3JlKHt9LCBpbnZhbGlkVHJhbnNpdGlvbkhvb2ssIHsgcHJpb3JpdHk6IC0xMDAwMCB9KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnZhbGlkVHJhbnNpdGlvbi5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2hvb2tzL2ludmFsaWRUcmFuc2l0aW9uLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///72\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * # Transition subsystem\n *\n * This module contains APIs related to a Transition.\n *\n * See:\n * - [[TransitionService]]\n * - [[Transition]]\n * - [[HookFn]], [[TransitionHookFn]], [[TransitionStateHookFn]], [[HookMatchCriteria]], [[HookResult]]\n *\n * @coreapi\n * @preferred\n * @module transition\n */ /** for typedoc */\n__export(__webpack_require__(8));\n__export(__webpack_require__(30));\n__export(__webpack_require__(24));\n__export(__webpack_require__(11));\n__export(__webpack_require__(17));\n__export(__webpack_require__(12));\n__export(__webpack_require__(47));\n__export(__webpack_require__(27));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3RyYW5zaXRpb24vaW5kZXguanM/NjYzYyJdLCJuYW1lcyI6WyJfX2V4cG9ydCIsIm0iLCJwIiwiZXhwb3J0cyIsImhhc093blByb3BlcnR5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsInJlcXVpcmUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLFNBQVNBLFFBQVQsQ0FBa0JDLENBQWxCLEVBQXFCO0FBQ2pCLE9BQUssSUFBSUMsQ0FBVCxJQUFjRCxDQUFkO0FBQWlCLFFBQUksQ0FBQ0UsUUFBUUMsY0FBUixDQUF1QkYsQ0FBdkIsQ0FBTCxFQUFnQ0MsUUFBUUQsQ0FBUixJQUFhRCxFQUFFQyxDQUFGLENBQWI7QUFBakQ7QUFDSDtBQUNERyxPQUFPQyxjQUFQLENBQXNCSCxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFSSxPQUFPLElBQVQsRUFBN0M7QUFDQTs7Ozs7Ozs7Ozs7OztJQWFJO0FBQ0pQLFNBQVMsbUJBQUFRLENBQVEsQ0FBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0FSLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0EiLCJmaWxlIjoiNzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqICMgVHJhbnNpdGlvbiBzdWJzeXN0ZW1cbiAqXG4gKiBUaGlzIG1vZHVsZSBjb250YWlucyBBUElzIHJlbGF0ZWQgdG8gYSBUcmFuc2l0aW9uLlxuICpcbiAqIFNlZTpcbiAqIC0gW1tUcmFuc2l0aW9uU2VydmljZV1dXG4gKiAtIFtbVHJhbnNpdGlvbl1dXG4gKiAtIFtbSG9va0ZuXV0sIFtbVHJhbnNpdGlvbkhvb2tGbl1dLCBbW1RyYW5zaXRpb25TdGF0ZUhvb2tGbl1dLCBbW0hvb2tNYXRjaENyaXRlcmlhXV0sIFtbSG9va1Jlc3VsdF1dXG4gKlxuICogQGNvcmVhcGlcbiAqIEBwcmVmZXJyZWRcbiAqIEBtb2R1bGUgdHJhbnNpdGlvblxuICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuX19leHBvcnQocmVxdWlyZShcIi4vaW50ZXJmYWNlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2hvb2tCdWlsZGVyXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2hvb2tSZWdpc3RyeVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9yZWplY3RGYWN0b3J5XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3RyYW5zaXRpb25cIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdHJhbnNpdGlvbkhvb2tcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdHJhbnNpdGlvbkV2ZW50VHlwZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90cmFuc2l0aW9uU2VydmljZVwiKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3RyYW5zaXRpb24vaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///73\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nfunction __export(m) {\n    for (var p in m) {\n        if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n}\nObject.defineProperty(exports, "__esModule", { value: true });\n__export(__webpack_require__(20));\n__export(__webpack_require__(40));\n__export(__webpack_require__(41));\n__export(__webpack_require__(42));\n__export(__webpack_require__(45));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3VybC9pbmRleC5qcz9kMWM4Il0sIm5hbWVzIjpbIl9fZXhwb3J0IiwibSIsInAiLCJleHBvcnRzIiwiaGFzT3duUHJvcGVydHkiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwicmVxdWlyZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsU0FBU0EsUUFBVCxDQUFrQkMsQ0FBbEIsRUFBcUI7QUFDakIsU0FBSyxJQUFJQyxDQUFULElBQWNELENBQWQ7QUFBaUIsWUFBSSxDQUFDRSxRQUFRQyxjQUFSLENBQXVCRixDQUF2QixDQUFMLEVBQWdDQyxRQUFRRCxDQUFSLElBQWFELEVBQUVDLENBQUYsQ0FBYjtBQUFqRDtBQUNIO0FBQ0RHLE9BQU9DLGNBQVAsQ0FBc0JILE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVJLE9BQU8sSUFBVCxFQUE3QztBQUNBUCxTQUFTLG1CQUFBUSxDQUFRLEVBQVIsQ0FBVDtBQUNBUixTQUFTLG1CQUFBUSxDQUFRLEVBQVIsQ0FBVDtBQUNBUixTQUFTLG1CQUFBUSxDQUFRLEVBQVIsQ0FBVDtBQUNBUixTQUFTLG1CQUFBUSxDQUFRLEVBQVIsQ0FBVDtBQUNBUixTQUFTLG1CQUFBUSxDQUFRLEVBQVIsQ0FBVDtBQUNBIiwiZmlsZSI6Ijc0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vdXJsTWF0Y2hlclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi91cmxNYXRjaGVyRmFjdG9yeVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi91cmxSb3V0ZXJcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdXJsUnVsZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi91cmxTZXJ2aWNlXCIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvdXJsL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///74\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nfunction __export(m) {\n    for (var p in m) {\n        if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n}\nObject.defineProperty(exports, "__esModule", { value: true });\n__export(__webpack_require__(43));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZpZXcvaW5kZXguanM/MGMwYyJdLCJuYW1lcyI6WyJfX2V4cG9ydCIsIm0iLCJwIiwiZXhwb3J0cyIsImhhc093blByb3BlcnR5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsInJlcXVpcmUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLFNBQVNBLFFBQVQsQ0FBa0JDLENBQWxCLEVBQXFCO0FBQ2pCLFNBQUssSUFBSUMsQ0FBVCxJQUFjRCxDQUFkO0FBQWlCLFlBQUksQ0FBQ0UsUUFBUUMsY0FBUixDQUF1QkYsQ0FBdkIsQ0FBTCxFQUFnQ0MsUUFBUUQsQ0FBUixJQUFhRCxFQUFFQyxDQUFGLENBQWI7QUFBakQ7QUFDSDtBQUNERyxPQUFPQyxjQUFQLENBQXNCSCxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFSSxPQUFPLElBQVQsRUFBN0M7QUFDQVAsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQSIsImZpbGUiOiI3NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3ZpZXdcIikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi92aWV3L2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///75\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\n__export(__webpack_require__(77));\n//# sourceMappingURL=vanilla.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZhbmlsbGEuanM/YjczMSJdLCJuYW1lcyI6WyJfX2V4cG9ydCIsIm0iLCJwIiwiZXhwb3J0cyIsImhhc093blByb3BlcnR5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsInJlcXVpcmUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLFNBQVNBLFFBQVQsQ0FBa0JDLENBQWxCLEVBQXFCO0FBQ2pCLE9BQUssSUFBSUMsQ0FBVCxJQUFjRCxDQUFkO0FBQWlCLFFBQUksQ0FBQ0UsUUFBUUMsY0FBUixDQUF1QkYsQ0FBdkIsQ0FBTCxFQUFnQ0MsUUFBUUQsQ0FBUixJQUFhRCxFQUFFQyxDQUFGLENBQWI7QUFBakQ7QUFDSDtBQUNERyxPQUFPQyxjQUFQLENBQXNCSCxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFSSxPQUFPLElBQVQsRUFBN0M7QUFDQTs7OztBQUlBO0FBQ0FQLFNBQVMsbUJBQUFRLENBQVEsRUFBUixDQUFUO0FBQ0EiLCJmaWxlIjoiNzYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEBpbnRlcm5hbGFwaVxuICogQG1vZHVsZSB2YW5pbGxhXG4gKi9cbi8qKiAqL1xuX19leHBvcnQocmVxdWlyZShcIi4vdmFuaWxsYS9pbmRleFwiKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YW5pbGxhLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvdmFuaWxsYS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///76\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nfunction __export(m) {\n    for (var p in m) {\n        if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n}\nObject.defineProperty(exports, "__esModule", { value: true });\n__export(__webpack_require__(48));\n__export(__webpack_require__(49));\n__export(__webpack_require__(21));\n__export(__webpack_require__(50));\n__export(__webpack_require__(51));\n__export(__webpack_require__(52));\n__export(__webpack_require__(53));\n__export(__webpack_require__(54));\n__export(__webpack_require__(14));\n__export(__webpack_require__(78));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZhbmlsbGEvaW5kZXguanM/OTc1ZSJdLCJuYW1lcyI6WyJfX2V4cG9ydCIsIm0iLCJwIiwiZXhwb3J0cyIsImhhc093blByb3BlcnR5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsInJlcXVpcmUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLFNBQVNBLFFBQVQsQ0FBa0JDLENBQWxCLEVBQXFCO0FBQ2pCLFNBQUssSUFBSUMsQ0FBVCxJQUFjRCxDQUFkO0FBQWlCLFlBQUksQ0FBQ0UsUUFBUUMsY0FBUixDQUF1QkYsQ0FBdkIsQ0FBTCxFQUFnQ0MsUUFBUUQsQ0FBUixJQUFhRCxFQUFFQyxDQUFGLENBQWI7QUFBakQ7QUFDSDtBQUNERyxPQUFPQyxjQUFQLENBQXNCSCxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFSSxPQUFPLElBQVQsRUFBN0M7QUFDQVAsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQVIsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQVIsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQVIsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQVIsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQVIsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQVIsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQVIsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQVIsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQVIsU0FBUyxtQkFBQVEsQ0FBUSxFQUFSLENBQVQ7QUFDQSIsImZpbGUiOiI3Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3FcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaW5qZWN0b3JcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vYmFzZUxvY2F0aW9uU2VydmljZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9oYXNoTG9jYXRpb25TZXJ2aWNlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL21lbW9yeUxvY2F0aW9uU2VydmljZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wdXNoU3RhdGVMb2NhdGlvblNlcnZpY2VcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vbWVtb3J5TG9jYXRpb25Db25maWdcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vYnJvd3NlckxvY2F0aW9uQ29uZmlnXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3V0aWxzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3BsdWdpbnNcIikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL0B1aXJvdXRlci9jb3JlL2xpYi92YW5pbGxhL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///77\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\nvar browserLocationConfig_1 = __webpack_require__(54);\nvar hashLocationService_1 = __webpack_require__(50);\nvar utils_1 = __webpack_require__(14);\nvar pushStateLocationService_1 = __webpack_require__(52);\nvar memoryLocationService_1 = __webpack_require__(51);\nvar memoryLocationConfig_1 = __webpack_require__(53);\nvar injector_1 = __webpack_require__(49);\nvar q_1 = __webpack_require__(48);\nvar coreservices_1 = __webpack_require__(3);\nfunction servicesPlugin(router) {\n  coreservices_1.services.$injector = injector_1.$injector;\n  coreservices_1.services.$q = q_1.$q;\n  return { name: "vanilla.services", $q: q_1.$q, $injector: injector_1.$injector, dispose: function dispose() {\n      return null;\n    } };\n}\nexports.servicesPlugin = servicesPlugin;\n/** A `UIRouterPlugin` uses the browser hash to get/set the current location */\nexports.hashLocationPlugin = utils_1.locationPluginFactory(\'vanilla.hashBangLocation\', false, hashLocationService_1.HashLocationService, browserLocationConfig_1.BrowserLocationConfig);\n/** A `UIRouterPlugin` that gets/sets the current location using the browser\'s `location` and `history` apis */\nexports.pushStateLocationPlugin = utils_1.locationPluginFactory("vanilla.pushStateLocation", true, pushStateLocationService_1.PushStateLocationService, browserLocationConfig_1.BrowserLocationConfig);\n/** A `UIRouterPlugin` that gets/sets the current location from an in-memory object */\nexports.memoryLocationPlugin = utils_1.locationPluginFactory("vanilla.memoryLocation", false, memoryLocationService_1.MemoryLocationService, memoryLocationConfig_1.MemoryLocationConfig);\n//# sourceMappingURL=plugins.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL3ZhbmlsbGEvcGx1Z2lucy5qcz8yNzI0Il0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiYnJvd3NlckxvY2F0aW9uQ29uZmlnXzEiLCJyZXF1aXJlIiwiaGFzaExvY2F0aW9uU2VydmljZV8xIiwidXRpbHNfMSIsInB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZV8xIiwibWVtb3J5TG9jYXRpb25TZXJ2aWNlXzEiLCJtZW1vcnlMb2NhdGlvbkNvbmZpZ18xIiwiaW5qZWN0b3JfMSIsInFfMSIsImNvcmVzZXJ2aWNlc18xIiwic2VydmljZXNQbHVnaW4iLCJyb3V0ZXIiLCJzZXJ2aWNlcyIsIiRpbmplY3RvciIsIiRxIiwibmFtZSIsImRpc3Bvc2UiLCJoYXNoTG9jYXRpb25QbHVnaW4iLCJsb2NhdGlvblBsdWdpbkZhY3RvcnkiLCJIYXNoTG9jYXRpb25TZXJ2aWNlIiwiQnJvd3NlckxvY2F0aW9uQ29uZmlnIiwicHVzaFN0YXRlTG9jYXRpb25QbHVnaW4iLCJQdXNoU3RhdGVMb2NhdGlvblNlcnZpY2UiLCJtZW1vcnlMb2NhdGlvblBsdWdpbiIsIk1lbW9yeUxvY2F0aW9uU2VydmljZSIsIk1lbW9yeUxvY2F0aW9uQ29uZmlnIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0E7Ozs7QUFJQTtBQUNBLElBQUlDLDBCQUEwQixtQkFBQUMsQ0FBUSxFQUFSLENBQTlCO0FBQ0EsSUFBSUMsd0JBQXdCLG1CQUFBRCxDQUFRLEVBQVIsQ0FBNUI7QUFDQSxJQUFJRSxVQUFVLG1CQUFBRixDQUFRLEVBQVIsQ0FBZDtBQUNBLElBQUlHLDZCQUE2QixtQkFBQUgsQ0FBUSxFQUFSLENBQWpDO0FBQ0EsSUFBSUksMEJBQTBCLG1CQUFBSixDQUFRLEVBQVIsQ0FBOUI7QUFDQSxJQUFJSyx5QkFBeUIsbUJBQUFMLENBQVEsRUFBUixDQUE3QjtBQUNBLElBQUlNLGFBQWEsbUJBQUFOLENBQVEsRUFBUixDQUFqQjtBQUNBLElBQUlPLE1BQU0sbUJBQUFQLENBQVEsRUFBUixDQUFWO0FBQ0EsSUFBSVEsaUJBQWlCLG1CQUFBUixDQUFRLENBQVIsQ0FBckI7QUFDQSxTQUFTUyxjQUFULENBQXdCQyxNQUF4QixFQUFnQztBQUM1QkYsaUJBQWVHLFFBQWYsQ0FBd0JDLFNBQXhCLEdBQW9DTixXQUFXTSxTQUEvQztBQUNBSixpQkFBZUcsUUFBZixDQUF3QkUsRUFBeEIsR0FBNkJOLElBQUlNLEVBQWpDO0FBQ0EsU0FBTyxFQUFFQyxNQUFNLGtCQUFSLEVBQTRCRCxJQUFJTixJQUFJTSxFQUFwQyxFQUF3Q0QsV0FBV04sV0FBV00sU0FBOUQsRUFBeUVHLFNBQVMsbUJBQVk7QUFBRSxhQUFPLElBQVA7QUFBYyxLQUE5RyxFQUFQO0FBQ0g7QUFDRGxCLFFBQVFZLGNBQVIsR0FBeUJBLGNBQXpCO0FBQ0E7QUFDQVosUUFBUW1CLGtCQUFSLEdBQTZCZCxRQUFRZSxxQkFBUixDQUE4QiwwQkFBOUIsRUFBMEQsS0FBMUQsRUFBaUVoQixzQkFBc0JpQixtQkFBdkYsRUFBNEduQix3QkFBd0JvQixxQkFBcEksQ0FBN0I7QUFDQTtBQUNBdEIsUUFBUXVCLHVCQUFSLEdBQWtDbEIsUUFBUWUscUJBQVIsQ0FBOEIsMkJBQTlCLEVBQTJELElBQTNELEVBQWlFZCwyQkFBMkJrQix3QkFBNUYsRUFBc0h0Qix3QkFBd0JvQixxQkFBOUksQ0FBbEM7QUFDQTtBQUNBdEIsUUFBUXlCLG9CQUFSLEdBQStCcEIsUUFBUWUscUJBQVIsQ0FBOEIsd0JBQTlCLEVBQXdELEtBQXhELEVBQStEYix3QkFBd0JtQixxQkFBdkYsRUFBOEdsQix1QkFBdUJtQixvQkFBckksQ0FBL0I7QUFDQSIsImZpbGUiOiI3OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBAaW50ZXJuYWxhcGlcbiAqIEBtb2R1bGUgdmFuaWxsYVxuICovXG4vKiogKi9cbnZhciBicm93c2VyTG9jYXRpb25Db25maWdfMSA9IHJlcXVpcmUoXCIuL2Jyb3dzZXJMb2NhdGlvbkNvbmZpZ1wiKTtcbnZhciBoYXNoTG9jYXRpb25TZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9oYXNoTG9jYXRpb25TZXJ2aWNlXCIpO1xudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBwdXNoU3RhdGVMb2NhdGlvblNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL3B1c2hTdGF0ZUxvY2F0aW9uU2VydmljZVwiKTtcbnZhciBtZW1vcnlMb2NhdGlvblNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL21lbW9yeUxvY2F0aW9uU2VydmljZVwiKTtcbnZhciBtZW1vcnlMb2NhdGlvbkNvbmZpZ18xID0gcmVxdWlyZShcIi4vbWVtb3J5TG9jYXRpb25Db25maWdcIik7XG52YXIgaW5qZWN0b3JfMSA9IHJlcXVpcmUoXCIuL2luamVjdG9yXCIpO1xudmFyIHFfMSA9IHJlcXVpcmUoXCIuL3FcIik7XG52YXIgY29yZXNlcnZpY2VzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvcmVzZXJ2aWNlc1wiKTtcbmZ1bmN0aW9uIHNlcnZpY2VzUGx1Z2luKHJvdXRlcikge1xuICAgIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRpbmplY3RvciA9IGluamVjdG9yXzEuJGluamVjdG9yO1xuICAgIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxID0gcV8xLiRxO1xuICAgIHJldHVybiB7IG5hbWU6IFwidmFuaWxsYS5zZXJ2aWNlc1wiLCAkcTogcV8xLiRxLCAkaW5qZWN0b3I6IGluamVjdG9yXzEuJGluamVjdG9yLCBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9IH07XG59XG5leHBvcnRzLnNlcnZpY2VzUGx1Z2luID0gc2VydmljZXNQbHVnaW47XG4vKiogQSBgVUlSb3V0ZXJQbHVnaW5gIHVzZXMgdGhlIGJyb3dzZXIgaGFzaCB0byBnZXQvc2V0IHRoZSBjdXJyZW50IGxvY2F0aW9uICovXG5leHBvcnRzLmhhc2hMb2NhdGlvblBsdWdpbiA9IHV0aWxzXzEubG9jYXRpb25QbHVnaW5GYWN0b3J5KCd2YW5pbGxhLmhhc2hCYW5nTG9jYXRpb24nLCBmYWxzZSwgaGFzaExvY2F0aW9uU2VydmljZV8xLkhhc2hMb2NhdGlvblNlcnZpY2UsIGJyb3dzZXJMb2NhdGlvbkNvbmZpZ18xLkJyb3dzZXJMb2NhdGlvbkNvbmZpZyk7XG4vKiogQSBgVUlSb3V0ZXJQbHVnaW5gIHRoYXQgZ2V0cy9zZXRzIHRoZSBjdXJyZW50IGxvY2F0aW9uIHVzaW5nIHRoZSBicm93c2VyJ3MgYGxvY2F0aW9uYCBhbmQgYGhpc3RvcnlgIGFwaXMgKi9cbmV4cG9ydHMucHVzaFN0YXRlTG9jYXRpb25QbHVnaW4gPSB1dGlsc18xLmxvY2F0aW9uUGx1Z2luRmFjdG9yeShcInZhbmlsbGEucHVzaFN0YXRlTG9jYXRpb25cIiwgdHJ1ZSwgcHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlXzEuUHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlLCBicm93c2VyTG9jYXRpb25Db25maWdfMS5Ccm93c2VyTG9jYXRpb25Db25maWcpO1xuLyoqIEEgYFVJUm91dGVyUGx1Z2luYCB0aGF0IGdldHMvc2V0cyB0aGUgY3VycmVudCBsb2NhdGlvbiBmcm9tIGFuIGluLW1lbW9yeSBvYmplY3QgKi9cbmV4cG9ydHMubWVtb3J5TG9jYXRpb25QbHVnaW4gPSB1dGlsc18xLmxvY2F0aW9uUGx1Z2luRmFjdG9yeShcInZhbmlsbGEubWVtb3J5TG9jYXRpb25cIiwgZmFsc2UsIG1lbW9yeUxvY2F0aW9uU2VydmljZV8xLk1lbW9yeUxvY2F0aW9uU2VydmljZSwgbWVtb3J5TG9jYXRpb25Db25maWdfMS5NZW1vcnlMb2NhdGlvbkNvbmZpZyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbHVnaW5zLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvdmFuaWxsYS9wbHVnaW5zLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///78\n')},function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * # Core classes and interfaces\n *\n * The classes and interfaces that are core to ui-router and do not belong\n * to a more specific subsystem (such as resolve).\n *\n * @coreapi\n * @preferred\n * @module core\n */ /** for typedoc */\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/** @internalapi */\nvar UIRouterPluginBase = function () {\n  function UIRouterPluginBase() {}\n  UIRouterPluginBase.prototype.dispose = function (router) {};\n  return UIRouterPluginBase;\n}();\nexports.UIRouterPluginBase = UIRouterPluginBase;\n//# sourceMappingURL=interface.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHVpcm91dGVyL2NvcmUvbGliL2ludGVyZmFjZS5qcz84NzU0Il0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiVUlSb3V0ZXJQbHVnaW5CYXNlIiwicHJvdG90eXBlIiwiZGlzcG9zZSIsInJvdXRlciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7Ozs7O0lBU0k7O0FBQ0pBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBO0FBQ0EsSUFBSUMscUJBQXNCLFlBQVk7QUFDbEMsV0FBU0Esa0JBQVQsR0FBOEIsQ0FDN0I7QUFDREEscUJBQW1CQyxTQUFuQixDQUE2QkMsT0FBN0IsR0FBdUMsVUFBVUMsTUFBVixFQUFrQixDQUFHLENBQTVEO0FBQ0EsU0FBT0gsa0JBQVA7QUFDSCxDQUx5QixFQUExQjtBQU1BRixRQUFRRSxrQkFBUixHQUE2QkEsa0JBQTdCO0FBQ0EiLCJmaWxlIjoiNzkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogIyBDb3JlIGNsYXNzZXMgYW5kIGludGVyZmFjZXNcbiAqXG4gKiBUaGUgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyB0aGF0IGFyZSBjb3JlIHRvIHVpLXJvdXRlciBhbmQgZG8gbm90IGJlbG9uZ1xuICogdG8gYSBtb3JlIHNwZWNpZmljIHN1YnN5c3RlbSAoc3VjaCBhcyByZXNvbHZlKS5cbiAqXG4gKiBAY29yZWFwaVxuICogQHByZWZlcnJlZFxuICogQG1vZHVsZSBjb3JlXG4gKi8gLyoqIGZvciB0eXBlZG9jICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQGludGVybmFsYXBpICovXG52YXIgVUlSb3V0ZXJQbHVnaW5CYXNlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVSVJvdXRlclBsdWdpbkJhc2UoKSB7XG4gICAgfVxuICAgIFVJUm91dGVyUGx1Z2luQmFzZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIChyb3V0ZXIpIHsgfTtcbiAgICByZXR1cm4gVUlSb3V0ZXJQbHVnaW5CYXNlO1xufSgpKTtcbmV4cG9ydHMuVUlSb3V0ZXJQbHVnaW5CYXNlID0gVUlSb3V0ZXJQbHVnaW5CYXNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJmYWNlLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9AdWlyb3V0ZXIvY29yZS9saWIvaW50ZXJmYWNlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///79\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/** @module view */\n/** for typedoc */\nvar angular_1 = __webpack_require__(10);\nvar core_1 = __webpack_require__(4);\n/**\n * Service which manages loading of templates from a ViewConfig.\n */\nvar TemplateFactory = function () {\n    function TemplateFactory() {\n        var _this = this;\n        /** @hidden */this._useHttp = angular_1.ng.version.minor < 3;\n        /** @hidden */this.$get = [\'$http\', \'$templateCache\', \'$injector\', function ($http, $templateCache, $injector) {\n            _this.$templateRequest = $injector.has && $injector.has(\'$templateRequest\') && $injector.get(\'$templateRequest\');\n            _this.$http = $http;\n            _this.$templateCache = $templateCache;\n            return _this;\n        }];\n    }\n    /** @hidden */\n    TemplateFactory.prototype.useHttpService = function (value) {\n        this._useHttp = value;\n    };\n    ;\n    /**\n     * Creates a template from a configuration object.\n     *\n     * @param config Configuration object for which to load a template.\n     * The following properties are search in the specified order, and the first one\n     * that is defined is used to create the template:\n     *\n     * @param params  Parameters to pass to the template function.\n     * @param context The resolve context associated with the template\'s view\n     *\n     * @return {string|object}  The template html as a string, or a promise for\n     * that string,or `null` if no template is configured.\n     */\n    TemplateFactory.prototype.fromConfig = function (config, params, context) {\n        var defaultTemplate = "<ui-view></ui-view>";\n        var asTemplate = function asTemplate(result) {\n            return core_1.services.$q.when(result).then(function (str) {\n                return { template: str };\n            });\n        };\n        var asComponent = function asComponent(result) {\n            return core_1.services.$q.when(result).then(function (str) {\n                return { component: str };\n            });\n        };\n        return core_1.isDefined(config.template) ? asTemplate(this.fromString(config.template, params)) : core_1.isDefined(config.templateUrl) ? asTemplate(this.fromUrl(config.templateUrl, params)) : core_1.isDefined(config.templateProvider) ? asTemplate(this.fromProvider(config.templateProvider, params, context)) : core_1.isDefined(config.component) ? asComponent(config.component) : core_1.isDefined(config.componentProvider) ? asComponent(this.fromComponentProvider(config.componentProvider, params, context)) : asTemplate(defaultTemplate);\n    };\n    ;\n    /**\n     * Creates a template from a string or a function returning a string.\n     *\n     * @param template html template as a string or function that returns an html template as a string.\n     * @param params Parameters to pass to the template function.\n     *\n     * @return {string|object} The template html as a string, or a promise for that\n     * string.\n     */\n    TemplateFactory.prototype.fromString = function (template, params) {\n        return core_1.isFunction(template) ? template(params) : template;\n    };\n    ;\n    /**\n     * Loads a template from the a URL via `$http` and `$templateCache`.\n     *\n     * @param {string|Function} url url of the template to load, or a function\n     * that returns a url.\n     * @param {Object} params Parameters to pass to the url function.\n     * @return {string|Promise.<string>} The template html as a string, or a promise\n     * for that string.\n     */\n    TemplateFactory.prototype.fromUrl = function (url, params) {\n        if (core_1.isFunction(url)) url = url(params);\n        if (url == null) return null;\n        if (this._useHttp) {\n            return this.$http.get(url, { cache: this.$templateCache, headers: { Accept: \'text/html\' } }).then(function (response) {\n                return response.data;\n            });\n        }\n        return this.$templateRequest(url);\n    };\n    ;\n    /**\n     * Creates a template by invoking an injectable provider function.\n     *\n     * @param provider Function to invoke via `locals`\n     * @param {Function} injectFn a function used to invoke the template provider\n     * @return {string|Promise.<string>} The template html as a string, or a promise\n     * for that string.\n     */\n    TemplateFactory.prototype.fromProvider = function (provider, params, context) {\n        var deps = core_1.services.$injector.annotate(provider);\n        var providerFn = core_1.isArray(provider) ? core_1.tail(provider) : provider;\n        var resolvable = new core_1.Resolvable("", providerFn, deps);\n        return resolvable.get(context);\n    };\n    ;\n    /**\n     * Creates a component\'s template by invoking an injectable provider function.\n     *\n     * @param provider Function to invoke via `locals`\n     * @param {Function} injectFn a function used to invoke the template provider\n     * @return {string} The template html as a string: "<component-name input1=\'::$resolve.foo\'></component-name>".\n     */\n    TemplateFactory.prototype.fromComponentProvider = function (provider, params, context) {\n        var deps = core_1.services.$injector.annotate(provider);\n        var providerFn = core_1.isArray(provider) ? core_1.tail(provider) : provider;\n        var resolvable = new core_1.Resolvable("", providerFn, deps);\n        return resolvable.get(context);\n    };\n    ;\n    /**\n     * Creates a template from a component\'s name\n     *\n     * This implements route-to-component.\n     * It works by retrieving the component (directive) metadata from the injector.\n     * It analyses the component\'s bindings, then constructs a template that instantiates the component.\n     * The template wires input and output bindings to resolves or from the parent component.\n     *\n     * @param uiView {object} The parent ui-view (for binding outputs to callbacks)\n     * @param context The ResolveContext (for binding outputs to callbacks returned from resolves)\n     * @param component {string} Component\'s name in camel case.\n     * @param bindings An object defining the component\'s bindings: {foo: \'<\'}\n     * @return {string} The template as a string: "<component-name input1=\'::$resolve.foo\'></component-name>".\n     */\n    TemplateFactory.prototype.makeComponentTemplate = function (uiView, context, component, bindings) {\n        bindings = bindings || {};\n        // Bind once prefix\n        var prefix = angular_1.ng.version.minor >= 3 ? "::" : "";\n        // Convert to kebob name. Add x- prefix if the string starts with `x-` or `data-`\n        var kebob = function kebob(camelCase) {\n            var kebobed = core_1.kebobString(camelCase);\n            return (/^(x|data)-/.exec(kebobed) ? "x-" + kebobed : kebobed\n            );\n        };\n        var attributeTpl = function attributeTpl(input) {\n            var name = input.name,\n                type = input.type;\n            var attrName = kebob(name);\n            // If the ui-view has an attribute which matches a binding on the routed component\n            // then pass that attribute through to the routed component template.\n            // Prefer ui-view wired mappings to resolve data, unless the resolve was explicitly bound using `bindings:`\n            if (uiView.attr(attrName) && !bindings[name]) return attrName + "=\'" + uiView.attr(attrName) + "\'";\n            var resolveName = bindings[name] || name;\n            // Pre-evaluate the expression for "@" bindings by enclosing in {{ }}\n            // some-attr="{{ ::$resolve.someResolveName }}"\n            if (type === \'@\') return attrName + "=\'{{" + prefix + "$resolve." + resolveName + "}}\'";\n            // Wire "&" callbacks to resolves that return a callback function\n            // Get the result of the resolve (should be a function) and annotate it to get its arguments.\n            // some-attr="$resolve.someResolveResultName(foo, bar)"\n            if (type === \'&\') {\n                var res = context.getResolvable(resolveName);\n                var fn = res && res.data;\n                var args = fn && core_1.services.$injector.annotate(fn) || [];\n                // account for array style injection, i.e., [\'foo\', function(foo) {}]\n                var arrayIdxStr = core_1.isArray(fn) ? "[" + (fn.length - 1) + "]" : \'\';\n                return attrName + "=\'$resolve." + resolveName + arrayIdxStr + "(" + args.join(",") + ")\'";\n            }\n            // some-attr="::$resolve.someResolveName"\n            return attrName + "=\'" + prefix + "$resolve." + resolveName + "\'";\n        };\n        var attrs = getComponentBindings(component).map(attributeTpl).join(" ");\n        var kebobName = kebob(component);\n        return "<" + kebobName + " " + attrs + "></" + kebobName + ">";\n    };\n    ;\n    return TemplateFactory;\n}();\nexports.TemplateFactory = TemplateFactory;\n// Gets all the directive(s)\' inputs (\'@\', \'=\', and \'<\') and outputs (\'&\')\nfunction getComponentBindings(name) {\n    var cmpDefs = core_1.services.$injector.get(name + "Directive"); // could be multiple\n    if (!cmpDefs || !cmpDefs.length) throw new Error("Unable to find component named \'" + name + "\'");\n    return cmpDefs.map(getBindings).reduce(core_1.unnestR, []);\n}\n// Given a directive definition, find its object input attributes\n// Use different properties, depending on the type of directive (component, bindToController, normal)\nvar getBindings = function getBindings(def) {\n    if (core_1.isObject(def.bindToController)) return scopeBindings(def.bindToController);\n    return scopeBindings(def.scope);\n};\n// for ng 1.2 style, process the scope: { input: "=foo" }\n// for ng 1.3 through ng 1.5, process the component\'s bindToController: { input: "=foo" } object\nvar scopeBindings = function scopeBindings(bindingsObj) {\n    return Object.keys(bindingsObj || {}).map(function (key) {\n        return [key, /^([=<@&])[?]?(.*)/.exec(bindingsObj[key])];\n    }).filter(function (tuple) {\n        return core_1.isDefined(tuple) && core_1.isArray(tuple[1]);\n    }).map(function (tuple) {\n        return { name: tuple[1][2] || tuple[0], type: tuple[1][1] };\n    });\n};\n//# sourceMappingURL=templateFactory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL3RlbXBsYXRlRmFjdG9yeS5qcz83NjUxIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiYW5ndWxhcl8xIiwicmVxdWlyZSIsImNvcmVfMSIsIlRlbXBsYXRlRmFjdG9yeSIsIl90aGlzIiwiX3VzZUh0dHAiLCJuZyIsInZlcnNpb24iLCJtaW5vciIsIiRnZXQiLCIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJGluamVjdG9yIiwiJHRlbXBsYXRlUmVxdWVzdCIsImhhcyIsImdldCIsInByb3RvdHlwZSIsInVzZUh0dHBTZXJ2aWNlIiwiZnJvbUNvbmZpZyIsImNvbmZpZyIsInBhcmFtcyIsImNvbnRleHQiLCJkZWZhdWx0VGVtcGxhdGUiLCJhc1RlbXBsYXRlIiwicmVzdWx0Iiwic2VydmljZXMiLCIkcSIsIndoZW4iLCJ0aGVuIiwic3RyIiwidGVtcGxhdGUiLCJhc0NvbXBvbmVudCIsImNvbXBvbmVudCIsImlzRGVmaW5lZCIsImZyb21TdHJpbmciLCJ0ZW1wbGF0ZVVybCIsImZyb21VcmwiLCJ0ZW1wbGF0ZVByb3ZpZGVyIiwiZnJvbVByb3ZpZGVyIiwiY29tcG9uZW50UHJvdmlkZXIiLCJmcm9tQ29tcG9uZW50UHJvdmlkZXIiLCJpc0Z1bmN0aW9uIiwidXJsIiwiY2FjaGUiLCJoZWFkZXJzIiwiQWNjZXB0IiwicmVzcG9uc2UiLCJkYXRhIiwicHJvdmlkZXIiLCJkZXBzIiwiYW5ub3RhdGUiLCJwcm92aWRlckZuIiwiaXNBcnJheSIsInRhaWwiLCJyZXNvbHZhYmxlIiwiUmVzb2x2YWJsZSIsIm1ha2VDb21wb25lbnRUZW1wbGF0ZSIsInVpVmlldyIsImJpbmRpbmdzIiwicHJlZml4Iiwia2Vib2IiLCJjYW1lbENhc2UiLCJrZWJvYmVkIiwia2Vib2JTdHJpbmciLCJleGVjIiwiYXR0cmlidXRlVHBsIiwiaW5wdXQiLCJuYW1lIiwidHlwZSIsImF0dHJOYW1lIiwiYXR0ciIsInJlc29sdmVOYW1lIiwicmVzIiwiZ2V0UmVzb2x2YWJsZSIsImZuIiwiYXJncyIsImFycmF5SWR4U3RyIiwibGVuZ3RoIiwiam9pbiIsImF0dHJzIiwiZ2V0Q29tcG9uZW50QmluZGluZ3MiLCJtYXAiLCJrZWJvYk5hbWUiLCJjbXBEZWZzIiwiRXJyb3IiLCJnZXRCaW5kaW5ncyIsInJlZHVjZSIsInVubmVzdFIiLCJkZWYiLCJpc09iamVjdCIsImJpbmRUb0NvbnRyb2xsZXIiLCJzY29wZUJpbmRpbmdzIiwic2NvcGUiLCJiaW5kaW5nc09iaiIsImtleXMiLCJrZXkiLCJmaWx0ZXIiLCJ0dXBsZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBO0FBQ0E7QUFDQSxJQUFJQyxZQUFZLG1CQUFBQyxDQUFRLEVBQVIsQ0FBaEI7QUFDQSxJQUFJQyxTQUFTLG1CQUFBRCxDQUFRLENBQVIsQ0FBYjtBQUNBOzs7QUFHQSxJQUFJRSxrQkFBbUIsWUFBWTtBQUMvQixhQUFTQSxlQUFULEdBQTJCO0FBQ3ZCLFlBQUlDLFFBQVEsSUFBWjtBQUNBLHNCQUFlLEtBQUtDLFFBQUwsR0FBZ0JMLFVBQVVNLEVBQVYsQ0FBYUMsT0FBYixDQUFxQkMsS0FBckIsR0FBNkIsQ0FBN0M7QUFDZixzQkFBZSxLQUFLQyxJQUFMLEdBQVksQ0FBQyxPQUFELEVBQVUsZ0JBQVYsRUFBNEIsV0FBNUIsRUFBeUMsVUFBVUMsS0FBVixFQUFpQkMsY0FBakIsRUFBaUNDLFNBQWpDLEVBQTRDO0FBQ3hHUixrQkFBTVMsZ0JBQU4sR0FBeUJELFVBQVVFLEdBQVYsSUFBaUJGLFVBQVVFLEdBQVYsQ0FBYyxrQkFBZCxDQUFqQixJQUFzREYsVUFBVUcsR0FBVixDQUFjLGtCQUFkLENBQS9FO0FBQ0FYLGtCQUFNTSxLQUFOLEdBQWNBLEtBQWQ7QUFDQU4sa0JB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QUFBZ0UsS0FIeEMsQ0FBUDtBQUdtRCxDQUhoRztBQUlBIiwiZmlsZSI6IjgwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQG1vZHVsZSB2aWV3ICovXG4vKiogZm9yIHR5cGVkb2MgKi9cbnZhciBhbmd1bGFyXzEgPSByZXF1aXJlKFwiLi9hbmd1bGFyXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCJAdWlyb3V0ZXIvY29yZVwiKTtcbi8qKlxuICogU2VydmljZSB3aGljaCBtYW5hZ2VzIGxvYWRpbmcgb2YgdGVtcGxhdGVzIGZyb20gYSBWaWV3Q29uZmlnLlxuICovXG52YXIgVGVtcGxhdGVGYWN0b3J5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZW1wbGF0ZUZhY3RvcnkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuX3VzZUh0dHAgPSBhbmd1bGFyXzEubmcudmVyc2lvbi5taW5vciA8IDM7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuJGdldCA9IFsnJGh0dHAnLCAnJHRlbXBsYXRlQ2FjaGUnLCAnJGluamVjdG9yJywgZnVuY3Rpb24gKCRodHRwLCAkdGVtcGxhdGVDYWNoZSwgJGluamVjdG9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuJHRlbXBsYXRlUmVxdWVzdCA9ICRpbmplY3Rvci5oYXMgJiYgJGluamVjdG9yLmhhcygnJHRlbXBsYXRlUmVxdWVzdCcpICYmICRpbmplY3Rvci5nZXQoJyR0ZW1wbGF0ZVJlcXVlc3QnKTtcbiAgICAgICAgICAgICAgICBfdGhpcy4kaHR0cCA9ICRodHRwO1xuICAgICAgICAgICAgICAgIF90aGlzLiR0ZW1wbGF0ZUNhY2hlID0gJHRlbXBsYXRlQ2FjaGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAgICAgfV07XG4gICAgfVxuICAgIC8qKiBAaGlkZGVuICovXG4gICAgVGVtcGxhdGVGYWN0b3J5LnByb3RvdHlwZS51c2VIdHRwU2VydmljZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLl91c2VIdHRwID0gdmFsdWU7XG4gICAgfTtcbiAgICA7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRlbXBsYXRlIGZyb20gYSBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb25maWcgQ29uZmlndXJhdGlvbiBvYmplY3QgZm9yIHdoaWNoIHRvIGxvYWQgYSB0ZW1wbGF0ZS5cbiAgICAgKiBUaGUgZm9sbG93aW5nIHByb3BlcnRpZXMgYXJlIHNlYXJjaCBpbiB0aGUgc3BlY2lmaWVkIG9yZGVyLCBhbmQgdGhlIGZpcnN0IG9uZVxuICAgICAqIHRoYXQgaXMgZGVmaW5lZCBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgdGVtcGxhdGU6XG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFyYW1zICBQYXJhbWV0ZXJzIHRvIHBhc3MgdG8gdGhlIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSBjb250ZXh0IFRoZSByZXNvbHZlIGNvbnRleHQgYXNzb2NpYXRlZCB3aXRoIHRoZSB0ZW1wbGF0ZSdzIHZpZXdcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xvYmplY3R9ICBUaGUgdGVtcGxhdGUgaHRtbCBhcyBhIHN0cmluZywgb3IgYSBwcm9taXNlIGZvclxuICAgICAqIHRoYXQgc3RyaW5nLG9yIGBudWxsYCBpZiBubyB0ZW1wbGF0ZSBpcyBjb25maWd1cmVkLlxuICAgICAqL1xuICAgIFRlbXBsYXRlRmFjdG9yeS5wcm90b3R5cGUuZnJvbUNvbmZpZyA9IGZ1bmN0aW9uIChjb25maWcsIHBhcmFtcywgY29udGV4dCkge1xuICAgICAgICB2YXIgZGVmYXVsdFRlbXBsYXRlID0gXCI8dWktdmlldz48L3VpLXZpZXc+XCI7XG4gICAgICAgIHZhciBhc1RlbXBsYXRlID0gZnVuY3Rpb24gKHJlc3VsdCkgeyByZXR1cm4gY29yZV8xLnNlcnZpY2VzLiRxLndoZW4ocmVzdWx0KS50aGVuKGZ1bmN0aW9uIChzdHIpIHsgcmV0dXJuICh7IHRlbXBsYXRlOiBzdHIgfSk7IH0pOyB9O1xuICAgICAgICB2YXIgYXNDb21wb25lbnQgPSBmdW5jdGlvbiAocmVzdWx0KSB7IHJldHVybiBjb3JlXzEuc2VydmljZXMuJHEud2hlbihyZXN1bHQpLnRoZW4oZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gKHsgY29tcG9uZW50OiBzdHIgfSk7IH0pOyB9O1xuICAgICAgICByZXR1cm4gKGNvcmVfMS5pc0RlZmluZWQoY29uZmlnLnRlbXBsYXRlKSA/IGFzVGVtcGxhdGUodGhpcy5mcm9tU3RyaW5nKGNvbmZpZy50ZW1wbGF0ZSwgcGFyYW1zKSkgOlxuICAgICAgICAgICAgY29yZV8xLmlzRGVmaW5lZChjb25maWcudGVtcGxhdGVVcmwpID8gYXNUZW1wbGF0ZSh0aGlzLmZyb21VcmwoY29uZmlnLnRlbXBsYXRlVXJsLCBwYXJhbXMpKSA6XG4gICAgICAgICAgICAgICAgY29yZV8xLmlzRGVmaW5lZChjb25maWcudGVtcGxhdGVQcm92aWRlcikgPyBhc1RlbXBsYXRlKHRoaXMuZnJvbVByb3ZpZGVyKGNvbmZpZy50ZW1wbGF0ZVByb3ZpZGVyLCBwYXJhbXMsIGNvbnRleHQpKSA6XG4gICAgICAgICAgICAgICAgICAgIGNvcmVfMS5pc0RlZmluZWQoY29uZmlnLmNvbXBvbmVudCkgPyBhc0NvbXBvbmVudChjb25maWcuY29tcG9uZW50KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEuaXNEZWZpbmVkKGNvbmZpZy5jb21wb25lbnRQcm92aWRlcikgPyBhc0NvbXBvbmVudCh0aGlzLmZyb21Db21wb25lbnRQcm92aWRlcihjb25maWcuY29tcG9uZW50UHJvdmlkZXIsIHBhcmFtcywgY29udGV4dCkpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc1RlbXBsYXRlKGRlZmF1bHRUZW1wbGF0ZSkpO1xuICAgIH07XG4gICAgO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0ZW1wbGF0ZSBmcm9tIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRlbXBsYXRlIGh0bWwgdGVtcGxhdGUgYXMgYSBzdHJpbmcgb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGh0bWwgdGVtcGxhdGUgYXMgYSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHBhcmFtcyBQYXJhbWV0ZXJzIHRvIHBhc3MgdG8gdGhlIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfG9iamVjdH0gVGhlIHRlbXBsYXRlIGh0bWwgYXMgYSBzdHJpbmcsIG9yIGEgcHJvbWlzZSBmb3IgdGhhdFxuICAgICAqIHN0cmluZy5cbiAgICAgKi9cbiAgICBUZW1wbGF0ZUZhY3RvcnkucHJvdG90eXBlLmZyb21TdHJpbmcgPSBmdW5jdGlvbiAodGVtcGxhdGUsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gY29yZV8xLmlzRnVuY3Rpb24odGVtcGxhdGUpID8gdGVtcGxhdGUocGFyYW1zKSA6IHRlbXBsYXRlO1xuICAgIH07XG4gICAgO1xuICAgIC8qKlxuICAgICAqIExvYWRzIGEgdGVtcGxhdGUgZnJvbSB0aGUgYSBVUkwgdmlhIGAkaHR0cGAgYW5kIGAkdGVtcGxhdGVDYWNoZWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xGdW5jdGlvbn0gdXJsIHVybCBvZiB0aGUgdGVtcGxhdGUgdG8gbG9hZCwgb3IgYSBmdW5jdGlvblxuICAgICAqIHRoYXQgcmV0dXJucyBhIHVybC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIFBhcmFtZXRlcnMgdG8gcGFzcyB0byB0aGUgdXJsIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xQcm9taXNlLjxzdHJpbmc+fSBUaGUgdGVtcGxhdGUgaHRtbCBhcyBhIHN0cmluZywgb3IgYSBwcm9taXNlXG4gICAgICogZm9yIHRoYXQgc3RyaW5nLlxuICAgICAqL1xuICAgIFRlbXBsYXRlRmFjdG9yeS5wcm90b3R5cGUuZnJvbVVybCA9IGZ1bmN0aW9uICh1cmwsIHBhcmFtcykge1xuICAgICAgICBpZiAoY29yZV8xLmlzRnVuY3Rpb24odXJsKSlcbiAgICAgICAgICAgIHVybCA9IHVybChwYXJhbXMpO1xuICAgICAgICBpZiAodXJsID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX3VzZUh0dHApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRodHRwLmdldCh1cmwsIHsgY2FjaGU6IHRoaXMuJHRlbXBsYXRlQ2FjaGUsIGhlYWRlcnM6IHsgQWNjZXB0OiAndGV4dC9odG1sJyB9IH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy4kdGVtcGxhdGVSZXF1ZXN0KHVybCk7XG4gICAgfTtcbiAgICA7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRlbXBsYXRlIGJ5IGludm9raW5nIGFuIGluamVjdGFibGUgcHJvdmlkZXIgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJvdmlkZXIgRnVuY3Rpb24gdG8gaW52b2tlIHZpYSBgbG9jYWxzYFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGluamVjdEZuIGEgZnVuY3Rpb24gdXNlZCB0byBpbnZva2UgdGhlIHRlbXBsYXRlIHByb3ZpZGVyXG4gICAgICogQHJldHVybiB7c3RyaW5nfFByb21pc2UuPHN0cmluZz59IFRoZSB0ZW1wbGF0ZSBodG1sIGFzIGEgc3RyaW5nLCBvciBhIHByb21pc2VcbiAgICAgKiBmb3IgdGhhdCBzdHJpbmcuXG4gICAgICovXG4gICAgVGVtcGxhdGVGYWN0b3J5LnByb3RvdHlwZS5mcm9tUHJvdmlkZXIgPSBmdW5jdGlvbiAocHJvdmlkZXIsIHBhcmFtcywgY29udGV4dCkge1xuICAgICAgICB2YXIgZGVwcyA9IGNvcmVfMS5zZXJ2aWNlcy4kaW5qZWN0b3IuYW5ub3RhdGUocHJvdmlkZXIpO1xuICAgICAgICB2YXIgcHJvdmlkZXJGbiA9IGNvcmVfMS5pc0FycmF5KHByb3ZpZGVyKSA/IGNvcmVfMS50YWlsKHByb3ZpZGVyKSA6IHByb3ZpZGVyO1xuICAgICAgICB2YXIgcmVzb2x2YWJsZSA9IG5ldyBjb3JlXzEuUmVzb2x2YWJsZShcIlwiLCBwcm92aWRlckZuLCBkZXBzKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmFibGUuZ2V0KGNvbnRleHQpO1xuICAgIH07XG4gICAgO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjb21wb25lbnQncyB0ZW1wbGF0ZSBieSBpbnZva2luZyBhbiBpbmplY3RhYmxlIHByb3ZpZGVyIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByb3ZpZGVyIEZ1bmN0aW9uIHRvIGludm9rZSB2aWEgYGxvY2Fsc2BcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbmplY3RGbiBhIGZ1bmN0aW9uIHVzZWQgdG8gaW52b2tlIHRoZSB0ZW1wbGF0ZSBwcm92aWRlclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRlbXBsYXRlIGh0bWwgYXMgYSBzdHJpbmc6IFwiPGNvbXBvbmVudC1uYW1lIGlucHV0MT0nOjokcmVzb2x2ZS5mb28nPjwvY29tcG9uZW50LW5hbWU+XCIuXG4gICAgICovXG4gICAgVGVtcGxhdGVGYWN0b3J5LnByb3RvdHlwZS5mcm9tQ29tcG9uZW50UHJvdmlkZXIgPSBmdW5jdGlvbiAocHJvdmlkZXIsIHBhcmFtcywgY29udGV4dCkge1xuICAgICAgICB2YXIgZGVwcyA9IGNvcmVfMS5zZXJ2aWNlcy4kaW5qZWN0b3IuYW5ub3RhdGUocHJvdmlkZXIpO1xuICAgICAgICB2YXIgcHJvdmlkZXJGbiA9IGNvcmVfMS5pc0FycmF5KHByb3ZpZGVyKSA/IGNvcmVfMS50YWlsKHByb3ZpZGVyKSA6IHByb3ZpZGVyO1xuICAgICAgICB2YXIgcmVzb2x2YWJsZSA9IG5ldyBjb3JlXzEuUmVzb2x2YWJsZShcIlwiLCBwcm92aWRlckZuLCBkZXBzKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmFibGUuZ2V0KGNvbnRleHQpO1xuICAgIH07XG4gICAgO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0ZW1wbGF0ZSBmcm9tIGEgY29tcG9uZW50J3MgbmFtZVxuICAgICAqXG4gICAgICogVGhpcyBpbXBsZW1lbnRzIHJvdXRlLXRvLWNvbXBvbmVudC5cbiAgICAgKiBJdCB3b3JrcyBieSByZXRyaWV2aW5nIHRoZSBjb21wb25lbnQgKGRpcmVjdGl2ZSkgbWV0YWRhdGEgZnJvbSB0aGUgaW5qZWN0b3IuXG4gICAgICogSXQgYW5hbHlzZXMgdGhlIGNvbXBvbmVudCdzIGJpbmRpbmdzLCB0aGVuIGNvbnN0cnVjdHMgYSB0ZW1wbGF0ZSB0aGF0IGluc3RhbnRpYXRlcyB0aGUgY29tcG9uZW50LlxuICAgICAqIFRoZSB0ZW1wbGF0ZSB3aXJlcyBpbnB1dCBhbmQgb3V0cHV0IGJpbmRpbmdzIHRvIHJlc29sdmVzIG9yIGZyb20gdGhlIHBhcmVudCBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdWlWaWV3IHtvYmplY3R9IFRoZSBwYXJlbnQgdWktdmlldyAoZm9yIGJpbmRpbmcgb3V0cHV0cyB0byBjYWxsYmFja3MpXG4gICAgICogQHBhcmFtIGNvbnRleHQgVGhlIFJlc29sdmVDb250ZXh0IChmb3IgYmluZGluZyBvdXRwdXRzIHRvIGNhbGxiYWNrcyByZXR1cm5lZCBmcm9tIHJlc29sdmVzKVxuICAgICAqIEBwYXJhbSBjb21wb25lbnQge3N0cmluZ30gQ29tcG9uZW50J3MgbmFtZSBpbiBjYW1lbCBjYXNlLlxuICAgICAqIEBwYXJhbSBiaW5kaW5ncyBBbiBvYmplY3QgZGVmaW5pbmcgdGhlIGNvbXBvbmVudCdzIGJpbmRpbmdzOiB7Zm9vOiAnPCd9XG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGVtcGxhdGUgYXMgYSBzdHJpbmc6IFwiPGNvbXBvbmVudC1uYW1lIGlucHV0MT0nOjokcmVzb2x2ZS5mb28nPjwvY29tcG9uZW50LW5hbWU+XCIuXG4gICAgICovXG4gICAgVGVtcGxhdGVGYWN0b3J5LnByb3RvdHlwZS5tYWtlQ29tcG9uZW50VGVtcGxhdGUgPSBmdW5jdGlvbiAodWlWaWV3LCBjb250ZXh0LCBjb21wb25lbnQsIGJpbmRpbmdzKSB7XG4gICAgICAgIGJpbmRpbmdzID0gYmluZGluZ3MgfHwge307XG4gICAgICAgIC8vIEJpbmQgb25jZSBwcmVmaXhcbiAgICAgICAgdmFyIHByZWZpeCA9IGFuZ3VsYXJfMS5uZy52ZXJzaW9uLm1pbm9yID49IDMgPyBcIjo6XCIgOiBcIlwiO1xuICAgICAgICAvLyBDb252ZXJ0IHRvIGtlYm9iIG5hbWUuIEFkZCB4LSBwcmVmaXggaWYgdGhlIHN0cmluZyBzdGFydHMgd2l0aCBgeC1gIG9yIGBkYXRhLWBcbiAgICAgICAgdmFyIGtlYm9iID0gZnVuY3Rpb24gKGNhbWVsQ2FzZSkge1xuICAgICAgICAgICAgdmFyIGtlYm9iZWQgPSBjb3JlXzEua2Vib2JTdHJpbmcoY2FtZWxDYXNlKTtcbiAgICAgICAgICAgIHJldHVybiAvXih4fGRhdGEpLS8uZXhlYyhrZWJvYmVkKSA/IFwieC1cIiArIGtlYm9iZWQgOiBrZWJvYmVkO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgYXR0cmlidXRlVHBsID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGlucHV0Lm5hbWUsIHR5cGUgPSBpbnB1dC50eXBlO1xuICAgICAgICAgICAgdmFyIGF0dHJOYW1lID0ga2Vib2IobmFtZSk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdWktdmlldyBoYXMgYW4gYXR0cmlidXRlIHdoaWNoIG1hdGNoZXMgYSBiaW5kaW5nIG9uIHRoZSByb3V0ZWQgY29tcG9uZW50XG4gICAgICAgICAgICAvLyB0aGVuIHBhc3MgdGhhdCBhdHRyaWJ1dGUgdGhyb3VnaCB0byB0aGUgcm91dGVkIGNvbXBvbmVudCB0ZW1wbGF0ZS5cbiAgICAgICAgICAgIC8vIFByZWZlciB1aS12aWV3IHdpcmVkIG1hcHBpbmdzIHRvIHJlc29sdmUgZGF0YSwgdW5sZXNzIHRoZSByZXNvbHZlIHdhcyBleHBsaWNpdGx5IGJvdW5kIHVzaW5nIGBiaW5kaW5nczpgXG4gICAgICAgICAgICBpZiAodWlWaWV3LmF0dHIoYXR0ck5hbWUpICYmICFiaW5kaW5nc1tuYW1lXSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0ck5hbWUgKyBcIj0nXCIgKyB1aVZpZXcuYXR0cihhdHRyTmFtZSkgKyBcIidcIjtcbiAgICAgICAgICAgIHZhciByZXNvbHZlTmFtZSA9IGJpbmRpbmdzW25hbWVdIHx8IG5hbWU7XG4gICAgICAgICAgICAvLyBQcmUtZXZhbHVhdGUgdGhlIGV4cHJlc3Npb24gZm9yIFwiQFwiIGJpbmRpbmdzIGJ5IGVuY2xvc2luZyBpbiB7eyB9fVxuICAgICAgICAgICAgLy8gc29tZS1hdHRyPVwie3sgOjokcmVzb2x2ZS5zb21lUmVzb2x2ZU5hbWUgfX1cIlxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdAJylcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0ck5hbWUgKyBcIj0ne3tcIiArIHByZWZpeCArIFwiJHJlc29sdmUuXCIgKyByZXNvbHZlTmFtZSArIFwifX0nXCI7XG4gICAgICAgICAgICAvLyBXaXJlIFwiJlwiIGNhbGxiYWNrcyB0byByZXNvbHZlcyB0aGF0IHJldHVybiBhIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgICAgICAvLyBHZXQgdGhlIHJlc3VsdCBvZiB0aGUgcmVzb2x2ZSAoc2hvdWxkIGJlIGEgZnVuY3Rpb24pIGFuZCBhbm5vdGF0ZSBpdCB0byBnZXQgaXRzIGFyZ3VtZW50cy5cbiAgICAgICAgICAgIC8vIHNvbWUtYXR0cj1cIiRyZXNvbHZlLnNvbWVSZXNvbHZlUmVzdWx0TmFtZShmb28sIGJhcilcIlxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICcmJykge1xuICAgICAgICAgICAgICAgIHZhciByZXMgPSBjb250ZXh0LmdldFJlc29sdmFibGUocmVzb2x2ZU5hbWUpO1xuICAgICAgICAgICAgICAgIHZhciBmbiA9IHJlcyAmJiByZXMuZGF0YTtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGZuICYmIGNvcmVfMS5zZXJ2aWNlcy4kaW5qZWN0b3IuYW5ub3RhdGUoZm4pIHx8IFtdO1xuICAgICAgICAgICAgICAgIC8vIGFjY291bnQgZm9yIGFycmF5IHN0eWxlIGluamVjdGlvbiwgaS5lLiwgWydmb28nLCBmdW5jdGlvbihmb28pIHt9XVxuICAgICAgICAgICAgICAgIHZhciBhcnJheUlkeFN0ciA9IGNvcmVfMS5pc0FycmF5KGZuKSA/IFwiW1wiICsgKGZuLmxlbmd0aCAtIDEpICsgXCJdXCIgOiAnJztcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0ck5hbWUgKyBcIj0nJHJlc29sdmUuXCIgKyByZXNvbHZlTmFtZSArIGFycmF5SWR4U3RyICsgXCIoXCIgKyBhcmdzLmpvaW4oXCIsXCIpICsgXCIpJ1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc29tZS1hdHRyPVwiOjokcmVzb2x2ZS5zb21lUmVzb2x2ZU5hbWVcIlxuICAgICAgICAgICAgcmV0dXJuIGF0dHJOYW1lICsgXCI9J1wiICsgcHJlZml4ICsgXCIkcmVzb2x2ZS5cIiArIHJlc29sdmVOYW1lICsgXCInXCI7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBhdHRycyA9IGdldENvbXBvbmVudEJpbmRpbmdzKGNvbXBvbmVudCkubWFwKGF0dHJpYnV0ZVRwbCkuam9pbihcIiBcIik7XG4gICAgICAgIHZhciBrZWJvYk5hbWUgPSBrZWJvYihjb21wb25lbnQpO1xuICAgICAgICByZXR1cm4gXCI8XCIgKyBrZWJvYk5hbWUgKyBcIiBcIiArIGF0dHJzICsgXCI+PC9cIiArIGtlYm9iTmFtZSArIFwiPlwiO1xuICAgIH07XG4gICAgO1xuICAgIHJldHVybiBUZW1wbGF0ZUZhY3Rvcnk7XG59KCkpO1xuZXhwb3J0cy5UZW1wbGF0ZUZhY3RvcnkgPSBUZW1wbGF0ZUZhY3Rvcnk7XG4vLyBHZXRzIGFsbCB0aGUgZGlyZWN0aXZlKHMpJyBpbnB1dHMgKCdAJywgJz0nLCBhbmQgJzwnKSBhbmQgb3V0cHV0cyAoJyYnKVxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50QmluZGluZ3MobmFtZSkge1xuICAgIHZhciBjbXBEZWZzID0gY29yZV8xLnNlcnZpY2VzLiRpbmplY3Rvci5nZXQobmFtZSArIFwiRGlyZWN0aXZlXCIpOyAvLyBjb3VsZCBiZSBtdWx0aXBsZVxuICAgIGlmICghY21wRGVmcyB8fCAhY21wRGVmcy5sZW5ndGgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIGNvbXBvbmVudCBuYW1lZCAnXCIgKyBuYW1lICsgXCInXCIpO1xuICAgIHJldHVybiBjbXBEZWZzLm1hcChnZXRCaW5kaW5ncykucmVkdWNlKGNvcmVfMS51bm5lc3RSLCBbXSk7XG59XG4vLyBHaXZlbiBhIGRpcmVjdGl2ZSBkZWZpbml0aW9uLCBmaW5kIGl0cyBvYmplY3QgaW5wdXQgYXR0cmlidXRlc1xuLy8gVXNlIGRpZmZlcmVudCBwcm9wZXJ0aWVzLCBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2YgZGlyZWN0aXZlIChjb21wb25lbnQsIGJpbmRUb0NvbnRyb2xsZXIsIG5vcm1hbClcbnZhciBnZXRCaW5kaW5ncyA9IGZ1bmN0aW9uIChkZWYpIHtcbiAgICBpZiAoY29yZV8xLmlzT2JqZWN0KGRlZi5iaW5kVG9Db250cm9sbGVyKSlcbiAgICAgICAgcmV0dXJuIHNjb3BlQmluZGluZ3MoZGVmLmJpbmRUb0NvbnRyb2xsZXIpO1xuICAgIHJldHVybiBzY29wZUJpbmRpbmdzKGRlZi5zY29wZSk7XG59O1xuLy8gZm9yIG5nIDEuMiBzdHlsZSwgcHJvY2VzcyB0aGUgc2NvcGU6IHsgaW5wdXQ6IFwiPWZvb1wiIH1cbi8vIGZvciBuZyAxLjMgdGhyb3VnaCBuZyAxLjUsIHByb2Nlc3MgdGhlIGNvbXBvbmVudCdzIGJpbmRUb0NvbnRyb2xsZXI6IHsgaW5wdXQ6IFwiPWZvb1wiIH0gb2JqZWN0XG52YXIgc2NvcGVCaW5kaW5ncyA9IGZ1bmN0aW9uIChiaW5kaW5nc09iaikgeyByZXR1cm4gT2JqZWN0LmtleXMoYmluZGluZ3NPYmogfHwge30pXG4gICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBba2V5LCAvXihbPTxAJl0pWz9dPyguKikvLmV4ZWMoYmluZGluZ3NPYmpba2V5XSldOyB9KVxuICAgIC5maWx0ZXIoZnVuY3Rpb24gKHR1cGxlKSB7IHJldHVybiBjb3JlXzEuaXNEZWZpbmVkKHR1cGxlKSAmJiBjb3JlXzEuaXNBcnJheSh0dXBsZVsxXSk7IH0pXG4gICAgLm1hcChmdW5jdGlvbiAodHVwbGUpIHsgcmV0dXJuICh7IG5hbWU6IHR1cGxlWzFdWzJdIHx8IHR1cGxlWzBdLCB0eXBlOiB0dXBsZVsxXVsxXSB9KTsgfSk7IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZUZhY3RvcnkuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL2FuZ3VsYXItdWktcm91dGVyL2xpYi90ZW1wbGF0ZUZhY3RvcnkuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///80\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @module ng1 */ /** */\nvar core_1 = __webpack_require__(4);\nvar services_1 = __webpack_require__(28);\n/**\n * This is a [[StateBuilder.builder]] function for angular1 `onEnter`, `onExit`,\n * `onRetain` callback hooks on a [[Ng1StateDeclaration]].\n *\n * When the [[StateBuilder]] builds a [[StateObject]] object from a raw [[StateDeclaration]], this builder\n * ensures that those hooks are injectable for @uirouter/angularjs (ng1).\n */\nexports.getStateHookBuilder = function (hookName) {\n    return function stateHookBuilder(state, parentFn) {\n        var hook = state[hookName];\n        var pathname = hookName === 'onExit' ? 'from' : 'to';\n        function decoratedNg1Hook(trans, state) {\n            var resolveContext = new core_1.ResolveContext(trans.treeChanges(pathname));\n            var locals = core_1.extend(services_1.getLocals(resolveContext), { $state$: state, $transition$: trans });\n            return core_1.services.$injector.invoke(hook, this, locals);\n        }\n        return hook ? decoratedNg1Hook : undefined;\n    };\n};\n//# sourceMappingURL=onEnterExitRetain.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL3N0YXRlYnVpbGRlcnMvb25FbnRlckV4aXRSZXRhaW4uanM/ZDJlNSJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNvcmVfMSIsInJlcXVpcmUiLCJzZXJ2aWNlc18xIiwiZ2V0U3RhdGVIb29rQnVpbGRlciIsImhvb2tOYW1lIiwic3RhdGVIb29rQnVpbGRlciIsInN0YXRlIiwicGFyZW50Rm4iLCJob29rIiwicGF0aG5hbWUiLCJkZWNvcmF0ZWROZzFIb29rIiwidHJhbnMiLCJyZXNvbHZlQ29udGV4dCIsIlJlc29sdmVDb250ZXh0IiwidHJlZUNoYW5nZXMiLCJsb2NhbHMiLCJleHRlbmQiLCJnZXRMb2NhbHMiLCIkc3RhdGUkIiwiJHRyYW5zaXRpb24kIiwic2VydmljZXMiLCIkaW5qZWN0b3IiLCJpbnZva2UiLCJ1bmRlZmluZWQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQSxrQixDQUFtQjtBQUNuQixJQUFJQyxTQUFTLG1CQUFBQyxDQUFRLENBQVIsQ0FBYjtBQUNBLElBQUlDLGFBQWEsbUJBQUFELENBQVEsRUFBUixDQUFqQjtBQUNBOzs7Ozs7O0FBT0FILFFBQVFLLG1CQUFSLEdBQThCLFVBQVVDLFFBQVYsRUFBb0I7QUFDOUMsV0FBTyxTQUFTQyxnQkFBVCxDQUEwQkMsS0FBMUIsRUFBaUNDLFFBQWpDLEVBQTJDO0FBQzlDLFlBQUlDLE9BQU9GLE1BQU1GLFFBQU4sQ0FBWDtBQUNBLFlBQUlLLFdBQVdMLGFBQWEsUUFBYixHQUF3QixNQUF4QixHQUFpQyxJQUFoRDtBQUNBLGlCQUFTTSxnQkFBVCxDQUEwQkMsS0FBMUIsRUFBaUNMLEtBQWpDLEVBQXdDO0FBQ3BDLGdCQUFJTSxpQkFBaUIsSUFBSVosT0FBT2EsY0FBWCxDQUEwQkYsTUFBTUcsV0FBTixDQUFrQkwsUUFBbEIsQ0FBMUIsQ0FBckI7QUFDQSxnQkFBSU0sU0FBU2YsT0FBT2dCLE1BQVAsQ0FBY2QsV0FBV2UsU0FBWCxDQUFxQkwsY0FBckIsQ0FBZCxFQUFvRCxFQUFFTSxTQUFTWixLQUFYLEVBQWtCYSxjQUFjUixLQUFoQyxFQUFwRCxDQUFiO0FBQ0EsbUJBQU9YLE9BQU9vQixRQUFQLENBQWdCQyxTQUFoQixDQUEwQkMsTUFBMUIsQ0FBaUNkLElBQWpDLEVBQXVDLElBQXZDLEVBQTZDTyxNQUE3QyxDQUFQO0FBQ0g7QUFDRCxlQUFPUCxPQUFPRSxnQkFBUCxHQUEwQmEsU0FBakM7QUFDSCxLQVREO0FBVUgsQ0FYRDtBQVlBIiwiZmlsZSI6IjgxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQG1vZHVsZSBuZzEgKi8gLyoqICovXG52YXIgY29yZV8xID0gcmVxdWlyZShcIkB1aXJvdXRlci9jb3JlXCIpO1xudmFyIHNlcnZpY2VzXzEgPSByZXF1aXJlKFwiLi4vc2VydmljZXNcIik7XG4vKipcbiAqIFRoaXMgaXMgYSBbW1N0YXRlQnVpbGRlci5idWlsZGVyXV0gZnVuY3Rpb24gZm9yIGFuZ3VsYXIxIGBvbkVudGVyYCwgYG9uRXhpdGAsXG4gKiBgb25SZXRhaW5gIGNhbGxiYWNrIGhvb2tzIG9uIGEgW1tOZzFTdGF0ZURlY2xhcmF0aW9uXV0uXG4gKlxuICogV2hlbiB0aGUgW1tTdGF0ZUJ1aWxkZXJdXSBidWlsZHMgYSBbW1N0YXRlT2JqZWN0XV0gb2JqZWN0IGZyb20gYSByYXcgW1tTdGF0ZURlY2xhcmF0aW9uXV0sIHRoaXMgYnVpbGRlclxuICogZW5zdXJlcyB0aGF0IHRob3NlIGhvb2tzIGFyZSBpbmplY3RhYmxlIGZvciBAdWlyb3V0ZXIvYW5ndWxhcmpzIChuZzEpLlxuICovXG5leHBvcnRzLmdldFN0YXRlSG9va0J1aWxkZXIgPSBmdW5jdGlvbiAoaG9va05hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gc3RhdGVIb29rQnVpbGRlcihzdGF0ZSwgcGFyZW50Rm4pIHtcbiAgICAgICAgdmFyIGhvb2sgPSBzdGF0ZVtob29rTmFtZV07XG4gICAgICAgIHZhciBwYXRobmFtZSA9IGhvb2tOYW1lID09PSAnb25FeGl0JyA/ICdmcm9tJyA6ICd0byc7XG4gICAgICAgIGZ1bmN0aW9uIGRlY29yYXRlZE5nMUhvb2sodHJhbnMsIHN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x2ZUNvbnRleHQgPSBuZXcgY29yZV8xLlJlc29sdmVDb250ZXh0KHRyYW5zLnRyZWVDaGFuZ2VzKHBhdGhuYW1lKSk7XG4gICAgICAgICAgICB2YXIgbG9jYWxzID0gY29yZV8xLmV4dGVuZChzZXJ2aWNlc18xLmdldExvY2FscyhyZXNvbHZlQ29udGV4dCksIHsgJHN0YXRlJDogc3RhdGUsICR0cmFuc2l0aW9uJDogdHJhbnMgfSk7XG4gICAgICAgICAgICByZXR1cm4gY29yZV8xLnNlcnZpY2VzLiRpbmplY3Rvci5pbnZva2UoaG9vaywgdGhpcywgbG9jYWxzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaG9vayA/IGRlY29yYXRlZE5nMUhvb2sgOiB1bmRlZmluZWQ7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vbkVudGVyRXhpdFJldGFpbi5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL3N0YXRlYnVpbGRlcnMvb25FbnRlckV4aXRSZXRhaW4uanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///81\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(4);\n/**\n * Implements UI-Router LocationServices and LocationConfig using Angular 1's $location service\n */\nvar Ng1LocationServices = function () {\n    function Ng1LocationServices($locationProvider) {\n        // .onChange() registry\n        this._urlListeners = [];\n        this.$locationProvider = $locationProvider;\n        var _lp = core_1.val($locationProvider);\n        core_1.createProxyFunctions(_lp, this, _lp, ['hashPrefix']);\n    }\n    Ng1LocationServices.prototype.dispose = function () {};\n    Ng1LocationServices.prototype.onChange = function (callback) {\n        var _this = this;\n        this._urlListeners.push(callback);\n        return function () {\n            return core_1.removeFrom(_this._urlListeners)(callback);\n        };\n    };\n    Ng1LocationServices.prototype.html5Mode = function () {\n        var html5Mode = this.$locationProvider.html5Mode();\n        html5Mode = core_1.isObject(html5Mode) ? html5Mode.enabled : html5Mode;\n        return html5Mode && this.$sniffer.history;\n    };\n    Ng1LocationServices.prototype.url = function (newUrl, replace, state) {\n        if (replace === void 0) {\n            replace = false;\n        }\n        if (newUrl) this.$location.url(newUrl);\n        if (replace) this.$location.replace();\n        if (state) this.$location.state(state);\n        return this.$location.url();\n    };\n    Ng1LocationServices.prototype._runtimeServices = function ($rootScope, $location, $sniffer, $browser) {\n        var _this = this;\n        this.$location = $location;\n        this.$sniffer = $sniffer;\n        // Bind $locationChangeSuccess to the listeners registered in LocationService.onChange\n        $rootScope.$on(\"$locationChangeSuccess\", function (evt) {\n            return _this._urlListeners.forEach(function (fn) {\n                return fn(evt);\n            });\n        });\n        var _loc = core_1.val($location);\n        var _browser = core_1.val($browser);\n        // Bind these LocationService functions to $location\n        core_1.createProxyFunctions(_loc, this, _loc, [\"replace\", \"path\", \"search\", \"hash\"]);\n        // Bind these LocationConfig functions to $location\n        core_1.createProxyFunctions(_loc, this, _loc, ['port', 'protocol', 'host']);\n        // Bind these LocationConfig functions to $browser\n        core_1.createProxyFunctions(_browser, this, _browser, ['baseHref']);\n    };\n    /**\n     * Applys ng1-specific path parameter encoding\n     *\n     * The Angular 1 `$location` service is a bit weird.\n     * It doesn't allow slashes to be encoded/decoded bi-directionally.\n     *\n     * See the writeup at https://github.com/angular-ui/ui-router/issues/2598\n     *\n     * This code patches the `path` parameter type so it encoded/decodes slashes as ~2F\n     *\n     * @param router\n     */\n    Ng1LocationServices.monkeyPatchPathParameterType = function (router) {\n        var pathType = router.urlMatcherFactory.type('path');\n        pathType.encode = function (val) {\n            return val != null ? val.toString().replace(/(~|\\/)/g, function (m) {\n                return { '~': '~~', '/': '~2F' }[m];\n            }) : val;\n        };\n        pathType.decode = function (val) {\n            return val != null ? val.toString().replace(/(~~|~2F)/g, function (m) {\n                return { '~~': '~', '~2F': '/' }[m];\n            }) : val;\n        };\n    };\n    return Ng1LocationServices;\n}();\nexports.Ng1LocationServices = Ng1LocationServices;\n//# sourceMappingURL=locationServices.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL2xvY2F0aW9uU2VydmljZXMuanM/ODU4YyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNvcmVfMSIsInJlcXVpcmUiLCJOZzFMb2NhdGlvblNlcnZpY2VzIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJfdXJsTGlzdGVuZXJzIiwiX2xwIiwidmFsIiwiY3JlYXRlUHJveHlGdW5jdGlvbnMiLCJwcm90b3R5cGUiLCJkaXNwb3NlIiwib25DaGFuZ2UiLCJjYWxsYmFjayIsIl90aGlzIiwicHVzaCIsInJlbW92ZUZyb20iLCJodG1sNU1vZGUiLCJpc09iamVjdCIsImVuYWJsZWQiLCIkc25pZmZlciIsImhpc3RvcnkiLCJ1cmwiLCJuZXdVcmwiLCJyZXBsYWNlIiwic3RhdGUiLCIkbG9jYXRpb24iLCJfcnVudGltZVNlcnZpY2VzIiwiJHJvb3RTY29wZSIsIiRicm93c2VyIiwiJG9uIiwiZXZ0IiwiZm9yRWFjaCIsImZuIiwiX2xvYyIsIl9icm93c2VyIiwibW9ua2V5UGF0Y2hQYXRoUGFyYW1ldGVyVHlwZSIsInJvdXRlciIsInBhdGhUeXBlIiwidXJsTWF0Y2hlckZhY3RvcnkiLCJ0eXBlIiwiZW5jb2RlIiwidG9TdHJpbmciLCJtIiwiZGVjb2RlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0EsSUFBSUMsU0FBUyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7QUFDQTs7O0FBR0EsSUFBSUMsc0JBQXVCLFlBQVk7QUFDbkMsYUFBU0EsbUJBQVQsQ0FBNkJDLGlCQUE3QixFQUFnRDtBQUM1QztBQUNBLGFBQUtDLGFBQUwsR0FBcUIsRUFBckI7QUFDQSxhQUFLRCxpQkFBTCxHQUF5QkEsaUJBQXpCO0FBQ0Es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QkFBUCxDQUF5QkMsSUFBekIsQ0FBOEIsTUFBOUIsQ0FBZjtBQUNBRixpQkFBU0csTUFBVCxHQUFrQixVQUFVakMsR0FBVixFQUFlO0FBQzdCLG1CQUFPQSxPQUFPLElBQVAsR0FBY0EsSUFBSWtDLFFBQUosR0FBZWxCLE9BQWYsQ0FBdUIsU0FBdkIsRUFBa0MsVUFBVW1CLENBQVYsRUFBYTtBQUFFLHVCQUFRLEVBQUUsS0FBSyxJQUFQLEVBQWEsS0FBSyxLQUFsQixHQUEwQkEsQ0FBMUIsQ0FBUjtBQUF3QyxhQUF6RixDQUFkLEdBQTJHbkMsR0FBbEg7QUFDSCxTQUZEO0FBR0E4QixpQkFBU00sTUFBVCxHQUFrQixVQUFVcEMsR0FBVixFQUFlO0FBQzdCLG1CQUFPQSxPQUFPLElBQVAsR0FBY0EsSUFBSWtDLFFBQUosR0FBZWxCLE9BQWYsQ0FBdUIsV0FBdkIsRUFBb0MsVUFBVW1CLENBQVYsRUFBYTtBQUFFLHVCQUFRLEVBQUUsTUFBTSxHQUFSLEVBQWEsT0FBTyxHQUFwQixHQUEwQkEsQ0FBMUIsQ0FBUjtBQUF3QyxhQUEzRixDQUFkLEdBQTZHbkMsR0FBcEg7QUFDSCxTQUZEO0FBR0gsS0FSRDtBQVNBLFdBQU9KLG1CQUFQO0FBQ0gsQ0FsRTBCLEVBQTNCO0FBbUVBSixRQUFRSSxtQkFBUixHQUE4QkEsbUJBQTlCO0FBQ0EiLCJmaWxlIjoiODIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiQHVpcm91dGVyL2NvcmVcIik7XG4vKipcbiAqIEltcGxlbWVudHMgVUktUm91dGVyIExvY2F0aW9uU2VydmljZXMgYW5kIExvY2F0aW9uQ29uZmlnIHVzaW5nIEFuZ3VsYXIgMSdzICRsb2NhdGlvbiBzZXJ2aWNlXG4gKi9cbnZhciBOZzFMb2NhdGlvblNlcnZpY2VzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZzFMb2NhdGlvblNlcnZpY2VzKCRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICAgIC8vIC5vbkNoYW5nZSgpIHJlZ2lzdHJ5XG4gICAgICAgIHRoaXMuX3VybExpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLiRsb2NhdGlvblByb3ZpZGVyID0gJGxvY2F0aW9uUHJvdmlkZXI7XG4gICAgICAgIHZhciBfbHAgPSBjb3JlXzEudmFsKCRsb2NhdGlvblByb3ZpZGVyKTtcbiAgICAgICAgY29yZV8xLmNyZWF0ZVByb3h5RnVuY3Rpb25zKF9scCwgdGhpcywgX2xwLCBbJ2hhc2hQcmVmaXgnXSk7XG4gICAgfVxuICAgIE5nMUxvY2F0aW9uU2VydmljZXMucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgTmcxTG9jYXRpb25TZXJ2aWNlcy5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fdXJsTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29yZV8xLnJlbW92ZUZyb20oX3RoaXMuX3VybExpc3RlbmVycykoY2FsbGJhY2spOyB9O1xuICAgIH07XG4gICAgTmcxTG9jYXRpb25TZXJ2aWNlcy5wcm90b3R5cGUuaHRtbDVNb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaHRtbDVNb2RlID0gdGhpcy4kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoKTtcbiAgICAgICAgaHRtbDVNb2RlID0gY29yZV8xLmlzT2JqZWN0KGh0bWw1TW9kZSkgPyBodG1sNU1vZGUuZW5hYmxlZCA6IGh0bWw1TW9kZTtcbiAgICAgICAgcmV0dXJuIGh0bWw1TW9kZSAmJiB0aGlzLiRzbmlmZmVyLmhpc3Rvcnk7XG4gICAgfTtcbiAgICBOZzFMb2NhdGlvblNlcnZpY2VzLnByb3RvdHlwZS51cmwgPSBmdW5jdGlvbiAobmV3VXJsLCByZXBsYWNlLCBzdGF0ZSkge1xuICAgICAgICBpZiAocmVwbGFjZSA9PT0gdm9pZCAwKSB7IHJlcGxhY2UgPSBmYWxzZTsgfVxuICAgICAgICBpZiAobmV3VXJsKVxuICAgICAgICAgICAgdGhpcy4kbG9jYXRpb24udXJsKG5ld1VybCk7XG4gICAgICAgIGlmIChyZXBsYWNlKVxuICAgICAgICAgICAgdGhpcy4kbG9jYXRpb24ucmVwbGFjZSgpO1xuICAgICAgICBpZiAoc3RhdGUpXG4gICAgICAgICAgICB0aGlzLiRsb2NhdGlvbi5zdGF0ZShzdGF0ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLiRsb2NhdGlvbi51cmwoKTtcbiAgICB9O1xuICAgIE5nMUxvY2F0aW9uU2VydmljZXMucHJvdG90eXBlLl9ydW50aW1lU2VydmljZXMgPSBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGxvY2F0aW9uLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy4kbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgICAgIHRoaXMuJHNuaWZmZXIgPSAkc25pZmZlcjtcbiAgICAgICAgLy8gQmluZCAkbG9jYXRpb25DaGFuZ2VTdWNjZXNzIHRvIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBpbiBMb2NhdGlvblNlcnZpY2Uub25DaGFuZ2VcbiAgICAgICAgJHJvb3RTY29wZS4kb24oXCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXCIsIGZ1bmN0aW9uIChldnQpIHsgcmV0dXJuIF90aGlzLl91cmxMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuKGV2dCk7IH0pOyB9KTtcbiAgICAgICAgdmFyIF9sb2MgPSBjb3JlXzEudmFsKCRsb2NhdGlvbik7XG4gICAgICAgIHZhciBfYnJvd3NlciA9IGNvcmVfMS52YWwoJGJyb3dzZXIpO1xuICAgICAgICAvLyBCaW5kIHRoZXNlIExvY2F0aW9uU2VydmljZSBmdW5jdGlvbnMgdG8gJGxvY2F0aW9uXG4gICAgICAgIGNvcmVfMS5jcmVhdGVQcm94eUZ1bmN0aW9ucyhfbG9jLCB0aGlzLCBfbG9jLCBbXCJyZXBsYWNlXCIsIFwicGF0aFwiLCBcInNlYXJjaFwiLCBcImhhc2hcIl0pO1xuICAgICAgICAvLyBCaW5kIHRoZXNlIExvY2F0aW9uQ29uZmlnIGZ1bmN0aW9ucyB0byAkbG9jYXRpb25cbiAgICAgICAgY29yZV8xLmNyZWF0ZVByb3h5RnVuY3Rpb25zKF9sb2MsIHRoaXMsIF9sb2MsIFsncG9ydCcsICdwcm90b2NvbCcsICdob3N0J10pO1xuICAgICAgICAvLyBCaW5kIHRoZXNlIExvY2F0aW9uQ29uZmlnIGZ1bmN0aW9ucyB0byAkYnJvd3NlclxuICAgICAgICBjb3JlXzEuY3JlYXRlUHJveHlGdW5jdGlvbnMoX2Jyb3dzZXIsIHRoaXMsIF9icm93c2VyLCBbJ2Jhc2VIcmVmJ10pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHlzIG5nMS1zcGVjaWZpYyBwYXRoIHBhcmFtZXRlciBlbmNvZGluZ1xuICAgICAqXG4gICAgICogVGhlIEFuZ3VsYXIgMSBgJGxvY2F0aW9uYCBzZXJ2aWNlIGlzIGEgYml0IHdlaXJkLlxuICAgICAqIEl0IGRvZXNuJ3QgYWxsb3cgc2xhc2hlcyB0byBiZSBlbmNvZGVkL2RlY29kZWQgYmktZGlyZWN0aW9uYWxseS5cbiAgICAgKlxuICAgICAqIFNlZSB0aGUgd3JpdGV1cCBhdCBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS91aS1yb3V0ZXIvaXNzdWVzLzI1OThcbiAgICAgKlxuICAgICAqIFRoaXMgY29kZSBwYXRjaGVzIHRoZSBgcGF0aGAgcGFyYW1ldGVyIHR5cGUgc28gaXQgZW5jb2RlZC9kZWNvZGVzIHNsYXNoZXMgYXMgfjJGXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcm91dGVyXG4gICAgICovXG4gICAgTmcxTG9jYXRpb25TZXJ2aWNlcy5tb25rZXlQYXRjaFBhdGhQYXJhbWV0ZXJUeXBlID0gZnVuY3Rpb24gKHJvdXRlcikge1xuICAgICAgICB2YXIgcGF0aFR5cGUgPSByb3V0ZXIudXJsTWF0Y2hlckZhY3RvcnkudHlwZSgncGF0aCcpO1xuICAgICAgICBwYXRoVHlwZS5lbmNvZGUgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsICE9IG51bGwgPyB2YWwudG9TdHJpbmcoKS5yZXBsYWNlKC8ofnxcXC8pL2csIGZ1bmN0aW9uIChtKSB7IHJldHVybiAoeyAnfic6ICd+ficsICcvJzogJ34yRicgfVttXSk7IH0pIDogdmFsO1xuICAgICAgICB9O1xuICAgICAgICBwYXRoVHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsICE9IG51bGwgPyB2YWwudG9TdHJpbmcoKS5yZXBsYWNlKC8ofn58fjJGKS9nLCBmdW5jdGlvbiAobSkgeyByZXR1cm4gKHsgJ35+JzogJ34nLCAnfjJGJzogJy8nIH1bbV0pOyB9KSA6IHZhbDtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBOZzFMb2NhdGlvblNlcnZpY2VzO1xufSgpKTtcbmV4cG9ydHMuTmcxTG9jYXRpb25TZXJ2aWNlcyA9IE5nMUxvY2F0aW9uU2VydmljZXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2NhdGlvblNlcnZpY2VzLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9hbmd1bGFyLXVpLXJvdXRlci9saWIvbG9jYXRpb25TZXJ2aWNlcy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///82\n")},function(module,exports,__webpack_require__){"use strict";eval("\n/**\n * # Angular 1 injectable services\n *\n * This is a list of the objects which can be injected using angular's injector.\n *\n * There are three different kind of injectable objects:\n *\n * ## **Provider** objects\n * #### injectable into a `.config()` block during configtime\n *\n * - [[$uiRouterProvider]]: The UI-Router instance\n * - [[$stateProvider]]: State registration\n * - [[$transitionsProvider]]: Transition hooks\n * - [[$urlServiceProvider]]: All URL related public APIs\n *\n * - [[$uiViewScrollProvider]]: Disable ui-router view scrolling\n * - [[$urlRouterProvider]]: (deprecated) Url matching rules\n * - [[$urlMatcherFactoryProvider]]: (deprecated) Url parsing config\n *\n * ## **Service** objects\n * #### injectable globally during runtime\n *\n * - [[$uiRouter]]: The UI-Router instance\n * - [[$trace]]: Enable transition trace/debug\n * - [[$transitions]]: Transition hooks\n * - [[$state]]: Imperative state related APIs\n * - [[$stateRegistry]]: State registration\n * - [[$urlService]]: All URL related public APIs\n * - [[$uiRouterGlobals]]: Global variables\n * - [[$uiViewScroll]]: Scroll an element into view\n *\n * - [[$stateParams]]: (deprecated) Global state param values\n * - [[$urlRouter]]: (deprecated) URL synchronization\n * - [[$urlMatcherFactory]]: (deprecated) URL parsing config\n *\n * ## **Per-Transition** objects\n *\n * - These kind of objects are injectable into:\n *   - Resolves ([[Ng1StateDeclaration.resolve]]),\n *   - Transition Hooks ([[TransitionService.onStart]], etc),\n *   - Routed Controllers ([[Ng1ViewDeclaration.controller]])\n *\n * #### Different instances are injected based on the [[Transition]]\n *\n * - [[$transition$]]: The current Transition object\n * - [[$stateParams]]: State param values for pending Transition (deprecated)\n * - Any resolve data defined using [[Ng1StateDeclaration.resolve]]\n *\n * @ng1api\n * @preferred\n * @module injectables\n */ /** */\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The current (or pending) State Parameters\n *\n * An injectable global **Service Object** which holds the state parameters for the latest **SUCCESSFUL** transition.\n *\n * The values are not updated until *after* a `Transition` successfully completes.\n *\n * **Also:** an injectable **Per-Transition Object** object which holds the pending state parameters for the pending `Transition` currently running.\n *\n * ### Deprecation warning:\n *\n * The value injected for `$stateParams` is different depending on where it is injected.\n *\n * - When injected into an angular service, the object injected is the global **Service Object** with the parameter values for the latest successful `Transition`.\n * - When injected into transition hooks, resolves, or view controllers, the object is the **Per-Transition Object** with the parameter values for the running `Transition`.\n *\n * Because of these confusing details, this service is deprecated.\n *\n * ### Instead of using the global `$stateParams` service object,\n * inject [[$uiRouterGlobals]] and use [[UIRouterGlobals.params]]\n *\n * ```js\n * MyService.$inject = ['$uiRouterGlobals'];\n * function MyService($uiRouterGlobals) {\n *   return {\n *     paramValues: function () {\n *       return $uiRouterGlobals.params;\n *     }\n *   }\n * }\n * ```\n *\n * ### Instead of using the per-transition `$stateParams` object,\n * inject the current `Transition` (as [[$transition$]]) and use [[Transition.params]]\n *\n * ```js\n * MyController.$inject = ['$transition$'];\n * function MyController($transition$) {\n *   var username = $transition$.params().username;\n *   // .. do something with username\n * }\n * ```\n *\n * ---\n *\n * This object can be injected into other services.\n *\n * #### Deprecated Example:\n * ```js\n * SomeService.$inject = ['$http', '$stateParams'];\n * function SomeService($http, $stateParams) {\n *   return {\n *     getUser: function() {\n *       return $http.get('/api/users/' + $stateParams.username);\n *     }\n *   }\n * };\n * angular.service('SomeService', SomeService);\n * ```\n * @deprecated\n */\nvar $stateParams;\n/**\n * Global UI-Router variables\n *\n * The router global state as a **Service Object** (injectable during runtime).\n *\n * This object contains globals such as the current state and current parameter values.\n */\nvar $uiRouterGlobals;\n/**\n * The UI-Router instance\n *\n * The [[UIRouter]] singleton (the router instance) as a **Service Object** (injectable during runtime).\n *\n * This object is the UI-Router singleton instance, created by angular dependency injection during application bootstrap.\n * It has references to the other UI-Router services\n *\n * #### Note: This object is also exposed as [[$uiRouterProvider]] for injection during angular config time.\n */\nvar $uiRouter;\n/**\n * The UI-Router instance\n *\n * The [[UIRouter]] singleton (the router instance) as a **Provider Object** (injectable during config phase).\n *\n * This object is the UI-Router singleton instance, created by angular dependency injection during application bootstrap.\n * It has references to the other UI-Router services\n *\n * #### Note: This object is also exposed as [[$uiRouter]] for injection during runtime.\n */\nvar $uiRouterProvider;\n/**\n * Transition debug/tracing\n *\n * The [[Trace]] singleton as a **Service Object** (injectable during runtime).\n *\n * Enables or disables Transition tracing which can help to debug issues.\n */\nvar $trace;\n/**\n * The Transition Service\n *\n * The [[TransitionService]] singleton as a **Service Object** (injectable during runtime).\n *\n * This angular service exposes the [[TransitionService]] singleton, which is primarily\n * used to register global transition hooks.\n *\n * #### Note: This object is also exposed as [[$transitionsProvider]] for injection during the config phase.\n */\nvar $transitions;\n/**\n * The Transition Service\n *\n * The [[TransitionService]] singleton as a **Provider Object** (injectable during config phase)\n *\n * This angular service exposes the [[TransitionService]] singleton, which is primarily\n * used to register global transition hooks.\n *\n * #### Note: This object is also exposed as [[$transitions]] for injection during runtime.\n */\nvar $transitionsProvider;\n/**\n * The current [[Transition]] object\n *\n * The current [[Transition]] object as a **Per-Transition Object** (injectable into Resolve, Hooks, Controllers)\n *\n * This object returns information about the current transition, including:\n *\n * - To/from states\n * - To/from parameters\n * - Transition options\n * - States being entered, exited, and retained\n * - Resolve data\n * - A Promise for the transition\n * - Any transition failure information\n * - An injector for both Service and Per-Transition Objects\n */\nvar $transition$;\n/**\n * The State Service\n *\n * The [[StateService]] singleton as a **Service Object** (injectable during runtime).\n *\n * This service used to manage and query information on registered states.\n * It exposes state related APIs including:\n *\n * - Start a [[Transition]]\n * - Imperatively lazy load states\n * - Check if a state is currently active\n * - Look up states by name\n * - Build URLs for a state+parameters\n * - Configure the global Transition error handler\n *\n * This angular service exposes the [[StateService]] singleton.\n */\nvar $state;\n/**\n * The State Registry\n *\n * The [[StateRegistry]] singleton as a **Service Object** (injectable during runtime).\n *\n * This service is used to register/deregister states.\n * It has state registration related APIs including:\n *\n * - Register/deregister states\n * - Listen for state registration/deregistration\n * - Get states by name\n * - Add state decorators (to customize the state creation process)\n *\n * #### Note: This object is also exposed as [[$stateRegistryProvider]] for injection during the config phase.\n */\nvar $stateRegistry;\n/**\n * The State Registry\n *\n * The [[StateRegistry]] singleton as a **Provider Object** (injectable during config time).\n *\n * This service is used to register/deregister states.\n * It has state registration related APIs including:\n *\n * - Register/deregister states\n * - Listen for state registration/deregistration\n * - Get states by name\n * - Add state decorators (to customize the state creation process)\n *\n * #### Note: This object is also exposed as [[$stateRegistry]] for injection during runtime.\n */\nvar $stateRegistryProvider;\n/**\n * The View Scroll provider\n *\n * The [[UIViewScrollProvider]] as a **Provider Object** (injectable during config time).\n *\n * This angular service exposes the [[UIViewScrollProvider]] singleton and is\n * used to disable UI-Router's scroll behavior.\n */\nvar $uiViewScrollProvider;\n/**\n * The View Scroll function\n *\n * The View Scroll function as a **Service Object** (injectable during runtime).\n *\n * This is a function that scrolls an element into view.\n * The element is scrolled after a `$timeout` so the DOM has time to refresh.\n *\n * If you prefer to rely on `$anchorScroll` to scroll the view to the anchor,\n * this can be enabled by calling [[UIViewScrollProvider.useAnchorScroll]].\n *\n * Note: this function is used by the [[directives.uiView]] when the `autoscroll` expression evaluates to true.\n */\nvar $uiViewScroll;\n/**\n * The StateProvider\n *\n * An angular1-only [[StateProvider]] as a **Provider Object** (injectable during config time).\n *\n * This angular service exposes the [[StateProvider]] singleton.\n *\n * The `StateProvider` is primarily used to register states or add custom state decorators.\n *\n * ##### Note: This provider is a ng1 vestige.\n * It is a passthrough to [[$stateRegistry]] and [[$state]].\n */\nvar $stateProvider;\n/**\n * The URL Service Provider\n *\n * The [[UrlService]] singleton as a **Provider Object** (injectable during the angular config phase).\n *\n * A service used to configure and interact with the URL.\n * It has URL related APIs including:\n *\n * - register custom Parameter types `UrlService.config.type` ([[UrlConfigApi.type]])\n * - add URL rules: `UrlService.rules.when` ([[UrlRulesApi.when]])\n * - configure behavior when no url matches: `UrlService.rules.otherwise` ([[UrlRulesApi.otherwise]])\n * - delay initial URL synchronization [[UrlService.deferIntercept]].\n * - get or set the current url: [[UrlService.url]]\n *\n * ##### Note: This service can also be injected during runtime as [[$urlService]].\n */\nvar $urlServiceProvider;\n/**\n * The URL Service\n *\n * The [[UrlService]] singleton as a **Service Object** (injectable during runtime).\n *\n * Note: This service can also be injected during the config phase as [[$urlServiceProvider]].\n *\n * Used to configure the URL.\n * It has URL related APIs including:\n *\n * - register custom Parameter types `UrlService.config.type` ([[UrlConfigApi.type]])\n * - add URL rules: `UrlService.rules.when` ([[UrlRulesApi.when]])\n * - configure behavior when no url matches: `UrlService.rules.otherwise` ([[UrlRulesApi.otherwise]])\n * - delay initial URL synchronization [[UrlService.deferIntercept]].\n * - get or set the current url: [[UrlService.url]]\n *\n * ##### Note: This service can also be injected during the config phase as [[$urlServiceProvider]].\n */\nvar $urlService;\n/**\n * The URL Router Provider\n *\n * ### Deprecation warning: This object is now considered internal. Use [[$urlServiceProvider]] instead.\n *\n * The [[UrlRouter]] singleton as a **Provider Object** (injectable during config time).\n *\n * #### Note: This object is also exposed as [[$urlRouter]] for injection during runtime.\n *\n * @deprecated\n */\nvar $urlRouterProvider;\n/**\n * The Url Router\n *\n * ### Deprecation warning: This object is now considered internal. Use [[$urlService]] instead.\n *\n * The [[UrlRouter]] singleton as a **Service Object** (injectable during runtime).\n *\n * #### Note: This object is also exposed as [[$urlRouterProvider]] for injection during angular config time.\n *\n * @deprecated\n */\nvar $urlRouter;\n/**\n * The URL Matcher Factory\n *\n * ### Deprecation warning: This object is now considered internal. Use [[$urlService]] instead.\n *\n * The [[UrlMatcherFactory]] singleton as a **Service Object** (injectable during runtime).\n *\n * This service is used to set url mapping options, define custom parameter types, and create [[UrlMatcher]] objects.\n *\n * #### Note: This object is also exposed as [[$urlMatcherFactoryProvider]] for injection during angular config time.\n *\n * @deprecated\n */\nvar $urlMatcherFactory;\n/**\n * The URL Matcher Factory\n *\n * ### Deprecation warning: This object is now considered internal. Use [[$urlService]] instead.\n *\n * The [[UrlMatcherFactory]] singleton as a **Provider Object** (injectable during config time).\n *\n * This service is used to set url mapping options, define custom parameter types, and create [[UrlMatcher]] objects.\n *\n * #### Note: This object is also exposed as [[$urlMatcherFactory]] for injection during runtime.\n *\n * @deprecated\n */\nvar $urlMatcherFactoryProvider;\n//# sourceMappingURL=injectables.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL2luamVjdGFibGVzLmpzPzYwMDciXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCIkc3RhdGVQYXJhbXMiLCIkdWlSb3V0ZXJHbG9iYWxzIiwiJHVpUm91dGVyIiwiJHVpUm91dGVyUHJvdmlkZXIiLCIkdHJhY2UiLCIkdHJhbnNpdGlvbnMiLCIkdHJhbnNpdGlvbnNQcm92aWRlciIsIiR0cmFuc2l0aW9uJCIsIiRzdGF0ZSIsIiRzdGF0ZVJlZ2lzdHJ5IiwiJHN0YXRlUmVnaXN0cnlQcm92aWRlciIsIiR1aVZpZXdTY3JvbGxQcm92aWRlciIsIiR1aVZpZXdTY3JvbGwiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxTZXJ2aWNlUHJvdmlkZXIiLCIkdXJsU2VydmljZSIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiR1cmxSb3V0ZXIiLCIkdXJsTWF0Y2hlckZhY3RvcnkiLCIkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBbURJOztBQUNKQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTZEQSxJQUFJQyxZQUFKO0FBQ0E7Ozs7Ozs7QUFPQSxJQUFJQyxnQkFBSjtBQUNBOzs7Ozs7Ozs7O0FBVUEsSUFBSUMsU0FBSjtBQUNBOzs7Ozs7Ozs7O0FBVUEsSUFBSUMsaUJBQUo7QUFDQTs7Ozs7OztBQU9BLElBQUlDLE1BQUo7QUFDQTs7Ozs7Ozs7OztBQVVBLElBQUlDLFlBQUo7QUFDQTs7Ozs7Ozs7OztBQVVBLElBQUlDLG9CQUFKO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkEsSUFBSUMsWUFBSjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQSxJQUFJQyxNQUFKO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQWVBLElBQUlDLGNBQUo7QUFDQTs7Ozs7Ozs7Ozs7Ozs7O0FBZUEsSUFBSUMsc0JBQUo7QUFDQTs7Ozs7Ozs7QUFRQSxJQUFJQyxxQkFBSjtBQUNBOzs7Ozs7Ozs7Ozs7O0FBYUEsSUFBSUMsYUFBSjtBQUNBOzs7Ozs7Ozs7Ozs7QUFZQSxJQUFJQyxjQUFKO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkEsSUFBSUMsbUJBQUo7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBLElBQUlDLFdBQUo7QUFDQTs7Ozs7Ozs7Ozs7QUFXQSxJQUFJQyxrQkFBSjtBQUNBOzs7Ozs7Ozs7OztBQVdBLElBQUlDLFVBQUo7QUFDQTs7Ozs7Ozs7Ozs7OztBQWFBLElBQUlDLGtCQUFKO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUFhQSxJQUFJQywwQkFBSjtBQUNBIiwiZmlsZSI6IjgzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqICMgQW5ndWxhciAxIGluamVjdGFibGUgc2VydmljZXNcbiAqXG4gKiBUaGlzIGlzIGEgbGlzdCBvZiB0aGUgb2JqZWN0cyB3aGljaCBjYW4gYmUgaW5qZWN0ZWQgdXNpbmcgYW5ndWxhcidzIGluamVjdG9yLlxuICpcbiAqIFRoZXJlIGFyZSB0aHJlZSBkaWZmZXJlbnQga2luZCBvZiBpbmplY3RhYmxlIG9iamVjdHM6XG4gKlxuICogIyMgKipQcm92aWRlcioqIG9iamVjdHNcbiAqICMjIyMgaW5qZWN0YWJsZSBpbnRvIGEgYC5jb25maWcoKWAgYmxvY2sgZHVyaW5nIGNvbmZpZ3RpbWVcbiAqXG4gKiAtIFtbJHVpUm91dGVyUHJvdmlkZXJdXTogVGhlIFVJLVJvdXRlciBpbnN0YW5jZVxuICogLSBbWyRzdGF0ZVByb3ZpZGVyXV06IFN0YXRlIHJlZ2lzdHJhdGlvblxuICogLSBbWyR0cmFuc2l0aW9uc1Byb3ZpZGVyXV06IFRyYW5zaXRpb24gaG9va3NcbiAqIC0gW1skdXJsU2VydmljZVByb3ZpZGVyXV06IEFsbCBVUkwgcmVsYXRlZCBwdWJsaWMgQVBJc1xuICpcbiAqIC0gW1skdWlWaWV3U2Nyb2xsUHJvdmlkZXJdXTogRGlzYWJsZSB1aS1yb3V0ZXIgdmlldyBzY3JvbGxpbmdcbiAqIC0gW1skdXJsUm91dGVyUHJvdmlkZXJdXTogKGRlcHJlY2F0ZWQpIFVybCBtYXRjaGluZyBydWxlc1xuICogLSBbWyR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyXV06IChkZXByZWNhdGVkKSBVcmwgcGFyc2luZyBjb25maWdcbiAqXG4gKiAjIyAqKlNlcnZpY2UqKiBvYmplY3RzXG4gKiAjIyMjIGluamVjdGFibGUgZ2xvYmFsbHkgZHVyaW5nIHJ1bnRpbWVcbiAqXG4gKiAtIFtbJHVpUm91dGVyXV06IFRoZSBVSS1Sb3V0ZXIgaW5zdGFuY2VcbiAqIC0gW1skdHJhY2VdXTogRW5hYmxlIHRyYW5zaXRpb24gdHJhY2UvZGVidWdcbiAqIC0gW1skdHJhbnNpdGlvbnNdXTogVHJhbnNpdGlvbiBob29rc1xuICogLSBbWyRzdGF0ZV1dOiBJbXBlcmF0aXZlIHN0YXRlIHJlbGF0ZWQgQVBJc1xuICogLSBbWyRzdGF0ZVJlZ2lzdHJ5XV06IFN0YXRlIHJlZ2lzdHJhdGlvblxuICogLSBbWyR1cmxTZXJ2aWNlXV06IEFsbCBVUkwgcmVsYXRlZCBwdWJsaWMgQVBJc1xuICogLSBbWyR1aVJvdXRlckdsb2JhbHNdXTogR2xvYmFsIHZhcmlhYmxlc1xuICogLSBbWyR1aVZpZXdTY3JvbGxdXTogU2Nyb2xsIGFuIGVsZW1lbnQgaW50byB2aWV3XG4gKlxuICogLSBbWyRzdGF0ZVBhcmFtc11dOiAoZGVwcmVjYXRlZCkgR2xvYmFsIHN0YXRlIHBhcmFtIHZhbHVlc1xuICogLSBbWyR1cmxSb3V0ZXJdXTogKGRlcHJlY2F0ZWQpIFVSTCBzeW5jaHJvbml6YXRpb25cbiAqIC0gW1skdXJsTWF0Y2hlckZhY3RvcnldXTogKGRlcHJlY2F0ZWQpIFVSTCBwYXJzaW5nIGNvbmZpZ1xuICpcbiAqICMjICoqUGVyLVRyYW5zaXRpb24qKiBvYmplY3RzXG4gKlxuICogLSBUaGVzZSBraW5kIG9mIG9iamVjdHMgYXJlIGluamVjdGFibGUgaW50bzpcbiAqICAgLSBSZXNvbHZlcyAoW1tOZzFTdGF0ZURlY2xhcmF0aW9uLnJlc29sdmVdXSksXG4gKiAgIC0gVHJhbnNpdGlvbiBIb29rcyAoW1tUcmFuc2l0aW9uU2VydmljZS5vblN0YXJ0XV0sIGV0YyksXG4gKiAgIC0gUm91dGVkIENvbnRyb2xsZXJzIChbW05nMVZpZXdEZWNsYXJhdGlvbi5jb250cm9sbGVyXV0pXG4gKlxuICogIyMjIyBEaWZmZXJlbnQgaW5zdGFuY2VzIGFyZSBpbmplY3RlZCBiYXNlZCBvbiB0aGUgW1tUcmFuc2l0aW9uXV1cbiAqXG4gKiAtIFtbJHRyYW5zaXRpb24kXV06IFRoZSBjdXJyZW50IFRyYW5zaXRpb24gb2JqZWN0XG4gKiAtIFtbJHN0YXRlUGFyYW1zXV06IFN0YXRlIHBhcmFtIHZhbHVlcyBmb3IgcGVuZGluZyBUcmFuc2l0aW9uIChkZXByZWNhdGVkKVxuICogLSBBbnkgcmVzb2x2ZSBkYXRhIGRlZmluZWQgdXNpbmcgW1tOZzFTdGF0ZURlY2xhcmF0aW9uLnJlc29sdmVdXVxuICpcbiAqIEBuZzFhcGlcbiAqIEBwcmVmZXJyZWRcbiAqIEBtb2R1bGUgaW5qZWN0YWJsZXNcbiAqLyAvKiogKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogVGhlIGN1cnJlbnQgKG9yIHBlbmRpbmcpIFN0YXRlIFBhcmFtZXRlcnNcbiAqXG4gKiBBbiBpbmplY3RhYmxlIGdsb2JhbCAqKlNlcnZpY2UgT2JqZWN0Kiogd2hpY2ggaG9sZHMgdGhlIHN0YXRlIHBhcmFtZXRlcnMgZm9yIHRoZSBsYXRlc3QgKipTVUNDRVNTRlVMKiogdHJhbnNpdGlvbi5cbiAqXG4gKiBUaGUgdmFsdWVzIGFyZSBub3QgdXBkYXRlZCB1bnRpbCAqYWZ0ZXIqIGEgYFRyYW5zaXRpb25gIHN1Y2Nlc3NmdWxseSBjb21wbGV0ZXMuXG4gKlxuICogKipBbHNvOioqIGFuIGluamVjdGFibGUgKipQZXItVHJhbnNpdGlvbiBPYmplY3QqKiBvYmplY3Qgd2hpY2ggaG9sZHMgdGhlIHBlbmRpbmcgc3RhdGUgcGFyYW1ldGVycyBmb3IgdGhlIHBlbmRpbmcgYFRyYW5zaXRpb25gIGN1cnJlbnRseSBydW5uaW5nLlxuICpcbiAqICMjIyBEZXByZWNhdGlvbiB3YXJuaW5nOlxuICpcbiAqIFRoZSB2YWx1ZSBpbmplY3RlZCBmb3IgYCRzdGF0ZVBhcmFtc2AgaXMgZGlmZmVyZW50IGRlcGVuZGluZyBvbiB3aGVyZSBpdCBpcyBpbmplY3RlZC5cbiAqXG4gKiAtIFdoZW4gaW5qZWN0ZWQgaW50byBhbiBhbmd1bGFyIHNlcnZpY2UsIHRoZSBvYmplY3QgaW5qZWN0ZWQgaXMgdGhlIGdsb2JhbCAqKlNlcnZpY2UgT2JqZWN0Kiogd2l0aCB0aGUgcGFyYW1ldGVyIHZhbHVlcyBmb3IgdGhlIGxhdGVzdCBzdWNjZXNzZnVsIGBUcmFuc2l0aW9uYC5cbiAqIC0gV2hlbiBpbmplY3RlZCBpbnRvIHRyYW5zaXRpb24gaG9va3MsIHJlc29sdmVzLCBvciB2aWV3IGNvbnRyb2xsZXJzLCB0aGUgb2JqZWN0IGlzIHRoZSAqKlBlci1UcmFuc2l0aW9uIE9iamVjdCoqIHdpdGggdGhlIHBhcmFtZXRlciB2YWx1ZXMgZm9yIHRoZSBydW5uaW5nIGBUcmFuc2l0aW9uYC5cbiAqXG4gKiBCZWNhdXNlIG9mIHRoZXNlIGNvbmZ1c2luZyBkZXRhaWxzLCB0aGlzIHNlcnZpY2UgaXMgZGVwcmVjYXRlZC5cbiAqXG4gKiAjIyMgSW5zdGVhZCBvZiB1c2luZyB0aGUgZ2xvYmFsIGAkc3RhdGVQYXJhbXNgIHNlcnZpY2Ugb2JqZWN0LFxuICogaW5qZWN0IFtbJHVpUm91dGVyR2xvYmFsc11dIGFuZCB1c2UgW1tVSVJvdXRlckdsb2JhbHMucGFyYW1zXV1cbiAqXG4gKiBgYGBqc1xuICogTXlTZXJ2aWNlLiRpbmplY3QgPSBbJyR1aVJvdXRlckdsb2JhbHMnXTtcbiAqIGZ1bmN0aW9uIE15U2VydmljZSgkdWlSb3V0ZXJHbG9iYWxzKSB7XG4gKiAgIHJldHVybiB7XG4gKiAgICAgcGFyYW1WYWx1ZXM6IGZ1bmN0aW9uICgpIHtcbiAqICAgICAgIHJldHVybiAkdWlSb3V0ZXJHbG9iYWxzLnBhcmFtcztcbiAqICAgICB9XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIyBJbnN0ZWFkIG9mIHVzaW5nIHRoZSBwZXItdHJhbnNpdGlvbiBgJHN0YXRlUGFyYW1zYCBvYmplY3QsXG4gKiBpbmplY3QgdGhlIGN1cnJlbnQgYFRyYW5zaXRpb25gIChhcyBbWyR0cmFuc2l0aW9uJF1dKSBhbmQgdXNlIFtbVHJhbnNpdGlvbi5wYXJhbXNdXVxuICpcbiAqIGBgYGpzXG4gKiBNeUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHRyYW5zaXRpb24kJ107XG4gKiBmdW5jdGlvbiBNeUNvbnRyb2xsZXIoJHRyYW5zaXRpb24kKSB7XG4gKiAgIHZhciB1c2VybmFtZSA9ICR0cmFuc2l0aW9uJC5wYXJhbXMoKS51c2VybmFtZTtcbiAqICAgLy8gLi4gZG8gc29tZXRoaW5nIHdpdGggdXNlcm5hbWVcbiAqIH1cbiAqIGBgYFxuICpcbiAqIC0tLVxuICpcbiAqIFRoaXMgb2JqZWN0IGNhbiBiZSBpbmplY3RlZCBpbnRvIG90aGVyIHNlcnZpY2VzLlxuICpcbiAqICMjIyMgRGVwcmVjYXRlZCBFeGFtcGxlOlxuICogYGBganNcbiAqIFNvbWVTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRzdGF0ZVBhcmFtcyddO1xuICogZnVuY3Rpb24gU29tZVNlcnZpY2UoJGh0dHAsICRzdGF0ZVBhcmFtcykge1xuICogICByZXR1cm4ge1xuICogICAgIGdldFVzZXI6IGZ1bmN0aW9uKCkge1xuICogICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy8nICsgJHN0YXRlUGFyYW1zLnVzZXJuYW1lKTtcbiAqICAgICB9XG4gKiAgIH1cbiAqIH07XG4gKiBhbmd1bGFyLnNlcnZpY2UoJ1NvbWVTZXJ2aWNlJywgU29tZVNlcnZpY2UpO1xuICogYGBgXG4gKiBAZGVwcmVjYXRlZFxuICovXG52YXIgJHN0YXRlUGFyYW1zO1xuLyoqXG4gKiBHbG9iYWwgVUktUm91dGVyIHZhcmlhYmxlc1xuICpcbiAqIFRoZSByb3V0ZXIgZ2xvYmFsIHN0YXRlIGFzIGEgKipTZXJ2aWNlIE9iamVjdCoqIChpbmplY3RhYmxlIGR1cmluZyBydW50aW1lKS5cbiAqXG4gKiBUaGlzIG9iamVjdCBjb250YWlucyBnbG9iYWxzIHN1Y2ggYXMgdGhlIGN1cnJlbnQgc3RhdGUgYW5kIGN1cnJlbnQgcGFyYW1ldGVyIHZhbHVlcy5cbiAqL1xudmFyICR1aVJvdXRlckdsb2JhbHM7XG4vKipcbiAqIFRoZSBVSS1Sb3V0ZXIgaW5zdGFuY2VcbiAqXG4gKiBUaGUgW1tVSVJvdXRlcl1dIHNpbmdsZXRvbiAodGhlIHJvdXRlciBpbnN0YW5jZSkgYXMgYSAqKlNlcnZpY2UgT2JqZWN0KiogKGluamVjdGFibGUgZHVyaW5nIHJ1bnRpbWUpLlxuICpcbiAqIFRoaXMgb2JqZWN0IGlzIHRoZSBVSS1Sb3V0ZXIgc2luZ2xldG9uIGluc3RhbmNlLCBjcmVhdGVkIGJ5IGFuZ3VsYXIgZGVwZW5kZW5jeSBpbmplY3Rpb24gZHVyaW5nIGFwcGxpY2F0aW9uIGJvb3RzdHJhcC5cbiAqIEl0IGhhcyByZWZlcmVuY2VzIHRvIHRoZSBvdGhlciBVSS1Sb3V0ZXIgc2VydmljZXNcbiAqXG4gKiAjIyMjIE5vdGU6IFRoaXMgb2JqZWN0IGlzIGFsc28gZXhwb3NlZCBhcyBbWyR1aVJvdXRlclByb3ZpZGVyXV0gZm9yIGluamVjdGlvbiBkdXJpbmcgYW5ndWxhciBjb25maWcgdGltZS5cbiAqL1xudmFyICR1aVJvdXRlcjtcbi8qKlxuICogVGhlIFVJLVJvdXRlciBpbnN0YW5jZVxuICpcbiAqIFRoZSBbW1VJUm91dGVyXV0gc2luZ2xldG9uICh0aGUgcm91dGVyIGluc3RhbmNlKSBhcyBhICoqUHJvdmlkZXIgT2JqZWN0KiogKGluamVjdGFibGUgZHVyaW5nIGNvbmZpZyBwaGFzZSkuXG4gKlxuICogVGhpcyBvYmplY3QgaXMgdGhlIFVJLVJvdXRlciBzaW5nbGV0b24gaW5zdGFuY2UsIGNyZWF0ZWQgYnkgYW5ndWxhciBkZXBlbmRlbmN5IGluamVjdGlvbiBkdXJpbmcgYXBwbGljYXRpb24gYm9vdHN0cmFwLlxuICogSXQgaGFzIHJlZmVyZW5jZXMgdG8gdGhlIG90aGVyIFVJLVJvdXRlciBzZXJ2aWNlc1xuICpcbiAqICMjIyMgTm90ZTogVGhpcyBvYmplY3QgaXMgYWxzbyBleHBvc2VkIGFzIFtbJHVpUm91dGVyXV0gZm9yIGluamVjdGlvbiBkdXJpbmcgcnVudGltZS5cbiAqL1xudmFyICR1aVJvdXRlclByb3ZpZGVyO1xuLyoqXG4gKiBUcmFuc2l0aW9uIGRlYnVnL3RyYWNpbmdcbiAqXG4gKiBUaGUgW1tUcmFjZV1dIHNpbmdsZXRvbiBhcyBhICoqU2VydmljZSBPYmplY3QqKiAoaW5qZWN0YWJsZSBkdXJpbmcgcnVudGltZSkuXG4gKlxuICogRW5hYmxlcyBvciBkaXNhYmxlcyBUcmFuc2l0aW9uIHRyYWNpbmcgd2hpY2ggY2FuIGhlbHAgdG8gZGVidWcgaXNzdWVzLlxuICovXG52YXIgJHRyYWNlO1xuLyoqXG4gKiBUaGUgVHJhbnNpdGlvbiBTZXJ2aWNlXG4gKlxuICogVGhlIFtbVHJhbnNpdGlvblNlcnZpY2VdXSBzaW5nbGV0b24gYXMgYSAqKlNlcnZpY2UgT2JqZWN0KiogKGluamVjdGFibGUgZHVyaW5nIHJ1bnRpbWUpLlxuICpcbiAqIFRoaXMgYW5ndWxhciBzZXJ2aWNlIGV4cG9zZXMgdGhlIFtbVHJhbnNpdGlvblNlcnZpY2VdXSBzaW5nbGV0b24sIHdoaWNoIGlzIHByaW1hcmlseVxuICogdXNlZCB0byByZWdpc3RlciBnbG9iYWwgdHJhbnNpdGlvbiBob29rcy5cbiAqXG4gKiAjIyMjIE5vdGU6IFRoaXMgb2JqZWN0IGlzIGFsc28gZXhwb3NlZCBhcyBbWyR0cmFuc2l0aW9uc1Byb3ZpZGVyXV0gZm9yIGluamVjdGlvbiBkdXJpbmcgdGhlIGNvbmZpZyBwaGFzZS5cbiAqL1xudmFyICR0cmFuc2l0aW9ucztcbi8qKlxuICogVGhlIFRyYW5zaXRpb24gU2VydmljZVxuICpcbiAqIFRoZSBbW1RyYW5zaXRpb25TZXJ2aWNlXV0gc2luZ2xldG9uIGFzIGEgKipQcm92aWRlciBPYmplY3QqKiAoaW5qZWN0YWJsZSBkdXJpbmcgY29uZmlnIHBoYXNlKVxuICpcbiAqIFRoaXMgYW5ndWxhciBzZXJ2aWNlIGV4cG9zZXMgdGhlIFtbVHJhbnNpdGlvblNlcnZpY2VdXSBzaW5nbGV0b24sIHdoaWNoIGlzIHByaW1hcmlseVxuICogdXNlZCB0byByZWdpc3RlciBnbG9iYWwgdHJhbnNpdGlvbiBob29rcy5cbiAqXG4gKiAjIyMjIE5vdGU6IFRoaXMgb2JqZWN0IGlzIGFsc28gZXhwb3NlZCBhcyBbWyR0cmFuc2l0aW9uc11dIGZvciBpbmplY3Rpb24gZHVyaW5nIHJ1bnRpbWUuXG4gKi9cbnZhciAkdHJhbnNpdGlvbnNQcm92aWRlcjtcbi8qKlxuICogVGhlIGN1cnJlbnQgW1tUcmFuc2l0aW9uXV0gb2JqZWN0XG4gKlxuICogVGhlIGN1cnJlbnQgW1tUcmFuc2l0aW9uXV0gb2JqZWN0IGFzIGEgKipQZXItVHJhbnNpdGlvbiBPYmplY3QqKiAoaW5qZWN0YWJsZSBpbnRvIFJlc29sdmUsIEhvb2tzLCBDb250cm9sbGVycylcbiAqXG4gKiBUaGlzIG9iamVjdCByZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IHRyYW5zaXRpb24sIGluY2x1ZGluZzpcbiAqXG4gKiAtIFRvL2Zyb20gc3RhdGVzXG4gKiAtIFRvL2Zyb20gcGFyYW1ldGVyc1xuICogLSBUcmFuc2l0aW9uIG9wdGlvbnNcbiAqIC0gU3RhdGVzIGJlaW5nIGVudGVyZWQsIGV4aXRlZCwgYW5kIHJldGFpbmVkXG4gKiAtIFJlc29sdmUgZGF0YVxuICogLSBBIFByb21pc2UgZm9yIHRoZSB0cmFuc2l0aW9uXG4gKiAtIEFueSB0cmFuc2l0aW9uIGZhaWx1cmUgaW5mb3JtYXRpb25cbiAqIC0gQW4gaW5qZWN0b3IgZm9yIGJvdGggU2VydmljZSBhbmQgUGVyLVRyYW5zaXRpb24gT2JqZWN0c1xuICovXG52YXIgJHRyYW5zaXRpb24kO1xuLyoqXG4gKiBUaGUgU3RhdGUgU2VydmljZVxuICpcbiAqIFRoZSBbW1N0YXRlU2VydmljZV1dIHNpbmdsZXRvbiBhcyBhICoqU2VydmljZSBPYmplY3QqKiAoaW5qZWN0YWJsZSBkdXJpbmcgcnVudGltZSkuXG4gKlxuICogVGhpcyBzZXJ2aWNlIHVzZWQgdG8gbWFuYWdlIGFuZCBxdWVyeSBpbmZvcm1hdGlvbiBvbiByZWdpc3RlcmVkIHN0YXRlcy5cbiAqIEl0IGV4cG9zZXMgc3RhdGUgcmVsYXRlZCBBUElzIGluY2x1ZGluZzpcbiAqXG4gKiAtIFN0YXJ0IGEgW1tUcmFuc2l0aW9uXV1cbiAqIC0gSW1wZXJhdGl2ZWx5IGxhenkgbG9hZCBzdGF0ZXNcbiAqIC0gQ2hlY2sgaWYgYSBzdGF0ZSBpcyBjdXJyZW50bHkgYWN0aXZlXG4gKiAtIExvb2sgdXAgc3RhdGVzIGJ5IG5hbWVcbiAqIC0gQnVpbGQgVVJMcyBmb3IgYSBzdGF0ZStwYXJhbWV0ZXJzXG4gKiAtIENvbmZpZ3VyZSB0aGUgZ2xvYmFsIFRyYW5zaXRpb24gZXJyb3IgaGFuZGxlclxuICpcbiAqIFRoaXMgYW5ndWxhciBzZXJ2aWNlIGV4cG9zZXMgdGhlIFtbU3RhdGVTZXJ2aWNlXV0gc2luZ2xldG9uLlxuICovXG52YXIgJHN0YXRlO1xuLyoqXG4gKiBUaGUgU3RhdGUgUmVnaXN0cnlcbiAqXG4gKiBUaGUgW1tTdGF0ZVJlZ2lzdHJ5XV0gc2luZ2xldG9uIGFzIGEgKipTZXJ2aWNlIE9iamVjdCoqIChpbmplY3RhYmxlIGR1cmluZyBydW50aW1lKS5cbiAqXG4gKiBUaGlzIHNlcnZpY2UgaXMgdXNlZCB0byByZWdpc3Rlci9kZXJlZ2lzdGVyIHN0YXRlcy5cbiAqIEl0IGhhcyBzdGF0ZSByZWdpc3RyYXRpb24gcmVsYXRlZCBBUElzIGluY2x1ZGluZzpcbiAqXG4gKiAtIFJlZ2lzdGVyL2RlcmVnaXN0ZXIgc3RhdGVzXG4gKiAtIExpc3RlbiBmb3Igc3RhdGUgcmVnaXN0cmF0aW9uL2RlcmVnaXN0cmF0aW9uXG4gKiAtIEdldCBzdGF0ZXMgYnkgbmFtZVxuICogLSBBZGQgc3RhdGUgZGVjb3JhdG9ycyAodG8gY3VzdG9taXplIHRoZSBzdGF0ZSBjcmVhdGlvbiBwcm9jZXNzKVxuICpcbiAqICMjIyMgTm90ZTogVGhpcyBvYmplY3QgaXMgYWxzbyBleHBvc2VkIGFzIFtbJHN0YXRlUmVnaXN0cnlQcm92aWRlcl1dIGZvciBpbmplY3Rpb24gZHVyaW5nIHRoZSBjb25maWcgcGhhc2UuXG4gKi9cbnZhciAkc3RhdGVSZWdpc3RyeTtcbi8qKlxuICogVGhlIFN0YXRlIFJlZ2lzdHJ5XG4gKlxuICogVGhlIFtbU3RhdGVSZWdpc3RyeV1dIHNpbmdsZXRvbiBhcyBhICoqUHJvdmlkZXIgT2JqZWN0KiogKGluamVjdGFibGUgZHVyaW5nIGNvbmZpZyB0aW1lKS5cbiAqXG4gKiBUaGlzIHNlcnZpY2UgaXMgdXNlZCB0byByZWdpc3Rlci9kZXJlZ2lzdGVyIHN0YXRlcy5cbiAqIEl0IGhhcyBzdGF0ZSByZWdpc3RyYXRpb24gcmVsYXRlZCBBUElzIGluY2x1ZGluZzpcbiAqXG4gKiAtIFJlZ2lzdGVyL2RlcmVnaXN0ZXIgc3RhdGVzXG4gKiAtIExpc3RlbiBmb3Igc3RhdGUgcmVnaXN0cmF0aW9uL2RlcmVnaXN0cmF0aW9uXG4gKiAtIEdldCBzdGF0ZXMgYnkgbmFtZVxuICogLSBBZGQgc3RhdGUgZGVjb3JhdG9ycyAodG8gY3VzdG9taXplIHRoZSBzdGF0ZSBjcmVhdGlvbiBwcm9jZXNzKVxuICpcbiAqICMjIyMgTm90ZTogVGhpcyBvYmplY3QgaXMgYWxzbyBleHBvc2VkIGFzIFtbJHN0YXRlUmVnaXN0cnldXSBmb3IgaW5qZWN0aW9uIGR1cmluZyBydW50aW1lLlxuICovXG52YXIgJHN0YXRlUmVnaXN0cnlQcm92aWRlcjtcbi8qKlxuICogVGhlIFZpZXcgU2Nyb2xsIHByb3ZpZGVyXG4gKlxuICogVGhlIFtbVUlWaWV3U2Nyb2xsUHJvdmlkZXJdXSBhcyBhICoqUHJvdmlkZXIgT2JqZWN0KiogKGluamVjdGFibGUgZHVyaW5nIGNvbmZpZyB0aW1lKS5cbiAqXG4gKiBUaGlzIGFuZ3VsYXIgc2VydmljZSBleHBvc2VzIHRoZSBbW1VJVmlld1Njcm9sbFByb3ZpZGVyXV0gc2luZ2xldG9uIGFuZCBpc1xuICogdXNlZCB0byBkaXNhYmxlIFVJLVJvdXRlcidzIHNjcm9sbCBiZWhhdmlvci5cbiAqL1xudmFyICR1aVZpZXdTY3JvbGxQcm92aWRlcjtcbi8qKlxuICogVGhlIFZpZXcgU2Nyb2xsIGZ1bmN0aW9uXG4gKlxuICogVGhlIFZpZXcgU2Nyb2xsIGZ1bmN0aW9uIGFzIGEgKipTZXJ2aWNlIE9iamVjdCoqIChpbmplY3RhYmxlIGR1cmluZyBydW50aW1lKS5cbiAqXG4gKiBUaGlzIGlzIGEgZnVuY3Rpb24gdGhhdCBzY3JvbGxzIGFuIGVsZW1lbnQgaW50byB2aWV3LlxuICogVGhlIGVsZW1lbnQgaXMgc2Nyb2xsZWQgYWZ0ZXIgYSBgJHRpbWVvdXRgIHNvIHRoZSBET00gaGFzIHRpbWUgdG8gcmVmcmVzaC5cbiAqXG4gKiBJZiB5b3UgcHJlZmVyIHRvIHJlbHkgb24gYCRhbmNob3JTY3JvbGxgIHRvIHNjcm9sbCB0aGUgdmlldyB0byB0aGUgYW5jaG9yLFxuICogdGhpcyBjYW4gYmUgZW5hYmxlZCBieSBjYWxsaW5nIFtbVUlWaWV3U2Nyb2xsUHJvdmlkZXIudXNlQW5jaG9yU2Nyb2xsXV0uXG4gKlxuICogTm90ZTogdGhpcyBmdW5jdGlvbiBpcyB1c2VkIGJ5IHRoZSBbW2RpcmVjdGl2ZXMudWlWaWV3XV0gd2hlbiB0aGUgYGF1dG9zY3JvbGxgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuXG4gKi9cbnZhciAkdWlWaWV3U2Nyb2xsO1xuLyoqXG4gKiBUaGUgU3RhdGVQcm92aWRlclxuICpcbiAqIEFuIGFuZ3VsYXIxLW9ubHkgW1tTdGF0ZVByb3ZpZGVyXV0gYXMgYSAqKlByb3ZpZGVyIE9iamVjdCoqIChpbmplY3RhYmxlIGR1cmluZyBjb25maWcgdGltZSkuXG4gKlxuICogVGhpcyBhbmd1bGFyIHNlcnZpY2UgZXhwb3NlcyB0aGUgW1tTdGF0ZVByb3ZpZGVyXV0gc2luZ2xldG9uLlxuICpcbiAqIFRoZSBgU3RhdGVQcm92aWRlcmAgaXMgcHJpbWFyaWx5IHVzZWQgdG8gcmVnaXN0ZXIgc3RhdGVzIG9yIGFkZCBjdXN0b20gc3RhdGUgZGVjb3JhdG9ycy5cbiAqXG4gKiAjIyMjIyBOb3RlOiBUaGlzIHByb3ZpZGVyIGlzIGEgbmcxIHZlc3RpZ2UuXG4gKiBJdCBpcyBhIHBhc3N0aHJvdWdoIHRvIFtbJHN0YXRlUmVnaXN0cnldXSBhbmQgW1skc3RhdGVdXS5cbiAqL1xudmFyICRzdGF0ZVByb3ZpZGVyO1xuLyoqXG4gKiBUaGUgVVJMIFNlcnZpY2UgUHJvdmlkZXJcbiAqXG4gKiBUaGUgW1tVcmxTZXJ2aWNlXV0gc2luZ2xldG9uIGFzIGEgKipQcm92aWRlciBPYmplY3QqKiAoaW5qZWN0YWJsZSBkdXJpbmcgdGhlIGFuZ3VsYXIgY29uZmlnIHBoYXNlKS5cbiAqXG4gKiBBIHNlcnZpY2UgdXNlZCB0byBjb25maWd1cmUgYW5kIGludGVyYWN0IHdpdGggdGhlIFVSTC5cbiAqIEl0IGhhcyBVUkwgcmVsYXRlZCBBUElzIGluY2x1ZGluZzpcbiAqXG4gKiAtIHJlZ2lzdGVyIGN1c3RvbSBQYXJhbWV0ZXIgdHlwZXMgYFVybFNlcnZpY2UuY29uZmlnLnR5cGVgIChbW1VybENvbmZpZ0FwaS50eXBlXV0pXG4gKiAtIGFkZCBVUkwgcnVsZXM6IGBVcmxTZXJ2aWNlLnJ1bGVzLndoZW5gIChbW1VybFJ1bGVzQXBpLndoZW5dXSlcbiAqIC0gY29uZmlndXJlIGJlaGF2aW9yIHdoZW4gbm8gdXJsIG1hdGNoZXM6IGBVcmxTZXJ2aWNlLnJ1bGVzLm90aGVyd2lzZWAgKFtbVXJsUnVsZXNBcGkub3RoZXJ3aXNlXV0pXG4gKiAtIGRlbGF5IGluaXRpYWwgVVJMIHN5bmNocm9uaXphdGlvbiBbW1VybFNlcnZpY2UuZGVmZXJJbnRlcmNlcHRdXS5cbiAqIC0gZ2V0IG9yIHNldCB0aGUgY3VycmVudCB1cmw6IFtbVXJsU2VydmljZS51cmxdXVxuICpcbiAqICMjIyMjIE5vdGU6IFRoaXMgc2VydmljZSBjYW4gYWxzbyBiZSBpbmplY3RlZCBkdXJpbmcgcnVudGltZSBhcyBbWyR1cmxTZXJ2aWNlXV0uXG4gKi9cbnZhciAkdXJsU2VydmljZVByb3ZpZGVyO1xuLyoqXG4gKiBUaGUgVVJMIFNlcnZpY2VcbiAqXG4gKiBUaGUgW1tVcmxTZXJ2aWNlXV0gc2luZ2xldG9uIGFzIGEgKipTZXJ2aWNlIE9iamVjdCoqIChpbmplY3RhYmxlIGR1cmluZyBydW50aW1lKS5cbiAqXG4gKiBOb3RlOiBUaGlzIHNlcnZpY2UgY2FuIGFsc28gYmUgaW5qZWN0ZWQgZHVyaW5nIHRoZSBjb25maWcgcGhhc2UgYXMgW1skdXJsU2VydmljZVByb3ZpZGVyXV0uXG4gKlxuICogVXNlZCB0byBjb25maWd1cmUgdGhlIFVSTC5cbiAqIEl0IGhhcyBVUkwgcmVsYXRlZCBBUElzIGluY2x1ZGluZzpcbiAqXG4gKiAtIHJlZ2lzdGVyIGN1c3RvbSBQYXJhbWV0ZXIgdHlwZXMgYFVybFNlcnZpY2UuY29uZmlnLnR5cGVgIChbW1VybENvbmZpZ0FwaS50eXBlXV0pXG4gKiAtIGFkZCBVUkwgcnVsZXM6IGBVcmxTZXJ2aWNlLnJ1bGVzLndoZW5gIChbW1VybFJ1bGVzQXBpLndoZW5dXSlcbiAqIC0gY29uZmlndXJlIGJlaGF2aW9yIHdoZW4gbm8gdXJsIG1hdGNoZXM6IGBVcmxTZXJ2aWNlLnJ1bGVzLm90aGVyd2lzZWAgKFtbVXJsUnVsZXNBcGkub3RoZXJ3aXNlXV0pXG4gKiAtIGRlbGF5IGluaXRpYWwgVVJMIHN5bmNocm9uaXphdGlvbiBbW1VybFNlcnZpY2UuZGVmZXJJbnRlcmNlcHRdXS5cbiAqIC0gZ2V0IG9yIHNldCB0aGUgY3VycmVudCB1cmw6IFtbVXJsU2VydmljZS51cmxdXVxuICpcbiAqICMjIyMjIE5vdGU6IFRoaXMgc2VydmljZSBjYW4gYWxzbyBiZSBpbmplY3RlZCBkdXJpbmcgdGhlIGNvbmZpZyBwaGFzZSBhcyBbWyR1cmxTZXJ2aWNlUHJvdmlkZXJdXS5cbiAqL1xudmFyICR1cmxTZXJ2aWNlO1xuLyoqXG4gKiBUaGUgVVJMIFJvdXRlciBQcm92aWRlclxuICpcbiAqICMjIyBEZXByZWNhdGlvbiB3YXJuaW5nOiBUaGlzIG9iamVjdCBpcyBub3cgY29uc2lkZXJlZCBpbnRlcm5hbC4gVXNlIFtbJHVybFNlcnZpY2VQcm92aWRlcl1dIGluc3RlYWQuXG4gKlxuICogVGhlIFtbVXJsUm91dGVyXV0gc2luZ2xldG9uIGFzIGEgKipQcm92aWRlciBPYmplY3QqKiAoaW5qZWN0YWJsZSBkdXJpbmcgY29uZmlnIHRpbWUpLlxuICpcbiAqICMjIyMgTm90ZTogVGhpcyBvYmplY3QgaXMgYWxzbyBleHBvc2VkIGFzIFtbJHVybFJvdXRlcl1dIGZvciBpbmplY3Rpb24gZHVyaW5nIHJ1bnRpbWUuXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xudmFyICR1cmxSb3V0ZXJQcm92aWRlcjtcbi8qKlxuICogVGhlIFVybCBSb3V0ZXJcbiAqXG4gKiAjIyMgRGVwcmVjYXRpb24gd2FybmluZzogVGhpcyBvYmplY3QgaXMgbm93IGNvbnNpZGVyZWQgaW50ZXJuYWwuIFVzZSBbWyR1cmxTZXJ2aWNlXV0gaW5zdGVhZC5cbiAqXG4gKiBUaGUgW1tVcmxSb3V0ZXJdXSBzaW5nbGV0b24gYXMgYSAqKlNlcnZpY2UgT2JqZWN0KiogKGluamVjdGFibGUgZHVyaW5nIHJ1bnRpbWUpLlxuICpcbiAqICMjIyMgTm90ZTogVGhpcyBvYmplY3QgaXMgYWxzbyBleHBvc2VkIGFzIFtbJHVybFJvdXRlclByb3ZpZGVyXV0gZm9yIGluamVjdGlvbiBkdXJpbmcgYW5ndWxhciBjb25maWcgdGltZS5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICovXG52YXIgJHVybFJvdXRlcjtcbi8qKlxuICogVGhlIFVSTCBNYXRjaGVyIEZhY3RvcnlcbiAqXG4gKiAjIyMgRGVwcmVjYXRpb24gd2FybmluZzogVGhpcyBvYmplY3QgaXMgbm93IGNvbnNpZGVyZWQgaW50ZXJuYWwuIFVzZSBbWyR1cmxTZXJ2aWNlXV0gaW5zdGVhZC5cbiAqXG4gKiBUaGUgW1tVcmxNYXRjaGVyRmFjdG9yeV1dIHNpbmdsZXRvbiBhcyBhICoqU2VydmljZSBPYmplY3QqKiAoaW5qZWN0YWJsZSBkdXJpbmcgcnVudGltZSkuXG4gKlxuICogVGhpcyBzZXJ2aWNlIGlzIHVzZWQgdG8gc2V0IHVybCBtYXBwaW5nIG9wdGlvbnMsIGRlZmluZSBjdXN0b20gcGFyYW1ldGVyIHR5cGVzLCBhbmQgY3JlYXRlIFtbVXJsTWF0Y2hlcl1dIG9iamVjdHMuXG4gKlxuICogIyMjIyBOb3RlOiBUaGlzIG9iamVjdCBpcyBhbHNvIGV4cG9zZWQgYXMgW1skdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlcl1dIGZvciBpbmplY3Rpb24gZHVyaW5nIGFuZ3VsYXIgY29uZmlnIHRpbWUuXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xudmFyICR1cmxNYXRjaGVyRmFjdG9yeTtcbi8qKlxuICogVGhlIFVSTCBNYXRjaGVyIEZhY3RvcnlcbiAqXG4gKiAjIyMgRGVwcmVjYXRpb24gd2FybmluZzogVGhpcyBvYmplY3QgaXMgbm93IGNvbnNpZGVyZWQgaW50ZXJuYWwuIFVzZSBbWyR1cmxTZXJ2aWNlXV0gaW5zdGVhZC5cbiAqXG4gKiBUaGUgW1tVcmxNYXRjaGVyRmFjdG9yeV1dIHNpbmdsZXRvbiBhcyBhICoqUHJvdmlkZXIgT2JqZWN0KiogKGluamVjdGFibGUgZHVyaW5nIGNvbmZpZyB0aW1lKS5cbiAqXG4gKiBUaGlzIHNlcnZpY2UgaXMgdXNlZCB0byBzZXQgdXJsIG1hcHBpbmcgb3B0aW9ucywgZGVmaW5lIGN1c3RvbSBwYXJhbWV0ZXIgdHlwZXMsIGFuZCBjcmVhdGUgW1tVcmxNYXRjaGVyXV0gb2JqZWN0cy5cbiAqXG4gKiAjIyMjIE5vdGU6IFRoaXMgb2JqZWN0IGlzIGFsc28gZXhwb3NlZCBhcyBbWyR1cmxNYXRjaGVyRmFjdG9yeV1dIGZvciBpbmplY3Rpb24gZHVyaW5nIHJ1bnRpbWUuXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xudmFyICR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5qZWN0YWJsZXMuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL2FuZ3VsYXItdWktcm91dGVyL2xpYi9pbmplY3RhYmxlcy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///83\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * # Angular 1 Directives\n *\n * These are the directives included in UI-Router for Angular 1.\n * These directives are used in templates to create viewports and link/navigate to states.\n *\n * @ng1api\n * @preferred\n * @module directives\n */ /** for typedoc */\nvar angular_1 = __webpack_require__(10);\nvar core_1 = __webpack_require__(4);\n/** @hidden */\nfunction parseStateRef(ref) {\n    var paramsOnly = ref.match(/^\\s*({[^}]*})\\s*$/),\n        parsed;\n    if (paramsOnly) ref = \'(\' + paramsOnly[1] + \')\';\n    parsed = ref.replace(/\\n/g, " ").match(/^\\s*([^(]*?)\\s*(\\((.*)\\))?\\s*$/);\n    if (!parsed || parsed.length !== 4) throw new Error("Invalid state ref \'" + ref + "\'");\n    return { state: parsed[1] || null, paramExpr: parsed[3] || null };\n}\n/** @hidden */\nfunction stateContext(el) {\n    var $uiView = el.parent().inheritedData(\'$uiView\');\n    var path = core_1.parse(\'$cfg.path\')($uiView);\n    return path ? core_1.tail(path).state.name : undefined;\n}\n/** @hidden */\nfunction processedDef($state, $element, def) {\n    var uiState = def.uiState || $state.current.name;\n    var uiStateOpts = core_1.extend(defaultOpts($element, $state), def.uiStateOpts || {});\n    var href = $state.href(uiState, def.uiStateParams, uiStateOpts);\n    return { uiState: uiState, uiStateParams: def.uiStateParams, uiStateOpts: uiStateOpts, href: href };\n}\n/** @hidden */\nfunction getTypeInfo(el) {\n    // SVGAElement does not use the href attribute, but rather the \'xlinkHref\' attribute.\n    var isSvg = Object.prototype.toString.call(el.prop(\'href\')) === \'[object SVGAnimatedString]\';\n    var isForm = el[0].nodeName === "FORM";\n    return {\n        attr: isForm ? "action" : isSvg ? \'xlink:href\' : \'href\',\n        isAnchor: el.prop("tagName").toUpperCase() === "A",\n        clickable: !isForm\n    };\n}\n/** @hidden */\nfunction clickHook(el, $state, $timeout, type, getDef) {\n    return function (e) {\n        var button = e.which || e.button,\n            target = getDef();\n        if (!(button > 1 || e.ctrlKey || e.metaKey || e.shiftKey || el.attr(\'target\'))) {\n            // HACK: This is to allow ng-clicks to be processed before the transition is initiated:\n            var transition = $timeout(function () {\n                $state.go(target.uiState, target.uiStateParams, target.uiStateOpts);\n            });\n            e.preventDefault();\n            // if the state has no URL, ignore one preventDefault from the <a> directive.\n            var ignorePreventDefaultCount = type.isAnchor && !target.href ? 1 : 0;\n            e.preventDefault = function () {\n                if (ignorePreventDefaultCount-- <= 0) $timeout.cancel(transition);\n            };\n        }\n    };\n}\n/** @hidden */\nfunction defaultOpts(el, $state) {\n    return {\n        relative: stateContext(el) || $state.$current,\n        inherit: true,\n        source: "sref"\n    };\n}\n/** @hidden */\nfunction bindEvents(element, scope, hookFn, uiStateOpts) {\n    var events;\n    if (uiStateOpts) {\n        events = uiStateOpts.events;\n    }\n    if (!core_1.isArray(events)) {\n        events = [\'click\'];\n    }\n    var on = element.on ? \'on\' : \'bind\';\n    for (var _i = 0, events_1 = events; _i < events_1.length; _i++) {\n        var event_1 = events_1[_i];\n        element[on](event_1, hookFn);\n    }\n    scope.$on(\'$destroy\', function () {\n        var off = element.off ? \'off\' : \'unbind\';\n        for (var _i = 0, events_2 = events; _i < events_2.length; _i++) {\n            var event_2 = events_2[_i];\n            element[off](event_2, hookFn);\n        }\n    });\n}\n/**\n * `ui-sref`: A directive for linking to a state\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * ### Linked State\n * The attribute value of the `ui-sref` is the name of the state to link to.\n *\n * #### Example:\n * This will activate the `home` state when the link is clicked.\n * ```html\n * <a ui-sref="home">Home</a>\n * ```\n *\n * ### Relative Links\n * You can also use relative state paths within `ui-sref`, just like a relative path passed to `$state.go()` ([[StateService.go]]).\n * You just need to be aware that the path is relative to the state that *created* the link.\n * This allows a state to create a relative `ui-sref` which always targets the same destination.\n *\n * #### Example:\n * Both these links are relative to the parent state, even when a child state is currently active.\n * ```html\n * <a ui-sref=".child1">child 1 state</a>\n * <a ui-sref=".child2">child 2 state</a>\n * ```\n *\n * This link activates the parent state.\n * ```html\n * <a ui-sref="^">Return</a>\n * ```\n *\n * ### hrefs\n * If the linked state has a URL, the directive will automatically generate and\n * update the `href` attribute (using the [[StateService.href]]  method).\n *\n * #### Example:\n * Assuming the `users` state has a url of `/users/`\n * ```html\n * <a ui-sref="users" href="/users/">Users</a>\n * ```\n *\n * ### Parameter Values\n * In addition to the state name, a `ui-sref` can include parameter values which are applied when activating the state.\n * Param values can be provided in the `ui-sref` value after the state name, enclosed by parentheses.\n * The content inside the parentheses is an expression, evaluated to the parameter values.\n *\n * #### Example:\n * This example renders a list of links to users.\n * The state\'s `userId` parameter value comes from each user\'s `user.id` property.\n * ```html\n * <li ng-repeat="user in users">\n *   <a ui-sref="users.detail({ userId: user.id })">{{ user.displayName }}</a>\n * </li>\n * ```\n *\n * Note:\n * The parameter values expression is `$watch`ed for updates.\n *\n * ### Transition Options\n * You can specify [[TransitionOptions]] to pass to [[StateService.go]] by using the `ui-sref-opts` attribute.\n * Options are restricted to `location`, `inherit`, and `reload`.\n *\n * #### Example:\n * ```html\n * <a ui-sref="home" ui-sref-opts="{ reload: true }">Home</a>\n * ```\n *\n * ### Other DOM Events\n *\n * You can also customize which DOM events to respond to (instead of `click`) by\n * providing an `events` array in the `ui-sref-opts` attribute.\n *\n * #### Example:\n * ```html\n * <input type="text" ui-sref="contacts" ui-sref-opts="{ events: [\'change\', \'blur\'] }">\n * ```\n *\n * ### Highlighting the active link\n * This directive can be used in conjunction with [[uiSrefActive]] to highlight the active link.\n *\n * ### Examples\n * If you have the following template:\n *\n * ```html\n * <a ui-sref="home">Home</a>\n * <a ui-sref="about">About</a>\n * <a ui-sref="{page: 2}">Next page</a>\n *\n * <ul>\n *     <li ng-repeat="contact in contacts">\n *         <a ui-sref="contacts.detail({ id: contact.id })">{{ contact.name }}</a>\n *     </li>\n * </ul>\n * ```\n *\n * Then (assuming the current state is `contacts`) the rendered html including hrefs would be:\n *\n * ```html\n * <a href="#/home" ui-sref="home">Home</a>\n * <a href="#/about" ui-sref="about">About</a>\n * <a href="#/contacts?page=2" ui-sref="{page: 2}">Next page</a>\n *\n * <ul>\n *     <li ng-repeat="contact in contacts">\n *         <a href="#/contacts/1" ui-sref="contacts.detail({ id: contact.id })">Joe</a>\n *     </li>\n *     <li ng-repeat="contact in contacts">\n *         <a href="#/contacts/2" ui-sref="contacts.detail({ id: contact.id })">Alice</a>\n *     </li>\n *     <li ng-repeat="contact in contacts">\n *         <a href="#/contacts/3" ui-sref="contacts.detail({ id: contact.id })">Bob</a>\n *     </li>\n * </ul>\n *\n * <a href="#/home" ui-sref="home" ui-sref-opts="{reload: true}">Home</a>\n * ```\n *\n * ### Notes\n *\n * - You can use `ui-sref` to change **only the parameter values** by omitting the state name and parentheses.\n * #### Example:\n * Sets the `lang` parameter to `en` and remains on the same state.\n *\n * ```html\n * <a ui-sref="{ lang: \'en\' }">English</a>\n * ```\n *\n * - A middle-click, right-click, or ctrl-click is handled (natively) by the browser to open the href in a new window, for example.\n *\n * - Unlike the parameter values expression, the state name is not `$watch`ed (for performance reasons).\n * If you need to dynamically update the state being linked to, use the fully dynamic [[uiState]] directive.\n */\nvar uiSref;\nuiSref = [\'$uiRouter\', \'$timeout\', function $StateRefDirective($uiRouter, $timeout) {\n    var $state = $uiRouter.stateService;\n    return {\n        restrict: \'A\',\n        require: [\'?^uiSrefActive\', \'?^uiSrefActiveEq\'],\n        link: function link(scope, element, attrs, uiSrefActive) {\n            var type = getTypeInfo(element);\n            var active = uiSrefActive[1] || uiSrefActive[0];\n            var unlinkInfoFn = null;\n            var hookFn;\n            var rawDef = {};\n            var getDef = function getDef() {\n                return processedDef($state, element, rawDef);\n            };\n            var ref = parseStateRef(attrs.uiSref);\n            rawDef.uiState = ref.state;\n            rawDef.uiStateOpts = attrs.uiSrefOpts ? scope.$eval(attrs.uiSrefOpts) : {};\n            function update() {\n                var def = getDef();\n                if (unlinkInfoFn) unlinkInfoFn();\n                if (active) unlinkInfoFn = active.$$addStateInfo(def.uiState, def.uiStateParams);\n                if (def.href != null) attrs.$set(type.attr, def.href);\n            }\n            if (ref.paramExpr) {\n                scope.$watch(ref.paramExpr, function (val) {\n                    rawDef.uiStateParams = core_1.extend({}, val);\n                    update();\n                }, true);\n                rawDef.uiStateParams = core_1.extend({}, scope.$eval(ref.paramExpr));\n            }\n            update();\n            scope.$on(\'$destroy\', $uiRouter.stateRegistry.onStatesChanged(update));\n            scope.$on(\'$destroy\', $uiRouter.transitionService.onSuccess({}, update));\n            if (!type.clickable) return;\n            hookFn = clickHook(element, $state, $timeout, type, getDef);\n            bindEvents(element, scope, hookFn, rawDef.uiStateOpts);\n        }\n    };\n}];\n/**\n * `ui-state`: A fully dynamic directive for linking to a state\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * **This directive is very similar to [[uiSref]], but it `$observe`s and `$watch`es/evaluates all its inputs.**\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * ### Linked State\n * The attribute value of `ui-state` is an expression which is `$watch`ed and evaluated as the state to link to.\n * **This is in contrast with `ui-sref`, which takes a state name as a string literal.**\n *\n * #### Example:\n * Create a list of links.\n * ```html\n * <li ng-repeat="link in navlinks">\n *   <a ui-state="link.state">{{ link.displayName }}</a>\n * </li>\n * ```\n *\n * ### Relative Links\n * If the expression evaluates to a relative path, it is processed like [[uiSref]].\n * You just need to be aware that the path is relative to the state that *created* the link.\n * This allows a state to create relative `ui-state` which always targets the same destination.\n *\n * ### hrefs\n * If the linked state has a URL, the directive will automatically generate and\n * update the `href` attribute (using the [[StateService.href]]  method).\n *\n * ### Parameter Values\n * In addition to the state name expression, a `ui-state` can include parameter values which are applied when activating the state.\n * Param values should be provided using the `ui-state-params` attribute.\n * The `ui-state-params` attribute value is `$watch`ed and evaluated as an expression.\n *\n * #### Example:\n * This example renders a list of links with param values.\n * The state\'s `userId` parameter value comes from each user\'s `user.id` property.\n * ```html\n * <li ng-repeat="link in navlinks">\n *   <a ui-state="link.state" ui-state-params="link.params">{{ link.displayName }}</a>\n * </li>\n * ```\n *\n * ### Transition Options\n * You can specify [[TransitionOptions]] to pass to [[StateService.go]] by using the `ui-state-opts` attribute.\n * Options are restricted to `location`, `inherit`, and `reload`.\n * The value of the `ui-state-opts` is `$watch`ed and evaluated as an expression.\n *\n * #### Example:\n * ```html\n * <a ui-state="returnto.state" ui-state-opts="{ reload: true }">Home</a>\n * ```\n *\n * ### Other DOM Events\n *\n * You can also customize which DOM events to respond to (instead of `click`) by\n * providing an `events` array in the `ui-state-opts` attribute.\n *\n * #### Example:\n * ```html\n * <input type="text" ui-state="contacts" ui-state-opts="{ events: [\'change\', \'blur\'] }">\n * ```\n *\n * ### Highlighting the active link\n * This directive can be used in conjunction with [[uiSrefActive]] to highlight the active link.\n *\n * ### Notes\n *\n * - You can use `ui-params` to change **only the parameter values** by omitting the state name and supplying only `ui-state-params`.\n *   However, it might be simpler to use [[uiSref]] parameter-only links.\n *\n * #### Example:\n * Sets the `lang` parameter to `en` and remains on the same state.\n *\n * ```html\n * <a ui-state="" ui-state-params="{ lang: \'en\' }">English</a>\n * ```\n *\n * - A middle-click, right-click, or ctrl-click is handled (natively) by the browser to open the href in a new window, for example.\n * ```\n */\nvar uiState;\nuiState = [\'$uiRouter\', \'$timeout\', function $StateRefDynamicDirective($uiRouter, $timeout) {\n    var $state = $uiRouter.stateService;\n    return {\n        restrict: \'A\',\n        require: [\'?^uiSrefActive\', \'?^uiSrefActiveEq\'],\n        link: function link(scope, element, attrs, uiSrefActive) {\n            var type = getTypeInfo(element);\n            var active = uiSrefActive[1] || uiSrefActive[0];\n            var unlinkInfoFn = null;\n            var hookFn;\n            var rawDef = {};\n            var getDef = function getDef() {\n                return processedDef($state, element, rawDef);\n            };\n            var inputAttrs = [\'uiState\', \'uiStateParams\', \'uiStateOpts\'];\n            var watchDeregFns = inputAttrs.reduce(function (acc, attr) {\n                return acc[attr] = core_1.noop, acc;\n            }, {});\n            function update() {\n                var def = getDef();\n                if (unlinkInfoFn) unlinkInfoFn();\n                if (active) unlinkInfoFn = active.$$addStateInfo(def.uiState, def.uiStateParams);\n                if (def.href != null) attrs.$set(type.attr, def.href);\n            }\n            inputAttrs.forEach(function (field) {\n                rawDef[field] = attrs[field] ? scope.$eval(attrs[field]) : null;\n                attrs.$observe(field, function (expr) {\n                    watchDeregFns[field]();\n                    watchDeregFns[field] = scope.$watch(expr, function (newval) {\n                        rawDef[field] = newval;\n                        update();\n                    }, true);\n                });\n            });\n            update();\n            scope.$on(\'$destroy\', $uiRouter.stateRegistry.onStatesChanged(update));\n            scope.$on(\'$destroy\', $uiRouter.transitionService.onSuccess({}, update));\n            if (!type.clickable) return;\n            hookFn = clickHook(element, $state, $timeout, type, getDef);\n            bindEvents(element, scope, hookFn, rawDef.uiStateOpts);\n        }\n    };\n}];\n/**\n * `ui-sref-active` and `ui-sref-active-eq`: A directive that adds a CSS class when a `ui-sref` is active\n *\n * A directive working alongside [[uiSref]] and [[uiState]] to add classes to an element when the\n * related directive\'s state is active (and remove them when it is inactive).\n *\n * The primary use-case is to highlight the active link in navigation menus,\n * distinguishing it from the inactive menu items.\n *\n * ### Linking to a `ui-sref` or `ui-state`\n * `ui-sref-active` can live on the same element as `ui-sref`/`ui-state`, or it can be on a parent element.\n * If a `ui-sref-active` is a parent to more than one `ui-sref`/`ui-state`, it will apply the CSS class when **any of the links are active**.\n *\n * ### Matching\n *\n * The `ui-sref-active` directive applies the CSS class when the `ui-sref`/`ui-state`\'s target state **or any child state is active**.\n * This is a "fuzzy match" which uses [[StateService.includes]].\n *\n * The `ui-sref-active-eq` directive applies the CSS class when the `ui-sref`/`ui-state`\'s target state is directly active (not when child states are active).\n * This is an "exact match" which uses [[StateService.is]].\n *\n * ### Parameter values\n * If the `ui-sref`/`ui-state` includes parameter values, the current parameter values must match the link\'s values for the link to be highlighted.\n * This allows a list of links to the same state with different parameters to be rendered, and the correct one highlighted.\n *\n * #### Example:\n * ```html\n * <li ng-repeat="user in users" ui-sref-active="active">\n *   <a ui-sref="user.details({ userId: user.id })">{{ user.lastName }}</a>\n * </li>\n * ```\n *\n * ### Examples\n *\n * Given the following template:\n * #### Example:\n * ```html\n * <ul>\n *   <li ui-sref-active="active" class="item">\n *     <a href ui-sref="app.user({user: \'bilbobaggins\'})">@bilbobaggins</a>\n *   </li>\n * </ul>\n * ```\n *\n * When the app state is `app.user` (or any child state),\n * and contains the state parameter "user" with value "bilbobaggins",\n * the resulting HTML will appear as (note the \'active\' class):\n *\n * ```html\n * <ul>\n *   <li ui-sref-active="active" class="item active">\n *     <a ui-sref="app.user({user: \'bilbobaggins\'})" href="/users/bilbobaggins">@bilbobaggins</a>\n *   </li>\n * </ul>\n * ```\n *\n * ### Glob mode\n *\n * It is possible to pass `ui-sref-active` an expression that evaluates to an object.\n * The objects keys represent active class names and values represent the respective state names/globs.\n * `ui-sref-active` will match if the current active state **includes** any of\n * the specified state names/globs, even the abstract ones.\n *\n * #### Example:\n * Given the following template, with "admin" being an abstract state:\n * ```html\n * <div ui-sref-active="{\'active\': \'admin.**\'}">\n *   <a ui-sref-active="active" ui-sref="admin.roles">Roles</a>\n * </div>\n * ```\n *\n * When the current state is "admin.roles" the "active" class will be applied to both the <div> and <a> elements.\n * It is important to note that the state names/globs passed to `ui-sref-active` override any state provided by a linked `ui-sref`.\n *\n * ### Notes:\n *\n * - The class name is interpolated **once** during the directives link time (any further changes to the\n * interpolated value are ignored).\n *\n * - Multiple classes may be specified in a space-separated format: `ui-sref-active=\'class1 class2 class3\'`\n */\nvar uiSrefActive;\nuiSrefActive = [\'$state\', \'$stateParams\', \'$interpolate\', \'$uiRouter\', function $StateRefActiveDirective($state, $stateParams, $interpolate, $uiRouter) {\n    return {\n        restrict: "A",\n        controller: [\'$scope\', \'$element\', \'$attrs\', function ($scope, $element, $attrs) {\n            var states = [],\n                activeEqClass,\n                uiSrefActive;\n            // There probably isn\'t much point in $observing this\n            // uiSrefActive and uiSrefActiveEq share the same directive object with some\n            // slight difference in logic routing\n            activeEqClass = $interpolate($attrs.uiSrefActiveEq || \'\', false)($scope);\n            try {\n                uiSrefActive = $scope.$eval($attrs.uiSrefActive);\n            } catch (e) {\n                // Do nothing. uiSrefActive is not a valid expression.\n                // Fall back to using $interpolate below\n            }\n            uiSrefActive = uiSrefActive || $interpolate($attrs.uiSrefActive || \'\', false)($scope);\n            if (core_1.isObject(uiSrefActive)) {\n                core_1.forEach(uiSrefActive, function (stateOrName, activeClass) {\n                    if (core_1.isString(stateOrName)) {\n                        var ref = parseStateRef(stateOrName);\n                        addState(ref.state, $scope.$eval(ref.paramExpr), activeClass);\n                    }\n                });\n            }\n            // Allow uiSref to communicate with uiSrefActive[Equals]\n            this.$$addStateInfo = function (newState, newParams) {\n                // we already got an explicit state provided by ui-sref-active, so we\n                // shadow the one that comes from ui-sref\n                if (core_1.isObject(uiSrefActive) && states.length > 0) {\n                    return;\n                }\n                var deregister = addState(newState, newParams, uiSrefActive);\n                update();\n                return deregister;\n            };\n            function updateAfterTransition(trans) {\n                trans.promise.then(update);\n            }\n            $scope.$on(\'$stateChangeSuccess\', update);\n            $scope.$on(\'$destroy\', $uiRouter.transitionService.onStart({}, updateAfterTransition));\n            if ($uiRouter.globals.transition) {\n                updateAfterTransition($uiRouter.globals.transition);\n            }\n            function addState(stateName, stateParams, activeClass) {\n                var state = $state.get(stateName, stateContext($element));\n                var stateInfo = {\n                    state: state || { name: stateName },\n                    params: stateParams,\n                    activeClass: activeClass\n                };\n                states.push(stateInfo);\n                return function removeState() {\n                    core_1.removeFrom(states)(stateInfo);\n                };\n            }\n            // Update route state\n            function update() {\n                var splitClasses = function splitClasses(str) {\n                    return str.split(/\\s/).filter(core_1.identity);\n                };\n                var getClasses = function getClasses(stateList) {\n                    return stateList.map(function (x) {\n                        return x.activeClass;\n                    }).map(splitClasses).reduce(core_1.unnestR, []);\n                };\n                var allClasses = getClasses(states).concat(splitClasses(activeEqClass)).reduce(core_1.uniqR, []);\n                var fuzzyClasses = getClasses(states.filter(function (x) {\n                    return $state.includes(x.state.name, x.params);\n                }));\n                var exactlyMatchesAny = !!states.filter(function (x) {\n                    return $state.is(x.state.name, x.params);\n                }).length;\n                var exactClasses = exactlyMatchesAny ? splitClasses(activeEqClass) : [];\n                var addClasses = fuzzyClasses.concat(exactClasses).reduce(core_1.uniqR, []);\n                var removeClasses = allClasses.filter(function (cls) {\n                    return !core_1.inArray(addClasses, cls);\n                });\n                $scope.$evalAsync(function () {\n                    addClasses.forEach(function (className) {\n                        return $element.addClass(className);\n                    });\n                    removeClasses.forEach(function (className) {\n                        return $element.removeClass(className);\n                    });\n                });\n            }\n            update();\n        }]\n    };\n}];\nangular_1.ng.module(\'ui.router.state\').directive(\'uiSref\', uiSref).directive(\'uiSrefActive\', uiSrefActive).directive(\'uiSrefActiveEq\', uiSrefActive).directive(\'uiState\', uiState);\n//# sourceMappingURL=stateDirectives.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL2RpcmVjdGl2ZXMvc3RhdGVEaXJlY3RpdmVzLmpzP2ZlYmYiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJhbmd1bGFyXzEiLCJyZXF1aXJlIiwiY29yZV8xIiwicGFyc2VTdGF0ZVJlZiIsInJlZiIsInBhcmFtc09ubHkiLCJtYXRjaCIsInBhcnNlZCIsInJlcGxhY2UiLCJsZW5ndGgiLCJFcnJvciIsInN0YXRlIiwicGFyYW1FeHByIiwic3RhdGVDb250ZXh0IiwiZWwiLCIkdWlWaWV3IiwicGFyZW50IiwiaW5oZXJpdGVkRGF0YSIsInBhdGgiLCJwYXJzZSIsInRhaWwiLCJuYW1lIiwidW5kZWZpbmVkIiwicHJvY2Vzc2VkRGVmIiwiJHN0YXRlIiwiJGVsZW1lbnQiLCJkZWYiLCJ1aVN0YXRlIiwiY3VycmVudCIsInVpU3RhdGVPcHRzIiwiZXh0ZW5kIiwiZGVmYXVsdE9wdHMiLCJocmVmIiwidWlTdGF0ZVBhcmFtcyIsImdldFR5cGVJbmZvIiwiaXNTdmciLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJwcm9wIiwiaXNGb3JtIiwibm9kZU5hbWUiLCJhdHRyIiwiaXNBbmNob3IiLCJ0b1VwcGVyQ2FzZSIsImNsaWNrYWJsZSIsImNsaWNrSG9vayIsIiR0aW1lb3V0IiwidHlwZSIsImdldERlZiIsImUiLCJidXR0b24iLCJ3aGljaCIsInRhcmdldCIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2hpZnRLZXkiLCJ0cmFuc2l0aW9uIiwiZ28iLCJwcmV2ZW50RGVmYXVsdCIsImlnbm9yZVByZXZlbnREZWZhdWx0Q291bnQiLCJjYW5jZWwiLCJyZWxhdGl2ZSIsIiRjdXJyZW50IiwiaW5oZXJpdCIsInNvdXJjZSIsImJpbmRFdmVudHMiLCJlbGVtZW50Iiwic2NvcGUiLCJob29rRm4iLCJldmVudHMiLCJpc0FycmF5Iiwib24iLCJfaSIsImV2ZW50c18xIiwiZXZlbnRfMSIsIiRvbiIsIm9mZiIsImV2ZW50c18yIiwiZXZlbnRfMiIsInVpU3JlZiIsIiRTdGF0ZVJlZkRpcmVjdGl2ZSIsIiR1aVJvdXRlciIsInN0YXRlU2VydmljZSIsInJlc3RyaWN0IiwibGluayIsImF0dHJzIiwidWlTcmVmQWN0aXZlIiwiYWN0aXZlIiwidW5saW5rSW5mb0ZuIiwicmF3RGVmIiwidWlTcmVmT3B0cyIsIiRldmFsIiwidXBkYXRlIiwiJCRhZGRTdGF0ZUluZm8iLCIkc2V0IiwiJHdhdGNoIiwidmFsIiwic3RhdGVSZWdpc3RyeSIsIm9uU3RhdGVzQ2hhbmdlZCIsInRyYW5zaXRpb25TZXJ2aWNlIiwib25TdWNjZXNzIiwiJFN0YXRlUmVmRHluYW1pY0RpcmVjdGl2ZSIsImlucHV0QXR0cnMiLCJ3YXRjaERlcmVnRm5zIiwicmVkdWNlIiwiYWNjIiwibm9vcCIsImZvckVhY2giLCJmaWVsZCIsIiRvYnNlcnZlIiwiZXhwciIsIm5ld3ZhbCIsIiRTdGF0ZVJlZkFjdGl2ZURpcmVjdGl2ZSIsIiRzdGF0ZVBhcmFtcyIsIiRpbnRlcnBvbGF0ZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkYXR0cnMiLCJzdGF0ZXMiLCJhY3RpdmVFcUNsYXNzIiwidWlTcmVmQWN0aXZlRXEiLCJpc09iamVjdCIsInN0YXRlT3JOYW1lIiwiYWN0aXZlQ2xhc3MiLCJpc1N0cmluZyIsImFkZFN0YXRlIiwibmV3U3RhdGUiLCJuZXdQYXJhbXMiLCJkZXJlZ2lzdGVyIiwidXBkYXRlQWZ0ZXJUcmFuc2l0aW9uIiwidHJhbnMiLCJwcm9taXNlIiwidGhlbiIsIm9uU3RhcnQiLCJnbG9iYWxzIiwic3RhdGVOYW1lIiwic3RhdGVQYXJhbXMiLCJnZXQiLCJzdGF0ZUluZm8iLCJwYXJhbXMiLCJwdXNoIiwicmVtb3ZlU3RhdGUiLCJyZW1vdmVGcm9tIiwic3BsaXRDbGFzc2VzIiwic3RyIiwic3BsaXQiLCJmaWx0ZXIiLCJpZGVudGl0eSIsImdldENsYXNzZXMiLCJzdGF0ZUxpc3QiLCJtYXAiLCJ4IiwidW5uZXN0UiIsImFsbENsYXNzZXMiLCJjb25jYXQiLCJ1bmlxUiIsImZ1enp5Q2xhc3NlcyIsImluY2x1ZGVzIiwiZXhhY3RseU1hdGNoZXNBbnkiLCJpcyIsImV4YWN0Q2xhc3NlcyIsImFkZENsYXNzZXMiLCJyZW1vdmVDbGFzc2VzIiwiY2xzIiwiaW5BcnJheSIsIiRldmFsQXN5bmMiLCJjbGFzc05hbWUiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwibmciLCJtb2R1bGUiLCJkaXJlY3RpdmUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QyxFQUFFQyxPQUFPLElBQVQsRUFBN0M7QUFDQTs7Ozs7Ozs7O0lBU0k7QUFDSixJQUFJQyxZQUFZLG1CQUFBQyxDQUFRLEVBQVIsQ0FBaEI7QUFDQSxJQUFJQyxTQUFTLG1CQUFBRCxDQUFRLENBQVIsQ0FBYjtBQUNBO0FBQ0EsU0FBU0UsYUFBVCxDQUF1QkMsR0FBdkIsRUFBNEI7QUFDeEIsUUFBSUMsYUFBYUQsSUFBSUUsS0FBSixDQUFVLG1CQUFWLENBQWpCO0FBQUEsUUFBaURDLE1BQWpEO0FBQ0EsUUFBSUYsVUFBSixFQUNJRCxNQUFNLE1BQU1DLFdBQVcsQ0FBWCxDQUFOLEdBQXNCLEdBQTVCO0FBQ0pFLGFBQVNILElBQUlJLE9BQUosQ0FBWSxLQUFaLEVBQW1CLEdBQW5CLEVBQXdCRixLQUF4QixDQUE4QixnQ0FBOUIsQ0FBVDtBQUNBLFFBQUksQ0FBQ0MsTUFBRCxJQUFXQSxPQUFPRSxNQUFQLEtBQWtCLENBQWpDLEVBQ0ksTUFBTSxJQUFJQyxLQUFKLENBQVUsd0JBQXdCTixHQUF4QixHQUE4QixHQUF4QyxDQUFOO0FBQ0osV0FBTyxFQUFFTyxPQUFPSixPQUFPLENBQVAsS0FBYSxJQUF0QixFQUE0QkssV0FBV0wsT0FBTyxDQUFQLEtBQWEsSUFBcEQsRUFBUDtBQUNIO0FBQ0Q7QUFDQSxTQUFTTSxZQUFULENBQXNCQyxF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YixDQUFwQixHQUFrRCxFQUFyRTtBQUNBLG9CQUFJMEMsYUFBYUwsYUFBYUYsTUFBYixDQUFvQk0sWUFBcEIsRUFBa0N4RCxNQUFsQyxDQUF5Q3ZHLE9BQU8wSixLQUFoRCxFQUF1RCxFQUF2RCxDQUFqQjtBQUNBLG9CQUFJTyxnQkFBZ0JULFdBQVdQLE1BQVgsQ0FBa0IsVUFBVWlCLEdBQVYsRUFBZTtBQUFFLDJCQUFPLENBQUNsSyxPQUFPbUssT0FBUCxDQUFlSCxVQUFmLEVBQTJCRSxHQUEzQixDQUFSO0FBQTBDLGlCQUE3RSxDQUFwQjtBQUNBL0MsdUJBQU9pRCxVQUFQLENBQWtCLFlBQVk7QUFDMUJKLCtCQUFXdEQsT0FBWCxDQUFtQixVQUFVMkQsU0FBVixFQUFxQjtBQUFFLCtCQUFPOUksU0FBUytJLFFBQVQsQ0FBa0JELFNBQWxCLENBQVA7QUFBc0MscUJBQWhGO0FBQ0FKLGtDQUFjdkQsT0FBZCxDQUFzQixVQUFVMkQsU0FBVixFQUFxQjtBQUFFLCtCQUFPOUksU0FBU2dKLFdBQVQsQ0FBcUJGLFNBQXJCLENBQVA7QUFBeUMscUJBQXRGO0FBQ0gsaUJBSEQ7QUFJSDtBQUNEMUU7QUFDSCxTQTFFTztBQUZULEtBQVA7QUE4RUgsQ0FoRlUsQ0FBZjtBQWlGQTdGLFVBQVUwSyxFQUFWLENBQWFDLE1BQWIsQ0FBb0IsaUJBQXBCLEVBQ0tDLFNBREwsQ0FDZSxRQURmLEVBQ3lCNUYsTUFEekIsRUFFSzRGLFNBRkwsQ0FFZSxjQUZmLEVBRStCckYsWUFGL0IsRUFHS3FGLFNBSEwsQ0FHZSxnQkFIZixFQUdpQ3JGLFlBSGpDLEVBSUtxRixTQUpMLENBSWUsU0FKZixFQUkwQmpKLE9BSjFCO0FBS0EiLCJmaWxlIjoiODQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogIyBBbmd1bGFyIDEgRGlyZWN0aXZlc1xuICpcbiAqIFRoZXNlIGFyZSB0aGUgZGlyZWN0aXZlcyBpbmNsdWRlZCBpbiBVSS1Sb3V0ZXIgZm9yIEFuZ3VsYXIgMS5cbiAqIFRoZXNlIGRpcmVjdGl2ZXMgYXJlIHVzZWQgaW4gdGVtcGxhdGVzIHRvIGNyZWF0ZSB2aWV3cG9ydHMgYW5kIGxpbmsvbmF2aWdhdGUgdG8gc3RhdGVzLlxuICpcbiAqIEBuZzFhcGlcbiAqIEBwcmVmZXJyZWRcbiAqIEBtb2R1bGUgZGlyZWN0aXZlc1xuICovIC8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIGFuZ3VsYXJfMSA9IHJlcXVpcmUoXCIuLi9hbmd1bGFyXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCJAdWlyb3V0ZXIvY29yZVwiKTtcbi8qKiBAaGlkZGVuICovXG5mdW5jdGlvbiBwYXJzZVN0YXRlUmVmKHJlZikge1xuICAgIHZhciBwYXJhbXNPbmx5ID0gcmVmLm1hdGNoKC9eXFxzKih7W159XSp9KVxccyokLyksIHBhcnNlZDtcbiAgICBpZiAocGFyYW1zT25seSlcbiAgICAgICAgcmVmID0gJygnICsgcGFyYW1zT25seVsxXSArICcpJztcbiAgICBwYXJzZWQgPSByZWYucmVwbGFjZSgvXFxuL2csIFwiIFwiKS5tYXRjaCgvXlxccyooW14oXSo/KVxccyooXFwoKC4qKVxcKSk/XFxzKiQvKTtcbiAgICBpZiAoIXBhcnNlZCB8fCBwYXJzZWQubGVuZ3RoICE9PSA0KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXRlIHJlZiAnXCIgKyByZWYgKyBcIidcIik7XG4gICAgcmV0dXJuIHsgc3RhdGU6IHBhcnNlZFsxXSB8fCBudWxsLCBwYXJhbUV4cHI6IHBhcnNlZFszXSB8fCBudWxsIH07XG59XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gc3RhdGVDb250ZXh0KGVsKSB7XG4gICAgdmFyICR1aVZpZXcgPSBlbC5wYXJlbnQoKS5pbmhlcml0ZWREYXRhKCckdWlWaWV3Jyk7XG4gICAgdmFyIHBhdGggPSBjb3JlXzEucGFyc2UoJyRjZmcucGF0aCcpKCR1aVZpZXcpO1xuICAgIHJldHVybiBwYXRoID8gY29yZV8xLnRhaWwocGF0aCkuc3RhdGUubmFtZSA6IHVuZGVmaW5lZDtcbn1cbi8qKiBAaGlkZGVuICovXG5mdW5jdGlvbiBwcm9jZXNzZWREZWYoJHN0YXRlLCAkZWxlbWVudCwgZGVmKSB7XG4gICAgdmFyIHVpU3RhdGUgPSBkZWYudWlTdGF0ZSB8fCAkc3RhdGUuY3VycmVudC5uYW1lO1xuICAgIHZhciB1aVN0YXRlT3B0cyA9IGNvcmVfMS5leHRlbmQoZGVmYXVsdE9wdHMoJGVsZW1lbnQsICRzdGF0ZSksIGRlZi51aVN0YXRlT3B0cyB8fCB7fSk7XG4gICAgdmFyIGhyZWYgPSAkc3RhdGUuaHJlZih1aVN0YXRlLCBkZWYudWlTdGF0ZVBhcmFtcywgdWlTdGF0ZU9wdHMpO1xuICAgIHJldHVybiB7IHVpU3RhdGU6IHVpU3RhdGUsIHVpU3RhdGVQYXJhbXM6IGRlZi51aVN0YXRlUGFyYW1zLCB1aVN0YXRlT3B0czogdWlTdGF0ZU9wdHMsIGhyZWY6IGhyZWYgfTtcbn1cbi8qKiBAaGlkZGVuICovXG5mdW5jdGlvbiBnZXRUeXBlSW5mbyhlbCkge1xuICAgIC8vIFNWR0FFbGVtZW50IGRvZXMgbm90IHVzZSB0aGUgaHJlZiBhdHRyaWJ1dGUsIGJ1dCByYXRoZXIgdGhlICd4bGlua0hyZWYnIGF0dHJpYnV0ZS5cbiAgICB2YXIgaXNTdmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZWwucHJvcCgnaHJlZicpKSA9PT0gJ1tvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddJztcbiAgICB2YXIgaXNGb3JtID0gZWxbMF0ubm9kZU5hbWUgPT09IFwiRk9STVwiO1xuICAgIHJldHVybiB7XG4gICAgICAgIGF0dHI6IGlzRm9ybSA/IFwiYWN0aW9uXCIgOiAoaXNTdmcgPyAneGxpbms6aHJlZicgOiAnaHJlZicpLFxuICAgICAgICBpc0FuY2hvcjogZWwucHJvcChcInRhZ05hbWVcIikudG9VcHBlckNhc2UoKSA9PT0gXCJBXCIsXG4gICAgICAgIGNsaWNrYWJsZTogIWlzRm9ybVxuICAgIH07XG59XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gY2xpY2tIb29rKGVsLCAkc3RhdGUsICR0aW1lb3V0LCB0eXBlLCBnZXREZWYpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGJ1dHRvbiA9IGUud2hpY2ggfHwgZS5idXR0b24sIHRhcmdldCA9IGdldERlZigpO1xuICAgICAgICBpZiAoIShidXR0b24gPiAxIHx8IGUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHwgZS5zaGlmdEtleSB8fCBlbC5hdHRyKCd0YXJnZXQnKSkpIHtcbiAgICAgICAgICAgIC8vIEhBQ0s6IFRoaXMgaXMgdG8gYWxsb3cgbmctY2xpY2tzIHRvIGJlIHByb2Nlc3NlZCBiZWZvcmUgdGhlIHRyYW5zaXRpb24gaXMgaW5pdGlhdGVkOlxuICAgICAgICAgICAgdmFyIHRyYW5zaXRpb24gPSAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKHRhcmdldC51aVN0YXRlLCB0YXJnZXQudWlTdGF0ZVBhcmFtcywgdGFyZ2V0LnVpU3RhdGVPcHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgLy8gaWYgdGhlIHN0YXRlIGhhcyBubyBVUkwsIGlnbm9yZSBvbmUgcHJldmVudERlZmF1bHQgZnJvbSB0aGUgPGE+IGRpcmVjdGl2ZS5cbiAgICAgICAgICAgIHZhciBpZ25vcmVQcmV2ZW50RGVmYXVsdENvdW50ID0gdHlwZS5pc0FuY2hvciAmJiAhdGFyZ2V0LmhyZWYgPyAxIDogMDtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlnbm9yZVByZXZlbnREZWZhdWx0Q291bnQtLSA8PSAwKVxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodHJhbnNpdGlvbik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKiBAaGlkZGVuICovXG5mdW5jdGlvbiBkZWZhdWx0T3B0cyhlbCwgJHN0YXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVsYXRpdmU6IHN0YXRlQ29udGV4dChlbCkgfHwgJHN0YXRlLiRjdXJyZW50LFxuICAgICAgICBpbmhlcml0OiB0cnVlLFxuICAgICAgICBzb3VyY2U6IFwic3JlZlwiXG4gICAgfTtcbn1cbi8qKiBAaGlkZGVuICovXG5mdW5jdGlvbiBiaW5kRXZlbnRzKGVsZW1lbnQsIHNjb3BlLCBob29rRm4sIHVpU3RhdGVPcHRzKSB7XG4gICAgdmFyIGV2ZW50cztcbiAgICBpZiAodWlTdGF0ZU9wdHMpIHtcbiAgICAgICAgZXZlbnRzID0gdWlTdGF0ZU9wdHMuZXZlbnRzO1xuICAgIH1cbiAgICBpZiAoIWNvcmVfMS5pc0FycmF5KGV2ZW50cykpIHtcbiAgICAgICAgZXZlbnRzID0gWydjbGljayddO1xuICAgIH1cbiAgICB2YXIgb24gPSBlbGVtZW50Lm9uID8gJ29uJyA6ICdiaW5kJztcbiAgICBmb3IgKHZhciBfaSA9IDAsIGV2ZW50c18xID0gZXZlbnRzOyBfaSA8IGV2ZW50c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgZXZlbnRfMSA9IGV2ZW50c18xW19pXTtcbiAgICAgICAgZWxlbWVudFtvbl0oZXZlbnRfMSwgaG9va0ZuKTtcbiAgICB9XG4gICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9mZiA9IGVsZW1lbnQub2ZmID8gJ29mZicgOiAndW5iaW5kJztcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBldmVudHNfMiA9IGV2ZW50czsgX2kgPCBldmVudHNfMi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudF8yID0gZXZlbnRzXzJbX2ldO1xuICAgICAgICAgICAgZWxlbWVudFtvZmZdKGV2ZW50XzIsIGhvb2tGbik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogYHVpLXNyZWZgOiBBIGRpcmVjdGl2ZSBmb3IgbGlua2luZyB0byBhIHN0YXRlXG4gKlxuICogQSBkaXJlY3RpdmUgd2hpY2ggbGlua3MgdG8gYSBzdGF0ZSAoYW5kIG9wdGlvbmFsbHksIHBhcmFtZXRlcnMpLlxuICogV2hlbiBjbGlja2VkLCB0aGlzIGRpcmVjdGl2ZSBhY3RpdmF0ZXMgdGhlIGxpbmtlZCBzdGF0ZSB3aXRoIHRoZSBzdXBwbGllZCBwYXJhbWV0ZXIgdmFsdWVzLlxuICpcbiAqICMjIyBMaW5rZWQgU3RhdGVcbiAqIFRoZSBhdHRyaWJ1dGUgdmFsdWUgb2YgdGhlIGB1aS1zcmVmYCBpcyB0aGUgbmFtZSBvZiB0aGUgc3RhdGUgdG8gbGluayB0by5cbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBUaGlzIHdpbGwgYWN0aXZhdGUgdGhlIGBob21lYCBzdGF0ZSB3aGVuIHRoZSBsaW5rIGlzIGNsaWNrZWQuXG4gKiBgYGBodG1sXG4gKiA8YSB1aS1zcmVmPVwiaG9tZVwiPkhvbWU8L2E+XG4gKiBgYGBcbiAqXG4gKiAjIyMgUmVsYXRpdmUgTGlua3NcbiAqIFlvdSBjYW4gYWxzbyB1c2UgcmVsYXRpdmUgc3RhdGUgcGF0aHMgd2l0aGluIGB1aS1zcmVmYCwganVzdCBsaWtlIGEgcmVsYXRpdmUgcGF0aCBwYXNzZWQgdG8gYCRzdGF0ZS5nbygpYCAoW1tTdGF0ZVNlcnZpY2UuZ29dXSkuXG4gKiBZb3UganVzdCBuZWVkIHRvIGJlIGF3YXJlIHRoYXQgdGhlIHBhdGggaXMgcmVsYXRpdmUgdG8gdGhlIHN0YXRlIHRoYXQgKmNyZWF0ZWQqIHRoZSBsaW5rLlxuICogVGhpcyBhbGxvd3MgYSBzdGF0ZSB0byBjcmVhdGUgYSByZWxhdGl2ZSBgdWktc3JlZmAgd2hpY2ggYWx3YXlzIHRhcmdldHMgdGhlIHNhbWUgZGVzdGluYXRpb24uXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogQm90aCB0aGVzZSBsaW5rcyBhcmUgcmVsYXRpdmUgdG8gdGhlIHBhcmVudCBzdGF0ZSwgZXZlbiB3aGVuIGEgY2hpbGQgc3RhdGUgaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAqIGBgYGh0bWxcbiAqIDxhIHVpLXNyZWY9XCIuY2hpbGQxXCI+Y2hpbGQgMSBzdGF0ZTwvYT5cbiAqIDxhIHVpLXNyZWY9XCIuY2hpbGQyXCI+Y2hpbGQgMiBzdGF0ZTwvYT5cbiAqIGBgYFxuICpcbiAqIFRoaXMgbGluayBhY3RpdmF0ZXMgdGhlIHBhcmVudCBzdGF0ZS5cbiAqIGBgYGh0bWxcbiAqIDxhIHVpLXNyZWY9XCJeXCI+UmV0dXJuPC9hPlxuICogYGBgXG4gKlxuICogIyMjIGhyZWZzXG4gKiBJZiB0aGUgbGlua2VkIHN0YXRlIGhhcyBhIFVSTCwgdGhlIGRpcmVjdGl2ZSB3aWxsIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYW5kXG4gKiB1cGRhdGUgdGhlIGBocmVmYCBhdHRyaWJ1dGUgKHVzaW5nIHRoZSBbW1N0YXRlU2VydmljZS5ocmVmXV0gIG1ldGhvZCkuXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogQXNzdW1pbmcgdGhlIGB1c2Vyc2Agc3RhdGUgaGFzIGEgdXJsIG9mIGAvdXNlcnMvYFxuICogYGBgaHRtbFxuICogPGEgdWktc3JlZj1cInVzZXJzXCIgaHJlZj1cIi91c2Vycy9cIj5Vc2VyczwvYT5cbiAqIGBgYFxuICpcbiAqICMjIyBQYXJhbWV0ZXIgVmFsdWVzXG4gKiBJbiBhZGRpdGlvbiB0byB0aGUgc3RhdGUgbmFtZSwgYSBgdWktc3JlZmAgY2FuIGluY2x1ZGUgcGFyYW1ldGVyIHZhbHVlcyB3aGljaCBhcmUgYXBwbGllZCB3aGVuIGFjdGl2YXRpbmcgdGhlIHN0YXRlLlxuICogUGFyYW0gdmFsdWVzIGNhbiBiZSBwcm92aWRlZCBpbiB0aGUgYHVpLXNyZWZgIHZhbHVlIGFmdGVyIHRoZSBzdGF0ZSBuYW1lLCBlbmNsb3NlZCBieSBwYXJlbnRoZXNlcy5cbiAqIFRoZSBjb250ZW50IGluc2lkZSB0aGUgcGFyZW50aGVzZXMgaXMgYW4gZXhwcmVzc2lvbiwgZXZhbHVhdGVkIHRvIHRoZSBwYXJhbWV0ZXIgdmFsdWVzLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIFRoaXMgZXhhbXBsZSByZW5kZXJzIGEgbGlzdCBvZiBsaW5rcyB0byB1c2Vycy5cbiAqIFRoZSBzdGF0ZSdzIGB1c2VySWRgIHBhcmFtZXRlciB2YWx1ZSBjb21lcyBmcm9tIGVhY2ggdXNlcidzIGB1c2VyLmlkYCBwcm9wZXJ0eS5cbiAqIGBgYGh0bWxcbiAqIDxsaSBuZy1yZXBlYXQ9XCJ1c2VyIGluIHVzZXJzXCI+XG4gKiAgIDxhIHVpLXNyZWY9XCJ1c2Vycy5kZXRhaWwoeyB1c2VySWQ6IHVzZXIuaWQgfSlcIj57eyB1c2VyLmRpc3BsYXlOYW1lIH19PC9hPlxuICogPC9saT5cbiAqIGBgYFxuICpcbiAqIE5vdGU6XG4gKiBUaGUgcGFyYW1ldGVyIHZhbHVlcyBleHByZXNzaW9uIGlzIGAkd2F0Y2hgZWQgZm9yIHVwZGF0ZXMuXG4gKlxuICogIyMjIFRyYW5zaXRpb24gT3B0aW9uc1xuICogWW91IGNhbiBzcGVjaWZ5IFtbVHJhbnNpdGlvbk9wdGlvbnNdXSB0byBwYXNzIHRvIFtbU3RhdGVTZXJ2aWNlLmdvXV0gYnkgdXNpbmcgdGhlIGB1aS1zcmVmLW9wdHNgIGF0dHJpYnV0ZS5cbiAqIE9wdGlvbnMgYXJlIHJlc3RyaWN0ZWQgdG8gYGxvY2F0aW9uYCwgYGluaGVyaXRgLCBhbmQgYHJlbG9hZGAuXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBgaHRtbFxuICogPGEgdWktc3JlZj1cImhvbWVcIiB1aS1zcmVmLW9wdHM9XCJ7IHJlbG9hZDogdHJ1ZSB9XCI+SG9tZTwvYT5cbiAqIGBgYFxuICpcbiAqICMjIyBPdGhlciBET00gRXZlbnRzXG4gKlxuICogWW91IGNhbiBhbHNvIGN1c3RvbWl6ZSB3aGljaCBET00gZXZlbnRzIHRvIHJlc3BvbmQgdG8gKGluc3RlYWQgb2YgYGNsaWNrYCkgYnlcbiAqIHByb3ZpZGluZyBhbiBgZXZlbnRzYCBhcnJheSBpbiB0aGUgYHVpLXNyZWYtb3B0c2AgYXR0cmlidXRlLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIGBgYGh0bWxcbiAqIDxpbnB1dCB0eXBlPVwidGV4dFwiIHVpLXNyZWY9XCJjb250YWN0c1wiIHVpLXNyZWYtb3B0cz1cInsgZXZlbnRzOiBbJ2NoYW5nZScsICdibHVyJ10gfVwiPlxuICogYGBgXG4gKlxuICogIyMjIEhpZ2hsaWdodGluZyB0aGUgYWN0aXZlIGxpbmtcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggW1t1aVNyZWZBY3RpdmVdXSB0byBoaWdobGlnaHQgdGhlIGFjdGl2ZSBsaW5rLlxuICpcbiAqICMjIyBFeGFtcGxlc1xuICogSWYgeW91IGhhdmUgdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8YSB1aS1zcmVmPVwiaG9tZVwiPkhvbWU8L2E+XG4gKiA8YSB1aS1zcmVmPVwiYWJvdXRcIj5BYm91dDwvYT5cbiAqIDxhIHVpLXNyZWY9XCJ7cGFnZTogMn1cIj5OZXh0IHBhZ2U8L2E+XG4gKlxuICogPHVsPlxuICogICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIGNvbnRhY3RzXCI+XG4gKiAgICAgICAgIDxhIHVpLXNyZWY9XCJjb250YWN0cy5kZXRhaWwoeyBpZDogY29udGFjdC5pZCB9KVwiPnt7IGNvbnRhY3QubmFtZSB9fTwvYT5cbiAqICAgICA8L2xpPlxuICogPC91bD5cbiAqIGBgYFxuICpcbiAqIFRoZW4gKGFzc3VtaW5nIHRoZSBjdXJyZW50IHN0YXRlIGlzIGBjb250YWN0c2ApIHRoZSByZW5kZXJlZCBodG1sIGluY2x1ZGluZyBocmVmcyB3b3VsZCBiZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8YSBocmVmPVwiIy9ob21lXCIgdWktc3JlZj1cImhvbWVcIj5Ib21lPC9hPlxuICogPGEgaHJlZj1cIiMvYWJvdXRcIiB1aS1zcmVmPVwiYWJvdXRcIj5BYm91dDwvYT5cbiAqIDxhIGhyZWY9XCIjL2NvbnRhY3RzP3BhZ2U9MlwiIHVpLXNyZWY9XCJ7cGFnZTogMn1cIj5OZXh0IHBhZ2U8L2E+XG4gKlxuICogPHVsPlxuICogICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIGNvbnRhY3RzXCI+XG4gKiAgICAgICAgIDxhIGhyZWY9XCIjL2NvbnRhY3RzLzFcIiB1aS1zcmVmPVwiY29udGFjdHMuZGV0YWlsKHsgaWQ6IGNvbnRhY3QuaWQgfSlcIj5Kb2U8L2E+XG4gKiAgICAgPC9saT5cbiAqICAgICA8bGkgbmctcmVwZWF0PVwiY29udGFjdCBpbiBjb250YWN0c1wiPlxuICogICAgICAgICA8YSBocmVmPVwiIy9jb250YWN0cy8yXCIgdWktc3JlZj1cImNvbnRhY3RzLmRldGFpbCh7IGlkOiBjb250YWN0LmlkIH0pXCI+QWxpY2U8L2E+XG4gKiAgICAgPC9saT5cbiAqICAgICA8bGkgbmctcmVwZWF0PVwiY29udGFjdCBpbiBjb250YWN0c1wiPlxuICogICAgICAgICA8YSBocmVmPVwiIy9jb250YWN0cy8zXCIgdWktc3JlZj1cImNvbnRhY3RzLmRldGFpbCh7IGlkOiBjb250YWN0LmlkIH0pXCI+Qm9iPC9hPlxuICogICAgIDwvbGk+XG4gKiA8L3VsPlxuICpcbiAqIDxhIGhyZWY9XCIjL2hvbWVcIiB1aS1zcmVmPVwiaG9tZVwiIHVpLXNyZWYtb3B0cz1cIntyZWxvYWQ6IHRydWV9XCI+SG9tZTwvYT5cbiAqIGBgYFxuICpcbiAqICMjIyBOb3Rlc1xuICpcbiAqIC0gWW91IGNhbiB1c2UgYHVpLXNyZWZgIHRvIGNoYW5nZSAqKm9ubHkgdGhlIHBhcmFtZXRlciB2YWx1ZXMqKiBieSBvbWl0dGluZyB0aGUgc3RhdGUgbmFtZSBhbmQgcGFyZW50aGVzZXMuXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBTZXRzIHRoZSBgbGFuZ2AgcGFyYW1ldGVyIHRvIGBlbmAgYW5kIHJlbWFpbnMgb24gdGhlIHNhbWUgc3RhdGUuXG4gKlxuICogYGBgaHRtbFxuICogPGEgdWktc3JlZj1cInsgbGFuZzogJ2VuJyB9XCI+RW5nbGlzaDwvYT5cbiAqIGBgYFxuICpcbiAqIC0gQSBtaWRkbGUtY2xpY2ssIHJpZ2h0LWNsaWNrLCBvciBjdHJsLWNsaWNrIGlzIGhhbmRsZWQgKG5hdGl2ZWx5KSBieSB0aGUgYnJvd3NlciB0byBvcGVuIHRoZSBocmVmIGluIGEgbmV3IHdpbmRvdywgZm9yIGV4YW1wbGUuXG4gKlxuICogLSBVbmxpa2UgdGhlIHBhcmFtZXRlciB2YWx1ZXMgZXhwcmVzc2lvbiwgdGhlIHN0YXRlIG5hbWUgaXMgbm90IGAkd2F0Y2hgZWQgKGZvciBwZXJmb3JtYW5jZSByZWFzb25zKS5cbiAqIElmIHlvdSBuZWVkIHRvIGR5bmFtaWNhbGx5IHVwZGF0ZSB0aGUgc3RhdGUgYmVpbmcgbGlua2VkIHRvLCB1c2UgdGhlIGZ1bGx5IGR5bmFtaWMgW1t1aVN0YXRlXV0gZGlyZWN0aXZlLlxuICovXG52YXIgdWlTcmVmO1xudWlTcmVmID0gWyckdWlSb3V0ZXInLCAnJHRpbWVvdXQnLFxuICAgIGZ1bmN0aW9uICRTdGF0ZVJlZkRpcmVjdGl2ZSgkdWlSb3V0ZXIsICR0aW1lb3V0KSB7XG4gICAgICAgIHZhciAkc3RhdGUgPSAkdWlSb3V0ZXIuc3RhdGVTZXJ2aWNlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHJlcXVpcmU6IFsnP151aVNyZWZBY3RpdmUnLCAnP151aVNyZWZBY3RpdmVFcSddLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgdWlTcmVmQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBnZXRUeXBlSW5mbyhlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlID0gdWlTcmVmQWN0aXZlWzFdIHx8IHVpU3JlZkFjdGl2ZVswXTtcbiAgICAgICAgICAgICAgICB2YXIgdW5saW5rSW5mb0ZuID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgaG9va0ZuO1xuICAgICAgICAgICAgICAgIHZhciByYXdEZWYgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgZ2V0RGVmID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvY2Vzc2VkRGVmKCRzdGF0ZSwgZWxlbWVudCwgcmF3RGVmKTsgfTtcbiAgICAgICAgICAgICAgICB2YXIgcmVmID0gcGFyc2VTdGF0ZVJlZihhdHRycy51aVNyZWYpO1xuICAgICAgICAgICAgICAgIHJhd0RlZi51aVN0YXRlID0gcmVmLnN0YXRlO1xuICAgICAgICAgICAgICAgIHJhd0RlZi51aVN0YXRlT3B0cyA9IGF0dHJzLnVpU3JlZk9wdHMgPyBzY29wZS4kZXZhbChhdHRycy51aVNyZWZPcHRzKSA6IHt9O1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZiA9IGdldERlZigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodW5saW5rSW5mb0ZuKVxuICAgICAgICAgICAgICAgICAgICAgICAgdW5saW5rSW5mb0ZuKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmUpXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmxpbmtJbmZvRm4gPSBhY3RpdmUuJCRhZGRTdGF0ZUluZm8oZGVmLnVpU3RhdGUsIGRlZi51aVN0YXRlUGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5ocmVmICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRycy4kc2V0KHR5cGUuYXR0ciwgZGVmLmhyZWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVmLnBhcmFtRXhwcikge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2gocmVmLnBhcmFtRXhwciwgZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF3RGVmLnVpU3RhdGVQYXJhbXMgPSBjb3JlXzEuZXh0ZW5kKHt9LCB2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICByYXdEZWYudWlTdGF0ZVBhcmFtcyA9IGNvcmVfMS5leHRlbmQoe30sIHNjb3BlLiRldmFsKHJlZi5wYXJhbUV4cHIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsICR1aVJvdXRlci5zdGF0ZVJlZ2lzdHJ5Lm9uU3RhdGVzQ2hhbmdlZCh1cGRhdGUpKTtcbiAgICAgICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgJHVpUm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLm9uU3VjY2Vzcyh7fSwgdXBkYXRlKSk7XG4gICAgICAgICAgICAgICAgaWYgKCF0eXBlLmNsaWNrYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGhvb2tGbiA9IGNsaWNrSG9vayhlbGVtZW50LCAkc3RhdGUsICR0aW1lb3V0LCB0eXBlLCBnZXREZWYpO1xuICAgICAgICAgICAgICAgIGJpbmRFdmVudHMoZWxlbWVudCwgc2NvcGUsIGhvb2tGbiwgcmF3RGVmLnVpU3RhdGVPcHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XTtcbi8qKlxuICogYHVpLXN0YXRlYDogQSBmdWxseSBkeW5hbWljIGRpcmVjdGl2ZSBmb3IgbGlua2luZyB0byBhIHN0YXRlXG4gKlxuICogQSBkaXJlY3RpdmUgd2hpY2ggbGlua3MgdG8gYSBzdGF0ZSAoYW5kIG9wdGlvbmFsbHksIHBhcmFtZXRlcnMpLlxuICogV2hlbiBjbGlja2VkLCB0aGlzIGRpcmVjdGl2ZSBhY3RpdmF0ZXMgdGhlIGxpbmtlZCBzdGF0ZSB3aXRoIHRoZSBzdXBwbGllZCBwYXJhbWV0ZXIgdmFsdWVzLlxuICpcbiAqICoqVGhpcyBkaXJlY3RpdmUgaXMgdmVyeSBzaW1pbGFyIHRvIFtbdWlTcmVmXV0sIGJ1dCBpdCBgJG9ic2VydmVgcyBhbmQgYCR3YXRjaGBlcy9ldmFsdWF0ZXMgYWxsIGl0cyBpbnB1dHMuKipcbiAqXG4gKiBBIGRpcmVjdGl2ZSB3aGljaCBsaW5rcyB0byBhIHN0YXRlIChhbmQgb3B0aW9uYWxseSwgcGFyYW1ldGVycykuXG4gKiBXaGVuIGNsaWNrZWQsIHRoaXMgZGlyZWN0aXZlIGFjdGl2YXRlcyB0aGUgbGlua2VkIHN0YXRlIHdpdGggdGhlIHN1cHBsaWVkIHBhcmFtZXRlciB2YWx1ZXMuXG4gKlxuICogIyMjIExpbmtlZCBTdGF0ZVxuICogVGhlIGF0dHJpYnV0ZSB2YWx1ZSBvZiBgdWktc3RhdGVgIGlzIGFuIGV4cHJlc3Npb24gd2hpY2ggaXMgYCR3YXRjaGBlZCBhbmQgZXZhbHVhdGVkIGFzIHRoZSBzdGF0ZSB0byBsaW5rIHRvLlxuICogKipUaGlzIGlzIGluIGNvbnRyYXN0IHdpdGggYHVpLXNyZWZgLCB3aGljaCB0YWtlcyBhIHN0YXRlIG5hbWUgYXMgYSBzdHJpbmcgbGl0ZXJhbC4qKlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIENyZWF0ZSBhIGxpc3Qgb2YgbGlua3MuXG4gKiBgYGBodG1sXG4gKiA8bGkgbmctcmVwZWF0PVwibGluayBpbiBuYXZsaW5rc1wiPlxuICogICA8YSB1aS1zdGF0ZT1cImxpbmsuc3RhdGVcIj57eyBsaW5rLmRpc3BsYXlOYW1lIH19PC9hPlxuICogPC9saT5cbiAqIGBgYFxuICpcbiAqICMjIyBSZWxhdGl2ZSBMaW5rc1xuICogSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgcmVsYXRpdmUgcGF0aCwgaXQgaXMgcHJvY2Vzc2VkIGxpa2UgW1t1aVNyZWZdXS5cbiAqIFlvdSBqdXN0IG5lZWQgdG8gYmUgYXdhcmUgdGhhdCB0aGUgcGF0aCBpcyByZWxhdGl2ZSB0byB0aGUgc3RhdGUgdGhhdCAqY3JlYXRlZCogdGhlIGxpbmsuXG4gKiBUaGlzIGFsbG93cyBhIHN0YXRlIHRvIGNyZWF0ZSByZWxhdGl2ZSBgdWktc3RhdGVgIHdoaWNoIGFsd2F5cyB0YXJnZXRzIHRoZSBzYW1lIGRlc3RpbmF0aW9uLlxuICpcbiAqICMjIyBocmVmc1xuICogSWYgdGhlIGxpbmtlZCBzdGF0ZSBoYXMgYSBVUkwsIHRoZSBkaXJlY3RpdmUgd2lsbCBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGFuZFxuICogdXBkYXRlIHRoZSBgaHJlZmAgYXR0cmlidXRlICh1c2luZyB0aGUgW1tTdGF0ZVNlcnZpY2UuaHJlZl1dICBtZXRob2QpLlxuICpcbiAqICMjIyBQYXJhbWV0ZXIgVmFsdWVzXG4gKiBJbiBhZGRpdGlvbiB0byB0aGUgc3RhdGUgbmFtZSBleHByZXNzaW9uLCBhIGB1aS1zdGF0ZWAgY2FuIGluY2x1ZGUgcGFyYW1ldGVyIHZhbHVlcyB3aGljaCBhcmUgYXBwbGllZCB3aGVuIGFjdGl2YXRpbmcgdGhlIHN0YXRlLlxuICogUGFyYW0gdmFsdWVzIHNob3VsZCBiZSBwcm92aWRlZCB1c2luZyB0aGUgYHVpLXN0YXRlLXBhcmFtc2AgYXR0cmlidXRlLlxuICogVGhlIGB1aS1zdGF0ZS1wYXJhbXNgIGF0dHJpYnV0ZSB2YWx1ZSBpcyBgJHdhdGNoYGVkIGFuZCBldmFsdWF0ZWQgYXMgYW4gZXhwcmVzc2lvbi5cbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBUaGlzIGV4YW1wbGUgcmVuZGVycyBhIGxpc3Qgb2YgbGlua3Mgd2l0aCBwYXJhbSB2YWx1ZXMuXG4gKiBUaGUgc3RhdGUncyBgdXNlcklkYCBwYXJhbWV0ZXIgdmFsdWUgY29tZXMgZnJvbSBlYWNoIHVzZXIncyBgdXNlci5pZGAgcHJvcGVydHkuXG4gKiBgYGBodG1sXG4gKiA8bGkgbmctcmVwZWF0PVwibGluayBpbiBuYXZsaW5rc1wiPlxuICogICA8YSB1aS1zdGF0ZT1cImxpbmsuc3RhdGVcIiB1aS1zdGF0ZS1wYXJhbXM9XCJsaW5rLnBhcmFtc1wiPnt7IGxpbmsuZGlzcGxheU5hbWUgfX08L2E+XG4gKiA8L2xpPlxuICogYGBgXG4gKlxuICogIyMjIFRyYW5zaXRpb24gT3B0aW9uc1xuICogWW91IGNhbiBzcGVjaWZ5IFtbVHJhbnNpdGlvbk9wdGlvbnNdXSB0byBwYXNzIHRvIFtbU3RhdGVTZXJ2aWNlLmdvXV0gYnkgdXNpbmcgdGhlIGB1aS1zdGF0ZS1vcHRzYCBhdHRyaWJ1dGUuXG4gKiBPcHRpb25zIGFyZSByZXN0cmljdGVkIHRvIGBsb2NhdGlvbmAsIGBpbmhlcml0YCwgYW5kIGByZWxvYWRgLlxuICogVGhlIHZhbHVlIG9mIHRoZSBgdWktc3RhdGUtb3B0c2AgaXMgYCR3YXRjaGBlZCBhbmQgZXZhbHVhdGVkIGFzIGFuIGV4cHJlc3Npb24uXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBgaHRtbFxuICogPGEgdWktc3RhdGU9XCJyZXR1cm50by5zdGF0ZVwiIHVpLXN0YXRlLW9wdHM9XCJ7IHJlbG9hZDogdHJ1ZSB9XCI+SG9tZTwvYT5cbiAqIGBgYFxuICpcbiAqICMjIyBPdGhlciBET00gRXZlbnRzXG4gKlxuICogWW91IGNhbiBhbHNvIGN1c3RvbWl6ZSB3aGljaCBET00gZXZlbnRzIHRvIHJlc3BvbmQgdG8gKGluc3RlYWQgb2YgYGNsaWNrYCkgYnlcbiAqIHByb3ZpZGluZyBhbiBgZXZlbnRzYCBhcnJheSBpbiB0aGUgYHVpLXN0YXRlLW9wdHNgIGF0dHJpYnV0ZS5cbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBgYGBodG1sXG4gKiA8aW5wdXQgdHlwZT1cInRleHRcIiB1aS1zdGF0ZT1cImNvbnRhY3RzXCIgdWktc3RhdGUtb3B0cz1cInsgZXZlbnRzOiBbJ2NoYW5nZScsICdibHVyJ10gfVwiPlxuICogYGBgXG4gKlxuICogIyMjIEhpZ2hsaWdodGluZyB0aGUgYWN0aXZlIGxpbmtcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggW1t1aVNyZWZBY3RpdmVdXSB0byBoaWdobGlnaHQgdGhlIGFjdGl2ZSBsaW5rLlxuICpcbiAqICMjIyBOb3Rlc1xuICpcbiAqIC0gWW91IGNhbiB1c2UgYHVpLXBhcmFtc2AgdG8gY2hhbmdlICoqb25seSB0aGUgcGFyYW1ldGVyIHZhbHVlcyoqIGJ5IG9taXR0aW5nIHRoZSBzdGF0ZSBuYW1lIGFuZCBzdXBwbHlpbmcgb25seSBgdWktc3RhdGUtcGFyYW1zYC5cbiAqICAgSG93ZXZlciwgaXQgbWlnaHQgYmUgc2ltcGxlciB0byB1c2UgW1t1aVNyZWZdXSBwYXJhbWV0ZXItb25seSBsaW5rcy5cbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBTZXRzIHRoZSBgbGFuZ2AgcGFyYW1ldGVyIHRvIGBlbmAgYW5kIHJlbWFpbnMgb24gdGhlIHNhbWUgc3RhdGUuXG4gKlxuICogYGBgaHRtbFxuICogPGEgdWktc3RhdGU9XCJcIiB1aS1zdGF0ZS1wYXJhbXM9XCJ7IGxhbmc6ICdlbicgfVwiPkVuZ2xpc2g8L2E+XG4gKiBgYGBcbiAqXG4gKiAtIEEgbWlkZGxlLWNsaWNrLCByaWdodC1jbGljaywgb3IgY3RybC1jbGljayBpcyBoYW5kbGVkIChuYXRpdmVseSkgYnkgdGhlIGJyb3dzZXIgdG8gb3BlbiB0aGUgaHJlZiBpbiBhIG5ldyB3aW5kb3csIGZvciBleGFtcGxlLlxuICogYGBgXG4gKi9cbnZhciB1aVN0YXRlO1xudWlTdGF0ZSA9IFsnJHVpUm91dGVyJywgJyR0aW1lb3V0JyxcbiAgICBmdW5jdGlvbiAkU3RhdGVSZWZEeW5hbWljRGlyZWN0aXZlKCR1aVJvdXRlciwgJHRpbWVvdXQpIHtcbiAgICAgICAgdmFyICRzdGF0ZSA9ICR1aVJvdXRlci5zdGF0ZVNlcnZpY2U7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgcmVxdWlyZTogWyc/XnVpU3JlZkFjdGl2ZScsICc/XnVpU3JlZkFjdGl2ZUVxJ10sXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCB1aVNyZWZBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGdldFR5cGVJbmZvKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHZhciBhY3RpdmUgPSB1aVNyZWZBY3RpdmVbMV0gfHwgdWlTcmVmQWN0aXZlWzBdO1xuICAgICAgICAgICAgICAgIHZhciB1bmxpbmtJbmZvRm4gPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBob29rRm47XG4gICAgICAgICAgICAgICAgdmFyIHJhd0RlZiA9IHt9O1xuICAgICAgICAgICAgICAgIHZhciBnZXREZWYgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9jZXNzZWREZWYoJHN0YXRlLCBlbGVtZW50LCByYXdEZWYpOyB9O1xuICAgICAgICAgICAgICAgIHZhciBpbnB1dEF0dHJzID0gWyd1aVN0YXRlJywgJ3VpU3RhdGVQYXJhbXMnLCAndWlTdGF0ZU9wdHMnXTtcbiAgICAgICAgICAgICAgICB2YXIgd2F0Y2hEZXJlZ0ZucyA9IGlucHV0QXR0cnMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGF0dHIpIHsgcmV0dXJuIChhY2NbYXR0cl0gPSBjb3JlXzEubm9vcCwgYWNjKTsgfSwge30pO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZiA9IGdldERlZigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodW5saW5rSW5mb0ZuKVxuICAgICAgICAgICAgICAgICAgICAgICAgdW5saW5rSW5mb0ZuKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmUpXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmxpbmtJbmZvRm4gPSBhY3RpdmUuJCRhZGRTdGF0ZUluZm8oZGVmLnVpU3RhdGUsIGRlZi51aVN0YXRlUGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5ocmVmICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRycy4kc2V0KHR5cGUuYXR0ciwgZGVmLmhyZWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnB1dEF0dHJzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhd0RlZltmaWVsZF0gPSBhdHRyc1tmaWVsZF0gPyBzY29wZS4kZXZhbChhdHRyc1tmaWVsZF0pIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoZmllbGQsIGZ1bmN0aW9uIChleHByKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaERlcmVnRm5zW2ZpZWxkXSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hEZXJlZ0Zuc1tmaWVsZF0gPSBzY29wZS4kd2F0Y2goZXhwciwgZnVuY3Rpb24gKG5ld3ZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd0RlZltmaWVsZF0gPSBuZXd2YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsICR1aVJvdXRlci5zdGF0ZVJlZ2lzdHJ5Lm9uU3RhdGVzQ2hhbmdlZCh1cGRhdGUpKTtcbiAgICAgICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgJHVpUm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLm9uU3VjY2Vzcyh7fSwgdXBkYXRlKSk7XG4gICAgICAgICAgICAgICAgaWYgKCF0eXBlLmNsaWNrYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGhvb2tGbiA9IGNsaWNrSG9vayhlbGVtZW50LCAkc3RhdGUsICR0aW1lb3V0LCB0eXBlLCBnZXREZWYpO1xuICAgICAgICAgICAgICAgIGJpbmRFdmVudHMoZWxlbWVudCwgc2NvcGUsIGhvb2tGbiwgcmF3RGVmLnVpU3RhdGVPcHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XTtcbi8qKlxuICogYHVpLXNyZWYtYWN0aXZlYCBhbmQgYHVpLXNyZWYtYWN0aXZlLWVxYDogQSBkaXJlY3RpdmUgdGhhdCBhZGRzIGEgQ1NTIGNsYXNzIHdoZW4gYSBgdWktc3JlZmAgaXMgYWN0aXZlXG4gKlxuICogQSBkaXJlY3RpdmUgd29ya2luZyBhbG9uZ3NpZGUgW1t1aVNyZWZdXSBhbmQgW1t1aVN0YXRlXV0gdG8gYWRkIGNsYXNzZXMgdG8gYW4gZWxlbWVudCB3aGVuIHRoZVxuICogcmVsYXRlZCBkaXJlY3RpdmUncyBzdGF0ZSBpcyBhY3RpdmUgKGFuZCByZW1vdmUgdGhlbSB3aGVuIGl0IGlzIGluYWN0aXZlKS5cbiAqXG4gKiBUaGUgcHJpbWFyeSB1c2UtY2FzZSBpcyB0byBoaWdobGlnaHQgdGhlIGFjdGl2ZSBsaW5rIGluIG5hdmlnYXRpb24gbWVudXMsXG4gKiBkaXN0aW5ndWlzaGluZyBpdCBmcm9tIHRoZSBpbmFjdGl2ZSBtZW51IGl0ZW1zLlxuICpcbiAqICMjIyBMaW5raW5nIHRvIGEgYHVpLXNyZWZgIG9yIGB1aS1zdGF0ZWBcbiAqIGB1aS1zcmVmLWFjdGl2ZWAgY2FuIGxpdmUgb24gdGhlIHNhbWUgZWxlbWVudCBhcyBgdWktc3JlZmAvYHVpLXN0YXRlYCwgb3IgaXQgY2FuIGJlIG9uIGEgcGFyZW50IGVsZW1lbnQuXG4gKiBJZiBhIGB1aS1zcmVmLWFjdGl2ZWAgaXMgYSBwYXJlbnQgdG8gbW9yZSB0aGFuIG9uZSBgdWktc3JlZmAvYHVpLXN0YXRlYCwgaXQgd2lsbCBhcHBseSB0aGUgQ1NTIGNsYXNzIHdoZW4gKiphbnkgb2YgdGhlIGxpbmtzIGFyZSBhY3RpdmUqKi5cbiAqXG4gKiAjIyMgTWF0Y2hpbmdcbiAqXG4gKiBUaGUgYHVpLXNyZWYtYWN0aXZlYCBkaXJlY3RpdmUgYXBwbGllcyB0aGUgQ1NTIGNsYXNzIHdoZW4gdGhlIGB1aS1zcmVmYC9gdWktc3RhdGVgJ3MgdGFyZ2V0IHN0YXRlICoqb3IgYW55IGNoaWxkIHN0YXRlIGlzIGFjdGl2ZSoqLlxuICogVGhpcyBpcyBhIFwiZnV6enkgbWF0Y2hcIiB3aGljaCB1c2VzIFtbU3RhdGVTZXJ2aWNlLmluY2x1ZGVzXV0uXG4gKlxuICogVGhlIGB1aS1zcmVmLWFjdGl2ZS1lcWAgZGlyZWN0aXZlIGFwcGxpZXMgdGhlIENTUyBjbGFzcyB3aGVuIHRoZSBgdWktc3JlZmAvYHVpLXN0YXRlYCdzIHRhcmdldCBzdGF0ZSBpcyBkaXJlY3RseSBhY3RpdmUgKG5vdCB3aGVuIGNoaWxkIHN0YXRlcyBhcmUgYWN0aXZlKS5cbiAqIFRoaXMgaXMgYW4gXCJleGFjdCBtYXRjaFwiIHdoaWNoIHVzZXMgW1tTdGF0ZVNlcnZpY2UuaXNdXS5cbiAqXG4gKiAjIyMgUGFyYW1ldGVyIHZhbHVlc1xuICogSWYgdGhlIGB1aS1zcmVmYC9gdWktc3RhdGVgIGluY2x1ZGVzIHBhcmFtZXRlciB2YWx1ZXMsIHRoZSBjdXJyZW50IHBhcmFtZXRlciB2YWx1ZXMgbXVzdCBtYXRjaCB0aGUgbGluaydzIHZhbHVlcyBmb3IgdGhlIGxpbmsgdG8gYmUgaGlnaGxpZ2h0ZWQuXG4gKiBUaGlzIGFsbG93cyBhIGxpc3Qgb2YgbGlua3MgdG8gdGhlIHNhbWUgc3RhdGUgd2l0aCBkaWZmZXJlbnQgcGFyYW1ldGVycyB0byBiZSByZW5kZXJlZCwgYW5kIHRoZSBjb3JyZWN0IG9uZSBoaWdobGlnaHRlZC5cbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBgYGBodG1sXG4gKiA8bGkgbmctcmVwZWF0PVwidXNlciBpbiB1c2Vyc1wiIHVpLXNyZWYtYWN0aXZlPVwiYWN0aXZlXCI+XG4gKiAgIDxhIHVpLXNyZWY9XCJ1c2VyLmRldGFpbHMoeyB1c2VySWQ6IHVzZXIuaWQgfSlcIj57eyB1c2VyLmxhc3ROYW1lIH19PC9hPlxuICogPC9saT5cbiAqIGBgYFxuICpcbiAqICMjIyBFeGFtcGxlc1xuICpcbiAqIEdpdmVuIHRoZSBmb2xsb3dpbmcgdGVtcGxhdGU6XG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBgYGBodG1sXG4gKiA8dWw+XG4gKiAgIDxsaSB1aS1zcmVmLWFjdGl2ZT1cImFjdGl2ZVwiIGNsYXNzPVwiaXRlbVwiPlxuICogICAgIDxhIGhyZWYgdWktc3JlZj1cImFwcC51c2VyKHt1c2VyOiAnYmlsYm9iYWdnaW5zJ30pXCI+QGJpbGJvYmFnZ2luczwvYT5cbiAqICAgPC9saT5cbiAqIDwvdWw+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSBhcHAgc3RhdGUgaXMgYGFwcC51c2VyYCAob3IgYW55IGNoaWxkIHN0YXRlKSxcbiAqIGFuZCBjb250YWlucyB0aGUgc3RhdGUgcGFyYW1ldGVyIFwidXNlclwiIHdpdGggdmFsdWUgXCJiaWxib2JhZ2dpbnNcIixcbiAqIHRoZSByZXN1bHRpbmcgSFRNTCB3aWxsIGFwcGVhciBhcyAobm90ZSB0aGUgJ2FjdGl2ZScgY2xhc3MpOlxuICpcbiAqIGBgYGh0bWxcbiAqIDx1bD5cbiAqICAgPGxpIHVpLXNyZWYtYWN0aXZlPVwiYWN0aXZlXCIgY2xhc3M9XCJpdGVtIGFjdGl2ZVwiPlxuICogICAgIDxhIHVpLXNyZWY9XCJhcHAudXNlcih7dXNlcjogJ2JpbGJvYmFnZ2lucyd9KVwiIGhyZWY9XCIvdXNlcnMvYmlsYm9iYWdnaW5zXCI+QGJpbGJvYmFnZ2luczwvYT5cbiAqICAgPC9saT5cbiAqIDwvdWw+XG4gKiBgYGBcbiAqXG4gKiAjIyMgR2xvYiBtb2RlXG4gKlxuICogSXQgaXMgcG9zc2libGUgdG8gcGFzcyBgdWktc3JlZi1hY3RpdmVgIGFuIGV4cHJlc3Npb24gdGhhdCBldmFsdWF0ZXMgdG8gYW4gb2JqZWN0LlxuICogVGhlIG9iamVjdHMga2V5cyByZXByZXNlbnQgYWN0aXZlIGNsYXNzIG5hbWVzIGFuZCB2YWx1ZXMgcmVwcmVzZW50IHRoZSByZXNwZWN0aXZlIHN0YXRlIG5hbWVzL2dsb2JzLlxuICogYHVpLXNyZWYtYWN0aXZlYCB3aWxsIG1hdGNoIGlmIHRoZSBjdXJyZW50IGFjdGl2ZSBzdGF0ZSAqKmluY2x1ZGVzKiogYW55IG9mXG4gKiB0aGUgc3BlY2lmaWVkIHN0YXRlIG5hbWVzL2dsb2JzLCBldmVuIHRoZSBhYnN0cmFjdCBvbmVzLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIEdpdmVuIHRoZSBmb2xsb3dpbmcgdGVtcGxhdGUsIHdpdGggXCJhZG1pblwiIGJlaW5nIGFuIGFic3RyYWN0IHN0YXRlOlxuICogYGBgaHRtbFxuICogPGRpdiB1aS1zcmVmLWFjdGl2ZT1cInsnYWN0aXZlJzogJ2FkbWluLioqJ31cIj5cbiAqICAgPGEgdWktc3JlZi1hY3RpdmU9XCJhY3RpdmVcIiB1aS1zcmVmPVwiYWRtaW4ucm9sZXNcIj5Sb2xlczwvYT5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogV2hlbiB0aGUgY3VycmVudCBzdGF0ZSBpcyBcImFkbWluLnJvbGVzXCIgdGhlIFwiYWN0aXZlXCIgY2xhc3Mgd2lsbCBiZSBhcHBsaWVkIHRvIGJvdGggdGhlIDxkaXY+IGFuZCA8YT4gZWxlbWVudHMuXG4gKiBJdCBpcyBpbXBvcnRhbnQgdG8gbm90ZSB0aGF0IHRoZSBzdGF0ZSBuYW1lcy9nbG9icyBwYXNzZWQgdG8gYHVpLXNyZWYtYWN0aXZlYCBvdmVycmlkZSBhbnkgc3RhdGUgcHJvdmlkZWQgYnkgYSBsaW5rZWQgYHVpLXNyZWZgLlxuICpcbiAqICMjIyBOb3RlczpcbiAqXG4gKiAtIFRoZSBjbGFzcyBuYW1lIGlzIGludGVycG9sYXRlZCAqKm9uY2UqKiBkdXJpbmcgdGhlIGRpcmVjdGl2ZXMgbGluayB0aW1lIChhbnkgZnVydGhlciBjaGFuZ2VzIHRvIHRoZVxuICogaW50ZXJwb2xhdGVkIHZhbHVlIGFyZSBpZ25vcmVkKS5cbiAqXG4gKiAtIE11bHRpcGxlIGNsYXNzZXMgbWF5IGJlIHNwZWNpZmllZCBpbiBhIHNwYWNlLXNlcGFyYXRlZCBmb3JtYXQ6IGB1aS1zcmVmLWFjdGl2ZT0nY2xhc3MxIGNsYXNzMiBjbGFzczMnYFxuICovXG52YXIgdWlTcmVmQWN0aXZlO1xudWlTcmVmQWN0aXZlID0gWyckc3RhdGUnLCAnJHN0YXRlUGFyYW1zJywgJyRpbnRlcnBvbGF0ZScsICckdWlSb3V0ZXInLFxuICAgIGZ1bmN0aW9uICRTdGF0ZVJlZkFjdGl2ZURpcmVjdGl2ZSgkc3RhdGUsICRzdGF0ZVBhcmFtcywgJGludGVycG9sYXRlLCAkdWlSb3V0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiBcIkFcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRlbGVtZW50JywgJyRhdHRycycsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVzID0gW10sIGFjdGl2ZUVxQ2xhc3MsIHVpU3JlZkFjdGl2ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgcHJvYmFibHkgaXNuJ3QgbXVjaCBwb2ludCBpbiAkb2JzZXJ2aW5nIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gdWlTcmVmQWN0aXZlIGFuZCB1aVNyZWZBY3RpdmVFcSBzaGFyZSB0aGUgc2FtZSBkaXJlY3RpdmUgb2JqZWN0IHdpdGggc29tZVxuICAgICAgICAgICAgICAgICAgICAvLyBzbGlnaHQgZGlmZmVyZW5jZSBpbiBsb2dpYyByb3V0aW5nXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUVxQ2xhc3MgPSAkaW50ZXJwb2xhdGUoJGF0dHJzLnVpU3JlZkFjdGl2ZUVxIHx8ICcnLCBmYWxzZSkoJHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVpU3JlZkFjdGl2ZSA9ICRzY29wZS4kZXZhbCgkYXR0cnMudWlTcmVmQWN0aXZlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZy4gdWlTcmVmQWN0aXZlIGlzIG5vdCBhIHZhbGlkIGV4cHJlc3Npb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gdXNpbmcgJGludGVycG9sYXRlIGJlbG93XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdWlTcmVmQWN0aXZlID0gdWlTcmVmQWN0aXZlIHx8ICRpbnRlcnBvbGF0ZSgkYXR0cnMudWlTcmVmQWN0aXZlIHx8ICcnLCBmYWxzZSkoJHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvcmVfMS5pc09iamVjdCh1aVNyZWZBY3RpdmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEuZm9yRWFjaCh1aVNyZWZBY3RpdmUsIGZ1bmN0aW9uIChzdGF0ZU9yTmFtZSwgYWN0aXZlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29yZV8xLmlzU3RyaW5nKHN0YXRlT3JOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVmID0gcGFyc2VTdGF0ZVJlZihzdGF0ZU9yTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFN0YXRlKHJlZi5zdGF0ZSwgJHNjb3BlLiRldmFsKHJlZi5wYXJhbUV4cHIpLCBhY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgdWlTcmVmIHRvIGNvbW11bmljYXRlIHdpdGggdWlTcmVmQWN0aXZlW0VxdWFsc11cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kJGFkZFN0YXRlSW5mbyA9IGZ1bmN0aW9uIChuZXdTdGF0ZSwgbmV3UGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGdvdCBhbiBleHBsaWNpdCBzdGF0ZSBwcm92aWRlZCBieSB1aS1zcmVmLWFjdGl2ZSwgc28gd2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNoYWRvdyB0aGUgb25lIHRoYXQgY29tZXMgZnJvbSB1aS1zcmVmXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29yZV8xLmlzT2JqZWN0KHVpU3JlZkFjdGl2ZSkgJiYgc3RhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVyZWdpc3RlciA9IGFkZFN0YXRlKG5ld1N0YXRlLCBuZXdQYXJhbXMsIHVpU3JlZkFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXJlZ2lzdGVyO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVBZnRlclRyYW5zaXRpb24odHJhbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zLnByb21pc2UudGhlbih1cGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCB1cGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsICR1aVJvdXRlci50cmFuc2l0aW9uU2VydmljZS5vblN0YXJ0KHt9LCB1cGRhdGVBZnRlclRyYW5zaXRpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCR1aVJvdXRlci5nbG9iYWxzLnRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUFmdGVyVHJhbnNpdGlvbigkdWlSb3V0ZXIuZ2xvYmFscy50cmFuc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBhZGRTdGF0ZShzdGF0ZU5hbWUsIHN0YXRlUGFyYW1zLCBhY3RpdmVDbGFzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gJHN0YXRlLmdldChzdGF0ZU5hbWUsIHN0YXRlQ29udGV4dCgkZWxlbWVudCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGUgfHwgeyBuYW1lOiBzdGF0ZU5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHN0YXRlUGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNsYXNzOiBhY3RpdmVDbGFzc1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlcy5wdXNoKHN0YXRlSW5mbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gcmVtb3ZlU3RhdGUoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZV8xLnJlbW92ZUZyb20oc3RhdGVzKShzdGF0ZUluZm8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcm91dGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwbGl0Q2xhc3NlcyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyLnNwbGl0KC9cXHMvKS5maWx0ZXIoY29yZV8xLmlkZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0Q2xhc3NlcyA9IGZ1bmN0aW9uIChzdGF0ZUxpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVMaXN0Lm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5hY3RpdmVDbGFzczsgfSkubWFwKHNwbGl0Q2xhc3NlcykucmVkdWNlKGNvcmVfMS51bm5lc3RSLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsbENsYXNzZXMgPSBnZXRDbGFzc2VzKHN0YXRlcykuY29uY2F0KHNwbGl0Q2xhc3NlcyhhY3RpdmVFcUNsYXNzKSkucmVkdWNlKGNvcmVfMS51bmlxUiwgW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZ1enp5Q2xhc3NlcyA9IGdldENsYXNzZXMoc3RhdGVzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4gJHN0YXRlLmluY2x1ZGVzKHguc3RhdGUubmFtZSwgeC5wYXJhbXMpOyB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhhY3RseU1hdGNoZXNBbnkgPSAhIXN0YXRlcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICRzdGF0ZS5pcyh4LnN0YXRlLm5hbWUsIHgucGFyYW1zKTsgfSkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4YWN0Q2xhc3NlcyA9IGV4YWN0bHlNYXRjaGVzQW55ID8gc3BsaXRDbGFzc2VzKGFjdGl2ZUVxQ2xhc3MpIDogW107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkQ2xhc3NlcyA9IGZ1enp5Q2xhc3Nlcy5jb25jYXQoZXhhY3RDbGFzc2VzKS5yZWR1Y2UoY29yZV8xLnVuaXFSLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlQ2xhc3NlcyA9IGFsbENsYXNzZXMuZmlsdGVyKGZ1bmN0aW9uIChjbHMpIHsgcmV0dXJuICFjb3JlXzEuaW5BcnJheShhZGRDbGFzc2VzLCBjbHMpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkgeyByZXR1cm4gJGVsZW1lbnQuYWRkQ2xhc3MoY2xhc3NOYW1lKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuICRlbGVtZW50LnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfTtcbiAgICB9XTtcbmFuZ3VsYXJfMS5uZy5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScpXG4gICAgLmRpcmVjdGl2ZSgndWlTcmVmJywgdWlTcmVmKVxuICAgIC5kaXJlY3RpdmUoJ3VpU3JlZkFjdGl2ZScsIHVpU3JlZkFjdGl2ZSlcbiAgICAuZGlyZWN0aXZlKCd1aVNyZWZBY3RpdmVFcScsIHVpU3JlZkFjdGl2ZSlcbiAgICAuZGlyZWN0aXZlKCd1aVN0YXRlJywgdWlTdGF0ZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGF0ZURpcmVjdGl2ZXMuanMubWFwXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL2FuZ3VsYXItdWktcm91dGVyL2xpYi9kaXJlY3RpdmVzL3N0YXRlRGlyZWN0aXZlcy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///84\n')},function(module,exports,__webpack_require__){"use strict";eval("\n/** @module ng1 */ /** for typedoc */\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar angular_1 = __webpack_require__(10);\n/**\n * `isState` Filter: truthy if the current state is the parameter\n *\n * Translates to [[StateService.is]] `$state.is(\"stateName\")`.\n *\n * #### Example:\n * ```html\n * <div ng-if=\"'stateName' | isState\">show if state is 'stateName'</div>\n * ```\n */\n$IsStateFilter.$inject = ['$state'];\nfunction $IsStateFilter($state) {\n    var isFilter = function isFilter(state, params, options) {\n        return $state.is(state, params, options);\n    };\n    isFilter.$stateful = true;\n    return isFilter;\n}\nexports.$IsStateFilter = $IsStateFilter;\n/**\n * `includedByState` Filter: truthy if the current state includes the parameter\n *\n * Translates to [[StateService.includes]]` $state.is(\"fullOrPartialStateName\")`.\n *\n * #### Example:\n * ```html\n * <div ng-if=\"'fullOrPartialStateName' | includedByState\">show if state includes 'fullOrPartialStateName'</div>\n * ```\n */\n$IncludedByStateFilter.$inject = ['$state'];\nfunction $IncludedByStateFilter($state) {\n    var includesFilter = function includesFilter(state, params, options) {\n        return $state.includes(state, params, options);\n    };\n    includesFilter.$stateful = true;\n    return includesFilter;\n}\nexports.$IncludedByStateFilter = $IncludedByStateFilter;\nangular_1.ng.module('ui.router.state').filter('isState', $IsStateFilter).filter('includedByState', $IncludedByStateFilter);\n//# sourceMappingURL=stateFilters.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL3N0YXRlRmlsdGVycy5qcz84ZTUzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiYW5ndWxhcl8xIiwicmVxdWlyZSIsIiRJc1N0YXRlRmlsdGVyIiwiJGluamVjdCIsIiRzdGF0ZSIsImlzRmlsdGVyIiwic3RhdGUiLCJwYXJhbXMiLCJvcHRpb25zIiwiaXMiLCIkc3RhdGVmdWwiLCIkSW5jbHVkZWRCeVN0YXRlRmlsdGVyIiwiaW5jbHVkZXNGaWx0ZXIiLCJpbmNsdWRlcyIsIm5nIiwibW9kdWxlIiwiZmlsdGVyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLGtCLENBQW1COztBQUNuQkEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0EsSUFBSUMsWUFBWSxtQkFBQUMsQ0FBUSxFQUFSLENBQWhCO0FBQ0E7Ozs7Ozs7Ozs7QUFVQUMsZUFBZUMsT0FBZixHQUF5QixDQUFDLFFBQUQsQ0FBekI7QUFDQSxTQUFTRCxjQUFULENBQXdCRSxNQUF4QixFQUFnQztBQUM1QixRQUFJQyxXQUFXLFNBQVhBLFFBQVcsQ0FBVUMsS0FBVixFQUFpQkMsTUFBakIsRUFBeUJDLE9BQXpCLEVBQWtDO0FBQzdDLGVBQU9KLE9BQU9LLEVBQVAsQ0FBVUgsS0FBVixFQUFpQkMsTUFBakIsRUFBeUJDLE9BQXpCLENBQVA7QUFDSCxLQUZEO0FBR0FILGFBQVNLLFNBQVQsR0FBcUIsSUFBckI7QUFDQSxXQUFPTCxRQUFQO0FBQ0g7QUFDRFAsUUFBUUksY0FBUixHQUF5QkEsY0FBekI7QUFDQTs7Ozs7Ozs7OztBQVVBUyx1QkFBdUJSLE9BQXZCLEdBQWlDLENBQUMsUUFBRCxDQUFqQztBQUNBLFNBQVNRLHNCQUFULENBQWdDUCxNQUFoQyxFQUF3QztBQUNwQyxRQUFJUSxpQkFBaUIsU0FBakJBLGNBQWlCLENBQVVOLEtBQVYsRUFBaUJDLE1BQWpCLEVBQXlCQyxPQUF6QixFQUFrQztBQUNuRCxlQUFPSixPQUFPUyxRQUFQLENBQWdCUCxLQUFoQixFQUF1QkMsTUFBdkIsRUFBK0JDLE9BQS9CLENBQVA7QUFDSCxLQUZEO0FBR0FJLG1CQUFlRixTQUFmLEdBQTJCLElBQTNCO0FBQ0EsV0FBT0UsY0FBUDtBQUNIO0FBQ0RkLFFBQVFhLHNCQUFSLEdBQWlDQSxzQkFBakM7QUFDQVgsVUFBVWMsRUFBVixDQUFhQyxNQUFiLENBQW9CLGlCQUFwQixFQUNLQyxNQURMLENBQ1ksU0FEWixFQUN1QmQsY0FEdkIsRUFFS2MsTUFGTCxDQUVZLGlCQUZaLEVBRStCTCxzQkFGL0I7QUFHQSIsImZpbGUiOiI4NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqIEBtb2R1bGUgbmcxICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGFuZ3VsYXJfMSA9IHJlcXVpcmUoXCIuL2FuZ3VsYXJcIik7XG4vKipcbiAqIGBpc1N0YXRlYCBGaWx0ZXI6IHRydXRoeSBpZiB0aGUgY3VycmVudCBzdGF0ZSBpcyB0aGUgcGFyYW1ldGVyXG4gKlxuICogVHJhbnNsYXRlcyB0byBbW1N0YXRlU2VydmljZS5pc11dIGAkc3RhdGUuaXMoXCJzdGF0ZU5hbWVcIilgLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgbmctaWY9XCInc3RhdGVOYW1lJyB8IGlzU3RhdGVcIj5zaG93IGlmIHN0YXRlIGlzICdzdGF0ZU5hbWUnPC9kaXY+XG4gKiBgYGBcbiAqL1xuJElzU3RhdGVGaWx0ZXIuJGluamVjdCA9IFsnJHN0YXRlJ107XG5mdW5jdGlvbiAkSXNTdGF0ZUZpbHRlcigkc3RhdGUpIHtcbiAgICB2YXIgaXNGaWx0ZXIgPSBmdW5jdGlvbiAoc3RhdGUsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gJHN0YXRlLmlzKHN0YXRlLCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgaXNGaWx0ZXIuJHN0YXRlZnVsID0gdHJ1ZTtcbiAgICByZXR1cm4gaXNGaWx0ZXI7XG59XG5leHBvcnRzLiRJc1N0YXRlRmlsdGVyID0gJElzU3RhdGVGaWx0ZXI7XG4vKipcbiAqIGBpbmNsdWRlZEJ5U3RhdGVgIEZpbHRlcjogdHJ1dGh5IGlmIHRoZSBjdXJyZW50IHN0YXRlIGluY2x1ZGVzIHRoZSBwYXJhbWV0ZXJcbiAqXG4gKiBUcmFuc2xhdGVzIHRvIFtbU3RhdGVTZXJ2aWNlLmluY2x1ZGVzXV1gICRzdGF0ZS5pcyhcImZ1bGxPclBhcnRpYWxTdGF0ZU5hbWVcIilgLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgbmctaWY9XCInZnVsbE9yUGFydGlhbFN0YXRlTmFtZScgfCBpbmNsdWRlZEJ5U3RhdGVcIj5zaG93IGlmIHN0YXRlIGluY2x1ZGVzICdmdWxsT3JQYXJ0aWFsU3RhdGVOYW1lJzwvZGl2PlxuICogYGBgXG4gKi9cbiRJbmNsdWRlZEJ5U3RhdGVGaWx0ZXIuJGluamVjdCA9IFsnJHN0YXRlJ107XG5mdW5jdGlvbiAkSW5jbHVkZWRCeVN0YXRlRmlsdGVyKCRzdGF0ZSkge1xuICAgIHZhciBpbmNsdWRlc0ZpbHRlciA9IGZ1bmN0aW9uIChzdGF0ZSwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAkc3RhdGUuaW5jbHVkZXMoc3RhdGUsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBpbmNsdWRlc0ZpbHRlci4kc3RhdGVmdWwgPSB0cnVlO1xuICAgIHJldHVybiBpbmNsdWRlc0ZpbHRlcjtcbn1cbmV4cG9ydHMuJEluY2x1ZGVkQnlTdGF0ZUZpbHRlciA9ICRJbmNsdWRlZEJ5U3RhdGVGaWx0ZXI7XG5hbmd1bGFyXzEubmcubW9kdWxlKCd1aS5yb3V0ZXIuc3RhdGUnKVxuICAgIC5maWx0ZXIoJ2lzU3RhdGUnLCAkSXNTdGF0ZUZpbHRlcilcbiAgICAuZmlsdGVyKCdpbmNsdWRlZEJ5U3RhdGUnLCAkSW5jbHVkZWRCeVN0YXRlRmlsdGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXRlRmlsdGVycy5qcy5tYXBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL3N0YXRlRmlsdGVycy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///85\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @ng1api\n * @module directives\n */ /** for typedoc */\nvar angular_1 = __webpack_require__(10);\nvar angular_2 = __webpack_require__(55);\nvar core_1 = __webpack_require__(4);\nvar views_1 = __webpack_require__(29);\nvar services_1 = __webpack_require__(28);\nexports.uiView = ['$view', '$animate', '$uiViewScroll', '$interpolate', '$q', function $ViewDirective($view, $animate, $uiViewScroll, $interpolate, $q) {\n    function getRenderer(attrs, scope) {\n        return {\n            enter: function enter(element, target, cb) {\n                if (angular_1.ng.version.minor > 2) {\n                    $animate.enter(element, null, target).then(cb);\n                } else {\n                    $animate.enter(element, null, target, cb);\n                }\n            },\n            leave: function leave(element, cb) {\n                if (angular_1.ng.version.minor > 2) {\n                    $animate.leave(element).then(cb);\n                } else {\n                    $animate.leave(element, cb);\n                }\n            }\n        };\n    }\n    function configsEqual(config1, config2) {\n        return config1 === config2;\n    }\n    var rootData = {\n        $cfg: { viewDecl: { $context: $view._pluginapi._rootViewContext() } },\n        $uiView: {}\n    };\n    var directive = {\n        count: 0,\n        restrict: 'ECA',\n        terminal: true,\n        priority: 400,\n        transclude: 'element',\n        compile: function compile(tElement, tAttrs, $transclude) {\n            return function (scope, $element, attrs) {\n                var previousEl,\n                    currentEl,\n                    currentScope,\n                    unregister,\n                    onloadExp = attrs['onload'] || '',\n                    autoScrollExp = attrs['autoscroll'],\n                    renderer = getRenderer(attrs, scope),\n                    viewConfig = undefined,\n                    inherited = $element.inheritedData('$uiView') || rootData,\n                    name = $interpolate(attrs['uiView'] || attrs['name'] || '')(scope) || '$default';\n                var activeUIView = {\n                    $type: 'ng1',\n                    id: directive.count++,\n                    name: name,\n                    fqn: inherited.$uiView.fqn ? inherited.$uiView.fqn + \".\" + name : name,\n                    config: null,\n                    configUpdated: configUpdatedCallback,\n                    get creationContext() {\n                        var fromParentTagConfig = core_1.parse('$cfg.viewDecl.$context')(inherited);\n                        // Allow <ui-view name=\"foo\"><ui-view name=\"bar\"></ui-view></ui-view>\n                        // See https://github.com/angular-ui/ui-router/issues/3355\n                        var fromParentTag = core_1.parse('$uiView.creationContext')(inherited);\n                        return fromParentTagConfig || fromParentTag;\n                    }\n                };\n                core_1.trace.traceUIViewEvent(\"Linking\", activeUIView);\n                function configUpdatedCallback(config) {\n                    if (config && !(config instanceof views_1.Ng1ViewConfig)) return;\n                    if (configsEqual(viewConfig, config)) return;\n                    core_1.trace.traceUIViewConfigUpdated(activeUIView, config && config.viewDecl && config.viewDecl.$context);\n                    viewConfig = config;\n                    updateView(config);\n                }\n                $element.data('$uiView', { $uiView: activeUIView });\n                updateView();\n                unregister = $view.registerUIView(activeUIView);\n                scope.$on(\"$destroy\", function () {\n                    core_1.trace.traceUIViewEvent(\"Destroying/Unregistering\", activeUIView);\n                    unregister();\n                });\n                function cleanupLastView() {\n                    if (previousEl) {\n                        core_1.trace.traceUIViewEvent(\"Removing (previous) el\", previousEl.data('$uiView'));\n                        previousEl.remove();\n                        previousEl = null;\n                    }\n                    if (currentScope) {\n                        core_1.trace.traceUIViewEvent(\"Destroying scope\", activeUIView);\n                        currentScope.$destroy();\n                        currentScope = null;\n                    }\n                    if (currentEl) {\n                        var _viewData_1 = currentEl.data('$uiViewAnim');\n                        core_1.trace.traceUIViewEvent(\"Animate out\", _viewData_1);\n                        renderer.leave(currentEl, function () {\n                            _viewData_1.$$animLeave.resolve();\n                            previousEl = null;\n                        });\n                        previousEl = currentEl;\n                        currentEl = null;\n                    }\n                }\n                function updateView(config) {\n                    var newScope = scope.$new();\n                    var animEnter = $q.defer(),\n                        animLeave = $q.defer();\n                    var $uiViewData = {\n                        $cfg: config,\n                        $uiView: activeUIView\n                    };\n                    var $uiViewAnim = {\n                        $animEnter: animEnter.promise,\n                        $animLeave: animLeave.promise,\n                        $$animLeave: animLeave\n                    };\n                    /**\n                     * @ngdoc event\n                     * @name ui.router.state.directive:ui-view#$viewContentLoading\n                     * @eventOf ui.router.state.directive:ui-view\n                     * @eventType emits on ui-view directive scope\n                     * @description\n                     *\n                     * Fired once the view **begins loading**, *before* the DOM is rendered.\n                     *\n                     * @param {Object} event Event object.\n                     * @param {string} viewName Name of the view.\n                     */\n                    newScope.$emit('$viewContentLoading', name);\n                    var cloned = $transclude(newScope, function (clone) {\n                        clone.data('$uiViewAnim', $uiViewAnim);\n                        clone.data('$uiView', $uiViewData);\n                        renderer.enter(clone, $element, function onUIViewEnter() {\n                            animEnter.resolve();\n                            if (currentScope) currentScope.$emit('$viewContentAnimationEnded');\n                            if (core_1.isDefined(autoScrollExp) && !autoScrollExp || scope.$eval(autoScrollExp)) {\n                                $uiViewScroll(clone);\n                            }\n                        });\n                        cleanupLastView();\n                    });\n                    currentEl = cloned;\n                    currentScope = newScope;\n                    /**\n                     * @ngdoc event\n                     * @name ui.router.state.directive:ui-view#$viewContentLoaded\n                     * @eventOf ui.router.state.directive:ui-view\n                     * @eventType emits on ui-view directive scope\n                     * @description           *\n                     * Fired once the view is **loaded**, *after* the DOM is rendered.\n                     *\n                     * @param {Object} event Event object.\n                     */\n                    currentScope.$emit('$viewContentLoaded', config || viewConfig);\n                    currentScope.$eval(onloadExp);\n                }\n            };\n        }\n    };\n    return directive;\n}];\n$ViewDirectiveFill.$inject = ['$compile', '$controller', '$transitions', '$view', '$q', '$timeout'];\n/** @hidden */\nfunction $ViewDirectiveFill($compile, $controller, $transitions, $view, $q, $timeout) {\n    var getControllerAs = core_1.parse('viewDecl.controllerAs');\n    var getResolveAs = core_1.parse('viewDecl.resolveAs');\n    return {\n        restrict: 'ECA',\n        priority: -400,\n        compile: function compile(tElement) {\n            var initial = tElement.html();\n            tElement.empty();\n            return function (scope, $element) {\n                var data = $element.data('$uiView');\n                if (!data) {\n                    $element.html(initial);\n                    $compile($element.contents())(scope);\n                    return;\n                }\n                var cfg = data.$cfg || { viewDecl: {}, getTemplate: angular_2.noop };\n                var resolveCtx = cfg.path && new core_1.ResolveContext(cfg.path);\n                $element.html(cfg.getTemplate($element, resolveCtx) || initial);\n                core_1.trace.traceUIViewFill(data.$uiView, $element.html());\n                var link = $compile($element.contents());\n                var controller = cfg.controller;\n                var controllerAs = getControllerAs(cfg);\n                var resolveAs = getResolveAs(cfg);\n                var locals = resolveCtx && services_1.getLocals(resolveCtx);\n                scope[resolveAs] = locals;\n                if (controller) {\n                    var controllerInstance = $controller(controller, core_1.extend({}, locals, { $scope: scope, $element: $element }));\n                    if (controllerAs) {\n                        scope[controllerAs] = controllerInstance;\n                        scope[controllerAs][resolveAs] = locals;\n                    }\n                    // TODO: Use $view service as a central point for registering component-level hooks\n                    // Then, when a component is created, tell the $view service, so it can invoke hooks\n                    // $view.componentLoaded(controllerInstance, { $scope: scope, $element: $element });\n                    // scope.$on('$destroy', () => $view.componentUnloaded(controllerInstance, { $scope: scope, $element: $element }));\n                    $element.data('$ngControllerController', controllerInstance);\n                    $element.children().data('$ngControllerController', controllerInstance);\n                    registerControllerCallbacks($q, $transitions, controllerInstance, scope, cfg);\n                }\n                // Wait for the component to appear in the DOM\n                if (core_1.isString(cfg.viewDecl.component)) {\n                    var cmp_1 = cfg.viewDecl.component;\n                    var kebobName = core_1.kebobString(cmp_1);\n                    var tagRegexp_1 = new RegExp(\"^(x-|data-)?\" + kebobName + \"$\", \"i\");\n                    var getComponentController = function getComponentController() {\n                        var directiveEl = [].slice.call($element[0].children).filter(function (el) {\n                            return el && el.tagName && tagRegexp_1.exec(el.tagName);\n                        });\n                        return directiveEl && angular_1.ng.element(directiveEl).data(\"$\" + cmp_1 + \"Controller\");\n                    };\n                    var deregisterWatch_1 = scope.$watch(getComponentController, function (ctrlInstance) {\n                        if (!ctrlInstance) return;\n                        registerControllerCallbacks($q, $transitions, ctrlInstance, scope, cfg);\n                        deregisterWatch_1();\n                    });\n                }\n                link(scope);\n            };\n        }\n    };\n}\n/** @hidden */\nvar hasComponentImpl = typeof angular_1.ng.module('ui.router')['component'] === 'function';\n/** @hidden incrementing id */\nvar _uiCanExitId = 0;\n/** @hidden TODO: move these callbacks to $view and/or `/hooks/components.ts` or something */\nfunction registerControllerCallbacks($q, $transitions, controllerInstance, $scope, cfg) {\n    // Call $onInit() ASAP\n    if (core_1.isFunction(controllerInstance.$onInit) && !(cfg.viewDecl.component && hasComponentImpl)) {\n        controllerInstance.$onInit();\n    }\n    var viewState = core_1.tail(cfg.path).state.self;\n    var hookOptions = { bind: controllerInstance };\n    // Add component-level hook for onParamsChange\n    if (core_1.isFunction(controllerInstance.uiOnParamsChanged)) {\n        var resolveContext = new core_1.ResolveContext(cfg.path);\n        var viewCreationTrans_1 = resolveContext.getResolvable('$transition$').data;\n        // Fire callback on any successful transition\n        var paramsUpdated = function paramsUpdated($transition$) {\n            // Exit early if the $transition$ is the same as the view was created within.\n            // Exit early if the $transition$ will exit the state the view is for.\n            if ($transition$ === viewCreationTrans_1 || $transition$.exiting().indexOf(viewState) !== -1) return;\n            var toParams = $transition$.params(\"to\");\n            var fromParams = $transition$.params(\"from\");\n            var toSchema = $transition$.treeChanges().to.map(function (node) {\n                return node.paramSchema;\n            }).reduce(core_1.unnestR, []);\n            var fromSchema = $transition$.treeChanges().from.map(function (node) {\n                return node.paramSchema;\n            }).reduce(core_1.unnestR, []);\n            // Find the to params that have different values than the from params\n            var changedToParams = toSchema.filter(function (param) {\n                var idx = fromSchema.indexOf(param);\n                return idx === -1 || !fromSchema[idx].type.equals(toParams[param.id], fromParams[param.id]);\n            });\n            // Only trigger callback if a to param has changed or is new\n            if (changedToParams.length) {\n                var changedKeys_1 = changedToParams.map(function (x) {\n                    return x.id;\n                });\n                // Filter the params to only changed/new to params.  `$transition$.params()` may be used to get all params.\n                var newValues = core_1.filter(toParams, function (val, key) {\n                    return changedKeys_1.indexOf(key) !== -1;\n                });\n                controllerInstance.uiOnParamsChanged(newValues, $transition$);\n            }\n        };\n        $scope.$on('$destroy', $transitions.onSuccess({}, paramsUpdated, hookOptions));\n    }\n    // Add component-level hook for uiCanExit\n    if (core_1.isFunction(controllerInstance.uiCanExit)) {\n        var id_1 = _uiCanExitId++;\n        var cacheProp_1 = '_uiCanExitIds';\n        // Returns true if a redirect transition already answered truthy\n        var prevTruthyAnswer_1 = function prevTruthyAnswer_1(trans) {\n            return !!trans && (trans[cacheProp_1] && trans[cacheProp_1][id_1] === true || prevTruthyAnswer_1(trans.redirectedFrom()));\n        };\n        // If a user answered yes, but the transition was later redirected, don't also ask for the new redirect transition\n        var wrappedHook = function wrappedHook(trans) {\n            var promise,\n                ids = trans[cacheProp_1] = trans[cacheProp_1] || {};\n            if (!prevTruthyAnswer_1(trans)) {\n                promise = $q.when(controllerInstance.uiCanExit(trans));\n                promise.then(function (val) {\n                    return ids[id_1] = val !== false;\n                });\n            }\n            return promise;\n        };\n        var criteria = { exiting: viewState.name };\n        $scope.$on('$destroy', $transitions.onBefore(criteria, wrappedHook, hookOptions));\n    }\n}\nangular_1.ng.module('ui.router.state').directive('uiView', exports.uiView);\nangular_1.ng.module('ui.router.state').directive('uiView', $ViewDirectiveFill);\n//# sourceMappingURL=viewDirective.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL2RpcmVjdGl2ZXMvdmlld0RpcmVjdGl2ZS5qcz9iZjQyIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiYW5ndWxhcl8xIiwicmVxdWlyZSIsImFuZ3VsYXJfMiIsImNvcmVfMSIsInZpZXdzXzEiLCJzZXJ2aWNlc18xIiwidWlWaWV3IiwiJFZpZXdEaXJlY3RpdmUiLCIkdmlldyIsIiRhbmltYXRlIiwiJHVpVmlld1Njcm9sbCIsIiRpbnRlcnBvbGF0ZSIsIiRxIiwiZ2V0UmVuZGVyZXIiLCJhdHRycyIsInNjb3BlIiwiZW50ZXIiLCJlbGVtZW50IiwidGFyZ2V0IiwiY2IiLCJuZyIsInZlcnNpb24iLCJtaW5vciIsInRoZW4iLCJsZWF2ZSIsImNvbmZpZ3NFcXVhbCIsImNvbmZpZzEiLCJjb25maWcyIiwicm9vdERhdGEiLCIkY2ZnIiwidmlld0RlY2wiLCIkY29udGV4dCIsIl9wbHVnaW5hcGkiLCJfcm9vdFZpZXdDb250ZXh0IiwiJHVpVmlldyIsImRpcmVjdGl2ZSIsImNvdW50IiwicmVzdHJpY3QiLCJ0ZXJtaW5hbCIsInByaW9yaXR5IiwidHJhbnNjbHVkZSIsImNvbXBpbGUiLCJ0RWxlbWVudCIsInRBdHRycyIsIiR0cmFuc2NsdWRlIiwiJGVsZW1lbnQiLCJwcmV2aW91c0VsIiwiY3VycmVudEVsIiwiY3VycmVudFNjb3BlIiwidW5yZWdpc3RlciIsIm9ubG9hZEV4cCIsImF1dG9TY3JvbGxFeHAiLCJyZW5kZXJlciIsInZpZXdDb25maWciLCJ1bmRlZmluZWQiLCJpbmhlcml0ZWQiLCJpbmhlcml0ZWREYXRhIiwibmFtZSIsImFjdGl2ZVVJVmlldyIsIiR0eXBlIiwiaWQiLCJmcW4iLCJjb25maWciLCJjb25maWdVcGRhdGVkIiwiY29uZmlnVXBkYXRlZENhbGxiYWNrIiwiY3JlYXRpb25Db250ZXh0IiwiZnJvbVBhcmVudFRhZ0NvbmZpZyIsInBhcnNlIiwiZnJvbVBhcmVudFRhZyIsInRyYWNlIiwidHJhY2VVSVZpZXdFdmVudCIsIk5nMVZpZXdDb25maWciLCJ0cmFjZVVJVmlld0NvbmZpZ1VwZGF0ZWQiLCJ1cGRhdGVWaWV3IiwiZGF0YSIsInJlZ2lzdGVyVUlWaWV3IiwiJG9uIiwiY2xlYW51cExhc3RWaWV3IiwicmVtb3ZlIiwiJGRlc3Ryb3kiLCJfdmlld0RhdGFfMSIsIiQkYW5pbUxlYXZlIiwicmVzb2x2ZSIsIm5ld1Njb3BlIiwiJG5ldyIsImFuaW1FbnRlciIsImRlZmVyIiwiYW5pbUxlYXZlIiwiJHVpVmlld0RhdGEiLCIkdWlWaWV3QW5pbSIsIiRhbmltRW50ZXIiLCJwcm9taXNlIiwiJGFuaW1MZWF2ZSIsIiRlbWl0IiwiY2xvbmVkIiwiY2xvbmUiLCJvblVJVmlld0VudGVyIiwiaXNEZWZpbmVkIiwiJGV2YWwiLCIkVmlld0RpcmVjdGl2ZUZpbGwiLCIkaW5qZWN0IiwiJGNvbXBpbGUiLCIkY29udHJvbGxlciIsIiR0cmFuc2l0aW9ucyIsIiR0aW1lb3V0IiwiZ2V0Q29udHJvbGxlckFzIiwiZ2V0UmVzb2x2ZUFzIiwiaW5pdGlhbCIsImh0bWwiLCJlbXB0eSIsImNvbnRlbnRzIiwiY2ZnIiwiZ2V0VGVtcGxhdGUiLCJub29wIiwicmVzb2x2ZUN0eCIsInBhdGgiLCJSZXNvbHZlQ29udGV4dCIsInRyYWNlVUlWaWV3RmlsbCIsImxpbmsiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwicmVzb2x2ZUFzIiwibG9jYWxzIiwiZ2V0TG9jYWxzIiwiY29udHJvbGxlckluc3RhbmNlIiwiZXh0ZW5kIiwiJHNjb3BlIiwiY2hpbGRyZW4iLCJyZWdpc3RlckNvbnRyb2xsZXJDYWxsYmFja3MiLCJpc1N0cmluZyIsImNvbXBvbmVudCIsImNtcF8xIiwia2Vib2JOYW1lIiwia2Vib2JTdHJpbmciLCJ0YWdSZWdleHBfMSIsIlJlZ0V4cCIsImdldENvbXBvbmVudENvbnRyb2xsZXIiLCJkaXJlY3RpdmVFbCIsInNsaWNlIiwiY2FsbCIsImZpbHRlciIsImVsIiwidGFnTmFtZSIsImV4ZWMiLCJkZXJlZ2lzdGVyV2F0Y2hfMSIsIiR3YXRjaCIsImN0cmxJbnN0YW5jZSIsImhhc0NvbXBvbmVudEltcGwiLCJtb2R1bGUiLCJfdWlDYW5FeGl0SWQiLCJpc0Z1bmN0aW9uIiwiJG9uSW5pdCIsInZpZXdTdGF0ZSIsInRhaWwiLCJzdGF0ZSIsInNlbGYiLCJob29rT3B0aW9ucyIsImJpbmQiLCJ1aU9uUGFyYW1zQ2hhbmdlZCIsInJlc29sdmVDb250ZXh0Iiwidmlld0NyZWF0aW9uVHJhbnNfMSIsImdldFJlc29sdmFibGUiLCJwYXJhbXNVcGRhdGVkIiwiJHRyYW5zaXRpb24kIiwiZXhpdGluZyIsImluZGV4T2YiLCJ0b1BhcmFtcyIsInBhcmFtcyIsImZyb21QYXJhbXMiLCJ0b1NjaGVtYSIsInRyZWVDaGFuZ2VzIiwidG8iLCJtYXAiLCJub2RlIiwicGFyYW1TY2hlbWEiLCJyZWR1Y2UiLCJ1bm5lc3RSIiwiZnJvbVNjaGVtYSIsImZyb20iLCJjaGFuZ2VkVG9QYXJhbXMiLCJwYXJhbSIsImlkeCIsInR5cGUiLCJlcXVhbHMiLCJsZW5ndGgiLCJjaGFuZ2VkS2V5c18xIiwieCIsIm5ld1ZhbHVlcyIsInZhbCIsImtleSIsIm9uU3VjY2VzcyIsInVpQ2FuRXhpdCIsImlkXzEiLCJjYWNoZVByb3BfMSIsInByZXZUcnV0aHlBbnN3ZXJfMSIsInRyYW5zIiwicmVkaXJlY3RlZEZyb20iLCJ3cmFwcGVkSG9vayIsImlkcyIsIndoZW4iLCJjcml0ZXJpYSIsIm9uQmVmb3JlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0E7OztJQUdJO0FBQ0osSUFBSUMsWUFBWSxtQkFBQUMsQ0FBUSxFQUFSLENBQWhCO0FBQ0EsSUFBSUMsWUFBWSxtQkFBQUQsQ0FBUSxFQUFSLENBQWhCO0FBQ0Es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RixXQUFOLEtBQXNCRSxNQUFNRixXQUFOLEVBQW1CRCxJQUFuQixNQUE2QixJQUFuRCxJQUEyREUsbUJBQW1CQyxNQUFNQyxjQUFOLEVBQW5CLENBQXZFLENBQVA7QUFDSCxTQUZEO0FBR0E7QUFDQSxZQUFJQyxjQUFjLFNBQWRBLFdBQWMsQ0FBVUYsS0FBVixFQUFpQjtBQUMvQixnQkFBSXhHLE9BQUo7QUFBQSxnQkFBYTJHLE1BQU1ILE1BQU1GLFdBQU4sSUFBcUJFLE1BQU1GLFdBQU4sS0FBc0IsRUFBOUQ7QUFDQSxnQkFBSSxDQUFDQyxtQkFBbUJDLEtBQW5CLENBQUwsRUFBZ0M7QUFDNUJ4RywwQkFBVS9FLEdBQUcyTCxJQUFILENBQVEzRSxtQkFBbUJtRSxTQUFuQixDQUE2QkksS0FBN0IsQ0FBUixDQUFWO0FBQ0F4Ryx3QkFBUXBFLElBQVIsQ0FBYSxVQUFVcUssR0FBVixFQUFlO0FBQUUsMkJBQU9VLElBQUlOLElBQUosSUFBYUosUUFBUSxLQUE1QjtBQUFxQyxpQkFBbkU7QUFDSDtBQUNELG1CQUFPakcsT0FBUDtBQUNILFNBUEQ7QUFRQSxZQUFJNkcsV0FBVyxFQUFFcEMsU0FBU1osVUFBVS9GLElBQXJCLEVBQWY7QUFDQXFFLGVBQU9sRCxHQUFQLENBQVcsVUFBWCxFQUF1QjJCLGFBQWFrRyxRQUFiLENBQXNCRCxRQUF0QixFQUFnQ0gsV0FBaEMsRUFBNkN6QyxXQUE3QyxDQUF2QjtBQUNIO0FBQ0o7QUFDRDVKLFVBQVVvQixFQUFWLENBQWFnSSxNQUFiLENBQW9CLGlCQUFwQixFQUF1Q2pILFNBQXZDLENBQWlELFFBQWpELEVBQTJEckMsUUFBUVEsTUFBbkU7QUFDQU4sVUFBVW9CLEVBQVYsQ0FBYWdJLE1BQWIsQ0FBb0IsaUJBQXBCLEVBQXVDakgsU0FBdkMsQ0FBaUQsUUFBakQsRUFBMkRnRSxrQkFBM0Q7QUFDQSIsImZpbGUiOiI4Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBAbmcxYXBpXG4gKiBAbW9kdWxlIGRpcmVjdGl2ZXNcbiAqLyAvKiogZm9yIHR5cGVkb2MgKi9cbnZhciBhbmd1bGFyXzEgPSByZXF1aXJlKFwiLi4vYW5ndWxhclwiKTtcbnZhciBhbmd1bGFyXzIgPSByZXF1aXJlKFwiYW5ndWxhclwiKTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiQHVpcm91dGVyL2NvcmVcIik7XG52YXIgdmlld3NfMSA9IHJlcXVpcmUoXCIuLi9zdGF0ZWJ1aWxkZXJzL3ZpZXdzXCIpO1xudmFyIHNlcnZpY2VzXzEgPSByZXF1aXJlKFwiLi4vc2VydmljZXNcIik7XG5leHBvcnRzLnVpVmlldyA9IFsnJHZpZXcnLCAnJGFuaW1hdGUnLCAnJHVpVmlld1Njcm9sbCcsICckaW50ZXJwb2xhdGUnLCAnJHEnLFxuICAgIGZ1bmN0aW9uICRWaWV3RGlyZWN0aXZlKCR2aWV3LCAkYW5pbWF0ZSwgJHVpVmlld1Njcm9sbCwgJGludGVycG9sYXRlLCAkcSkge1xuICAgICAgICBmdW5jdGlvbiBnZXRSZW5kZXJlcihhdHRycywgc2NvcGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZW50ZXI6IGZ1bmN0aW9uIChlbGVtZW50LCB0YXJnZXQsIGNiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyXzEubmcudmVyc2lvbi5taW5vciA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGVsZW1lbnQsIG51bGwsIHRhcmdldCkudGhlbihjYik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihlbGVtZW50LCBudWxsLCB0YXJnZXQsIGNiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGVhdmU6IGZ1bmN0aW9uIChlbGVtZW50LCBjYikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYW5ndWxhcl8xLm5nLnZlcnNpb24ubWlub3IgPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShlbGVtZW50KS50aGVuKGNiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKGVsZW1lbnQsIGNiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY29uZmlnc0VxdWFsKGNvbmZpZzEsIGNvbmZpZzIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25maWcxID09PSBjb25maWcyO1xuICAgICAgICB9XG4gICAgICAgIHZhciByb290RGF0YSA9IHtcbiAgICAgICAgICAgICRjZmc6IHsgdmlld0RlY2w6IHsgJGNvbnRleHQ6ICR2aWV3Ll9wbHVnaW5hcGkuX3Jvb3RWaWV3Q29udGV4dCgpIH0gfSxcbiAgICAgICAgICAgICR1aVZpZXc6IHt9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUNBJyxcbiAgICAgICAgICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgICAgICAgICAgcHJpb3JpdHk6IDQwMCxcbiAgICAgICAgICAgIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgICAgICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0RWxlbWVudCwgdEF0dHJzLCAkdHJhbnNjbHVkZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsICRlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNFbCwgY3VycmVudEVsLCBjdXJyZW50U2NvcGUsIHVucmVnaXN0ZXIsIG9ubG9hZEV4cCA9IGF0dHJzWydvbmxvYWQnXSB8fCAnJywgYXV0b1Njcm9sbEV4cCA9IGF0dHJzWydhdXRvc2Nyb2xsJ10sIHJlbmRlcmVyID0gZ2V0UmVuZGVyZXIoYXR0cnMsIHNjb3BlKSwgdmlld0NvbmZpZyA9IHVuZGVmaW5lZCwgaW5oZXJpdGVkID0gJGVsZW1lbnQuaW5oZXJpdGVkRGF0YSgnJHVpVmlldycpIHx8IHJvb3REYXRhLCBuYW1lID0gJGludGVycG9sYXRlKGF0dHJzWyd1aVZpZXcnXSB8fCBhdHRyc1snbmFtZSddIHx8ICcnKShzY29wZSkgfHwgJyRkZWZhdWx0JztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZVVJVmlldyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0eXBlOiAnbmcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkaXJlY3RpdmUuY291bnQrKyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmcW46IGluaGVyaXRlZC4kdWlWaWV3LmZxbiA/IGluaGVyaXRlZC4kdWlWaWV3LmZxbiArIFwiLlwiICsgbmFtZSA6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWc6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWdVcGRhdGVkOiBjb25maWdVcGRhdGVkQ2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQgY3JlYXRpb25Db250ZXh0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcm9tUGFyZW50VGFnQ29uZmlnID0gY29yZV8xLnBhcnNlKCckY2ZnLnZpZXdEZWNsLiRjb250ZXh0JykoaW5oZXJpdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyA8dWktdmlldyBuYW1lPVwiZm9vXCI+PHVpLXZpZXcgbmFtZT1cImJhclwiPjwvdWktdmlldz48L3VpLXZpZXc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXVpL3VpLXJvdXRlci9pc3N1ZXMvMzM1NVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcm9tUGFyZW50VGFnID0gY29yZV8xLnBhcnNlKCckdWlWaWV3LmNyZWF0aW9uQ29udGV4dCcpKGluaGVyaXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb21QYXJlbnRUYWdDb25maWcgfHwgZnJvbVBhcmVudFRhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29yZV8xLnRyYWNlLnRyYWNlVUlWaWV3RXZlbnQoXCJMaW5raW5nXCIsIGFjdGl2ZVVJVmlldyk7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNvbmZpZ1VwZGF0ZWRDYWxsYmFjayhjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcgJiYgIShjb25maWcgaW5zdGFuY2VvZiB2aWV3c18xLk5nMVZpZXdDb25maWcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maWdzRXF1YWwodmlld0NvbmZpZywgY29uZmlnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEudHJhY2UudHJhY2VVSVZpZXdDb25maWdVcGRhdGVkKGFjdGl2ZVVJVmlldywgY29uZmlnICYmIGNvbmZpZy52aWV3RGVjbCAmJiBjb25maWcudmlld0RlY2wuJGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlld0NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXcoY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5kYXRhKCckdWlWaWV3JywgeyAkdWlWaWV3OiBhY3RpdmVVSVZpZXcgfSk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXcoKTtcbiAgICAgICAgICAgICAgICAgICAgdW5yZWdpc3RlciA9ICR2aWV3LnJlZ2lzdGVyVUlWaWV3KGFjdGl2ZVVJVmlldyk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRvbihcIiRkZXN0cm95XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcmVfMS50cmFjZS50cmFjZVVJVmlld0V2ZW50KFwiRGVzdHJveWluZy9VbnJlZ2lzdGVyaW5nXCIsIGFjdGl2ZVVJVmlldyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBjbGVhbnVwTGFzdFZpZXcoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNFbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmVfMS50cmFjZS50cmFjZVVJVmlld0V2ZW50KFwiUmVtb3ZpbmcgKHByZXZpb3VzKSBlbFwiLCBwcmV2aW91c0VsLmRhdGEoJyR1aVZpZXcnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNFbC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0VsID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEudHJhY2UudHJhY2VVSVZpZXdFdmVudChcIkRlc3Ryb3lpbmcgc2NvcGVcIiwgYWN0aXZlVUlWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRFbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfdmlld0RhdGFfMSA9IGN1cnJlbnRFbC5kYXRhKCckdWlWaWV3QW5pbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmVfMS50cmFjZS50cmFjZVVJVmlld0V2ZW50KFwiQW5pbWF0ZSBvdXRcIiwgX3ZpZXdEYXRhXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLmxlYXZlKGN1cnJlbnRFbCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdmlld0RhdGFfMS4kJGFuaW1MZWF2ZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzRWwgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzRWwgPSBjdXJyZW50RWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVsID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVWaWV3KGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1Njb3BlID0gc2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW1FbnRlciA9ICRxLmRlZmVyKCksIGFuaW1MZWF2ZSA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHVpVmlld0RhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNmZzogY29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aVZpZXc6IGFjdGl2ZVVJVmlldyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHVpVmlld0FuaW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFuaW1FbnRlcjogYW5pbUVudGVyLnByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFuaW1MZWF2ZTogYW5pbUxlYXZlLnByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCRhbmltTGVhdmU6IGFuaW1MZWF2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG5nZG9jIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuZGlyZWN0aXZlOnVpLXZpZXcjJHZpZXdDb250ZW50TG9hZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQGV2ZW50T2YgdWkucm91dGVyLnN0YXRlLmRpcmVjdGl2ZTp1aS12aWV3XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZXZlbnRUeXBlIGVtaXRzIG9uIHVpLXZpZXcgZGlyZWN0aXZlIHNjb3BlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBGaXJlZCBvbmNlIHRoZSB2aWV3ICoqYmVnaW5zIGxvYWRpbmcqKiwgKmJlZm9yZSogdGhlIERPTSBpcyByZW5kZXJlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgRXZlbnQgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHZpZXdOYW1lIE5hbWUgb2YgdGhlIHZpZXcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Njb3BlLiRlbWl0KCckdmlld0NvbnRlbnRMb2FkaW5nJywgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xvbmVkID0gJHRyYW5zY2x1ZGUobmV3U2NvcGUsIGZ1bmN0aW9uIChjbG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lLmRhdGEoJyR1aVZpZXdBbmltJywgJHVpVmlld0FuaW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lLmRhdGEoJyR1aVZpZXcnLCAkdWlWaWV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuZW50ZXIoY2xvbmUsICRlbGVtZW50LCBmdW5jdGlvbiBvblVJVmlld0VudGVyKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltRW50ZXIucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFNjb3BlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjb3BlLiRlbWl0KCckdmlld0NvbnRlbnRBbmltYXRpb25FbmRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29yZV8xLmlzRGVmaW5lZChhdXRvU2Nyb2xsRXhwKSAmJiAhYXV0b1Njcm9sbEV4cCB8fCBzY29wZS4kZXZhbChhdXRvU2Nyb2xsRXhwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpVmlld1Njcm9sbChjbG9uZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbnVwTGFzdFZpZXcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVsID0gY2xvbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbmV3U2NvcGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBuZ2RvYyBldmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLmRpcmVjdGl2ZTp1aS12aWV3IyR2aWV3Q29udGVudExvYWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGV2ZW50T2YgdWkucm91dGVyLnN0YXRlLmRpcmVjdGl2ZTp1aS12aWV3XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZXZlbnRUeXBlIGVtaXRzIG9uIHVpLXZpZXcgZGlyZWN0aXZlIHNjb3BlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZGVzY3JpcHRpb24gICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEZpcmVkIG9uY2UgdGhlIHZpZXcgaXMgKipsb2FkZWQqKiwgKmFmdGVyKiB0aGUgRE9NIGlzIHJlbmRlcmVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBFdmVudCBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJHZpZXdDb250ZW50TG9hZGVkJywgY29uZmlnIHx8IHZpZXdDb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjb3BlLiRldmFsKG9ubG9hZEV4cCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuICAgIH1dO1xuJFZpZXdEaXJlY3RpdmVGaWxsLiRpbmplY3QgPSBbJyRjb21waWxlJywgJyRjb250cm9sbGVyJywgJyR0cmFuc2l0aW9ucycsICckdmlldycsICckcScsICckdGltZW91dCddO1xuLyoqIEBoaWRkZW4gKi9cbmZ1bmN0aW9uICRWaWV3RGlyZWN0aXZlRmlsbCgkY29tcGlsZSwgJGNvbnRyb2xsZXIsICR0cmFuc2l0aW9ucywgJHZpZXcsICRxLCAkdGltZW91dCkge1xuICAgIHZhciBnZXRDb250cm9sbGVyQXMgPSBjb3JlXzEucGFyc2UoJ3ZpZXdEZWNsLmNvbnRyb2xsZXJBcycpO1xuICAgIHZhciBnZXRSZXNvbHZlQXMgPSBjb3JlXzEucGFyc2UoJ3ZpZXdEZWNsLnJlc29sdmVBcycpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUNBJyxcbiAgICAgICAgcHJpb3JpdHk6IC00MDAsXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0RWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGluaXRpYWwgPSB0RWxlbWVudC5odG1sKCk7XG4gICAgICAgICAgICB0RWxlbWVudC5lbXB0eSgpO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgJGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9ICRlbGVtZW50LmRhdGEoJyR1aVZpZXcnKTtcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuaHRtbChpbml0aWFsKTtcbiAgICAgICAgICAgICAgICAgICAgJGNvbXBpbGUoJGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjZmcgPSBkYXRhLiRjZmcgfHwgeyB2aWV3RGVjbDoge30sIGdldFRlbXBsYXRlOiBhbmd1bGFyXzIubm9vcCB9O1xuICAgICAgICAgICAgICAgIHZhciByZXNvbHZlQ3R4ID0gY2ZnLnBhdGggJiYgbmV3IGNvcmVfMS5SZXNvbHZlQ29udGV4dChjZmcucGF0aCk7XG4gICAgICAgICAgICAgICAgJGVsZW1lbnQuaHRtbChjZmcuZ2V0VGVtcGxhdGUoJGVsZW1lbnQsIHJlc29sdmVDdHgpIHx8IGluaXRpYWwpO1xuICAgICAgICAgICAgICAgIGNvcmVfMS50cmFjZS50cmFjZVVJVmlld0ZpbGwoZGF0YS4kdWlWaWV3LCAkZWxlbWVudC5odG1sKCkpO1xuICAgICAgICAgICAgICAgIHZhciBsaW5rID0gJGNvbXBpbGUoJGVsZW1lbnQuY29udGVudHMoKSk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBjZmcuY29udHJvbGxlcjtcbiAgICAgICAgICAgICAgICB2YXIgY29udHJvbGxlckFzID0gZ2V0Q29udHJvbGxlckFzKGNmZyk7XG4gICAgICAgICAgICAgICAgdmFyIHJlc29sdmVBcyA9IGdldFJlc29sdmVBcyhjZmcpO1xuICAgICAgICAgICAgICAgIHZhciBsb2NhbHMgPSByZXNvbHZlQ3R4ICYmIHNlcnZpY2VzXzEuZ2V0TG9jYWxzKHJlc29sdmVDdHgpO1xuICAgICAgICAgICAgICAgIHNjb3BlW3Jlc29sdmVBc10gPSBsb2NhbHM7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXJJbnN0YW5jZSA9ICRjb250cm9sbGVyKGNvbnRyb2xsZXIsIGNvcmVfMS5leHRlbmQoe30sIGxvY2FscywgeyAkc2NvcGU6IHNjb3BlLCAkZWxlbWVudDogJGVsZW1lbnQgfSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbGxlckFzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZVtjb250cm9sbGVyQXNdID0gY29udHJvbGxlckluc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVbY29udHJvbGxlckFzXVtyZXNvbHZlQXNdID0gbG9jYWxzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFVzZSAkdmlldyBzZXJ2aWNlIGFzIGEgY2VudHJhbCBwb2ludCBmb3IgcmVnaXN0ZXJpbmcgY29tcG9uZW50LWxldmVsIGhvb2tzXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZW4sIHdoZW4gYSBjb21wb25lbnQgaXMgY3JlYXRlZCwgdGVsbCB0aGUgJHZpZXcgc2VydmljZSwgc28gaXQgY2FuIGludm9rZSBob29rc1xuICAgICAgICAgICAgICAgICAgICAvLyAkdmlldy5jb21wb25lbnRMb2FkZWQoY29udHJvbGxlckluc3RhbmNlLCB7ICRzY29wZTogc2NvcGUsICRlbGVtZW50OiAkZWxlbWVudCB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2NvcGUuJG9uKCckZGVzdHJveScsICgpID0+ICR2aWV3LmNvbXBvbmVudFVubG9hZGVkKGNvbnRyb2xsZXJJbnN0YW5jZSwgeyAkc2NvcGU6IHNjb3BlLCAkZWxlbWVudDogJGVsZW1lbnQgfSkpO1xuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5kYXRhKCckbmdDb250cm9sbGVyQ29udHJvbGxlcicsIGNvbnRyb2xsZXJJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50LmNoaWxkcmVuKCkuZGF0YSgnJG5nQ29udHJvbGxlckNvbnRyb2xsZXInLCBjb250cm9sbGVySW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICByZWdpc3RlckNvbnRyb2xsZXJDYWxsYmFja3MoJHEsICR0cmFuc2l0aW9ucywgY29udHJvbGxlckluc3RhbmNlLCBzY29wZSwgY2ZnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGNvbXBvbmVudCB0byBhcHBlYXIgaW4gdGhlIERPTVxuICAgICAgICAgICAgICAgIGlmIChjb3JlXzEuaXNTdHJpbmcoY2ZnLnZpZXdEZWNsLmNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNtcF8xID0gY2ZnLnZpZXdEZWNsLmNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtlYm9iTmFtZSA9IGNvcmVfMS5rZWJvYlN0cmluZyhjbXBfMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWdSZWdleHBfMSA9IG5ldyBSZWdFeHAoXCJeKHgtfGRhdGEtKT9cIiArIGtlYm9iTmFtZSArIFwiJFwiLCBcImlcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZXRDb21wb25lbnRDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZUVsID0gW10uc2xpY2UuY2FsbCgkZWxlbWVudFswXS5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwgJiYgZWwudGFnTmFtZSAmJiB0YWdSZWdleHBfMS5leGVjKGVsLnRhZ05hbWUpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmVFbCAmJiBhbmd1bGFyXzEubmcuZWxlbWVudChkaXJlY3RpdmVFbCkuZGF0YShcIiRcIiArIGNtcF8xICsgXCJDb250cm9sbGVyXCIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVyZWdpc3RlcldhdGNoXzEgPSBzY29wZS4kd2F0Y2goZ2V0Q29tcG9uZW50Q29udHJvbGxlciwgZnVuY3Rpb24gKGN0cmxJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdHJsSW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJDb250cm9sbGVyQ2FsbGJhY2tzKCRxLCAkdHJhbnNpdGlvbnMsIGN0cmxJbnN0YW5jZSwgc2NvcGUsIGNmZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXJlZ2lzdGVyV2F0Y2hfMSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGluayhzY29wZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKiBAaGlkZGVuICovXG52YXIgaGFzQ29tcG9uZW50SW1wbCA9IHR5cGVvZiBhbmd1bGFyXzEubmcubW9kdWxlKCd1aS5yb3V0ZXInKVsnY29tcG9uZW50J10gPT09ICdmdW5jdGlvbic7XG4vKiogQGhpZGRlbiBpbmNyZW1lbnRpbmcgaWQgKi9cbnZhciBfdWlDYW5FeGl0SWQgPSAwO1xuLyoqIEBoaWRkZW4gVE9ETzogbW92ZSB0aGVzZSBjYWxsYmFja3MgdG8gJHZpZXcgYW5kL29yIGAvaG9va3MvY29tcG9uZW50cy50c2Agb3Igc29tZXRoaW5nICovXG5mdW5jdGlvbiByZWdpc3RlckNvbnRyb2xsZXJDYWxsYmFja3MoJHEsICR0cmFuc2l0aW9ucywgY29udHJvbGxlckluc3RhbmNlLCAkc2NvcGUsIGNmZykge1xuICAgIC8vIENhbGwgJG9uSW5pdCgpIEFTQVBcbiAgICBpZiAoY29yZV8xLmlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLiRvbkluaXQpICYmICEoY2ZnLnZpZXdEZWNsLmNvbXBvbmVudCAmJiBoYXNDb21wb25lbnRJbXBsKSkge1xuICAgICAgICBjb250cm9sbGVySW5zdGFuY2UuJG9uSW5pdCgpO1xuICAgIH1cbiAgICB2YXIgdmlld1N0YXRlID0gY29yZV8xLnRhaWwoY2ZnLnBhdGgpLnN0YXRlLnNlbGY7XG4gICAgdmFyIGhvb2tPcHRpb25zID0geyBiaW5kOiBjb250cm9sbGVySW5zdGFuY2UgfTtcbiAgICAvLyBBZGQgY29tcG9uZW50LWxldmVsIGhvb2sgZm9yIG9uUGFyYW1zQ2hhbmdlXG4gICAgaWYgKGNvcmVfMS5pc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS51aU9uUGFyYW1zQ2hhbmdlZCkpIHtcbiAgICAgICAgdmFyIHJlc29sdmVDb250ZXh0ID0gbmV3IGNvcmVfMS5SZXNvbHZlQ29udGV4dChjZmcucGF0aCk7XG4gICAgICAgIHZhciB2aWV3Q3JlYXRpb25UcmFuc18xID0gcmVzb2x2ZUNvbnRleHQuZ2V0UmVzb2x2YWJsZSgnJHRyYW5zaXRpb24kJykuZGF0YTtcbiAgICAgICAgLy8gRmlyZSBjYWxsYmFjayBvbiBhbnkgc3VjY2Vzc2Z1bCB0cmFuc2l0aW9uXG4gICAgICAgIHZhciBwYXJhbXNVcGRhdGVkID0gZnVuY3Rpb24gKCR0cmFuc2l0aW9uJCkge1xuICAgICAgICAgICAgLy8gRXhpdCBlYXJseSBpZiB0aGUgJHRyYW5zaXRpb24kIGlzIHRoZSBzYW1lIGFzIHRoZSB2aWV3IHdhcyBjcmVhdGVkIHdpdGhpbi5cbiAgICAgICAgICAgIC8vIEV4aXQgZWFybHkgaWYgdGhlICR0cmFuc2l0aW9uJCB3aWxsIGV4aXQgdGhlIHN0YXRlIHRoZSB2aWV3IGlzIGZvci5cbiAgICAgICAgICAgIGlmICgkdHJhbnNpdGlvbiQgPT09IHZpZXdDcmVhdGlvblRyYW5zXzEgfHwgJHRyYW5zaXRpb24kLmV4aXRpbmcoKS5pbmRleE9mKHZpZXdTdGF0ZSkgIT09IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZhciB0b1BhcmFtcyA9ICR0cmFuc2l0aW9uJC5wYXJhbXMoXCJ0b1wiKTtcbiAgICAgICAgICAgIHZhciBmcm9tUGFyYW1zID0gJHRyYW5zaXRpb24kLnBhcmFtcyhcImZyb21cIik7XG4gICAgICAgICAgICB2YXIgdG9TY2hlbWEgPSAkdHJhbnNpdGlvbiQudHJlZUNoYW5nZXMoKS50by5tYXAoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUucGFyYW1TY2hlbWE7IH0pLnJlZHVjZShjb3JlXzEudW5uZXN0UiwgW10pO1xuICAgICAgICAgICAgdmFyIGZyb21TY2hlbWEgPSAkdHJhbnNpdGlvbiQudHJlZUNoYW5nZXMoKS5mcm9tLm1hcChmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5wYXJhbVNjaGVtYTsgfSkucmVkdWNlKGNvcmVfMS51bm5lc3RSLCBbXSk7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSB0byBwYXJhbXMgdGhhdCBoYXZlIGRpZmZlcmVudCB2YWx1ZXMgdGhhbiB0aGUgZnJvbSBwYXJhbXNcbiAgICAgICAgICAgIHZhciBjaGFuZ2VkVG9QYXJhbXMgPSB0b1NjaGVtYS5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IGZyb21TY2hlbWEuaW5kZXhPZihwYXJhbSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkeCA9PT0gLTEgfHwgIWZyb21TY2hlbWFbaWR4XS50eXBlLmVxdWFscyh0b1BhcmFtc1twYXJhbS5pZF0sIGZyb21QYXJhbXNbcGFyYW0uaWRdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gT25seSB0cmlnZ2VyIGNhbGxiYWNrIGlmIGEgdG8gcGFyYW0gaGFzIGNoYW5nZWQgb3IgaXMgbmV3XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFRvUGFyYW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBjaGFuZ2VkS2V5c18xID0gY2hhbmdlZFRvUGFyYW1zLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZDsgfSk7XG4gICAgICAgICAgICAgICAgLy8gRmlsdGVyIHRoZSBwYXJhbXMgdG8gb25seSBjaGFuZ2VkL25ldyB0byBwYXJhbXMuICBgJHRyYW5zaXRpb24kLnBhcmFtcygpYCBtYXkgYmUgdXNlZCB0byBnZXQgYWxsIHBhcmFtcy5cbiAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWVzID0gY29yZV8xLmZpbHRlcih0b1BhcmFtcywgZnVuY3Rpb24gKHZhbCwga2V5KSB7IHJldHVybiBjaGFuZ2VkS2V5c18xLmluZGV4T2Yoa2V5KSAhPT0gLTE7IH0pO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS51aU9uUGFyYW1zQ2hhbmdlZChuZXdWYWx1ZXMsICR0cmFuc2l0aW9uJCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgJHRyYW5zaXRpb25zLm9uU3VjY2Vzcyh7fSwgcGFyYW1zVXBkYXRlZCwgaG9va09wdGlvbnMpKTtcbiAgICB9XG4gICAgLy8gQWRkIGNvbXBvbmVudC1sZXZlbCBob29rIGZvciB1aUNhbkV4aXRcbiAgICBpZiAoY29yZV8xLmlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLnVpQ2FuRXhpdCkpIHtcbiAgICAgICAgdmFyIGlkXzEgPSBfdWlDYW5FeGl0SWQrKztcbiAgICAgICAgdmFyIGNhY2hlUHJvcF8xID0gJ191aUNhbkV4aXRJZHMnO1xuICAgICAgICAvLyBSZXR1cm5zIHRydWUgaWYgYSByZWRpcmVjdCB0cmFuc2l0aW9uIGFscmVhZHkgYW5zd2VyZWQgdHJ1dGh5XG4gICAgICAgIHZhciBwcmV2VHJ1dGh5QW5zd2VyXzEgPSBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgIHJldHVybiAhIXRyYW5zICYmICh0cmFuc1tjYWNoZVByb3BfMV0gJiYgdHJhbnNbY2FjaGVQcm9wXzFdW2lkXzFdID09PSB0cnVlIHx8IHByZXZUcnV0aHlBbnN3ZXJfMSh0cmFucy5yZWRpcmVjdGVkRnJvbSgpKSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIElmIGEgdXNlciBhbnN3ZXJlZCB5ZXMsIGJ1dCB0aGUgdHJhbnNpdGlvbiB3YXMgbGF0ZXIgcmVkaXJlY3RlZCwgZG9uJ3QgYWxzbyBhc2sgZm9yIHRoZSBuZXcgcmVkaXJlY3QgdHJhbnNpdGlvblxuICAgICAgICB2YXIgd3JhcHBlZEhvb2sgPSBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlLCBpZHMgPSB0cmFuc1tjYWNoZVByb3BfMV0gPSB0cmFuc1tjYWNoZVByb3BfMV0gfHwge307XG4gICAgICAgICAgICBpZiAoIXByZXZUcnV0aHlBbnN3ZXJfMSh0cmFucykpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlID0gJHEud2hlbihjb250cm9sbGVySW5zdGFuY2UudWlDYW5FeGl0KHRyYW5zKSk7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIGlkc1tpZF8xXSA9ICh2YWwgIT09IGZhbHNlKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNyaXRlcmlhID0geyBleGl0aW5nOiB2aWV3U3RhdGUubmFtZSB9O1xuICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsICR0cmFuc2l0aW9ucy5vbkJlZm9yZShjcml0ZXJpYSwgd3JhcHBlZEhvb2ssIGhvb2tPcHRpb25zKSk7XG4gICAgfVxufVxuYW5ndWxhcl8xLm5nLm1vZHVsZSgndWkucm91dGVyLnN0YXRlJykuZGlyZWN0aXZlKCd1aVZpZXcnLCBleHBvcnRzLnVpVmlldyk7XG5hbmd1bGFyXzEubmcubW9kdWxlKCd1aS5yb3V0ZXIuc3RhdGUnKS5kaXJlY3RpdmUoJ3VpVmlldycsICRWaWV3RGlyZWN0aXZlRmlsbCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3RGlyZWN0aXZlLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9hbmd1bGFyLXVpLXJvdXRlci9saWIvZGlyZWN0aXZlcy92aWV3RGlyZWN0aXZlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///86\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @module ng1 */ /** */\nvar angular_1 = __webpack_require__(10);\n/** @hidden */\nfunction $ViewScrollProvider() {\n    var useAnchorScroll = false;\n    this.useAnchorScroll = function () {\n        useAnchorScroll = true;\n    };\n    this.$get = ['$anchorScroll', '$timeout', function ($anchorScroll, $timeout) {\n        if (useAnchorScroll) {\n            return $anchorScroll;\n        }\n        return function ($element) {\n            return $timeout(function () {\n                $element[0].scrollIntoView();\n            }, 0, false);\n        };\n    }];\n}\nangular_1.ng.module('ui.router.state').provider('$uiViewScroll', $ViewScrollProvider);\n//# sourceMappingURL=viewScroll.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5ndWxhci11aS1yb3V0ZXIvbGliL3ZpZXdTY3JvbGwuanM/NzIwNiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImFuZ3VsYXJfMSIsInJlcXVpcmUiLCIkVmlld1Njcm9sbFByb3ZpZGVyIiwidXNlQW5jaG9yU2Nyb2xsIiwiJGdldCIsIiRhbmNob3JTY3JvbGwiLCIkdGltZW91dCIsIiRlbGVtZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJuZyIsIm1vZHVsZSIsInByb3ZpZGVyIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0Esa0IsQ0FBbUI7QUFDbkIsSUFBSUMsWUFBWSxtQkFBQUMsQ0FBUSxFQUFSLENBQWhCO0FBQ0E7QUFDQSxTQUFTQyxtQkFBVCxHQUErQjtBQUMzQixRQUFJQyxrQkFBa0IsS0FBdEI7QUFDQSxTQUFLQSxlQUFMLEdBQXVCLFlBQVk7QUFDL0JBLDBCQUFrQixJQUFsQjtBQUNILEtBRkQ7QUFHQSxTQUFLQyxJQUFMLEdBQVksQ0FBQyxlQUFELEVBQWtCLFVBQWxCLEVBQThCLFVBQVVDLGFBQVYsRUFBeUJDLFFBQXpCLEVBQW1DO0FBQ3JFLFlBQUlILGVBQUosRUFBcUI7QUFDakIsbUJBQU9FLGFBQVA7QUFDSDtBQUNELGVBQU8sVUFBVUUsUUFBVixFQUFvQjtBQUN2QixtQkFBT0QsU0FBUyxZQUFZO0FBQ3hCQyx5QkFBUyxDQUFULEVBQVlDLGNBQVo7QUFDSCxhQUZNLEVBRUosQ0FGSSxFQUVELEtBRkMsQ0FBUDtBQUdILFNBSkQ7QUFLSCxLQVRPLENBQVo7QUFVSDtBQUNEUixVQUFVUyxFQUFWLENBQWFDLE1BQWIsQ0FBb0IsaUJBQXBCLEVBQXVDQyxRQUF2QyxDQUFnRCxlQUFoRCxFQUFpRVQsbUJBQWpFO0FBQ0EiLCJmaWxlIjoiODcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAbW9kdWxlIG5nMSAqLyAvKiogKi9cbnZhciBhbmd1bGFyXzEgPSByZXF1aXJlKFwiLi9hbmd1bGFyXCIpO1xuLyoqIEBoaWRkZW4gKi9cbmZ1bmN0aW9uICRWaWV3U2Nyb2xsUHJvdmlkZXIoKSB7XG4gICAgdmFyIHVzZUFuY2hvclNjcm9sbCA9IGZhbHNlO1xuICAgIHRoaXMudXNlQW5jaG9yU2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB1c2VBbmNob3JTY3JvbGwgPSB0cnVlO1xuICAgIH07XG4gICAgdGhpcy4kZ2V0ID0gWyckYW5jaG9yU2Nyb2xsJywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCRhbmNob3JTY3JvbGwsICR0aW1lb3V0KSB7XG4gICAgICAgICAgICBpZiAodXNlQW5jaG9yU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRhbmNob3JTY3JvbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCRlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnRbMF0uc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgICAgICAgICB9LCAwLCBmYWxzZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XTtcbn1cbmFuZ3VsYXJfMS5uZy5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScpLnByb3ZpZGVyKCckdWlWaWV3U2Nyb2xsJywgJFZpZXdTY3JvbGxQcm92aWRlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3U2Nyb2xsLmpzLm1hcFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9hbmd1bGFyLXVpLXJvdXRlci9saWIvdmlld1Njcm9sbC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///87\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HomeCtrl = function () {\n    _createClass(HomeCtrl, null, [{\n        key: '$inject',\n        get: function get() {\n            return ['$state', 'LoginSvc'];\n        }\n    }]);\n\n    function HomeCtrl($state, LoginSvc) {\n        _classCallCheck(this, HomeCtrl);\n\n        this.$state = $state;\n        this.LoginSvc = LoginSvc;\n    }\n\n    _createClass(HomeCtrl, [{\n        key: 'logout',\n        value: function logout() {\n            var _this = this;\n\n            this.LoginSvc.logout().then(function () {\n                _this.$state.go('login');\n            });\n        }\n    }]);\n\n    return HomeCtrl;\n}();\n\n// function 사용시...\n// function HomeCtrl($state, LoginSvc) { ... }\n// HomeCtrl.$inject = ['$state', 'LoginSvc'];\n\nexports.default = HomeCtrl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlci9Ib21lLmpzPzE0OTkiXSwibmFtZXMiOlsiSG9tZUN0cmwiLCIkc3RhdGUiLCJMb2dpblN2YyIsImxvZ291dCIsInRoZW4iLCJnbyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFNQSxROzs7NEJBQ21CO0FBQ2pCLG1CQUFPLENBQUMsUUFBRCxFQUFXLFVBQVgsQ0FBUDtBQUNIOzs7QUFFRCxzQkFBWUMsTUFBWixFQUFvQkMsUUFBcEIsRUFBOEI7QUFBQTs7QUFDMUIsYUFBS0QsTUFBTCxHQUFjQSxNQUFkO0FBQ0EsYUFBS0MsUUFBTCxHQUFnQkEsUUFBaEI7QUFDSDs7OztpQ0FFUTtBQUFBOztBQUNMLGlCQUFLQSxRQUFMLENBQWNDLE1BQWQsR0FBdUJDLElBQXZCLENBQTRCLFlBQU07QUFDOUIsc0JBQUtILE1BQUwsQ0FBWUksRUFBWixDQUFlLE9BQWY7QUFDSCxhQUZEO0FBR0g7Ozs7OztBQUdMO0FBQ0E7QUFDQTs7a0JBRWVMLFEiLCJmaWxlIjoiODguanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBIb21lQ3RybCB7XHJcbiAgICBzdGF0aWMgZ2V0ICRpbmplY3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIFsnJHN0YXRlJywgJ0xvZ2luU3ZjJ107XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoJHN0YXRlLCBMb2dpblN2Yykge1xyXG4gICAgICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlO1xyXG4gICAgICAgIHRoaXMuTG9naW5TdmMgPSBMb2dpblN2YztcclxuICAgIH1cclxuXHJcbiAgICBsb2dvdXQoKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dpblN2Yy5sb2dvdXQoKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy4kc3RhdGUuZ28oJ2xvZ2luJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIOyCrOyaqeyLnC4uLlxyXG4vLyBmdW5jdGlvbiBIb21lQ3RybCgkc3RhdGUsIExvZ2luU3ZjKSB7IC4uLiB9XHJcbi8vIEhvbWVDdHJsLiRpbmplY3QgPSBbJyRzdGF0ZScsICdMb2dpblN2YyddO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSG9tZUN0cmw7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbnRyb2xsZXIvSG9tZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///88\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LoginCtrl = function () {\n\t_createClass(LoginCtrl, null, [{\n\t\tkey: '$inject',\n\t\tget: function get() {\n\t\t\treturn ['$state', 'LoginSvc'];\n\t\t}\n\t}]);\n\n\tfunction LoginCtrl($state, LoginSvc) {\n\t\t_classCallCheck(this, LoginCtrl);\n\n\t\tthis.$state = $state;\n\t\tthis.LoginSvc = LoginSvc;\n\n\t\tthis.loginObj = {\n\t\t\tlogin: null,\n\t\t\tpwd: null\n\t\t};\n\t}\n\n\t_createClass(LoginCtrl, [{\n\t\tkey: 'login',\n\t\tvalue: function login() {\n\t\t\tvar _this = this;\n\n\t\t\tthis.LoginSvc.login(this.loginObj).then(function (response) {\n\t\t\t\tif (response.data.success) {\n\t\t\t\t\t_this.$state.go('home');\n\t\t\t\t} else {\n\t\t\t\t\talert(response.data.message);\n\t\t\t\t}\n\t\t\t\t_this.loginObj = {\n\t\t\t\t\tlogin: null,\n\t\t\t\t\tpwd: null\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}]);\n\n\treturn LoginCtrl;\n}();\n\nexports.default = LoginCtrl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlci9Mb2dpbi5qcz9hMDBjIl0sIm5hbWVzIjpbIkxvZ2luQ3RybCIsIiRzdGF0ZSIsIkxvZ2luU3ZjIiwibG9naW5PYmoiLCJsb2dpbiIsInB3ZCIsInRoZW4iLCJyZXNwb25zZSIsImRhdGEiLCJzdWNjZXNzIiwiZ28iLCJhbGVydCIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7SUFBTUEsUzs7O3NCQUNnQjtBQUNwQixVQUFPLENBQUMsUUFBRCxFQUFXLFVBQVgsQ0FBUDtBQUNBOzs7QUFFRCxvQkFBWUMsTUFBWixFQUFvQkMsUUFBcEIsRUFBOEI7QUFBQTs7QUFDN0IsT0FBS0QsTUFBTCxHQUFjQSxNQUFkO0FBQ0EsT0FBS0MsUUFBTCxHQUFnQkEsUUFBaEI7O0FBRUEsT0FBS0MsUUFBTCxHQUFnQjtBQUNmQyxVQUFPLElBRFE7QUFFZkMsUUFBSztBQUZVLEdBQWhCO0FBSUE7Ozs7MEJBRU87QUFBQTs7QUFDUCxRQUFLSCxRQUFMLENBQWNFLEtBQWQsQ0FBb0IsS0FBS0QsUUFBekIsRUFBbUNHLElBQW5DLENBQXdDLFVBQUNDLFFBQUQsRUFBYztBQUNyRCxRQUFJQSxTQUFTQyxJQUFULENBQWNDLE9BQWxCLEVBQTJCO0FBQzFCLFdBQUtSLE1BQUwsQ0FBWVMsRUFBWixDQUFlLE1BQWY7QUFDQSxLQUZELE1BR0s7QUFDSkMsV0FBTUosU0FBU0MsSUFBVCxDQUFjSSxPQUFwQjtBQUNBO0FBQ0QsVUFBS1QsUUFBTCxHQUFnQjtBQUNmQyxZQUFPLElBRFE7QUFFZkMsVUFBSztBQUZVLEtBQWhCO0FBSUEsSUFYRDtBQVlBOzs7Ozs7a0JBR2FMLFMiLCJmaWxlIjoiODkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBMb2dpbkN0cmwge1xyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiBbJyRzdGF0ZScsICdMb2dpblN2YyddXHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3Rvcigkc3RhdGUsIExvZ2luU3ZjKSB7XHJcblx0XHR0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcclxuXHRcdHRoaXMuTG9naW5TdmMgPSBMb2dpblN2YztcclxuXHJcblx0XHR0aGlzLmxvZ2luT2JqID0ge1xyXG5cdFx0XHRsb2dpbjogbnVsbCxcclxuXHRcdFx0cHdkOiBudWxsXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0bG9naW4oKSB7XHJcblx0XHR0aGlzLkxvZ2luU3ZjLmxvZ2luKHRoaXMubG9naW5PYmopLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcblx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHR0aGlzLiRzdGF0ZS5nbygnaG9tZScpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGFsZXJ0KHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5sb2dpbk9iaiA9IHtcclxuXHRcdFx0XHRsb2dpbjogbnVsbCxcclxuXHRcdFx0XHRwd2Q6IG51bGxcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBMb2dpbkN0cmw7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbnRyb2xsZXIvTG9naW4uanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///89\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar RegisterCtrl = function () {\n    _createClass(RegisterCtrl, null, [{\n        key: '$inject',\n        get: function get() {\n            return ['$state', 'LoginSvc'];\n        }\n    }]);\n\n    function RegisterCtrl($state, LoginSvc) {\n        _classCallCheck(this, RegisterCtrl);\n\n        this.$state = $state;\n        this.LoginSvc = LoginSvc;\n\n        this.registerObj = {\n            login: null,\n            pwd: null,\n            pwdConfirm: null\n        };\n    }\n\n    _createClass(RegisterCtrl, [{\n        key: 'register',\n        value: function register() {\n            var _this = this;\n\n            if (this.registerObj.pwd !== this.registerObj.pwdConfirm) {\n                alert('패스워드 확인!');\n                this.registerObj.pwd = this.registerObj.pwdConfirm = null;\n                return;\n            }\n\n            this.LoginSvc.register(this.registerObj).then(function (response) {\n                console.log(response);\n                if (response.data.success) {\n                    alert(_this.registerObj.login + ' \\uAC00\\uC785 \\uC131\\uACF5!');\n                    _this.registerObj = {\n                        login: null,\n                        pwd: null,\n                        pwdConfirm: null\n                    };\n                    _this.$state.go('login');\n                } else {\n                    alert(response.data.message);\n                    _this.registerObj.pwd = _this.registerObj.pwdConfirm = null;\n                }\n            });\n        }\n    }]);\n\n    return RegisterCtrl;\n}();\n\nexports.default = RegisterCtrl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlci9SZWdpc3Rlci5qcz9kNWZkIl0sIm5hbWVzIjpbIlJlZ2lzdGVyQ3RybCIsIiRzdGF0ZSIsIkxvZ2luU3ZjIiwicmVnaXN0ZXJPYmoiLCJsb2dpbiIsInB3ZCIsInB3ZENvbmZpcm0iLCJhbGVydCIsInJlZ2lzdGVyIiwidGhlbiIsInJlc3BvbnNlIiwiY29uc29sZSIsImxvZyIsImRhdGEiLCJzdWNjZXNzIiwiZ28iLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0lBQU1BLFk7Ozs0QkFDbUI7QUFDakIsbUJBQU8sQ0FBQyxRQUFELEVBQVcsVUFBWCxDQUFQO0FBQ0g7OztBQUVELDBCQUFZQyxNQUFaLEVBQW9CQyxRQUFwQixFQUE4QjtBQUFBOztBQUMxQixhQUFLRCxNQUFMLEdBQWNBLE1BQWQ7QUFDQSxhQUFLQyxRQUFMLEdBQWdCQSxRQUFoQjs7QUFFQSxhQUFLQyxXQUFMLEdBQW1CO0FBQ2ZDLG1CQUFPLElBRFE7QUFFZkMsaUJBQUssSUFGVTtBQUdmQyx3QkFBWTtBQUhHLFNBQW5CO0FBS0g7Ozs7bUNBRVU7QUFBQTs7QUFDUCxnQkFBSSxLQUFLSCxXQUFMLENBQWlCRSxHQUFqQixLQUF5QixLQUFLRixXQUFMLENBQWlCRyxVQUE5QyxFQUEwRDtBQUN0REMsc0JBQU0sVUFBTjtBQUNBLHFCQUFLSixXQUFMLENBQWlCRSxHQUFqQixHQUF1QixLQUFLRixXQUFMLENBQWlCRyxVQUFqQixHQUE4QixJQUFyRDtBQUNBO0FBQ0g7O0FBRUQsaUJBQUtKLFFBQUwsQ0FBY00sUUFBZCxDQUF1QixLQUFLTCxXQUE1QixFQUF5Q00sSUFBekMsQ0FBOEMsVUFBQ0MsUUFBRCxFQUFjO0FBQ3hEQyx3QkFBUUMsR0FBUixDQUFZRixRQUFaO0FBQ0Esb0JBQUlBLFNBQVNHLElBQVQsQ0FBY0MsT0FBbEIsRUFBMkI7QUFDdkJQLDBCQUFTLE1BQUtKLFdBQUwsQ0FBaUJDLEtBQTFCO0FBQ0EsMEJBQUtELFdBQUwsR0FBbUI7QUFDZkMsK0JBQU8sSUFEUTtBQUVmQyw2QkFBSyxJQUZVO0FBR2ZDLG9DQUFZO0FBSEcscUJBQW5CO0FBS0EsMEJBQUtMLE1BQUwsQ0FBWWMsRUFBWixDQUFlLE9BQWY7QUFDSCxpQkFSRCxNQVNLO0FBQ0RSLDBCQUFNRyxTQUFTRyxJQUFULENBQWNHLE9BQXBCO0FBQ0EsMEJBQUtiLFdBQUwsQ0FBaUJFLEdBQWpCLEdBQXVCLE1BQUtGLFdBQUwsQ0FBaUJHLFVBQWpCLEdBQThCLElBQXJEO0FBQ0g7QUFDSixhQWZEO0FBZ0JIOzs7Ozs7a0JBR1VOLFkiLCJmaWxlIjoiOTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBSZWdpc3RlckN0cmwge1xyXG4gICAgc3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG4gICAgICAgIHJldHVybiBbJyRzdGF0ZScsICdMb2dpblN2YyddXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoJHN0YXRlLCBMb2dpblN2Yykge1xyXG4gICAgICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlO1xyXG4gICAgICAgIHRoaXMuTG9naW5TdmMgPSBMb2dpblN2YztcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3Rlck9iaiA9IHtcclxuICAgICAgICAgICAgbG9naW46IG51bGwsXHJcbiAgICAgICAgICAgIHB3ZDogbnVsbCxcclxuICAgICAgICAgICAgcHdkQ29uZmlybTogbnVsbFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVnaXN0ZXJPYmoucHdkICE9PSB0aGlzLnJlZ2lzdGVyT2JqLnB3ZENvbmZpcm0pIHtcclxuICAgICAgICAgICAgYWxlcnQoJ+2MqOyKpOybjOuTnCDtmZXsnbghJyk7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJPYmoucHdkID0gdGhpcy5yZWdpc3Rlck9iai5wd2RDb25maXJtID0gbnVsbDtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5Mb2dpblN2Yy5yZWdpc3Rlcih0aGlzLnJlZ2lzdGVyT2JqKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KGAke3RoaXMucmVnaXN0ZXJPYmoubG9naW59IOqwgOyehSDshLHqs7UhYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyT2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2luOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHB3ZDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBwd2RDb25maXJtOiBudWxsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc3RhdGUuZ28oJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3Rlck9iai5wd2QgPSB0aGlzLnJlZ2lzdGVyT2JqLnB3ZENvbmZpcm0gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlZ2lzdGVyQ3RybDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29udHJvbGxlci9SZWdpc3Rlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///90\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * 글로벌 로그인 서비스\r\n */\nvar LoginSvc = function () {\n\t_createClass(LoginSvc, null, [{\n\t\tkey: '$inject',\n\t\tget: function get() {\n\t\t\treturn ['$http'];\n\t\t}\n\t}]);\n\n\tfunction LoginSvc($http) {\n\t\t_classCallCheck(this, LoginSvc);\n\n\t\tthis.$http = $http;\n\t\tthis.logged = logged; // 이미 로그인된 경우면 index.php의 logged = true\n\t\tthis.uid = uid; // 이미 로그인된 경우면 index.php의 uid = 현재 사용자 ID\n\t}\n\n\t_createClass(LoginSvc, [{\n\t\tkey: 'register',\n\t\tvalue: function register(registerObj) {\n\t\t\treturn this.$http({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: ajax_url,\n\t\t\t\tparams: {\n\t\t\t\t\taction: 'register',\n\t\t\t\t\tlogin: registerObj.login,\n\t\t\t\t\tpwd: registerObj.pwd\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'login',\n\t\tvalue: function login(loginObj) {\n\t\t\tvar _this = this;\n\n\t\t\t// 구글 검색어 javascript promise\n\t\t\treturn this.$http({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: ajax_url,\n\t\t\t\tparams: {\n\t\t\t\t\taction: 'login',\n\t\t\t\t\tlogin: loginObj.login,\n\t\t\t\t\tpwd: loginObj.pwd\n\t\t\t\t}\n\t\t\t}).then(function (response) {\n\t\t\t\tif (response.data.success) {\n\t\t\t\t\t_this.logged = true;\n\t\t\t\t\t_this.uid = response.data.uid;\n\t\t\t\t}\n\t\t\t\treturn response;\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'logout',\n\t\tvalue: function logout() {\n\t\t\tvar _this2 = this;\n\n\t\t\treturn this.$http({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: ajax_url,\n\t\t\t\tparams: {\n\t\t\t\t\taction: 'logout'\n\t\t\t\t}\n\t\t\t}).then(function (response) {\n\t\t\t\t_this2.logged = false;\n\t\t\t\t_this2.uid = null;\n\t\t\t\treturn response;\n\t\t\t});\n\t\t}\n\t}]);\n\n\treturn LoginSvc;\n}();\n\nexports.default = LoginSvc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZS9Mb2dpbi5qcz85MmU4Il0sIm5hbWVzIjpbIkxvZ2luU3ZjIiwiJGh0dHAiLCJsb2dnZWQiLCJ1aWQiLCJyZWdpc3Rlck9iaiIsIm1ldGhvZCIsInVybCIsImFqYXhfdXJsIiwicGFyYW1zIiwiYWN0aW9uIiwibG9naW4iLCJwd2QiLCJsb2dpbk9iaiIsInRoZW4iLCJyZXNwb25zZSIsImRhdGEiLCJzdWNjZXNzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7OztJQUdNQSxROzs7c0JBQ2dCO0FBQ3BCLFVBQU8sQ0FBQyxPQUFELENBQVA7QUFDQTs7O0FBRUQsbUJBQVlDLEtBQVosRUFBbUI7QUFBQTs7QUFDbEIsT0FBS0EsS0FBTCxHQUFhQSxLQUFiO0FBQ0EsT0FBS0MsTUFBTCxHQUFjQSxNQUFkLENBRmtCLENBRUk7QUFDdEIsT0FBS0MsR0FBTCxHQUFXQSxHQUFYLENBSGtCLENBR0k7QUFDdEI7Ozs7MkJBRVFDLFcsRUFBYTtBQUNyQixVQUFPLEtBQUtILEtBQUwsQ0FBVztBQUNqQkksWUFBUSxNQURTO0FBRWpCQyxTQUFLQyxRQUZZO0FBR2pCQyxZQUFRO0FBQ1BDLGFBQVEsVUFERDtBQUVQQyxZQUFPTixZQUFZTSxLQUZaO0FBR1BDLFVBQUtQLFlBQVlPO0FBSFY7QUFIUyxJQUFYLENBQVA7QUFTQTs7O3dCQUNLQyxRLEVBQVU7QUFBQTs7QUFDWjtBQUNILFVBQU8sS0FBS1gsS0FBTCxDQUFXO0FBQ2pCSSxZQUFRLE1BRFM7QUFFakJDLFNBQUtDLFFBRlk7QUFHakJDLFlBQVE7QUFDUEMsYUFBUSxPQUREO0FBRVBDLFlBQU9FLFNBQVNGLEtBRlQ7QUFHUEMsVUFBS0MsU0FBU0Q7QUFIUDtBQUhTLElBQVgsRUFRSkUsSUFSSSxDQVFDLFVBQUNDLFFBQUQsRUFBYztBQUNyQixRQUFJQSxTQUFTQyxJQUFULENBQWNDLE9BQWxCLEVBQTJCO0FBQzFCLFdBQUtkLE1BQUwsR0FBYyxJQUFkO0FBQ0EsV0FBS0MsR0FBTCxHQUFXVyxTQUFTQyxJQUFULENBQWNaLEdBQXpCO0FBQ0E7QUFDRCxXQUFPVyxRQUFQO0FBQ0EsSUFkTSxDQUFQO0FBZUE7OzsyQkFDUTtBQUFBOztBQUNSLFVBQU8sS0FBS2IsS0FBTCxDQUFXO0FBQ2pCSSxZQUFRLE1BRFM7QUFFakJDLFNBQUtDLFFBRlk7QUFHakJDLFlBQVE7QUFDUEMsYUFBUTtBQUREO0FBSFMsSUFBWCxFQU1KSSxJQU5JLENBTUMsVUFBQ0MsUUFBRCxFQUFjO0FBQ3JCLFdBQUtaLE1BQUwsR0FBYyxLQUFkO0FBQ0EsV0FBS0MsR0FBTCxHQUFXLElBQVg7QUFDQSxXQUFPVyxRQUFQO0FBQ0EsSUFWTSxDQUFQO0FBV0E7Ozs7OztrQkFHYWQsUSIsImZpbGUiOiI5MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDquIDroZzrsowg66Gc6re47J24IOyEnOu5hOyKpFxyXG4gKi9cclxuY2xhc3MgTG9naW5TdmMge1xyXG5cdHN0YXRpYyBnZXQgJGluamVjdCgpIHtcclxuXHRcdHJldHVybiBbJyRodHRwJ107XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3RvcigkaHR0cCkge1xyXG5cdFx0dGhpcy4kaHR0cCA9ICRodHRwO1xyXG5cdFx0dGhpcy5sb2dnZWQgPSBsb2dnZWQ7IC8vIOydtOuvuCDroZzqt7jsnbjrkJwg6rK97Jqw66m0IGluZGV4LnBocOydmCBsb2dnZWQgPSB0cnVlXHJcblx0XHR0aGlzLnVpZCA9IHVpZDsgICAgICAgLy8g7J2066+4IOuhnOq3uOyduOuQnCDqsr3smrDrqbQgaW5kZXgucGhw7J2YIHVpZCA9IO2YhOyerCDsgqzsmqnsnpAgSURcclxuXHR9XHJcblxyXG5cdHJlZ2lzdGVyKHJlZ2lzdGVyT2JqKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kaHR0cCh7XHJcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHR1cmw6IGFqYXhfdXJsLFxyXG5cdFx0XHRwYXJhbXM6IHtcclxuXHRcdFx0XHRhY3Rpb246ICdyZWdpc3RlcicsXHJcblx0XHRcdFx0bG9naW46IHJlZ2lzdGVyT2JqLmxvZ2luLFxyXG5cdFx0XHRcdHB3ZDogcmVnaXN0ZXJPYmoucHdkXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHRsb2dpbihsb2dpbk9iaikge1xyXG5cdCAgICAvLyDqtazquIAg6rKA7IOJ7Ja0IGphdmFzY3JpcHQgcHJvbWlzZVxyXG5cdFx0cmV0dXJuIHRoaXMuJGh0dHAoe1xyXG5cdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0dXJsOiBhamF4X3VybCxcclxuXHRcdFx0cGFyYW1zOiB7XHJcblx0XHRcdFx0YWN0aW9uOiAnbG9naW4nLFxyXG5cdFx0XHRcdGxvZ2luOiBsb2dpbk9iai5sb2dpbixcclxuXHRcdFx0XHRwd2Q6IGxvZ2luT2JqLnB3ZFxyXG5cdFx0XHR9XHJcblx0XHR9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG5cdFx0XHRpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7XHJcblx0XHRcdFx0dGhpcy5sb2dnZWQgPSB0cnVlO1xyXG5cdFx0XHRcdHRoaXMudWlkID0gcmVzcG9uc2UuZGF0YS51aWQ7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdGxvZ291dCgpIHtcclxuXHRcdHJldHVybiB0aGlzLiRodHRwKHtcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdHVybDogYWpheF91cmwsXHJcblx0XHRcdHBhcmFtczoge1xyXG5cdFx0XHRcdGFjdGlvbjogJ2xvZ291dCdcclxuXHRcdFx0fVxyXG5cdFx0fSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuXHRcdFx0dGhpcy5sb2dnZWQgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy51aWQgPSBudWxsO1xyXG5cdFx0XHRyZXR1cm4gcmVzcG9uc2U7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExvZ2luU3ZjO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zZXJ2aWNlL0xvZ2luLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///91\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jqueryParam = __webpack_require__(93);\n\nvar _jqueryParam2 = _interopRequireDefault(_jqueryParam);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n__webpack_require__(95);\n\nvar TestSuite = function () {\n    _createClass(TestSuite, null, [{\n        key: '$inject',\n        get: function get() {\n            return ['$http'];\n        }\n    }]);\n\n    function TestSuite($http) {\n        _classCallCheck(this, TestSuite);\n\n        this.$http = $http;\n        this.action = null;\n        this.params = [{\n            key: null,\n            value: null\n        }];\n    }\n\n    _createClass(TestSuite, [{\n        key: 'addParam',\n        value: function addParam() {\n            this.params.push({\n                key: null,\n                value: null\n            });\n        }\n    }, {\n        key: 'removeParam',\n        value: function removeParam($index) {\n            this.params.splice($index, 1);\n        }\n    }, {\n        key: 'submit',\n        value: function submit() {\n            var params = {\n                action: this.action\n            };\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = this.params[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var kv = _step.value;\n\n                    if (kv.key === null) {\n                        continue;\n                    }\n                    params[kv.key] = kv.value;\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            console.log('Params:', params);\n\n            this.$http({\n                method: 'POST',\n                url: ajax_url,\n                data: (0, _jqueryParam2.default)(params),\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                }\n            }).then(function (response) {\n                console.log(response);\n            });\n        }\n    }]);\n\n    return TestSuite;\n}();\n\nexports.default = TestSuite;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlci9UZXN0U3VpdGUuanM/NmFiMCJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiVGVzdFN1aXRlIiwiJGh0dHAiLCJhY3Rpb24iLCJwYXJhbXMiLCJrZXkiLCJ2YWx1ZSIsInB1c2giLCIkaW5kZXgiLCJzcGxpY2UiLCJrdiIsImNvbnNvbGUiLCJsb2ciLCJtZXRob2QiLCJ1cmwiLCJhamF4X3VybCIsImRhdGEiLCJoZWFkZXJzIiwidGhlbiIsInJlc3BvbnNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Ozs7OztBQUVBLG1CQUFBQSxDQUFRLEVBQVI7O0lBRU1DLFM7Ozs0QkFDbUI7QUFDakIsbUJBQU8sQ0FBQyxPQUFELENBQVA7QUFDSDs7O0FBRUQsdUJBQVlDLEtBQVosRUFBbUI7QUFBQTs7QUFDZixhQUFLQSxLQUFMLEdBQWFBLEtBQWI7QUFDQSxhQUFLQyxNQUFMLEdBQWMsSUFBZDtBQUNBLGFBQUtDLE1BQUwsR0FBYyxDQUFDO0FBQ1hDLGlCQUFLLElBRE07QUFFWEMsbUJBQU87QUFGSSxTQUFELENBQWQ7QUFJSDs7OzttQ0FFVTtBQUNQLGlCQUFLRixNQUFMLENBQVlHLElBQVosQ0FBaUI7QUFDYkYscUJBQUssSUFEUTtBQUViQyx1QkFBTztBQUZNLGFBQWpCO0FBSUg7OztvQ0FDV0UsTSxFQUFRO0FBQ2hCLGlCQUFLSixNQUFMLENBQVlLLE1BQVosQ0FBbUJELE1BQW5CLEVBQTJCLENBQTNCO0FBQ0g7OztpQ0FFUTtBQUNMLGdCQUFJSixTQUFTO0FBQ1RELHdCQUFRLEtBQUtBO0FBREosYUFBYjtBQURLO0FBQUE7QUFBQTs7QUFBQTtBQUlMLHFDQUFlLEtBQUtDLE1BQXBCLDhIQUE0QjtBQUFBLHdCQUFuQk0sRUFBbUI7O0FBQ3hCLHdCQUFJQSxHQUFHTCxHQUFILEtBQVcsSUFBZixFQUFxQjtBQUNqQjtBQUNIO0FBQ0RELDJCQUFPTSxHQUFHTCxHQUFWLElBQWlCSyxHQUFHSixLQUFwQjtBQUNIO0FBVEk7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFVTEssb0JBQVFDLEdBQVIsQ0FBWSxTQUFaLEVBQXVCUixNQUF2Qjs7QUFFQSxpQkFBS0YsS0FBTCxDQUFXO0FBQ1BXLHdCQUFRLE1BREQ7QUFFUEMscUJBQUtDLFFBRkU7QUFHUEMsc0JBQU0sMkJBQU1aLE1BQU4sQ0FIQztBQUlQYSx5QkFBUztBQUNMLG9DQUFnQjtBQURYO0FBSkYsYUFBWCxFQU9HQyxJQVBILENBT1EsVUFBQ0MsUUFBRCxFQUFjO0FBQ2xCUix3QkFBUUMsR0FBUixDQUFZTyxRQUFaO0FBQ0gsYUFURDtBQVVIOzs7Ozs7a0JBR1VsQixTIiwiZmlsZSI6IjkyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhcmFtIGZyb20gJ2pxdWVyeS1wYXJhbSdcclxuXHJcbnJlcXVpcmUoJy4uL3N0eWxlL3Rlc3RTdWl0ZS5sZXNzJyk7XHJcblxyXG5jbGFzcyBUZXN0U3VpdGUge1xyXG4gICAgc3RhdGljIGdldCAkaW5qZWN0KCkge1xyXG4gICAgICAgIHJldHVybiBbJyRodHRwJ107XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoJGh0dHApIHtcclxuICAgICAgICB0aGlzLiRodHRwID0gJGh0dHA7XHJcbiAgICAgICAgdGhpcy5hY3Rpb24gPSBudWxsO1xyXG4gICAgICAgIHRoaXMucGFyYW1zID0gW3tcclxuICAgICAgICAgICAga2V5OiBudWxsLFxyXG4gICAgICAgICAgICB2YWx1ZTogbnVsbFxyXG4gICAgICAgIH1dO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFBhcmFtKCkge1xyXG4gICAgICAgIHRoaXMucGFyYW1zLnB1c2goe1xyXG4gICAgICAgICAgICBrZXk6IG51bGwsXHJcbiAgICAgICAgICAgIHZhbHVlOiBudWxsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZW1vdmVQYXJhbSgkaW5kZXgpIHtcclxuICAgICAgICB0aGlzLnBhcmFtcy5zcGxpY2UoJGluZGV4LCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBzdWJtaXQoKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IHtcclxuICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZm9yIChsZXQga3Ygb2YgdGhpcy5wYXJhbXMpIHtcclxuICAgICAgICAgICAgaWYgKGt2LmtleSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFyYW1zW2t2LmtleV0gPSBrdi52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1BhcmFtczonLCBwYXJhbXMpO1xyXG5cclxuICAgICAgICB0aGlzLiRodHRwKHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIHVybDogYWpheF91cmwsXHJcbiAgICAgICAgICAgIGRhdGE6IHBhcmFtKHBhcmFtcyksXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUZXN0U3VpdGU7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbnRyb2xsZXIvVGVzdFN1aXRlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///92\n")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT\n */\n(function (global) {\n    'use strict';\n\n    var param = function param(a) {\n        var s = [],\n            rbracket = /\\[\\]$/,\n            isArray = function isArray(obj) {\n            return Object.prototype.toString.call(obj) === '[object Array]';\n        },\n            add = function add(k, v) {\n            v = typeof v === 'function' ? v() : v === null ? '' : v === undefined ? '' : v;\n            s[s.length] = encodeURIComponent(k) + '=' + encodeURIComponent(v);\n        },\n            buildParams = function buildParams(prefix, obj) {\n            var i, len, key;\n\n            if (prefix) {\n                if (isArray(obj)) {\n                    for (i = 0, len = obj.length; i < len; i++) {\n                        if (rbracket.test(prefix)) {\n                            add(prefix, obj[i]);\n                        } else {\n                            buildParams(prefix + '[' + (_typeof(obj[i]) === 'object' ? i : '') + ']', obj[i]);\n                        }\n                    }\n                } else if (obj && String(obj) === '[object Object]') {\n                    for (key in obj) {\n                        buildParams(prefix + '[' + key + ']', obj[key]);\n                    }\n                } else {\n                    add(prefix, obj);\n                }\n            } else if (isArray(obj)) {\n                for (i = 0, len = obj.length; i < len; i++) {\n                    add(obj[i].name, obj[i].value);\n                }\n            } else {\n                for (key in obj) {\n                    buildParams(key, obj[key]);\n                }\n            }\n            return s;\n        };\n\n        return buildParams('', a).join('&').replace(/%20/g, '+');\n    };\n\n    if (( false ? 'undefined' : _typeof(module)) === 'object' && _typeof(module.exports) === 'object') {\n        module.exports = param;\n    } else if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n            return param;\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {\n        global.param = param;\n    }\n})(undefined);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(94)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXBhcmFtL2pxdWVyeS1wYXJhbS5qcz81NWE0Il0sIm5hbWVzIjpbImdsb2JhbCIsInBhcmFtIiwiYSIsInMiLCJyYnJhY2tldCIsImlzQXJyYXkiLCJvYmoiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJhZGQiLCJrIiwidiIsInVuZGVmaW5lZCIsImxlbmd0aCIsImVuY29kZVVSSUNvbXBvbmVudCIsImJ1aWxkUGFyYW1zIiwicHJlZml4IiwiaSIsImxlbiIsImtleSIsInRlc3QiLCJTdHJpbmciLCJuYW1lIiwidmFsdWUiLCJqb2luIiwicmVwbGFjZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZWZpbmUiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7O0FBR0MsV0FBVUEsTUFBVixFQUFrQjtBQUNmOztBQUVBLFFBQUlDLFFBQVEsU0FBUkEsS0FBUSxDQUFVQyxDQUFWLEVBQWE7QUFDckIsWUFBSUMsSUFBSSxFQUFSO0FBQUEsWUFBWUMsV0FBVyxPQUF2QjtBQUFBLFlBQ0lDLFVBQVUsU0FBVkEsT0FBVSxDQUFVQyxHQUFWLEVBQWU7QUFDckIsbUJBQU9DLE9BQU9DLFNBQVAsQ0FBaUJDLFFBQWpCLENBQTBCQyxJQUExQixDQUErQkosR0FBL0IsTUFBd0MsZ0JBQS9DO0FBQ0gsU0FITDtBQUFBLFlBR09LLE1BQU0sU0FBTkEsR0FBTSxDQUFVQyxDQUFWLEVBQWFDLENBQWIsRUFBZ0I7QUFDckJBLGdCQUFJLE9BQU9BLENBQVAsS0FBYSxVQUFiLEdBQTBCQSxHQUExQixHQUFnQ0EsTUFBTSxJQUFOLEdBQWEsRUFBYixHQUFrQkEsTUFBTUMsU0FBTixHQUFrQixFQUFsQixHQUF1QkQsQ0FBN0U7QUFDQVYsY0FBRUEsRUFBRVksTUFBSixJQUFjQyxtQkFBbUJKLENBQW5CLElBQXdCLEdBQXhCLEdBQThCSSxtQkFBbUJILENBQW5CLENBQTVDO0FBQ0gsU0FOTDtBQUFBLFlBTU9JLGNBQWMsU0FBZEEsV0FBYyxDQUFVQyxNQUFWLEVBQWtCWixHQUFsQixFQUF1QjtBQUNwQyxnQkFBSWEsQ0FBSixFQUFPQyxHQUFQLEVBQVlDLEdBQVo7O0FBRUEsZ0JBQUlILE1BQUosRUFBWTtBQUNSLG9CQUFJYixRQUFRQyxHQUFSLENBQUosRUFBa0I7QUFDZCx5QkFBS2EsSUFBSSxDQUFKLEVBQU9DLE1BQU1kLElBQUlTLE1BQXRCLEVBQThCSSxJQUFJQyxHQUFsQyxFQUF1Q0QsR0FBdkMsRUFBNEM7QUFDeEMsNEJBQUlmLFNBQVNrQixJQUFULENBQWNKLE1BQWQsQ0FBSixFQUEyQjtBQUN2QlAsZ0NBQUlPLE1BQUosRUFBWVosSUFBSWEsQ0FBSixDQUFaO0FBQ0gseUJBRkQsTUFFTztBQUNIRix3Q0FBWUMsU0FBUyxHQUFULElBQWdCLFFBQU9aLElBQUlhLENBQUosQ0FBUCxNQUFrQixRQUFsQixHQUE2QkEsQ0FBN0IsR0FBaUMsRUFBakQsSUFBdUQsR0FBbkUsRUFBd0ViLElBQUlhLENBQUosQ0FBeEU7QUFDSDtBQUNKO0FBQ0osaUJBUkQsTUFRTyxJQUFJYixPQUFPaUIsT0FBT2pCLEdBQVAsTUFBZ0IsaUJBQTNCLEVBQThDO0FBQ2pELHlCQUFLZSxHQUFMLElBQVlmLEdBQVosRUFBaUI7QUFDYlcsb0NBQVlDLFNBQVMsR0FBVCxHQUFlRyxHQUFmLEdBQXFCLEdBQWpDLEVBQXNDZixJQUFJZSxHQUFKLENBQXRDO0FBQ0g7QUFDSixpQkFKTSxNQUlBO0FBQ0hWLHdCQUFJTyxNQUFKLEVBQVlaLEdBQVo7QUFDSDtBQUNKLGFBaEJELE1BZ0JPLElBQUlELFFBQVFDLEdBQVIsQ0FBSixFQUFrQjtBQUNyQixxQkFBS2EsSUFBSSxDQUFKLEVBQU9DLE1BQU1kLElBQUlTLE1BQXRCLEVBQThCSSxJQUFJQyxHQUFsQyxFQUF1Q0QsR0FBdkMsRUFBNEM7QUFDeENSLHdCQUFJTCxJQUFJYSxDQUFKLEVBQU9LLElBQVgsRUFBaUJsQixJQUFJYSxDQUFKLEVBQU9NLEtBQXhCO0FBQ0g7QUFDSixhQUpNLE1BSUE7QUFDSCxxQkFBS0osR0FBTCxJQUFZZixHQUFaLEVBQWlCO0FBQ2JXLGdDQUFZSSxHQUFaLEVBQWlCZixJQUFJZSxHQUFKLENBQWpCO0FBQ0g7QUFDSjtBQUNELG1CQUFPbEIsQ0FBUDtBQUNILFNBbkNMOztBQXFDQSxlQUFPYyxZQUFZLEVBQVosRUFBZ0JmLENBQWhCLEVBQW1Cd0IsSUFBbkIsQ0FBd0IsR0FBeEIsRUFBNkJDLE9BQTdCLENBQXFDLE1BQXJDLEVBQTZDLEdBQTdDLENBQVA7QUFDSCxLQXZDRDs7QUF5Q0EsUUFBSSxnQ0FBT0MsTUFBUCxPQUFrQixRQUFsQixJQUE4QixRQUFPQSxPQUFPQyxPQUFkLE1BQTBCLFFBQTVELEVBQXNFO0FBQ2xFRCxlQUFPQyxPQUFQLEdBQWlCNUIsS0FBakI7QUFDSCxLQUZELE1BRU8sSUFBSSxJQUFKLEVBQWdEO0FBQ25ENkIsUUFBQSxpQ0FBTyxFQUFQLGtDQUFXLFlBQVk7QUFDbkIsbUJBQU83QixLQUFQO0FBQ0gsU0FGRDtBQUFBO0FBR0gsS0FKTSxNQUlBO0FBQ0hELGVBQU9DLEtBQVAsR0FBZUEsS0FBZjtBQUNIO0FBRUosQ0F0REEsWUFBRCxDIiwiZmlsZSI6IjkzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAcHJlc2VydmUganF1ZXJ5LXBhcmFtIChjKSAyMDE1IEtOT1dMRURHRUNPREUgfCBNSVRcbiAqL1xuKGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgcGFyYW0gPSBmdW5jdGlvbiAoYSkge1xuICAgICAgICB2YXIgcyA9IFtdLCByYnJhY2tldCA9IC9cXFtcXF0kLyxcbiAgICAgICAgICAgIGlzQXJyYXkgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgICAgICAgICAgfSwgYWRkID0gZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgICAgICAgICB2ID0gdHlwZW9mIHYgPT09ICdmdW5jdGlvbicgPyB2KCkgOiB2ID09PSBudWxsID8gJycgOiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHY7XG4gICAgICAgICAgICAgICAgc1tzLmxlbmd0aF0gPSBlbmNvZGVVUklDb21wb25lbnQoaykgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodik7XG4gICAgICAgICAgICB9LCBidWlsZFBhcmFtcyA9IGZ1bmN0aW9uIChwcmVmaXgsIG9iaikge1xuICAgICAgICAgICAgICAgIHZhciBpLCBsZW4sIGtleTtcblxuICAgICAgICAgICAgICAgIGlmIChwcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gb2JqLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJicmFja2V0LnRlc3QocHJlZml4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGQocHJlZml4LCBvYmpbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkUGFyYW1zKHByZWZpeCArICdbJyArICh0eXBlb2Ygb2JqW2ldID09PSAnb2JqZWN0JyA/IGkgOiAnJykgKyAnXScsIG9ialtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iaiAmJiBTdHJpbmcob2JqKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkUGFyYW1zKHByZWZpeCArICdbJyArIGtleSArICddJywgb2JqW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkKHByZWZpeCwgb2JqKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IG9iai5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkKG9ialtpXS5uYW1lLCBvYmpbaV0udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWlsZFBhcmFtcyhrZXksIG9ialtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGJ1aWxkUGFyYW1zKCcnLCBhKS5qb2luKCcmJykucmVwbGFjZSgvJTIwL2csICcrJyk7XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gcGFyYW07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFtdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyYW07XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb2JhbC5wYXJhbSA9IHBhcmFtO1xuICAgIH1cblxufSh0aGlzKSk7XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9qcXVlcnktcGFyYW0vanF1ZXJ5LXBhcmFtLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///93\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nmodule.exports = function (module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function () {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, "loaded", {\n\t\t\tenumerable: true,\n\t\t\tget: function get() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, "id", {\n\t\t\tenumerable: true,\n\t\t\tget: function get() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzP2MzYzIiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsInBhdGhzIiwiY2hpbGRyZW4iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJsIiwiaSJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBT0MsT0FBUCxHQUFpQixVQUFTRCxNQUFULEVBQWlCO0FBQ2pDLEtBQUcsQ0FBQ0EsT0FBT0UsZUFBWCxFQUE0QjtBQUMzQkYsU0FBT0csU0FBUCxHQUFtQixZQUFXLENBQUUsQ0FBaEM7QUFDQUgsU0FBT0ksS0FBUCxHQUFlLEVBQWY7QUFDQTtBQUNBLE1BQUcsQ0FBQ0osT0FBT0ssUUFBWCxFQUFxQkwsT0FBT0ssUUFBUCxHQUFrQixFQUFsQjtBQUNyQkMsU0FBT0MsY0FBUCxDQUFzQlAsTUFBdEIsRUFBOEIsUUFBOUIsRUFBd0M7QUFDdkNRLGVBQVksSUFEMkI7QUFFdkNDLFFBQUssZUFBVztBQUNmLFdBQU9ULE9BQU9VLENBQWQ7QUFDQTtBQUpzQyxHQUF4QztBQU1BSixTQUFPQyxjQUFQLENBQXNCUCxNQUF0QixFQUE4QixJQUE5QixFQUFvQztBQUNuQ1EsZUFBWSxJQUR1QjtBQUVuQ0MsUUFBSyxlQUFXO0FBQ2YsV0FBT1QsT0FBT1csQ0FBZDtBQUNBO0FBSmtDLEdBQXBDO0FBTUFYLFNBQU9FLGVBQVAsR0FBeUIsQ0FBekI7QUFDQTtBQUNELFFBQU9GLE1BQVA7QUFDQSxDQXJCRCIsImZpbGUiOiI5NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XHJcblx0aWYoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcclxuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xyXG5cdFx0bW9kdWxlLnBhdGhzID0gW107XHJcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcclxuXHRcdGlmKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XHJcblx0fVxyXG5cdHJldHVybiBtb2R1bGU7XHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAod2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///94\n')},function(module,exports){eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUvdGVzdFN1aXRlLmxlc3M/YzMwOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI5NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc3R5bGUvdGVzdFN1aXRlLmxlc3Ncbi8vIG1vZHVsZSBpZCA9IDk1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///95\n")},function(module,exports){eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUvaW5kZXgubGVzcz8wYzdkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ijk2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9zdHlsZS9pbmRleC5sZXNzXG4vLyBtb2R1bGUgaWQgPSA5NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///96\n")},function(module,exports,__webpack_require__){eval('module.exports = "<div ng-controller=\\"LoginCtrl as $ctrl\\">\\r\\n    <img src=\\"" + __webpack_require__(98) + "\\">\\r\\n    <form ng-submit=\\"$ctrl.login()\\">\\r\\n        <input type=\\"email\\" ng-model=\\"$ctrl.loginObj.login\\" placeholder=\\"Email\\">\\r\\n        <input type=\\"password\\" ng-model=\\"$ctrl.loginObj.pwd\\" placeholder=\\"Password\\">\\r\\n        <button>Login</button>\\r\\n    </form>\\r\\n\\r\\n    <a ui-sref=\\"register\\">계정이 없어욧</a>\\r\\n</div>";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdGVtcGxhdGUvbG9naW4uaHRtbD83MzAxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ijk3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgbmctY29udHJvbGxlcj1cXFwiTG9naW5DdHJsIGFzICRjdHJsXFxcIj5cXHJcXG4gICAgPGltZyBzcmM9XFxcIlwiICsgcmVxdWlyZShcIi4uL21lZGlhL2JyYW5kLnBuZ1wiKSArIFwiXFxcIj5cXHJcXG4gICAgPGZvcm0gbmctc3VibWl0PVxcXCIkY3RybC5sb2dpbigpXFxcIj5cXHJcXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJlbWFpbFxcXCIgbmctbW9kZWw9XFxcIiRjdHJsLmxvZ2luT2JqLmxvZ2luXFxcIiBwbGFjZWhvbGRlcj1cXFwiRW1haWxcXFwiPlxcclxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInBhc3N3b3JkXFxcIiBuZy1tb2RlbD1cXFwiJGN0cmwubG9naW5PYmoucHdkXFxcIiBwbGFjZWhvbGRlcj1cXFwiUGFzc3dvcmRcXFwiPlxcclxcbiAgICAgICAgPGJ1dHRvbj5Mb2dpbjwvYnV0dG9uPlxcclxcbiAgICA8L2Zvcm0+XFxyXFxuXFxyXFxuICAgIDxhIHVpLXNyZWY9XFxcInJlZ2lzdGVyXFxcIj7qs4TsoJXsnbQg7JeG7Ja07JqnPC9hPlxcclxcbjwvZGl2PlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3RlbXBsYXRlL2xvZ2luLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDk3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///97\n')},function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__.p + "37a88cb3b430c41b7c0f86f6fc2f8d29.png";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWVkaWEvYnJhbmQucG5nP2Q4MDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiOTguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIzN2E4OGNiM2I0MzBjNDFiN2MwZjg2ZjZmYzJmOGQyOS5wbmdcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9tZWRpYS9icmFuZC5wbmdcbi8vIG1vZHVsZSBpZCA9IDk4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///98\n')},function(module,exports){eval('module.exports = "<div ng-controller=\\"RegisterCtrl as $ctrl\\">\\r\\n    <h2>Register</h2>\\r\\n    <form ng-submit=\\"$ctrl.register()\\">\\r\\n        <input type=\\"email\\" ng-model=\\"$ctrl.registerObj.login\\" placeholder=\\"Email\\">\\r\\n        <input type=\\"password\\" ng-model=\\"$ctrl.registerObj.pwd\\" placeholder=\\"Password\\">\\r\\n        <input type=\\"password\\" ng-model=\\"$ctrl.registerObj.pwdConfirm\\" placeholder=\\"Confirm password\\">\\r\\n        <button>Register</button>\\r\\n    </form>\\r\\n</div>";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdGVtcGxhdGUvcmVnaXN0ZXIuaHRtbD9jNjI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ijk5LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgbmctY29udHJvbGxlcj1cXFwiUmVnaXN0ZXJDdHJsIGFzICRjdHJsXFxcIj5cXHJcXG4gICAgPGgyPlJlZ2lzdGVyPC9oMj5cXHJcXG4gICAgPGZvcm0gbmctc3VibWl0PVxcXCIkY3RybC5yZWdpc3RlcigpXFxcIj5cXHJcXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJlbWFpbFxcXCIgbmctbW9kZWw9XFxcIiRjdHJsLnJlZ2lzdGVyT2JqLmxvZ2luXFxcIiBwbGFjZWhvbGRlcj1cXFwiRW1haWxcXFwiPlxcclxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInBhc3N3b3JkXFxcIiBuZy1tb2RlbD1cXFwiJGN0cmwucmVnaXN0ZXJPYmoucHdkXFxcIiBwbGFjZWhvbGRlcj1cXFwiUGFzc3dvcmRcXFwiPlxcclxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInBhc3N3b3JkXFxcIiBuZy1tb2RlbD1cXFwiJGN0cmwucmVnaXN0ZXJPYmoucHdkQ29uZmlybVxcXCIgcGxhY2Vob2xkZXI9XFxcIkNvbmZpcm0gcGFzc3dvcmRcXFwiPlxcclxcbiAgICAgICAgPGJ1dHRvbj5SZWdpc3RlcjwvYnV0dG9uPlxcclxcbiAgICA8L2Zvcm0+XFxyXFxuPC9kaXY+XCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvdGVtcGxhdGUvcmVnaXN0ZXIuaHRtbFxuLy8gbW9kdWxlIGlkID0gOTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///99\n')},function(module,exports){eval('module.exports = "<div ng-controller=\\"HomeCtrl as $ctrl\\">\\r\\n    <h1>Home</h1>\\r\\n    <p>My User ID is: <span ng-bind=\\"$ctrl.LoginSvc.uid\\"></span></p>\\r\\n    <p ng-click=\\"$ctrl.logout()\\">Logout</p>\\r\\n</div>";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdGVtcGxhdGUvaG9tZS5odG1sP2JhMGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTAwLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgbmctY29udHJvbGxlcj1cXFwiSG9tZUN0cmwgYXMgJGN0cmxcXFwiPlxcclxcbiAgICA8aDE+SG9tZTwvaDE+XFxyXFxuICAgIDxwPk15IFVzZXIgSUQgaXM6IDxzcGFuIG5nLWJpbmQ9XFxcIiRjdHJsLkxvZ2luU3ZjLnVpZFxcXCI+PC9zcGFuPjwvcD5cXHJcXG4gICAgPHAgbmctY2xpY2s9XFxcIiRjdHJsLmxvZ291dCgpXFxcIj5Mb2dvdXQ8L3A+XFxyXFxuPC9kaXY+XCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvdGVtcGxhdGUvaG9tZS5odG1sXG4vLyBtb2R1bGUgaWQgPSAxMDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///100\n')},function(module,exports){eval('module.exports = "<div ng-controller=\\"TestSuiteCtrl as $ctrl\\" class=\\"ts\\">\\r\\n    <h2 style=\\"color: red\\">TEST TEST TEST</h2>\\r\\n    <p style=\\"color: red\\">프로덕션에 포함하지 마시오</p>\\r\\n\\t<hr>\\r\\n\\t<div class=\\"help\\">\\r\\n\\t\\t<p>액션에는 액션명을 기입하시오. add_action(\'wp_ajax_${액션명}\', $callable) 여기에 등록한거</p>\\r\\n\\t\\t<p>매개변수에는 서버로 넘길 값을 입력하시오. \'키\'는 $_REQUEST의 인덱스($_REQUEST[\'key\']), \'값\'은 그 값.</p>\\r\\n\\t\\t<p>값은 무조건 POST로 넘어가니 GET이 필요한 경우 요청하시오.</p>\\r\\n\\t\\t<p>서버의 응답은 콘솔에서 확인할 수 있음. data가 \\"0\\"일 경우 액션을 잘 추가했는지, die 또는 exit을 사용했는지 확인하시오.</p>\\r\\n\\t</div>\\r\\n\\t<hr>\\r\\n    <form ng-submit=\\"$ctrl.submit()\\">\\r\\n        <input type=\\"text\\" ng-model=\\"$ctrl.action\\" placeholder=\\"액션\\" class=\\"action\\">\\r\\n\\t\\t<h3>매개변수</h3>\\r\\n        <div ng-repeat=\\"param in $ctrl.params\\">\\r\\n            <input type=\\"text\\" ng-model=\\"param.key\\" placeholder=\\"키\\" class=\\"key\\">\\r\\n            <input type=\\"text\\" ng-model=\\"param.value\\" placeholder=\\"값\\" class=\\"value\\">\\r\\n\\t\\t\\t<button type=\\"button\\" ng-click=\\"$ctrl.removeParam($index)\\" ng-if=\\"$ctrl.params.length\\" class=\\"remove\\">제거</button>\\r\\n        </div>\\r\\n\\t\\t<button ng-click=\\"$ctrl.addParam()\\" class=\\"add\\">매개변수 추가</button>\\r\\n\\t\\t<button type=\\"submit\\" class=\\"submit\\">실행</button>\\r\\n    </form>\\r\\n</div>";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdGVtcGxhdGUvdGVzdC5odG1sP2NmODQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEseVFBQXlRLElBQUkiLCJmaWxlIjoiMTAxLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgbmctY29udHJvbGxlcj1cXFwiVGVzdFN1aXRlQ3RybCBhcyAkY3RybFxcXCIgY2xhc3M9XFxcInRzXFxcIj5cXHJcXG4gICAgPGgyIHN0eWxlPVxcXCJjb2xvcjogcmVkXFxcIj5URVNUIFRFU1QgVEVTVDwvaDI+XFxyXFxuICAgIDxwIHN0eWxlPVxcXCJjb2xvcjogcmVkXFxcIj7tlITroZzrjZXshZjsl5Ag7Y+s7ZWo7ZWY7KeAIOuniOyLnOyYpDwvcD5cXHJcXG5cXHQ8aHI+XFxyXFxuXFx0PGRpdiBjbGFzcz1cXFwiaGVscFxcXCI+XFxyXFxuXFx0XFx0PHA+7JWh7IWY7JeQ64qUIOyVoeyFmOuqheydhCDquLDsnoXtlZjsi5zsmKQuIGFkZF9hY3Rpb24oJ3dwX2FqYXhfJHvslaHshZjrqoV9JywgJGNhbGxhYmxlKSDsl6zquLDsl5Ag65Ox66Gd7ZWc6rGwPC9wPlxcclxcblxcdFxcdDxwPuunpOqwnOuzgOyImOyXkOuKlCDshJzrsoTroZwg64SY6ri4IOqwkuydhCDsnoXroKXtlZjsi5zsmKQuICftgqQn64qUICRfUkVRVUVTVOydmCDsnbjrjbHsiqQoJF9SRVFVRVNUWydrZXknXSksICfqsJIn7J2AIOq3uCDqsJIuPC9wPlxcclxcblxcdFxcdDxwPuqwkuydgCDrrLTsobDqsbQgUE9TVOuhnCDrhJjslrTqsIDri4ggR0VU7J20IO2VhOyalO2VnCDqsr3smrAg7JqU7LKt7ZWY7Iuc7JikLjwvcD5cXHJcXG5cXHRcXHQ8cD7shJzrsoTsnZgg7J2R64u17J2AIOy9mOyGlOyXkOyEnCDtmZXsnbjtlaAg7IiYIOyeiOydjC4gZGF0YeqwgCBcXFwiMFxcXCLsnbwg6rK97JqwIOyVoeyFmOydhCDsnpgg7LaU6rCA7ZaI64qU7KeALCBkaWUg65iQ64qUIGV4aXTsnYQg7IKs7Jqp7ZaI64qU7KeAIO2ZleyduO2VmOyLnOyYpC48L3A+XFxyXFxuXFx0PC9kaXY+XFxyXFxuXFx0PGhyPlxcclxcbiAgICA8Zm9ybSBuZy1zdWJtaXQ9XFxcIiRjdHJsLnN1Ym1pdCgpXFxcIj5cXHJcXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBuZy1tb2RlbD1cXFwiJGN0cmwuYWN0aW9uXFxcIiBwbGFjZWhvbGRlcj1cXFwi7JWh7IWYXFxcIiBjbGFzcz1cXFwiYWN0aW9uXFxcIj5cXHJcXG5cXHRcXHQ8aDM+66ek6rCc67OA7IiYPC9oMz5cXHJcXG4gICAgICAgIDxkaXYgbmctcmVwZWF0PVxcXCJwYXJhbSBpbiAkY3RybC5wYXJhbXNcXFwiPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBuZy1tb2RlbD1cXFwicGFyYW0ua2V5XFxcIiBwbGFjZWhvbGRlcj1cXFwi7YKkXFxcIiBjbGFzcz1cXFwia2V5XFxcIj5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgbmctbW9kZWw9XFxcInBhcmFtLnZhbHVlXFxcIiBwbGFjZWhvbGRlcj1cXFwi6rCSXFxcIiBjbGFzcz1cXFwidmFsdWVcXFwiPlxcclxcblxcdFxcdFxcdDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBuZy1jbGljaz1cXFwiJGN0cmwucmVtb3ZlUGFyYW0oJGluZGV4KVxcXCIgbmctaWY9XFxcIiRjdHJsLnBhcmFtcy5sZW5ndGhcXFwiIGNsYXNzPVxcXCJyZW1vdmVcXFwiPuygnOqxsDwvYnV0dG9uPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuXFx0XFx0PGJ1dHRvbiBuZy1jbGljaz1cXFwiJGN0cmwuYWRkUGFyYW0oKVxcXCIgY2xhc3M9XFxcImFkZFxcXCI+66ek6rCc67OA7IiYIOy2lOqwgDwvYnV0dG9uPlxcclxcblxcdFxcdDxidXR0b24gdHlwZT1cXFwic3VibWl0XFxcIiBjbGFzcz1cXFwic3VibWl0XFxcIj7si6Ttlok8L2J1dHRvbj5cXHJcXG4gICAgPC9mb3JtPlxcclxcbjwvZGl2PlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3RlbXBsYXRlL3Rlc3QuaHRtbFxuLy8gbW9kdWxlIGlkID0gMTAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///101\n')}]);